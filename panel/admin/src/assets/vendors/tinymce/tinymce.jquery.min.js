w[&InZ>м9}Y:6æﵗf%AuRShO/o񣝏_kus^;Zۮ93#}-]P%+p5sqo߷xӌԞ6+;ULsWg'ko=Cz\{}h{?ew]P7o+~?~{.ڽ{hbOw萻nm#\{2?.>tƗ+VqZ"
}ozwaWՄ'kjڶ]7?__y=_[_M6/\߾Kv~׸_.C\Ms=W?-άV;:6*ߍ	gu-/lMf_5OWZcsw~ӝw&VޜKo^^_ov/nUZt:׎~]?m߾]3.Cw};mdmKk-9;	?He޼﾿vrnGZ^ob߬bЖ?yVu{-GG+FK_Ͻym럓G4+Z=Z׃GE*37oXӻOA~gm}|Iy8m;g"+eKpǍGN3?_sѻ7k#oiK9UmߘlEqC_!7>XJvwIܲK;^V?7~kew\as~:uݝVmgo*	s[|q>7B_w-O˟_?g>șxj7r׌KWu_<`g~UQdkeRYpmPV)ut~Sjf}gcr%S~ߟ>6oeyݳڪv>SzK_J)v~Uokj#WnNVdۦվ;YJ?^kۡ.Ͽ5Sӛ.-Ї!i=oGkIK~rOo/^XV|ܛU/+{$Q~_vWx_:k~>{lWt,3tiz??x_w_tl\kx{=50yo첶~zwIkҞq[[{rLu8]Yhv-D=MoWeUo|=f?߽
, ?	@m_]{2oܗhrf.zYg˧i:W?k_vy>޿}gqíSrE~|K_{x{lpnKKdG?qA[oʇ1JU]+۩P~__4fC폒]߬eZ={q-ߪvoߙ=Nɲ>+Sm/e_s^=c'Qu/Qoww]wNd/۰o/h}+f߭mgFck_9'}7?w?ι:=o+HJhgenx`=roV}?=._GNzm?rl<.E?-Foc?t0zFߖm{x{}|K?/S"}'ͮwٯb^ZwAw_߈K|ˎ޶PMmyeCxl4[5{OL|.vU=X]||QWQ6Ѣ}rHο/7zP5n0ӋvmTsFwmgh7YU}uT,o]\o_{nu"~].7vttݫh~+YiY׷kV]Gn~ljW-uO׷^nv?߯毽h;{ϻT3ghE%?a4|$:42ewzyedGы>aݮ{}mH^y+:oy?W>}*RO%g8I{~;n0i}Nŕ7<ԵUl3&}g?S:oz$iw_^ix~F^ũo|ߺMn⿿z;OwUsy?'rϮ?i+،ܹMMӳ3͉>>{%}|ɻazgJ|}/}cu׾?y|on_p]o7+ST¬Й?aYm=V:gϢ]|Ox'D9[S8޼Wf?6WSԚEo6v].=)-oY?_{|^htt>+ڟ?v?ϓ.H{ڽOesKztv|3{3vu󋋝{,=l&OO~iT[\nǧԻrtj<omvO%qo-;S}ts-?;nU6>mir~}+wus~;~Z&ݸ43|߻{T=%uk˿wuW9|]O;7vWޟ$_\cicuW/:w?nO\Wy}o*=}N?қr]Ϥ/d0|vy!yKg2y9Y:/]{?J|{G׋^RG i??3!W_W~sGAi!7ԞW-]룺ܡsNg߳̍s,{5VOw^Yc`CCY7;ok>~_i4~>gۻrm}˿uoIuT~߿Y^NWcT[Ǟj=}[zsw.3z_{vVP}Cg'ϻNnjk^a=k/'n]w{uWLol[ۋ6vbwւk}[M_,}oE׵CO0/rx<Og6_zUr/[Y3iiN/0<k߽c|IN_/ߙN֙[NͯonQ5-u_mfҪ
Yyzo^v9g/>V]G<-'1}wo\ϔ;Wt1i]TJu-[Wmmy?R<}z7;~M׻Vvu~߹_kѧ^:l_'7s~}msרoD_tmg~[E5non˗Sxg'iS_oO#Q3\/kӯVҺGHW-6~(,w|ە?g}R#V?uܧ\8~l{N?f^FGW-=vmlrW9OIn];_G|8|{'qn~?/Iͯ{{wfר_}n[;_n@IeN_J즧_ߝ]߾F9/z&F1}k_c~ж;GrQp'?ئ5򨇞p<'|sVT/]ȏߴ8ymcm~ELdM.z=4w꽺{6~>Y0gws﷽;r?59oMgwns}U⾻۵~\cw}j??wo/{׿gnrl}XݮozZNݖug?r3zy˻Y8/v|ROb]usߟU\5}jA&[G'Vw˘AJ?mx+ޝ߾ޱDKcY/zjv/nfnt5~[X'ʝFQ[߽|Smݬ'_wZ].7{g{Ʀ~wgiVmu6_>z5Ugyv^wE痑]~څ7W/O=۹}O}:gO|Wsឪu__q<0sz,=O^ޥs_61
fEOgouG5fuۛcV?W^yzPEK՟W;wOznf0hюT9<tuNfi6Lsۿ~kJK7JN5$_i}rI>Z?OȜm,7קKx~8=v~?>Y|XZKcQ~_t筂wg={{WoU=Mw\&]p읩mu77&+7uvqgV~W۽6tU߱v߿6=ߧp^Lz%Uk}O{%fS)|ڼ{[{~?0UUܫ'kO3nk/'[~AOeKsj}!{۬qgg߽m!qgnwt[]u8wC5r_~3wYgl1U}ofݙQO%8콽V}߿n?{~۽չ>??kM|mog-^^m{Ծuy]h>F~W}nwb>w]y|v>/w#gn3*v|__o.5߮9}~nu{6Uvz~ok;<MMkz}FC~/n|lfJ=[U7nw>mοN~O3c\hXKV3>~Z~Vlm7y~rgK?jZS*rUMswpH_fcG7cG?|}'o?mve=/S=i]:'4l~;wf[1[>+Zޥ1/ԛ/kK뿣&Oݵo?-I/=m7}n}w{ۿٿc-LN׌wyZG؏y}7?{^;g9szyҷ~[]l_s] ?ski?Vn6aGv2~tpJ{߂m_5=mg]wXo<?,gw=t=9sl%6ۃP-D*/_wW?kog0}}+~]?|gwJMzofM_wl7?\k?'\?[<|_
7їΩxscW~zxv;Y[?λtt?Z9'CY_W3.^w?_ؾ?6γx>)6m~9Im{_ײ~gp=:_G/wW_~vW.#,qVlѷz٥?K[,u#~vR]H~"?+uӉ:݃~m<?_=Z~?9/2xN_gMz֛ӢWڍ|)ķz:^{luج~/soxZ\~uO~&j~>-W;ݺSe17rGo;o鉳\g3ƿolR>N{iK{;'M[-oݪYs7{<bFu߱o^<+z7z4^Vcy8n&{Qj_guKkwg;V^o=/5N_ooQ͸m`㛧׻VOs.:{,[?ݝϺ~?~skK)v}onh;\ޗZWu8t_˞LZxΞ~[GvO}͆_8{g^5_]x­{|3^_vw].LKM\UoE>ڷ:vdtQFoxk='c.[>R=߬*[?ֿgyןHmOzX[~vLY{_Ocw6}t^q^G,Gϗq߿޿{8<w~K{|v﻿]oo׫93WU}oz]nϞ-~?2?~|$$.~Sç|z<lsefQNfϝwvﾑ_׬v{}yh]ৗצ}ߟp	|sl;UI{oard.InlineUtils","tinymce.core.data.Binding","tinymce.core.init.InitContentBody","global!Object","global!setTimeout","ephox.katamari.api.Resolve","ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo","ephox.katamari.api.Type","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.katamari.api.Obj","ephox.sugar.api.search.PredicateFind","tinymce.core.dom.Empty","ephox.katamari.api.Adt","tinymce.core.text.Bidi","tinymce.core.caret.CaretContainerInline","tinymce.core.caret.CaretContainerRemove","tinymce.core.util.LazyEvaluator","ephox.katamari.api.Cell","tinymce.core.caret.CaretContainerInput","tinymce.core.EditorUpload","tinymce.core.ForceBlocks","tinymce.core.keyboard.KeyboardOverrides","tinymce.core.NodeChange","tinymce.core.SelectionOverrides","tinymce.core.util.Quirks","ephox.katamari.api.Global","ephox.sand.detect.Version","ephox.katamari.api.Strings","ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag","ephox.sugar.api.node.Body","ephox.sugar.impl.ClosestOrAncestor","ephox.sugar.api.search.SelectorExists","tinymce.core.file.Uploader","tinymce.core.file.ImageScanner","tinymce.core.file.BlobCache","tinymce.core.file.UploadStatus","tinymce.core.keyboard.ArrowKeys","tinymce.core.keyboard.DeleteBackspaceKeys","tinymce.core.keyboard.EnterKey","tinymce.core.keyboard.SpaceKey","tinymce.core.caret.FakeCaret","tinymce.core.caret.LineUtils","tinymce.core.DragDropOverrides","tinymce.core.EditorView","tinymce.core.keyboard.CefUtils","tinymce.core.dom.NodePath","global!Number","ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","ephox.katamari.util.BagUtils","ephox.sugar.api.search.SelectorFind","tinymce.core.file.Conversions","global!URL","tinymce.core.keyboard.CefNavigation","tinymce.core.keyboard.MatchKeys","tinymce.core.keyboard.InsertSpace","tinymce.core.dom.Dimensions","tinymce.core.dom.MousePosition","ephox.sugar.api.properties.Css","tinymce.core.caret.LineWalker","ephox.katamari.api.Merger","ephox.sugar.impl.Style"]
jsc*/
/**
 * Rect.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Contains various tools for rect/position calculation.
 *
 * @class tinymce.geom.Rect
 */
define(
  'tinymce.core.geom.Rect',
  [
  ],
  function () {
    "use strict";

    var min = Math.min, max = Math.max, round = Math.round;

    /**
     * Returns the rect positioned based on the relative position name
     * to the target rect.
     *
     * @method relativePosition
     * @param {Rect} rect Source rect to modify into a new rect.
     * @param {Rect} targetRect Rect to move relative to based on the rel option.
     * @param {String} rel Relative position. For example: tr-bl.
     */
    function relativePosition(rect, targetRect, rel) {
      var x, y, w, h, targetW, targetH;

      x = targetRect.x;
      y = targetRect.y;
      w = rect.w;
      h = rect.h;
      targetW = targetRect.w;
      targetH = targetRect.h;

      rel = (rel || '').split('');

      if (rel[0] === 'b') {
        y += targetH;
      }

      if (rel[1] === 'r') {
        x += targetW;
      }

      if (rel[0] === 'c') {
        y += round(targetH / 2);
      }

      if (rel[1] === 'c') {
        x += round(targetW / 2);
      }

      if (rel[3] === 'b') {
        y -= h;
      }

      if (rel[4] === 'r') {
        x -= w;
      }

      if (rel[3] === 'c') {
        y -= round(h / 2);
      }

      if (rel[4] === 'c') {
        x -= round(w / 2);
      }

      return create(x, y, w, h);
    }

    /**
     * Tests various positions to get the most suitable one.
     *
     * @method findBestRelativePosition
     * @param {Rect} rect Rect to use as source.
     * @param {Rect} targetRect Rect to move relative to.
     * @param {Rect} constrainRect Rect to constrain within.
     * @param {Array} rels Array of relative positions to test against.
     */
    function findBestRela)^\Qve}-|+ݿõOg|ߙӿo/_~ہ?_'O{ӕxJw}[{?ם=_'yS\?v?N#fo:nٖ9/g]_׵u]=T#;_tw}w.{.7^~JoVS8}{E_߇7׷~/쮓._m]~w׿CO7ߛ'}?co^fSn߉=׏|t;ݽK=|m{-{@p}Ϟ3fQ=o?wq+9G'^kWߌu7q.-gGco-sm?+~?\#Z/z?eLuZO__zlo}+=9OϹO4Ǌ,3r_ٓdM_s.֯ yݝO߿{K9'EM]y|ݯN+=u|r?+}qF{/7=xw_;|S+f>Y|Ew7.7_*'|F=]=5~|57cWoh=.7g[x\g{ݟ|'X%O<[Nwv_bwyWw{]u<_~ߏKyWwi>-Sz~J	__i}?^NCݯ3ol^m9xٿ>ͽ2wSj7!is~/.XY$lwkoW-gc^l'[ww>>~N]O~߉mQ8QCe3^ÆӖm-h'9w-+n/=m|5/V\^1*p6?Kӿǻ¿ؒ/+!O_,myJ\ۡ{T4Frwn.۟z^._߯k[[ߕyw~waVr|;_eWط_?ߓz9wj!ޘޭM*Ѽ_O5{o_uw5^ƪ~~gH݋6_wo{k+v=Lv:&,o_sWn+}'3~N߿nn{ϣwgwVپ]o=~Um;ݗ׳wjk>z~ǘkwGVϮZ׻AYMȬ~OT=/USWgkszܛ>/www߭ۿsvؓq7~羺_?vߟ&d7s?܎W{w{5Of\߆]϶|fj7ǵz>'MM}[wFޣs{ѿp};;ƻ۟pI{r?O~Ϗ8lTgΟ_~V/CZ-xzm̼/oWo]_'y.W_}[g~ml/=>6o__5_:__7Ɵ7~{Z˿5߸{ve;W3)Gb?=>mܿoӹZ/zmA>_3MCCr3[qm~Vޣ}翿K`7zwo={wU}Qm{jߘwϵ_~wW vu֙{|ub/|?Wg!ٿ.}v?>*~7!wg^[ܓw߾kk'~jw?g۾W]uߣWq7ݮ;?o?_4EVq2<\ݼ쯏*6Ӯoo~'7o67Vr?3Ox{_ϯ[L7)G=msmۯ?ټﺫ=ghG}pѽzy<%{n|FNݮgz_%_;ɥ,U|{/o?)-_{mi:Gs͟_n+G[ߩد=w+?gwOW[};^˟Okr6W]}{y1퟿DSpv庽Ə{7tw{^~=7iL"NbWK/c=Nz/{oG<y]g[_{eWuxG[wݔo/u6sj5;yu]~{w_?1ew?n/\#~{u&Ro	&?Ǐwl?? E{:oοK_g/wgw/}y]m?Wڹ/?{~>zݳOoI7'~NofW^{ÆCo	TOm%[;5Q߾n.W}s`ky_~o}'eSܽo]wg-ܻ]ӓ=i>u.oO6~1j_ٚomõG(iavnxWQ+^׳O]7w;._鼛G>??XX|${]n[n>Y&ZoNq~fgHySF~5=>g~jhϝon[n67i1
{˻]~uuv}YfpSrSӺkן7~owuJoN~osO__Sm|Ovo}}ظܗmuG%~?C4~qR~NҼw5mTNoyzms]lxds=/{s3_Sm̫7َS}?;M.n.nI¼;C΢v{Gʲ7{{ju3vũظVmw;GWokHe~l?M/7f}~_iy{,-z㿧	`P blP  cA*`6p3S  ]:݀:: "0s `Ʌ<c$<N%FK @DR@AȆ ( uX@L4;PXHJX `2EB@ 5-c>0 "H  ȄB *DiT	"͕u gA OJqP
`  K)Аi PiF@ewq{]	e;)ޯq*zL'/}g=wS:_;<?O;^;ky>P޴k3W.UHlwyW9vbm!A@25	p&x	D@ h`9rIE4!
HN!L\P0ba3p
QhT   WFÏ #@=)PI1
* i AJ̳^wJ3W!7U_doﶾe% X6뷠rr+9ߟk3vP=}}wtZ-ߥ[糧97wLso},}Wsك{~-7[ݢW_Uwy;:ݱLև¦Y߯Xq˿߾[c}nv\)oeI:)}w3wo>{W_s:|&T@"2T D $JV`(#%  $(8$ -
JfE *@WJ pGB
Ƞ@0hFM Bp耠! `* P  \ 0H` rԮ4yU|>MڦrD#}tgfs_\snwߝ7Lg˘Uϔy]@2?oOyzEx_sgmHrtǞyo9 M4CpI([(H PB1hi]$ C  NH /   2r`«LPЬ($+hPAPisd%  ! d$V  1*R $ĕ0TL
 $f- pCm.B   Q!u@@  $@:0@#I6
@$fC+D-`$E( 0v 0 (K#*J  ! @)G%D(` $'g;;WwU3w{?י^ww+<[yE;圥ͺ_W=o8u'K_p}֣u==ӟo}z#xOm|rW>)Xh1b lh'HD`L@RX(p8Cq "!YJEBZ  J 49p  C08& 8\	# +	 =@	 
 o< z~^3򒨾IZ]U|8q[2'Gwgb6ϫfizroCM޽g>s:}ޯ޷Vכm-_'K_յSoW5>ɳÒ[uW}]ݵSz{v=߽ⶕ>/|$?|sϪ?xk|~8 κNG>Zߖ*A+AhCL`(8I1@Z  @80P @M\j$A J@H@PdAH-GȐA1*	YA0B  pxH" $bB,;[Gnm2N˶=omOۡoV	$f&Ȱiҟ$KݯZz2{l?ʙ=~g/V;'dZʰ ї s	(j я  n"@HH T nrH2> 	b%pXb? Ѣ. # $@mP&   ,jh֤p	<
`,4!H ( TZ7DAH1\\HN5Q(r@(A8  ``y)ƒ,B H
 #	Z(G %M
@;de}Ʊv"}gx?}/׿gyo7.7ny{:;Wc^/JOoS[QWssPsMPb P PD C H)J 5-
,	k M H(HND`
"d@ - T(0 f4CL(%(!!ca@  @e=E(ԩj_sǖ'p{(itW+xj_{g~?gG6?ݔ|_Qٝo|fy9=Y)]+Vw[ފ̪.wrc?eEysosEcǲ/t||Q'wRsodGMIg\tߙPR:B@o9"8 x.	Fb 3$bҀŴɽk Dv'((PBNbl`fq@_҅XO K(#MQl^5 9m2F@<\k=}I/}>OSOٹμ4[#.37^)gW_&\j.7_s~ZkK܊k
C@m@F1JF8" `0Ha  b K쁰.q xH|q  (!C1	DL	J`Q |3X$L9	d!ᬊƂV$ :3B3`0iM!K(Ib8l  D) F@IBDd 0  $(@. L`@@c.=u<w?oOdoB9?#mփƾ!W}ۻjeM~SH]?glz=Q_oaz3wz? ݿٛww)$X [&h&@`@8j8+ a!a	  PD  `XRCZ J#l0y(	",
k@f!!>PBl?[}C'?on1gÇ#o2
_W_];z.cۢ37}Fgx}tw^r_w_MooV}ku;~XU{HO_2KFkн-S]忎o\3waY?Ώƶke_F#/_w9^Gl{S7:>guV"I$ 	aqWL
T@	5hH)3	RDI!S$O U83
> &9 к
TIpF A(#PM,A CBh 	23pB!hYZyS28G&AɡDU>sd2ikX@#0'P,_yuN 9@C}UlJG<RHA#$4$mJQUk0
a!
1
Hg Ӎ CX htxAiQQ %FTD;H,"%=Ԇ$ H"9@Z%%J|=b$ @H(b ~؅P F p jy.A%JP8\P*(@I	(" rF @$@H(M`(A@U! &1Fԅ(1BR81)@BH3RD԰: U`FUp!(~f0.UC.v̺5 bR# u8|42
9aF@0ٜkR-J":iUd(І$KR 0	*uD&'( x"T
	(K $ڀ!x  ,t8h ( 7D*(8H\% 긔`9 \\"5 e! 8 A9%W&BH2it\4"cMH} prĨxh`b1 yRp@M@PT1ed D*GC6 nEDBOHD8uW:BPTGObGv $E m	bLG")nĖ
j̐7JC!fXB$Ih%$'XAJ NR%a!n$ts _qǜHB@Ȥ4	@0aaTː )xcDG4mHP(&F#(D Da$A)2@H0pATDDX[ 
bD(HF@$e(uA4,`	`=ؐ50IF#mQ4`Ԅe@S!b @L1"j =  Q@$tteD(g(VCG YEEHB(.)	8B'T7BưyQ;sQt,d`	$rl$|$E c̄J"i$Pk"*S! %j*0@ȈAq%$7#`*Ph*xX6 ",P  0 
B F Hlb!$DQ*H)l  \a#tX5B< t@ 6nǤ#!0Nz@9(	 @AX/y

r :	(
 @)h @P)WDph.p@IbX5*L30BP !q@$pQ4ZǰhREQBb,lqA0Q@VG@)R F[A<@4?G*5DT1Cj^G9^0$ @  v TaI
%@
@F r~8EP   ̀3|;Am*brHM@IBh`ކȅph d D@e$iЎ0EBKw$ILpr@	)%PP)#JQ	KKpH	BRG*	A@efzXHD#!R)䰊 # u=5Ea`K+i3 {Z|&i, 2Qaj""WH a. ,Pk>%@MTҸlP#Ba 0 "h0BEMX  8A24<$&( '6 "Hj!"$((IK)Y*$!CeM0c	 (C>&p L 2v!W0a 5Y LFBׁH eA b<)@ AV@>2D4A"hEⅤTBࠀR/K4`XAa|c#!)s@@ jB҃B c^w#	1x !A*7B!f]7| D&FL0!$	VPl.q 
.!Vdm#!Q#9Nhh*FX*Ȉ4 \ $|2CE	bB%BTt(@Bb 8 N@		A r@0A
DT@Fe$IT"*ItSVl҄&-ۀJOIRHr	B<2%?@ Rc	(ZBQzX .Y4ڸPֶaFN3B hKb 0(?_H4L LFQG!
B$ *"y|
41 a-FC @5PT6P`P6K @I& IB90! B$2D[LR[00"GحChoPQ&-P08]P?xEJmuȐ " `lϠ0$PR0+M^!I8d(sV:
ShV
ER*#Hq*P0(f R)FF` c e h& t,P1Haf8EЀ 018I uv1	RĦZ b I% .   8CP ր0HPCF`RXO$8(L6 `p	.EBp"N@*Z"d<y.@x/$DȏD 4x $!>YĶ*8TD| P +`<<"t2/'HD eAJS
Hh@2F8AD 9Tv	dP`F@)[3 lp:hrVƇGB,S4S/ip/vzX8 Q%(J 	Prx!`Rp&P%	PA*b@8"!
T $=  P  J@J
Xjz6%J3b`b LҀ 0,P|1"p	@@ D0w&h`(-Eh $ Ā,F A"4B$p/,#X CpDJ9UR4PXC@<E$dcZ%$D#T04r^xBaE#e5BRq AsY*w0TR kp(Rp@uT \gK `CӁX0 	  D\&"#zцPu!XP :BPDQ PC4AId`͝yH!@r)I0G' JԢ,)YlX `c~Jƀc	.S'4G LT$	A,DJr_-
 C4# V*P$"LE	'92V@5FxDH@\VqILTDgQXÀ( `BA'^QWTm@ 	 E(# KS^P'0++SJ,D@)c BzPG^1f(de`dI"MAvΨGi8hۀ) iCڡL e%4@ UM1D f(D B@d!0&U4@&:P `Yh ((f#qJ%h"$`/D* `Y 1L"Bk@jb0SHB osZW}-َͱ~a\~277??uy6ǝy eKsgNrn;dɟO?nԼhoru[E_RMlw\oZLt֍_{y~pE<wwG>?Onydu?n-/蛒o?WW_{+m?}mfպrx^wʶ}=&ǿڌgF]]nKV^}_b`쵞u[]=#}?Ҵsq{>ӼeTTomr%F~ϳN=sB	y}S;}^sJK덟!cn<kߍCٟ߰WϏ~ߟG6.n鞬uoK;Žo&_׺g_iYop [޿󝔿9wSǹ֫߿msݻY?_x7{y4o}ί{To=vަ=ouwЖgz}2;YovUOOj<}GZdC̯uS|%ދsώ#=6wCkW^we`///
qaXԤE'*T+ztg>{|>?`)7h^m/m"k7V{vsSWTu7߻w6OZ7k6߻B=YV3[;h<t}9`o߅o;eӆ̹TsR;F]fkۗZ|wݟեv,>bۿ90/}/'Q8v57wo^|a2y6]1:6]_aC]6/3]]<n{1|׵eOO{qϺ>gwGNs}yvw/}Is?ָg8֟߷߯Obfy){{ׂzsr{v3W;xnzagk?q?ԩǍ(=E[u+BoOUy_ǿoըW!zio&oLKwwfM>~oN_֐W/T\]_{O:~=_j]'cx?5﷚c=~_*]ggF֯=}m;EYP]\U[޿eu_}Ȏ7{Y{6nc~Njڈ)u=oK:ξn6~#;_.y/vL=O%Sfs'1[Wf{~?wSh9m7%_b7P}moo@=z3.~0t7;¡_W6j{^c-~[tε:tq|;o:TpύkK
K׿f>qI~N|Z￟ToTn[[_=?}K_?-ԅ|-Ǿxg{kޮ^NŽ]zd/}6Y{{oUﱛw+YVߩw^e}gZΡ>+unuBWV{5޻%ryWBGݘ}6_Q?eۃu>/uf|Ľ,oe߼bگՐ}ׯm#]NzϻW=g߮:N)ss{{zru[=nF3|^_{/f3{}*M#KY[~οۯeg݌nޞ?޴wu1m{{~{5v;>׽ݡ'wq3zGv/[-[<K~Wz/_'L0'?ڷo5__7?vdWo:\7PޱyCzo[eq'~4[t?o_o{#NjY/gz6-u}wgoWoj;n;>~j7y=XRHC
~fr4ㅕEqۥtgfmQ^:]/=S:7O]z?gw^gߞh}?s-[@qض7]y9mܔU}?ZGqW+&;=Eyކ|֧PgݭMws?-G9B-Q]O]7g]޻e2z|_vxٷyv5\Zzz1ݫ>޽yϵ?_}s~׶뻝nYR63gNq~o>wG{o#|O?o:?gr*sOm0^y^2VWWoo׫D{m[vc~vwu5=Y|XX71ss/k>ǹ|Vhp>O_]m>}3[W{/cnn{g}tq;dy|~uo3v=#wZ^՗؋8z/M_s_q~¥w=sޛa_]3ORqŶM|}X[GﯰowK$`盪O{J컪{#^׬fTs?;pc;=>F϶ǂMA{rĻs/{Ǉ9ߟ}	kwܠǷmo׷bK۟6v7^+]}>݅)_Gϸ۬د=yy.E}=ߍeߤ׫c}F?~heu<Lz^/=.{6?
ØrMK:J\::q~XE{߬O#0_/9}y}Vƺ'n<}su5}^vrE?NwK9c_O_/?f W_ul'7n*w_j)4muony=}ۼ.y_S*_'gvl_ξ;]ܟ,}hf8n};g5]c~VO oMӷe86˃Bo w{'װm<}:uWQ6t4Y~uռvL7=*߻Z_{ck˘,Ӟd>ﶿUz:>.9z:r߿[}\vWG~_WYo~s~Ebur?ݶiwrgk?翏7ʇ^6iGsVn];}Q_Γ]xo%]=w~^rlͿ꽿_rXo׽yGkw~Yݞ>+G<?>|ki^syW?߯LtS2wd_?x?ܙtuJ׿wcfS߫ӤY^U#9UCy(n?>س8_{/X\oba_zs7/y}lϟէ?W߷Q{^yO}_j.qkc~[v}oއ c(wo:c/DWݾ|*wo/>ߘvjۣhN(:O=:4%TƲu&юSjG;|SR]vmE9V복{;Ummͮߟg׆+ߞuPUo_Z-{eѽoͷ-}i?wwL"֜zSr*o~_nßC{t/:ߠjuj;|_͖as%?_ߥXԯjek׹Mp]}w|}@Mю7[ݽsm/}ׇ2ϻJGq'*ߨ'zhwcS5sG5!7`k*UfͼU_v}~Xo۞ו~S1pݶ>JX굿iөiS˃|o|%o?U_[}[zWw[8k3=ctͲ6wjYn{wo_z~+ᷕo2~Wwh7{Kmϛ?ۋ'N?M^Ϳ}=,Wutoss#"ws\SfV]=3}kP
>yb/㨭vBs씻<'~~?I'sk[E6YCz?o/_;ǁUߗ>:?{_LRa[{6x}oAo뛭?z?|vsĿݥOZ~?Go|s{o5زnz3?[{*efyV{Vu5vi`W_vw|{ͪm];λj^)~^_b}j~~|ܿKnjwQ?ɷF|[7<-WI~TzVyy}/kG/m'.K]ΏIbZ۳MNtHI%}n>}jpftߤgsouϿx#^~ggw買^ΉQ=X-M;?{Kkk~۷Nx|y\khaU;˻4>ZzC5jϭo5Ђiokv;pWl8OwYvu7hޘlS9_cέ_ў8ݝJG~JS;uibq{W@[>Rݽ]iSZts|/Gvݾ˺ﳶjW/7yo~m'=|7^|ۿJzOE{&sv~qwO߇Ymudxyrmƣ˩K/]afWcED ̾wƿͽ&fw1#)w\k+sF/߬NLZrg{yg]?MLsAﵽn .~q|XyΖ|_p8l;u6kvk{ZAwrUm/z-gڬo֞oN״9՞a]~ci{Cueޕ:hLڤ^nߵǿO\~{ӤY?G/WݟU:[YepY;?5n;:ݟko~_fG[_uZ͘ϊUӬK<_o:"ms튵ޙ=Qge?א9|?f+$e=GڿYmZ;~~s?ּv`Q(/v\C2?Z3W?{[uE߮޻>qN%5)4O2iM?jӺ.Uw7}km<>Gqe2ON_-Me3<~SwX:?WK_}掏+ c3AY֚CXϓm}gKyi@wyPKzE/ޞ}df;O<{\ZW=Wo{_F_[Yw_|&{%/׮;{O}=wvu6>k{{굎GoNZSs^}w~}x>eO?Ҽ~?ro_o3Ꟃٟ~̙tdv_NӾwC:wW;gZ÷:g{~m{fKl+iEwJ3?~g3Byvg2×msno-;pcn'O_^޲N:jma>;gkJ37K2~tSv\?{W*J5;蹭u'Ͽ';-Qe[޻s<<w|~>}TMuw}jvUʻ[WKsXo5ަd[E}wMDF?ϕLߵٯulNٯMuL3Peǝe~߻w$wOlyvCdϸ?ǣv~&6aM~*m.5sݳBmm)Rm׳q??^ҫK{z7Cwk\$qZk{}鏓?nx+=۞?ϑ>I|O޿L}?ؽzwfTooy-♗_ O}?Yo^&»v{5yXZ`
S$8AK `hZ
TҎI0qX14(`Hf@vBztA[H:JT@U m6{!9P`kBtPQ@Bd ! AT-&FD"	A P    !0H2l$'!A T@ DM&J[ `D`$(a\ @@@#(PBB.KQ$D6-J$
@ H`j	`B^|dj J>HB2y1 guA"<FM)2 !JDQ1E@  tA@! %䰈 9DAa B /;D8,"#e(P	NbD ȎXyT00j di Az1hX">运<BP8X 		[XB17qiQSB $P]@B Vp	Pd[r!$H1#T8  FD$ @P$ @"8CP1!j}a  $ Cb& p4`J1 0P@ 3S
VxaqL	XTdW'5 $ BpT^au]. T =؈A#80% k#Dk	y `\R=@Z_ɫ  m16"!2t.!M HgGhMX8 X 1^h$T IbCU$%ECI%"%Dht7dw0(dC\Hf d#)BAԴ2"jf|&I6brl0HA AT  b!" 8	F 	`	  4!     Đ p@a`I*$C 8r $B  y)1d2*P)0"2l0E#8tubAJ"B-EqB 'Ph
F֜C x@,aQxFxСb ̒ bMF@ $
 cAȡUJ H!)G!zF&TEa:89(=J ,b0LP @p(H P<B2Hh, 	& 0  !0`"]<@ K6hv1-C!Z>pQ,JP,
$DSBS{(J,C $  @QP R	F@X&k @bR  @RbI T2CEs8 `PxC" *h1EMRXvZcZ
=N0?!*j#IjnҒ@ˍEXj!8:f
 Tӕ06 eD   Bjr*I:9 A0
S6D c#6D(( UC"dJ B%`= `,%a
= v!	{NxQ CI$,PFEJD\dYb[ J
,_qPeY*A#!iAM"Hyu^vQ0L4e8R709ά'ư2$4f06+Bg<T_8 BӶ#԰M)~Y2V@2t߀r8CĂG5]\I
 Gt_P(M  F@hT@2 0 @J>Y	B"0A P&  !9C2(]eYЄ
 c%aIL QA 
e JqBf!
( @ ZM0t`]C{ 0QsBIG|4@i!<]C'zA;r*S!R3 %QR31nOhc	p	N%0(~BV>R\e)fCIE,$xVjl:eB% vF00l+h< ! "@((h  -@pq8di2D08 'Z"aP&/`, #hBA 0v  q
R 
 H WFk TF -WA0Qph5
&@`
x JTu L  2¤ &4C(c
lpr @("@D9C@`@8]ŌT	(!Uɍ)Pj!N'&3aGKăB"sW [f8XBrpس#"8 T [4@	 E  L@ĵ -@'L&o@1 8@D1 &'@F|p!h(qZA`@CZH@P0zBL! I,&ԐP( H JM R7J E0QpA !Qe!	"  @F hـ2`Bx;G|j=HE)Eɣ[ՍG ̐0h2FTDSQԐ
ŨxL~0P!FDR<EhųcdS82 V%/4E""bp(PD5@8c$Y)j@<d! #򄍅02Ai{|" (d@DEuDE:)2LpHw G6@
jH\f ! AXA@(f&  рgD0(@"A,ŀ hd ' xe`$IA2e 
: t h Ĩ )PcR0 D@P<A*&8x#a@pfЁߔԕ !Izzd./!BPY#&0Q.A	
$p+*r4PG- AAp0C P=,@D	 1(-*9&L<%	HLB&  $&| " T@eДpy T,"F,1 #'P1$RxC(ax,6  J$ Q@f<	 Br"(  $5 e BHЍ`"!@
`) !!J"\UTS4 `@
H@ u p$vF@ G Bu 1A dOsD35p]T%ig B 0!UABxbyVcJ@["=Z8 Ty	A8 aȠ{ sp
@BEKQ0K* &bDĄC< fT E:ǈH ŗL@0J2"

8]B@[#+2   $S] dLn 
uiA  PMG ^p@1;` i(u$`%H[@<,D
n*0 kvDdE ˼W ҂Xs4 J RX.d	J 6ΰHaYj3'&CC&gk
PL	г4g T@#$Xrį1-BZO'XiD B嘀0 yHF L
BlRY=I!1 18 (J#@CA
ێ	p<D p&-eXDa2 $
&6" +l P
 L`"U CY@8 %!@#@ TY	
A@qg&QV_]T__sϷNgΜ:w{s3_u?=?~{_¯WfzvCt)t7Ou綫h{Tuf@  +6"0P"`E
  HI!@@&Ȩ(DCąB*D@@	A! $1$AP $F-sȸ`
A % P"0 ( A	`	PA(	L¦ }@ P:py*!j@`)'!Ҁ D8JHoIpb_ (YB	d:B%0{OU^t[-XSs<lno}kwGIW=ig?o~]vڜ=:hWiNZoƟwzs_r3SqWW+n`Fl	*N,	PE!` |E @D (  8H!`T4,ႍEPJtI
\:2 .A K!),Ui 4h`BH
DEtU ^]SKi57o.'>e_wʜ3͵wUyKys-}?uʷUџu;~[s*_XJ?~moY\[*BrNݿ;q߷c}PW[-DWweVzMw\*?uZn!J( b@@`0 Ftm%h 	 Z @PPH6ȟ@DBA
`F
 @T{mT#g@ a)
pLBh 
%bX^"9StzV+Jۯe#uN>)?ƽGto"mGopG<j%{{{]kpNS[:Ϫ+-rigy7Z#gq.㠂*X  /
ĉh(p %T؈''3
!SKHXW j 0tI0)LHB#@ < P!0@(``Q@dB#80 RM& A@iaQ͐
>B cƠ  AbEɑ@B	`Į&;b ` JiX8($'K()B[ 0HH[v7]w|g5_߻k|_}Ys;κgsk~yyGp_~7q?]^k~NW6tK|_;s'09}?
(YE0d!8U 8!1@p-eF6Ù3$PX p2*l x x
6B$ &`5@ ؕ  Bb &˚m="?byF@kZ)o{_Zgm=ۗw;>+sSW-wcMݯXJ\}ik|=*D{zs7/C7K<&u>ߗ[ߎ_j3_Kޞ>s:(b8{5m	\vλ',¯ 1{ǷEu~nz?dwl\kܾa>Y(0!abA AR p   "(A  3(0A
P0l$%Q	DC΄"1B) # ,HJb @d+	 ED%r<+{ok=Xc^Oۄ=mm 7.}}t/V_/:꿹Cm]PCz	n<bt׻OSo_5Ց:zݹݍTP1\XB΀ .YA $Atւ 1 !Th]UƘ'xEH8cPHM1QJJI  )z.DJ, X[  "0&;1( \H老  D6@ )@@FC {$`	[$$,0`e4;d C˅Vf$D @$2M#X  !BB1|xF,@aP ľ Pe_J2_њ>txdN'K_r9XUx8V^l]5co={oy~6/`9+Ww[~{}g	,on]!P@ RҰb68& ed"	C9		D 4A @)B"@4  BdMM@B @S P  P/lu}<8[f+Ew?>#|_z
i?Oۮ׍>zx/sNovYƞKվm;]1k>:Uo?~]O+?rSRM?ȮۻtTs{*{s[#j?RpcK??ǖs}/sמ~Z~")vͺAp$Ɏ`q	
0r. 	rP ( Ġ N$6,Ԡ&2Ph:5CК8`A<hO%R *UHщ (Bt   %v	SفuI?ַ5mOߺFu׼ٱ,;~|g~WWسcmw,9W1{?/W}+uyO~?߬Kspھ̐L4 
  )$P(0&(X@PGKR"5PKD SF_<@
 #5i1 `!$bb T)Cg ЭB;TùvA1ʀ	& 
a%! hBUA*0@   (}PK&!PA	

+(@Ae@#BD 1Ј^dXA͋@)A ((Hnf9o+m;NSk}}][(~/musxn\wTOKֿAzu;uok}{ί;EYYn0
@ +%/q5!$<Hc* &Pp-&PhL JH$		@!G*lx P
B;@@`B( L`/A8؈@6  `vȋ+
$;</rΫ[Wo8]vIl~R$=Nmk_;ϭ;?gkvoG(}`C.WްR_MzۻfE5/WW|TzjzϼEo\us_:%vqK'R;3G{lwڒc>߾c?];z5{[[qj>9**L$gA@P 		$BR i" *@YJ` m%@d/`({c@[M "Cp( 
SPPHKAL"N	$$	R@`0@g|3kG,-_ݍwy}/rWt-v'c>"K=K?}riV-{k~&7m5}[:@p4C*Q[Ebr"( jQ.|
N8me:p(dH*@A %@AT0(b~@`H  0 TED 9Q 7A" RA BL#H0BVBD`X(1	@TJB<%1MJ $2S j r:Hy4 J$x0h[vx|ݧq|~sjFe8@{QiS{j#{3֞/=)]~`4ԥ/^&<gKַ_+כ[(_UwG2?<ZO  PJ*)hF4sPrVLqu4 E a  A@*lB$, \@P@ĨT!''A   haం*ze{ۛwoyya?-޺&4m+z_Ng2eMOm
9 WVjOsuͩܕt5wڿc|{C/'S*[V^#5sj>o\n4-8:5`n}ۿe~7&?ysҪjr)W/w(cB  @M1R X!,B#!r5s L D#Bu~Qc2)R$AEhD$.02YJ!  RH33ͧ+won_om?vN'Uޟ;6|ݗ^w{zxuWe]_UL}9/MZ_JSy^-uu}G X!E4,P .Bˆ`I )?D(P@X #P Q  `I[ !D@،  5DR!6(K@ +D!.O 
>D  A (F81 cf$HX,,X` DBFB Ph "	H 	8^BXP@N4c)#&lm`"fu] 0!c1>	 H誀,!8"@# $* W/හ/ݪߴu`gwY\9?WOw;MT<y^xsg=gJ6s7_esmRcC 9ڸI0aePf`J	=D 
JItQQJD⛂xo0E 3%!*z	 /q !jH
$38%E1ApY	s@5ac_o)gnS[yawQ<?~w!Y״Y]S?݉{:zWo%[|wwo5uy
zD}Yvn/R.KjWGq[h?ƍϦcF֮ߙ!7~Jjlaf[c׿nPog4YWk쮦)V^=z~{F{:NK$`cp 2D F
#1:P!
HIE  B @0@a"ĢE@#EhHx
t. mnlP@
P E 6eD3?a}G}"ɷS`oʏڞ6׻k޶Zg2_7szw]]W~..gX3Jmɛ?e܋-GD, 	.*0@8\Eܭ$5p
@$v)H`P  a,1@D zv	8,o@Z`(P`>@NY{C%qfQ.4O!yD!J)B) PБ
RƸ q2,#(	 ʁ N!@]6!h@v"<L=`   x .98HZ#A( %\ ! &knޜ?Jg_{{l!ϗ+o(^9%_\%LO7~g'ݴ+s\zke}e_u?SW>u>_t{G0"M@r`(P(
8@  Q!& Cd ѐ΂BX XH` 
@$ rCx`G\$10%.Ae`I >@J(lB P0SV^kF+8qZyz l(u_%gs]~a&΍g6lwӌѵ[Mw[|oׯiOezy;t'n~w)(re
}*n9\ڽ]Ov۩?s?$i:^N-Ǻ)[8eg15̽A!w-dqmǆ`la|r$@t ; aJP a
Rt  J5	d /`PHAt&` CȰġ"B@#E"$f@!.E
%Ff Ȱ4&O67OXq~b6y|[3}AvgnqJ/zu3`#x􀻺mT<?{!2wsVU|ׯ_7:g#mZP   (h @P@B9;p^P` 1 PBB
ed]@$@BUPItFAHFZ" 	ED*  E	EN )8300 b PJRh(|Ĉ $< 
a 	LKH*@rB`O @aHpk9a 8a\Jp)堊C1<h
`20R@4A )%<8S-9f{6N{h4p{#]f?->WoǷꌫw`]atgmq>~o΋vO33AxIXz
 V !X8@#9-ΫP	ǀ	d@ 0A D^@! !
dQJ %8@0xRB` (<

df($QH@?hFbODy^xo<Y?շIws^҃;9[4ku*"~u ٛ/׺w7-O9gy{Z|m|v޲蛒E{"xU?,?!Z/;ͺF{E*:I;zsг޻%|/l]/>0ѭwwҫU_;_/,:LtwMyTh)b&mO$
20 a `")p"@Y1 $I&J"" $C ,  "'@"T/1f<AP@%L80a W!@\!4FB@(,@-7iw;
?Hx/i.oOyg=[O{.?iʳi܍sfoCOxc=?xQz}޽jpWV,uW)7S3f'8%  !*	X! &Pbm 5A@`Go!9Q"j 1-pĐ#Qu(  ER2@d	 8"i̭X@$P5PYB46 AWBG!>@c*r1gʓJ%%)Bw5fT+S|}D D"4D 5i 8T	86Ms!^ISݯԯuglk\/OztC?oo~=/up߯hwI?6o}]e__>qv/Gz cA!F(MQ΁0O&HRJ_
S6 )rI! G(QP-0Ft&Nfs-d tpBZ
Ʀ)L-錳 đ?`߫̷zo?M@OjN@ejoS~Iuq˳zO?[w^oZ]w6TovO~+J?nѿo7oH|~e}{ݛX/mz__|ϗ3CKr?絼JŽoPr'-zyj{o~{vJѐd D{!@8@YX/iixC"raByB-5g$:FD.*@AͶh \U8RpCJqDPDޥN\,!~d_~}\_oI</}˝,ld>jORw~Wtw6ST.׶ܪ_&f/ٟm%m;{qwsipj}o\~IF6 c*Bi!1%$HS +4bB.%_&ԉP;	3P)T̞
E@ISf 5U)DS30m2A
2X',D - Kv!4D+& CP2*# $hq*F	W/a l2
4F1*OWYA1T G@CQC
NF$aHx EUzc\9ZO'ky/5e/՛Nkw3^5weW?OZrݸa]U[N_k9V_zﲒ?3<;Y~H-	5UAcp b,TXM KCjKb0R	$l0 UԷ6 L'#C\v&) e0B%0F I%_s߹Oyo;fuo{9o|SD=Ͻn?v?޿X?_!+wavk?ӧv]?o%iOᯏӎ
>_nMӿxC{~nv|ާ^uuwuYO޿f[Ww" N]YY(f"UUF&:ĘO! !1&@<"N C	p ɑ6f@C2ABE񃝐*pr C %=r9{^IP *5Pi%!֐?'gOneٽ~woow]Vta{P񏪽x}=դkn?vos_>v_-:ӽ3'gї$" c -a3\Yp5	a[L-:@(RNOF$`Q,
:蘺T@Af"$% D(b#jnG&cx
DP=Z7@,&8yZ(  8t6@#3/0 ̀Uކ]QJ\ie(AJRB<3
@\Aq x mev$$ 

U#1~Ϻ^~gwrۿ9սay%מsWn_sS6?{>U^?]rLsz޾3}Ul>54o a4
t\bPR08B m9#0cA(8,A 4H$8ƼËT#,l]HY46 @3FЂ-*\afTA'ǓU@=!K&o-	m{y߿]mfw>}LoԦ.G:Ne;oUO{YǞ5w|ڍjixoF|w :9U?^e{^ywog+EҫˇN^W=y_~C~n{mj={_~9FmIDтKPrDTF@((tTXwdUGXBt`@$bDH	4D6؅if@ثc@BrL% f h@e%"j۠9bpERe,_z~{ns'+a[s}^w>~LҦ|j9yi+|o3tw?eowzzӗ;n?oߺs * *I%CF%DQD'B  ]~9 X&ÑH&:A P*DTآV x!4#b:AX1a2qچqM1d Z
/P SBH8 R;		 6U8 &f]88@2Il-K#4xa r73 7IFm%˱ 9 lЀ%f%!hPe$"P \yh /C,tQk"bduz]VN{ۿ_ngS_ξ6_r^/&gonq{jٞ8Z:]w{7Z}\;>}Z/asǯ=_ǐf jq.t B R0Q@d20 $"pC"d(YL/IwCL
%cfkt A0XD)Z! $B lƱ MUTJL3[	﷙Y|>_v]{}m[sLu~?5r<<[Zo:mS}wkzoL:~N|]#_/w :OW2MY_t{?43{۶'4_\8_]ګ1gwfS=ѭP $m*U0B	kbu`R	ZY̈ r+lLA*9 RLHizĨ
J2.$*>BJYgCxLxL9 i5F%CX@x<4|}?זkvk>}:o{3jy}wԷ> x_05S⾿d'IGݹpjկy_˾y},IfWl^gxyS~3)׽j?Ǣ_W>wײKOyfF}:g=]'5W/KIIϗ}wreO^Z._˿;kNWwЏgYg:Oon$ޜmKgΏ^g3u<ݮ~w:<߭u{;{wcǶ_;{UGϟW#Ywt~?}^|~_}Mx3<zr:Ԏ_q˼z{ۚ@eO]}^+.n^p~u}M!J홬S|fr[l{uOvO>o>:=$zW.;-ХX}GN\G:[?vwySͧv?ɱ+i\q_Y^B?//㿶<{jIjϦڻw只G:O#ɧ}1$ou0{O}}o.޿4g>>M?}vkkݷOK;VO}ϼ|[N^yv6Zkm{/n|8(MӽKx_VӉm2+[M絪͡Iwr}WjUU۵Nzh;[z~}w9V_}Ȏւv>џ/WzL_Uwmw's9ߡt./o_&۶oKoۿ{]//v;Ls |m{X/wWO|}O{}H{O׊K_z2Z~_7=c 2l~qQʐa&?^_V׿:N-{;QV59C뉞jo=տ~]MC~]סgwW~,r_߾hvO}{O_qmӧ_&Ko\8dp)gwoow?o&Y¥}U*>_WS˒gKmG_s3{O}_p}w{}y[ޱFs?{e]׿۹_{_}uoNg#6d?Cȯug6nijv0;n[?ο~,M/ҿٿo:-Ǵk}ykݿ/v_k~7߿{3k_-NקXjڞֻ'IʜRG?fbU=_yMZg\[_Ioyow_&y.{_$\wWOOAd.3NoH{wwT/i_/Ϝ|nՙk\< X{Y>go0t9l_>~֛s]/iW]g~O7Wj:7kWӈnկ?:?|g{~N^S/w=Wk}w󿿮zy';:s޳N_E{Kuioz[~w|u̵J~y#y~}=WwޓճiXW_plvWwwuh80~ҷyT{sVm~dwbǱU]kUݕFbSn~}=25sUgoW13sOߏq"ݼ]C_ʞstwC~߶SרIuo돗Yb6}sVv߭Y#m͑o
[u~9ss~-p~wV};Ⅿ3[_xz}>ޖSk[sys}Gߵ]v7>_jL\ֿ7'o{~-N87Y]?6_/OOvN*$=~B?gU^b?=O>9ԧ)󿼯uwڨwvk멍^ӥ^,zM?/fn.Ragqpbzs??۱^mU~zO{6<lu{mׯ{>uf?);ߧ}9m{|?\|oju~]惡^k_kCݯUJ|~׾oUo~D8-ys?߿߃\wλro1O-Ob[op02˷W/d=q6ѷ ;3Sct]YBono,'^6޴&9yByZ};Jg?,\_^?loϳ[4{TS>_MY׏xI]k[\NC'~DeT^\~4odGSwszڧ;s8ş㴕jOk5_yplVso:w}samM}­{=>|c»ݩ-^|:n
Noյiꗯ;c\ryӖ?uZ]^d?׿R/-~]:owm{0?Wʻ3zuep7}j?qjWm;>vgw:R{;amm~Ȏz7|mۊp~[wˋ˿<Cn}?sxaUֶ_޺Moݫ[u&ag]%ڱx/zw2\笽۽?Pn֮;\gZi;߃sW}e[Sˋw[{/z/~䬾DKzoj^5_rs%j%VlIu껝nv_\Ӻe/7}OlO{1Zzg]5~&wlyigm|ꖓھp?7op//5~ykT6!fԿAAO_~ܟ.n.Mq/?K5Uig]wc:+֧v5;uc__~Ưۗ}}vg߸տa=ɗhG>^JU}wA_~;95?3TU{Z[]<oW2
7:^o}pW}>;9ӊ®VxܿwV<'1?yK3N:ά%zj'vOfx[]9sooW'S*_76swo]RiͨvvCY_Zg~r9cקqS;Aײ1klSG}ǋҔlSG1=]IZyS{[Ƈ[mqm%.C_6"<Ͱ}upζ۶w+}_)i}=:3o/O۾O?#߷:V8z]Sv]}^^#=w+oilw})qǱۧV3{sm?o>7;y]`1_)iY{NQ20UI?оYbQBnUʧNy֭\)k}}ﷷ=Ϲؖv\ÙTC[KhOW6y?O9_8<˽<ܲoӦܸ7nG~'KߵE6zyoQwپkxOԅՅƮuvtg7?~MʭK.G~9O}~2~ʙ?tqI.A;ֻ^j1<u٘Os]vyW>:sMZl]^YYiVڬZ[}Izyw^=CW^3t_w7ӻM}-=wϯ6--]g[^v	gmoCK땾|/<itOw{UxIּŸk?i^}etOZG͋-@4üC1ٲ^B7-.۞Bݿݕwm_[7}yr;Eo(>IneFMúvqu~5|~ʽ݂>\fzwrSI~7s˽>M'KzĿ2yϚV]ghS{F;8{S{9~틧oKշnr>wg{[TI8/|{[וMr57|zMZvל~kvf_ֱ[︝G=>-1`_yԹ헷
ve]ԗ/U\e{_NJ߾ݒ\#E"ww_#_6#0_5u]uf>w^y9<^s_k_on-_z}wuw?}^7NX~Ïzݽs__6׽CO˟3Wv.3{vܶr7c}{NՊ.wk|OMֻɼE_Nuwk>n/g/޷Zݍ;TwՋm'~jIo}{g+i~69g%vk_<sWa;};}0{]YX>/2	=G^|fd~uoy=X7$,o<קVＷ_wG_{k9ݦ}9y{/X{cuןo]CnZi?ozjt/W[{?a '5o?o*O'1fo{77m8ʙ{W*O_m_?Wk;ܫ__nm.`/^-U._{V߱goqN#wTdvGs_n)qÅT?׿_wanUo=?bm~5~MmףuDjo灅H:?{;ޛ~ԽZ7uϿFKݵu?6>K\/w,݇ݻUﾑ???uA}ƬʯWߥV=Uq^sC{{bwsy'jI~M_+RUfrNW̿9r?Ox_<?WwmY"~l:_[Pis}o8|Oe_{o9/v>;7o-(=}u.-|KjSHӳv͏yOm/$6.ǟ;]x,_%Usόz'ҙ÷ݯ/U>?Ev:ѻ[?yxn~7̃q?k=w:}wkz"W寅=뾷[vm-gރ?-WK[-+o?=9V|֖ZJ߷76`?}-/^O0_O_Oc+~AQ'ofFq+A9~/|j܋gpgëͱ.۟	߽nyH]Nsc/3}â7T˺~t˚?b<ynZCG֧scS7orhMܹ%u=U?W=zcH/f-.nON_}!#?-ϖSvʟzz8sI?_?w_}53^v+<@&zsWoEmlquڳP/_Z}-ޡk_zpˏ3{"[?_Wrϡ0ikWsPWnmSoi3w~|嗽?wQ]ￔ̛uNe N<?sr\~Lʎ?k_OVOs7پdr<^oQΫ>=U%^x8{㬶X}kٿa<C?FN,Wnї;Sں_xoW8W͹O{uYm/kڇ
կ*ݭZ5"{?α߱jL3>y_?~oww䔳}~m9o~n:}/ⓥ[V8M_vO6q@s/Ցs<6ku|9㜽}G=i~n|>S~KVVfț~!//m[S]~{g}yt?_[3u+^\]n/?5[S6?~i6Bgr!;5/ѿۧ_}o_;rrK]/?u#5_ʺ?kB2 [0x5934bde212184133][1][0] 	isLinkDown: FALSE
    Ck^+ I D?kB2 [0x5934b2184133]rssi: -42dbm, snr: 0db, nf: -84dbm, cca: 41%  Ck^I E   ] PkB2 [0x5934bde217a45063][1][0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  CL f6dd. `kB2 [0x5934bde217a45063][1][0] 	isLinkDown: FALSE
    CO zkB2 [0x5934bde21063][1][rssi: -42dbm, snr: 0db, nf: -84dbm, cca: 41%  C ] /@qB2 [0x5934bde209480b53][1][1] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_event_data:  C6b41. fRqB2 [0x5934bde209480b53][1][1] 	isLinkDown: FALSE
  W     C I [qB2 [0x5934b9480b53][1][1] 	rssi: -42dbm, snr: 0db, nf: -84dbm, cca: 41%  C @vB2 [0x5934bde217a45063][1][0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  C f6dd. 
AvB2 [0x5934bde217a45063][1][0] 	isLinkDown: FALSE
    C I AvB2 [0x5934b063][1][rssi: -42dbm, snr: 0db, nf: -84dbm, cca: 41%
     C  q>gB2 [0x5934bde212184133]0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  Cl^  6b41. LRgB2 [0x5934bde212184133][1][0] 	isLinkDown: FALSE
    Cl^  I [gB2 [0x5934b2184133][1][rssi: -42dbm, snr: 0db, nf: -84dbm, cca: 41%  Cl^  E   B2 [0x5934bde217a45063][1][0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  C  f6dd. 7B2 [0x5934bde217a45063][1][0] 	isLinkDown: FALSE
    C  nt_dB2 [0x5934b063][1][rssi: -42dbm, snr: 0db, nf: -84dbm, cca: 41%  Cɦ ] <1B2 [0x5934bde217a44b53][1][0] getLINK_CHANGED_EVENT  P   
wy  0pPppap 
z	pQ`   Pp1Yq0 P	 
\Q
\
\Q
\5WU
\ Wt W$ W W$ W
\qE(p
\ W$ W W W
\ql
\ Wt W$ W  S      jꮦjjjj⫪jj骫ꮡz*jj*jzꮧj⪮jjjj몪jjz apple80211_link_changed_event_data:  QCi^ 6b44. A2 [0x5934bde212184133][1][0] 	isLinkDown: FALSE
    RCi^I q	A2 [0x5934b2184133]rssi: -41dbm, snr: 0db, nf: -82dbm, cca: 40%  SCi^޵ ] 
A2 [0x5934bde212455643][1][0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  TCi^ 9480. 
A2 [0x5934bde212455643][1][0] 	isLinkDown: FALSE
  W     UCi^ 
A2 [0x5934b643][1][0] 	rssi: -41dbm, snr: 0db, nf: -82dbm, cca: 40%  VCi^= ] hA2 [0x5934bde209480b53][1][1] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  WC6b44. zA2 [0x5934bde209480b53][1][1] 	isLinkDown: FALSE
    XC= I ̄A2 [0x5934b9480b53][1][rssi: -41dbm, snr: 0db, nf: -82dbm, cca: 40%
     YCX ] !>A2 [0x5934bde212455643][1][0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_event_data:  ZCX 6b41. >A2 [0x5934bde212455643][1][0] 	isLinkDown: FALSE
    [CX I >A2 [0x5934bde21643][1][rssi: -41dbm, snr: 0db, nf: -82dbm, cca: 40%  \C9O E   ] hA2 [0x5934bde21643][1][0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  ]C=O 6b44. A2 [0x5934bde212455643][1][0] 	isLinkDown: FALSE
    ^C?O A2 [0x5934bde212455643][1][rssi: -41dbm, snr: 0db, nf: -82dbm, cca: 40%  _C8T  ] ^&B2 [0x5934bde212184133][1][0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  `Cj^<T  9480. T8B2 [0x5934bde212184133][1][0] 	isLinkDown: FALSE
  W     aCj^AB2 [0x5934b2184133]0] 	rssi: -41dbm, snr: 0db, nf: -82dbm, cca: 40%  bCj^i  ] =B2 [0x5934bde212455643][1][0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_event_data:  cCi  6b44. K=B2 [0x5934bde212455643][1][0] 	isLinkDown: FALSE
    dCi  I I#=B2 [0x5934b643][1][rssi: -41dbm, snr: 0db, nf: -82dbm, cca: 40%
     eC ] O;B2 [0x5934bde209480b53][1][1] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_event_data:  fC# 6b42. `;B2 [0x5934bde209480b53][1][1] 	isLinkDown: FALSE
    gCnt_dI @j;B2 [0x5934b9480b53][1][rssi: -41dbm, snr: 0db, nf: -83dbm, cca: 41%  hCD E   v> B2 [0x5934bde212455643]Z!@<8u
GDPT+PJ  ]  (@ `&P"PPaӈ(ALN<A
0(LÓ08lQ%uj5[^>]>m|M駱׼==Fû)QB%p;roZ˻^ogϽgy̺iny[İcjlǪ|^ާ.\[I_/Gӏt^e?V8Gz}B{~yMkaysW3soʱ%@@6I 4Ќ`@t@&Ȃ
b)0\%@v0&@,30! PSNa`i0Hp
 "H
!HU al  ]~\}K^p9ٷtspW]	[nzs.?>{ks#6wO:yIHg9~]o^Vw~7$o׷?z~vb`8B	:Khnhi@@0 qG .@(&1zJ$`Y3	|D	u+$ƂEA( \қ@$ VAATbCP9F" BP@$ \$J$8BSBL U$Q ]ȕ/ $83HӚ \$B7e[k)l-^w';yiMZ{|_;'Kso.NGWڱ~V5_zy*roz:۾.r#-.7W~r>6PUn  9Ja,U :aA@@  (6@)4C J
(<lP  #cP Ѐڈ! - 1@XKRA	1PD7Yk?lʿwouG{???ۛoD-N/',tG;^^tyXG*[3ǵ~<~}.7toW_8fks_w熾4^?|=:je?{wwz̯N\xvw3ᓄ^k[_qپo8C 2@HD]&* LP`2 H0F oN  tBFoH4,`@@KP Fb10F0 @@B4aJCSE(5 Z-"rB߬6wE9Tma;H{g-z<WoBy8qGr9Vgo?ߟn]Ko=pJ@Q %"P 
Qe"PDHH   !
#~ E CCFr,S8UU" '!`@f @ "؜ԏF2C" -G0HP@ Bl
A,		@DX  (#-Y0b8F  iB,FY1 qf$ؑG%d @ jP QeAh`@-KAC2hV0@`q		 l$%xE?^saoOaZAs^k[SCxRLY#HRq[^ۋVm>q3xW]q>Ͼ6ƓǕg7ku7 @&jl  	DհE(LM0Ph|*:e$!H6  JYPL &8%z0 %0@DeP 	V.  (
d#iWW"gѯi{J1k}yb|+;^u߿,&+WS{U1&s'{k>T@m?w{9u}9j?Es7woK\ykMƺoܙ{snsҿ4Lt=?dѽ_o=?4﮼q_M<ϩw/_%۩
}ա\6<D$` !@@J!gl5Lf s"0 p4( 
 @P !N*@
ޙsFV1 d *H hL ( %A G
 T  0  pmy{VߎϿyKIߢ=&1>}_i֧y߻wq}ӭwvfzWnu]}ZWﰿ7Vxk{+ǿM~/7!I E j(#m^I R"NoF *RR(#	 p9 xzz 1 GashH
Evf  
1 A j!"@@
bL @L qAX! DB  @ Ί9"Gz1v]LT 
 `)xCBQ"O2ww+vCtC1Z/['w}_"p];8埾*+_:u){oV/]%:"W>PZ۝T69Vwz !<$4fH8DJh I	~`7"myP !FHbqᫀx 	 q_$h@0ad @D02 J9 BKkRCVЛ}}s߳~U\_*˟_;u޾ߛ<E[^v۶߮_ws;~ꌯ8^[՞凙!>o{۷tAm?WW{?5;6{w?)qZ/w?z`5ն+*nw}P2ϫkgb]tN=/,@	I jВY@\D<U2d`0#CMtaJELH-dB2 DD#tiI.H`ؑPɃ "@pa$lskupl޷_{ߝW^>ҍu}O|38/}):kڟojcRm]lퟗMߙM5jG{ouR" j* 2  W^LҢY 	DŃ	<I~0JHJdQD@`- 1<	["	0\R H[P"xRd 0
8BTVa"-GN$1
  C` c)Ҭ @P 	DʑP PE4	 @*؁BP!I  )X8L2Dq"B @  .AF%I4$ 0(eXqqj9_YvRv@+ixǖ63zt?|/O^uT#׉+w+wooGۯYNhߗA	̝#	!!*H+C+@% 	|'G Xd4+d#83)2A0i L)B6

pYؾfTAqS	7adND`%s4<zuߗ{;ۇn׏Kӹ}~OY]iy~j5GM?KW׻=o2߾15B7Vuw{?SO"ܾO_޳;no]*kmL[wj]/>lӿ1V~sWs3U^}\z>9ӣmg3xPF҈T !m6eQٲ na @(a]	JJ` (1 AHH	aQX	J4PA'#8RN)s l>4@EH2_+ݤot˽wv-q_ǿM{o}2;R}I6}6mʾ??U[/^gb~cQqv3DLD%8%	?F=*N8#AIrl
0G@P|%BO3 8aB 	$D5]I;Z"ѳ:

\C&uG$ 
Aw9OuhK tUap NaAW"c$D
"3	 4n  ls vacؖ$TDEv6cb
%§bC J%ǊBd,`2i|}Z66v}og_Li?.ynW=k/v|o;;Ko}n~_>i~Wb	Pc
5 W*
((pH*L)|	  eB0Ɗp[	mWgGF	W	HM|8!R!tNą@̈"(TL 89חGMznp;vwſ1j=z鵪~_^˽sWO/O~uu{OGunS{m_}k\]^\\/x_ϲ59Q}W[0w]6|o5wms>/{j	q>bS7]_ǵߟ_?/yw?_T?j}8#BjġH4|4A5"R6Lk I%@CE-Xb	*R`	%,A;Ljߩ"(F"*`L8$p%,)6ffL(#T)׻_7?}fd	岛ujC;y7c'3va:Xߟ^o9߯8~^ߴ׵置S.ho?{djR1Z
	ZU"   ar	5VV/%U _fh  G0@Y$Gӏ *E Kt ' Nq@ @ ;/2rШP[oh"vp\4tPAC\,M>0m@J<1
.Gb  䵏S&6
kpV`8O1FESJ!cI
Drnw=Mo_7\V_=y;;&nUomwK;ko{dYW}8׾O׫~Ms]>֕tC S()2G g]FBBQA1.N^+L*D:H@		( -?B+ $ĀoQe` C	G  DFGװًVqU?}z=_e<}='{ѯ$1VM?~7|5{>
O[]oyvs~nhWxE^}uN_{=:Ou:}Zu}
z;~篩D/۪/ݜ7Nc>Q}'@e5 %  D^츒M$22|"@FF
xn/B8) i"l"ٔbM2UE>b 8*Ѕ!-a6c @0050`M<bXy [Hq,?_S}ǟy?ܝ:'Wǿ(=߿ήދwf:濾;^F{
˨07{~ڦ弋~N\&QF<:lA QOHp}B#`DaՖ@ųe,5"2p&dRQ a$]e|Ɇ02)XhHFL  F"1$%)5 B( ( @(CJ;9 }!0oI@@&R8 Pi5HD`>iШSp0ERSaZ"ԖQʑ|(t:1AE^(H(DU20B(?Oy^v뮲߁s/?IGR߿l~w3um-}g캻Ь+J[7#oҪXxzzd\7%o׾pO]~һ~^%IBbfYCLR"1s'AiG`2hFH9	6:p@67a:A͠ :CUHLF胃D:-vJ̡A`p8m{2zVgnl--_?Ov5~'ѭtl}=?yy~[/{?;Lz>u3OxQwnXz^n>IϟpOz~}w?wSZ!̟6ssXW7_/[z{z▟vmCJOs*uP7_wz??'*3
HPrEгG$\(+& 	!%	dÂB@3i  2A2
	r'	0
DBr{Hh<Q 5M {'Wy_w~ĞڹgwS.z&Sx#x`_zn~Sywz^x<.Z+]O+ݯ&??pęh6<B$(!Eqj!t1DzHGXA43`oI+X4R6]0(I@4B)EP1"b5;^KyEpl?@7.	ċa &<_}@#|ID:(¨X'HNJ KAt2,5FT,]Jt3	 ct* >a	ȁ@V4(1	CW
i*H,nwW>eOGwuwϓWh^w1?c΍؊oܡr{ǅI5ƿbޯIzWҜ.4:Xٳ}x"}[|_G}tlvy־g^w\/ݿ{}w}]_ȚCxdip@2OVBϜEe1ERŅcoSTPiGD)raBo5IĠ' (WJ	h  &M,j׉o`qes.2-+xUK*(!tya
S $`ME#hJNPHP3D(	%`7EIe?
fE$2Xu7 LD0 .hR 3bPI!TE(F "wK/nJw	my|o[Ǣeo}?OW>ԏ}}ee]?v7ۿww~s[`1@ƙ;ZI0g$BD) *ic>	8aUOdL4F4PpT0)VW͒ ELjt	t 	j)D`KV8$B62cOwݯR [o7ZͣͩG~oyggKלսjߺ;gwl5\}Si[{no6O0|۞y~Zx?='o{mMj˷f"}?E⼮uuޟ?~׿%i~Mv_wwGkgWwG\SugS4ݭuqXBd`,60Ӑ&3p%bhr0brGd	^Ar(LG7!QbJv"u`
-a%ES`Hp,z
;TAJu`8YH/W?me_Jc5:{|E׮+_v\ǘU۽MzݿGծa?n~/}{Y^[viNd>] mal%C $B? S`R<h4(X
` 14"v  |xUR@V8!臒b
w8R'`H#"EC#uBZF,F+@ &6@L"B@U(6(/9]=d> 6F!Q!ND`BڐȂPGDŴ55awk7AB%HHbAP%z$gߞn2x\e=?!%6wzl ş^ӬjYo߶#~9f&~qާM>x45{
x6%4"$PnL(h d4 }."c$	@`0-  Ikj2pl"SKf)B`a-KT@NS	u& kd,qR_RdH~ulg:?oHzg-^]\o}I/`7ꇟoMoߑǑ{ao<w^wZ+q~~ooǼv瑧6|WRm[^SCpW[_=o|?6\oObgk}￻LLoݪ9~~zՑ<K	$P':*I"#Ɂ$}A2iu TEaGQl Ņ[<gEs h1T&V?)t)&$!
ᙨ_sua9}}=HGSGmyltrlo7<Reok{Ot{y}&Xs#fڹ?}
!1Ԋ GHJInL0;fJ
VLR@On fP@#lD
T RBG>%BLa\NTH`[ ! @ ``RL9a"hft	eF<P((?FMQ .rIBn  	 #< J]0!j-H2qbe% ܐd(Dh0LadOX![$ crҠLtHuS|Ot%Z/׮]YqM{ﯖuWW<UwWǓ/no3vxŷ{+fo5,H@<!6 @	H+H!
 ى* i0D$&⸬td&i2if/ z- PAӘbR1(PB@'Bƽp  1^xAoo>)ׯvk+3_=~mk7?Zߕ[wߍ=нo1]{o{}jgngog{]1{}O5on>l?9+pGk'e}vz.;ow՝ؗی}&OwsߖlΉ-#ݿN׹nAM¥0߂ 6 \"%봺e@(Irnd)f@mG14-j /$al!55HHx% =ba"6@=ahbƁ́\)BGH2:_C}oρλV7o;uj{x'3qxqc<<_>v}~}no5o'cU.N;߫~}׷O_ĐB۰^'FΎ)ƞ@")%ZQ%f+4K`.xP **p $FEL,A@مFv lي* jt+f;
X c@vH̆nAHH@d&e*
@,ԙ@GE-O! eBp7Tۑ(J@+C$ZrV(9H!,V\
 nRm=hŒ8wx|zxnfݾWhuNMG>w~ޚ߼~]?ǚ^op;^ygg7?{wB 1 R a

%Lq Vu@Dt M	p XJ1+y`#"cArFB3 2 "4Dv ERE1
VIØE긒L@	yW/~%Or?{՜/pw]k~h{ѵ˛vXn[di۶۩_'.wߛg2Y34=|nmu3_!?_[u[\ַˌ/͕xe
oNavD~]r?9|vsFZw߲(V*۰?q & 	UzXX0TH .B B\țG&`p!\a>YP@BX0Y>DpI@i/V4K4T
$bq=R B \0EV  &(U5MNDWs F)&f   \F@@!ҠD2|wWW 2
)3)91Qc7EuP,\a)PIݯ4}ϟ=?o~|1=ϠI{{.{}W_3o^Շj.K?]]>jO潳gݿGN_oԧߟt?xe#{^+T1S9f\u7m.x۫.ǧ/MN癜k%g;{e6m\;nO%YqSR;5@i"Efh+ QS4QKz Bd() @pB"T (byT$$[&B@0Հ(VhN0E'RF&Seq<?;ޯ-wv+n}J1ok}쾇z7ޔD.WS/cՅywۯ__6;u:b\UumV-R%y
;%Bu6Ca$5A(1BFRP"Աm O G:a(HX#<H
T(	Wp \@v-#Г̧c^9@4y?4$	 DA$<3Nփ3.Al$vʆF[
4tOpJ1`,jOP40MZF@
% $Ad`!G1AӉ@8EypkY˯[K}?Y1nmO{6yzg}i=9x+爫~W{_'v~Ks_Z}R/*
';_и,VMs˱5`0*`FHhJMFNB%B APi D "EGrЕ@2WTBP4F!D!:ENHPT
ͭ?w+|M߻{sƿ]yj2-PEU~ǐ|>]OgY][uߛ۶|[ǿظ{7.UbOƝO(o{-~U/ӧ]͗롹?w9s߽-uge֧ܿ7(s߿ݵvӏso~zڞ/V,RC@ d0
Q$+XT41!eF$AiqQ 8)p
N J UJҴ6 B ÚXDKFA0ah[o΢<1mywnv]]sW~/o׎{;7m_rW}Nɽ5oWm\߷'e)JgN܎0L @>`e"	!HEf_$scМ$@#"-	 "@@/̄ !0':O Ho0X8 H^h;0exDR ,YY Lj;@o D"B0ZbB|h* ŌqE !v 
`?rJ	U2XG}RXCPD"00DDJ@$6~;oǱroRM]ez{zV鉻.&{{}4Wۨ>"r$ͷW}79T92AAF
dEBu 	6 d`ҘHI@ ([Č0*FU '4 ,
 K Yحn+P/N*g(O'
 j¥]z>oc-)ػs~ww{t?on-lT2soy{y{ݿqu*HZ<t6O{oo{(sw9ך=-YM~?\*Md-U¹ݭ[v-/u5Nwc7m5 (,XFX	0TjQiP2B8!&a:f	|EP
'VN{D M8X C$jB0 H{GS `Wۛx/͌ߡS;Em3ooGD^Q{۽?</dNfo|9Itfѻ[}~wپksݲfqPW
 &G)pZF-H%ZB!{\b.(MʌUNAQz	p7^hnQK"jBGG,% J#EbLfC(bT ,D`	RB p.!cAN@ ]D'qoP!MaGPD{34%Z@G,!$6(83Y VJ##5E,	"AFb
IS]N}.U>kuoU:tϙ߷nU͋ߛɫL7oǢ߷k}߰>Ex׮?ӻkW3 b@"h UW)J$E[  pÔa+\T.5)Rk, 8`i2R&Rua#(̇9'$EQ0vIX:#9apw7)_M{zއq}ߍǾ7QS[xg3޾so^~MUws[n_{~lWkstB5r񩅝;c}y=^._ސ\W|ݓoc}lwyZw|׾W߽vx|gkx͝oZW~wnf׻U?~_H ZhʆK30 JA(i l"%UH	i  N]hRI4Ҁ4('R
ADTbHTkx2\d ")cDwMWsR?sd/ݥ׿o}͸^uߥm;ϒ?=w绵׼v.|S^dϳEw_G>2PV$X )
P+)H@]jHq3RHKUPU!*	#L`-] 4A94g[oFCj (,Cch0JyF7Š(M @AIIJ(Mc=ȪJ$eVњV&тأQNok\ Pz(s_qi\ bJGZ^%0ȣ*M4Jzoq5-Rp8@84}zn}{oKة>~?k_f?{ɿ[n~^޾'j߾j󑺆uM{r;'N_~a]?ޮ:Z֧BJ1ꋴw[^/4WCfKWlxQZFo?YBʍ-;ޡqrb_Kh#% NCpPSe	, +F Ԓ`" &ۈF *3UR,3bSՍ4
y6#
qMH8XU5#`
);#X2pBFD,` %\\   Q)1.04YeA -MaLA@I
OtjpȱG ZVSq	C"|Th  `YAL)<PRHL 54j|U+=o}jsNt~o۞Nȿ^:jcnkg'rh}_wuﳱWP+m_jߝ"OY0JҠ	0D AGB#Ĉ8'PF iD@g _A"#G&&$&.<Dʉ)`9qd'3Q@q"`*4J "$į޽Ƙ^fS\Ľ2k_jy_zwӓ}5<ф-:=pjn:[o3볯EOz@sk`kiOz^$qU驿	ơO-ru:9ʨ~Zow}Y{byf52oi?W/lL,_~~_n33u7{}7QKf;)ț3VBq 901ZT!&M eV1" @(ȐaMPaAA/	<L#7BX2$  DPx(@"ƒV><<vqޫ's]?9<ݻvӯW_k}7ﵾc]s\߷_>{3nviE#/>r6(IB`p!t2ʂ-"`@( T4 BAI 	AE%Ce! `$hdXhic- Z"dq
DSq P qH8 `.cB$#"b ,
8 6o   @!>  H ` LEZ\`XT@@b"@L 9 '	3	ш`g$H"04DD{Q?{->Ubz{{k;Ln^#~Gw?_/Ѵ޽'7Xh޿}׿>B<wnDɀ	U
@Pd$āT D1xECCDG( x  P%@0DPh8ᮕ F`!""@ 98	0@M.Fr*`)Dc ך{;[G"ZvlVyKULmi_7v%đc
/T%һSv~zצ[ f?m~vժ^77ͻ7sO2W]ַ-_9oߧ]NAbǺ2虫Gӟǿ/oYKB 
 H0DI0AQ18@ m1
lQ0 8Ldi$H&u P8*{4 #@ 40d@PF.("!220 8hіtQ}rWoJate_5oggkZY~>Mv?~s~[;Q=u~u_~6*-ox4(3V@AtV
c,}hL!`ȅ0!	Ptf`!^ FX^Mp.eV!XH`@2C B&XIXx!CpWKX*FL{ @! NJ$Nf \"  wL8CT.`"HL2$6p)0 "`t`1 H0cF "
 Ȍrf	,  SA#H$ 0 b)`A *Vݿ\e.qj[:~D5-O[푴éj|ޛ˻uyϿߙ/9_#`sүpƽ؜?t֎9z~j!j  ąh#,)V 
ީ0	0A`UQ P` P@$PƨYXy"҂=lT@)	TaMn0A rTZ@2B Ѥh Q8qjrc/{_wͨ4s݊/~./74z?geupzwί?u:{ߛ=߶ <eWL[_ftY~z{ql8G4]3&wVO/tA!=祫ͨse^־֗aoR`<B)$GRi H0
$ 
,TD&D}z) P2p bRPn p\N.0!CeD7ŉI8́(b  pO@   0ִ~uUh}KoK-i9;=zy/sm2s-?O}}kwjs3T}~ԗrqޅ98TE +B` % !l@h SD@X7=BKR dOЊ1-F'
DBZc H%0HƅX`d `XPKT"@Aj(LАg@~@^$$ .6  O!D"; jC)X@B ":%QQ֡ `MI C	1x(2U)AV,D .@V,@( r3{.W7~ΪOK{:~W}>~
ǀ49uIy'_d_{/[uM-oh߈ǟ
P蠂iCapL	 S4 I&pGF  1De*H H,:M}D)F"(hQ r%P @#bY pU\` m5WaӞ[v6gq7U7ڲ?Q:zxݒˮƧk7&gIZ~?צݲC}ryʼ,۵9SuW}t45g[M$nv\{/q/<΋NNp~_;z+³uostoggqg|D}c]_/|5kA!1	 ET!E5]H`xXD@P%f0A!@ :*`֒D@U  -9PBU!thy)AK Hh F)A@BD	fo( R G0!P"AФCP
@+%Ḇe
R,&  b812BB+P.PDEH1 1J {S

Add& CTQ4`p8pٻ'~s>߿EgM7/.z:_]O'nno7~Wvn^`O^U?~?Yvgˋcנw??|kֿ_jӜ/^{|W{ٴ̛_߂o9kW}3wypc3Ҽ'F_N1y
omW7P #U1@ B1!	FFBKQh<P 1Ѹ@$Hnd7,h8d)§@ PI5 pڛ^U"AXgT>FĀH ןoמ~zU'g)eg|O3^ϼ{Z-{ng U|h1o:[ZiwGN9	p(EJ3	=s(]8p CxcBB@R
Bi " {%, "c	BB,3Gz$ !Y~	VsD0mEA@XIB4ydP4Cb0F@PҌ%Zq I$Zbk % Tк# 	@JpjD]H+@  ma @(`.p|HDQ  H 'M\o~u{{s媈wq6E2W|?wVjj~goy)~_ھӗھU6]?Iq]˺6;P#I5
}	GdXh0<BXH4D*A 8J   0@0 @v +D
5))`[AU L`!j`d$2G@ bvF!`;MsyS\gp|?>$(}o:ןyO`.y,o7~VUq>m]F6 V/\Wm__oڟwnƯ{G?G9Q[]w1ojzہUS^wSmC5:17HYW@! i !b#10iԑF BP: .`ò!z Đh	P
"&  @2\ X&4 (2 !)K ,mDdhĂ"	@ȕb1wjn=w5Y*v=rk[ݰqE3(eJKewm#j1.W[{pKq?]]|W;DT308CP~P!FS0@(
 BELBy! ~]B*Аl ȡ А(p`@T*SXAJDH` RAi-Á 

ȄA0c2RdYH8HDPVE$8
 H'A<DPl0)   P@BHjݞ+I
(D	DBV58&H2=@dAP %%(x$	a
B% EH](DAK ~
7np	ylESj؟&w\u[d_\]3Z>hu'5_E'zr6;}I['-wn}U9Xa_K@@"H4!A*X
ƂAI@"ʀJB A1 p0@%%@&+F$  K(@4 H  ĴtATX","uw}yq+-@>=ouwU6jTU>ZwϜWg>1#WUձ{l2=/lΫsuc\k^8kkM{Zx{ӯbe{</_yŌlOgf_ֲ[#_ۨ|cԖ;_cSPv]o]wQmj?zɍǅ]"a@x01@)-A   XU!J	`{!4   bDgb2(EF@:  ,H P0GrP2P *JCÞY+P؂m߳EuשFx~Vןmd3VB_|Η}]VUVhy:=}4Mw''kwbgήbNR6oC?-'7ݢHr{f`La/d< 	  Yv"`(" 4BA
j -*30$	F$ꫀ,`A164l P@B
g Vy@G@Hp Jr.@`(	h"-F%f@  #A(p8Q@T8=RL ((hGHD	PAK #YV20 KCmPDd  Ew^\|v3wb{8Tz_ioopo	7Xo_}/x2!][~ˁ6~UM+#oײxTƛp7gչm3i^$*Q(p So4	I
 XK H `궘`s81:BHH
O xBZ J)	 Fo`#I v
BH(f;HMMB UgOPa` 8nK_Y{wײe?v_ɧqWmtl\so-Ǽ~RCv5pz}rӝꧪ;}Fg~JxCnj<߫]/]~H{%Sـ)Q|8Νs>緿y뫺Wy}ߖ<^ݸw~yF}= FM f 1%4p$(
,d`bK"8 R*0,40T`y@@FA<3G,l H `\"n@RI'\4EH
؏-￟Km}^v"_OO>7M8[q2Ga?gsu/?~wɿnםS݇Ύ뿊1UGSz_ݔlwnF $QM (#X셊 $ &-- R  
O#	@y
Jrأ(*Tc ЈP FPXRC"@B 	gd\A *(#`868r {t1 "/X A[ 3 (ibtH 8SHI\B=-p  3XUl4D h, ,aC ,0  d3[;uK1}`޿[.4>7|=dv>,~͕hotԽyS׸>n9}3P5QH'#'DCu14l )(J;TT NEk$BXB&iS` - ` R!@8B2J"XѤ$!@ 
KKz=m>CMLv=_Sx|.s_=w?~>|Wy1W}ZtL}i6q?X_]=jCtq|4{/q;ޛZu_kO랟aM=!dW&_Z?;^ϵzee{X~Y'anf߶6ˠ^|M_7[sO]}?%)҄Fr8IcJ@K5,RD!
D0BiEΔ@*BF1!*B#h *0LpKC k @4XcJ 4L>&8gO6yurݿq2{z<˽!gqS~?N_o!vWv?}jmVMy?wszڻ>ݺ귺>{^ٻ=U5J6rX :BS*B.$G ! )-jHJ 0	@"q	Ȅ*|99%EaaJ$I@@
qvcsl3 0S4 D  9D@ B  dCDуB&$X6I ISh T()/@A` #pD$GQ  . 聠Y@ @P` G 8
PEuP,|`Bt  ǟc.E7޵BevGUOՒVbg%swǛO/k;t鏟7xcq<%m}t<Vߩrxskb` x\(x T;B 1`ȩP8  ,&N8  v@̘.B 9PBH"Qd#! cA +hP2(A22  6/{㝹u.uorVuY~1ٴO8,"{6~s_6[>̇z,F|7Wdۻ_Kgtې#߼V3MԻvxv{<8	۹j2b#~{v)iAsߡk3/8hw
TKro>ldFW4-ؚ`\>n#B0 "Jr0D`zs_a@ ^`4a <%@ c8
  b*
H)$ |Y&!,P	5@*96qUTā6o
ڣT
{Ԡ^؞ǽs>om5Ѩ߼N/Dvϟ׋G^lt5XOg%ߌ/T6̠i5`o HU؍ 2 mvV @ J "IIȨXD(Q y@A"Il FHd1  ^	@҂GD6EC410@) 
"	d%RD


 PBBMDX"q
!%VH9C0P1@@:Rd,	A @@XtG0
,k
3$F e d.p(5`F& 6Frw_7{Ӵ;n2Fߺ;Kn=m{m~g?k]_/s7T~o|s47~%Ԗ$X!WΏvܖ 't$ek! В72@
XR0t@ T` xMzP @ QD;
&HC I!,B*ֈ!B*28"Q" TZ0@Q?l߬ Jgu;_E+s}^
9*qϽyBg:7r9אu}]uwk_ƥ-۟_JOot|+]|}7U41;N?V?)rќ{eyzao=R[Y}}ԽWֽe鸩'd$;{3I@ x/ .`\0
`]> )(L$&-D@@DF $Èh Q ,3abD#	A04dL@$	ABD.`;'={oթqbOz\w|g^jg,}>&%WEfu_{:g-O-&o^{q;//v)M=@A 3 	( 'f(1S@=`@ @020 (a(  A AeO0H I5`BB-(I!!s,dR\B%G	H 	-PJ	P^3  
p5@䈘.	̈́ %D	|A@A PHi
NH@*<KZ@p*K  H[{~e?bS}Y+|[#_פz,YO]f]<LZmzxJZ޳~wxvuovO|ۗ	?V CEAx D  KXPp(8LZ gH$ uH"$`  v4ApG*` T8 ((a+ 	yh  xsK_so5;=Yn[vkVMIЎ;n/K$/x鋷6gO޻z{喯7&XՆO;g׿ٺU/"3̜ۜWFx.=LtV˧@ToZW&;oHo~{&o~q{w9|wGe>=zЙsd8Ѳs?Q>=;bC@ Aa8T!R 2(a$fAH5ddXB#IIa>CT1c( `R$ D&DH F	 Dx(`T !D`d$%j*D]NBx7bm߉YS=q^w?<v}o%7zaS'kvmW/~5It<w_}V/m_G>ϓk_Ϝ>wkQw'{+CE#@sH*d@!Ă@!@ f#<3B  /P|T!!62* !M"`PHP bq'I&"LX00@B
 ʢ:'F,ىLK0 Tᐠ*  {
$Tjp8H`(5(( Pp	S@"D)H`'"	x WAP@H"6]~><o>-oO>Q_ ӞWwNGkbwvvQ~^M7mݾm;Z_YvXևJ`=
S.8AK dhZ
T֎I0qX14(`HfCvztA[':J\@Um
$PA	@d@! 0 Y2(X V@b0D	 *nĠ
(f, y0Ԋ8]` bȎ( ȂB( G@  ?
A0x8BH*8VE0!jDȑ C@H@$OAA@0q %1x*@ LD@PT  ." 6M$  L`AY
`P
 (D0,"#e(PNbN ȎXyT8H0j fi A{3jfX".轐<	B T8x )	[XB1T7qRQSB`$P]@ 
]0!@y@ p! O	A@bB *+TH!+X!&yEjh2 B0@ 
  A
G `	p!*Hcj`xaqMXTdW'5 $ bpTu]. T =؈A#> % k#@k	y p\R=@X_  m16"!N2t>!M!HgGhMX8 CX 1^`$T IbGU$%CI%"A%҆ĕhT7du0(dCTHf l)BAԴ2 @F`@ A] 	AB% `A" , ґ	UT%M$(@LJjD;Z Y 6
rA) "t 2) @DE		I4y)1d6jAx)0*2l0M#8tu"AJ"	B1mEqB '#TjF֜C y@,aQXF0xСb ̒B	@ t@er!!`J a@4VC@*(P10Y  xLPP*a# G8 GD! $h	bJD@ Ǡ R
Pk\! "T@!VH3,(ŀLR(: LkdIH(,t$ "H
6  ZFZ7ːtL*UC @bR  @RI T2CEs8 `@xC" ,l0EDBXvZaZ
=N/!*j!IjnҖ@ˍEXj.!}0	@IT
1Je LX81h!b  @H TfӠDT"PG31	`	@XDK`1
"	AJ#LpD	 -0MCv!	Ԃ{NXQ CI$,FJD\$Yb["J
,_PEAy*A#aiAM"Hyt^vS0L4e8R79έư2ı4f"6;Bg<W8!BӶ#԰M	~Y2V@24r8CĂG]\I
!GtP(M  F@hT, w	E * #  7*#HE@  ,EHEL E"@!L `6:"C"20e)1CP
\Y  @ST4 `US{0QsBIG|4@i!<}
CɧzuA;Ėr*S)R3 %QR31nOh#p	N%0(~BV>R\e)fCIUl$p8Vjl:e ,1JxWj aN  0
@@B@>` 4 bZ'pAXFj2t@ ,	D	 4ABPh6! JWɁ0  ,1㸫IDP!"@h P00HBA(  k P@ Y
H*&R O UP:s0&anH`ѝĉ2Hp8]ōT	(!Uɍ)Tj N'&cGKăB"rW v8XBrpس#"8 T [4@	 E  LAĵ@'L&g"&N q YQ6m s0
 @BDJ  U Q1Ș ॐ@"!	

 DB h*6I0P 6(Dِ2`B|;G|k=HD-5@ɣ[ՍG ̐0h2F|DQ1椔
(xL~0P!FDZ<EhųcS82D V%/4E""bp(D5 :c$Y )j@<dP! #򄍅02\Cis|" (dHDEuD:)2LpHgFv@P;  0
 2DR;&T6`PT\C $@9.r*BM11 2	$A (aFv*aX4"h" 0@;
XHq 1
Hp `8)PbR0 D@P,A*&8x3ᕍPtfߔԕ  Izzd./!BPY#&0Q.A	
$p+*r4PG- IAp0C P=.@l
,Hj32F5CC0$j!1ľp"a Sb$@֒ LBa` @Q X5 	& ahP FQ@@"	
( d4[0  @0 k\ @l!`Rgb#%	"
49
 G&*@ADPjR !Q 1() {4Th1
4}@dGWD35pT%ig B 0!UABxbyVc$J@["=X8 Tip	A8 aȠ{ Bs0
@BEKQpK* ."
Q Pd! B APLg`IH A`*hUDD` (&6BV$:H Ș$A ! $$qd80` @*` 4^p;` iu$`$H[H<,D
f*p kvFdE ɼW ҂s4 J$BX.d	J 6ްXEYj3'&_CC&gkNPL	г4g T@#$Xsį1-BZO"XiD B嘀0ئ yHF L
B:lR]=g 	J&42HPz@!	 B00P, x"(Ia
%A@+ G8#_U`H  "; l@<69 A!DZߤ@9I]A" .$C `prCPzWTB  W,ɘRҋa
TTXFXm@U(@(c D
"	"Dq	bT` E1Dx6P(AT0ʉ:$I J@EP8?$&`  WRyV:E% (8$0!!
! `l dp 
J % hr@p`,"A @V3A  R P'J3 uġˣ\@#N< D3
pr  @u@' )d  L! D
"=I`0 y@Em@CҀD0  ]$ j"{@.1>F 
`FŴ2B!&"c0D! %fY U)*!_DI-t)YHSm=x4pL"`TgAHA(0Ȍ4q$RA
EP@M	[$U&FP@MOZV83ze H4BwCC@q@hXbC/"CdmJAo N48]Dc)F@/(A5KȚ%47w&fJ N$`B" CCd hRv 1Ha 0D=P Nd,)AhM)@d6@L@HQ(']pJ& d IP^jPR }#A,t*Dt{X,u56Z+ 2
 i@rHyd'	P4
1ʒL `y"`H@N@f /08 5TF< ʈ
0>Ě4	-@ ( pQQT 0 h ; :	U PqE0`E D( &*(0g!90$r F#	h8<" @C
& SBe: +s-VH,LE+ABԥ6(bA4%  H 80qXXRV , 
		QbBe4I
BHHG BƾrfXd8J0*m0g  ! i"0T t_-(gH	 $ @DAQ`$[0d `Bh`tHhDR @-0C3%	RIX+^A
@&:  ʂ	 $$00 J' @\'(B;HLFN@C$RHLY&H"K	
B 82u @ )GH(\Hd X;	ɵ(Ai9D@P a
@i   x  RA̢LlML 8J(8k $$1IP
0ҁRDa#HEFb0B=``C6ufE2p JTAh@1U
Xr`X(Щ+H@
 Kєb*<PeKai#a/)3WQ[Ym4QAN8D0BD&1k(AFPF*$@ d)g ` <cPF [pQI&9~bR 	f E䐕$cш}јW	RlW_x~ x2hNg+ptBT@ =Xh(h	@A
I#	VX/=  1-GKA Ug 0
- 0)>LE	H{ !#"䈀e hB6<C#@PWE ÃJ#2H.	@

#)U!@3$`YMvifİNLRdN$-F_Q E		Ajf!0ZV	@ K   PJ$ ,!@9*$ ΀KܗgLciE" 0y*!,0zFE@p: ZCp(` 

F0@ `"beD   D 􀩨B`!HQd8D"IS"28a({CD  D@xv Y+4KD́	8 N65"4FkU)0'j!
12nm" bB6cΤ-V
fPpJ&D!N"1)  $%0p(V5  T 0@"pI R7XA|a BAq`$J9Hp	`
z+TD@L D* \0"
MUQQY$eb	`QY U	"ai !B~Q|!(H)r` #i $_@4D!@@t.R*Hp(H OQdB&(JeNX:4B~l0P{XES́		D]W NDR<*RhGB:@FFd%X !\U.Gt4-	1LRw@Sv!e(_WePB;h$(w 1:*^"nH10!2PD.EG  )2$#E
BAG%c8JV`Qdt(FP*!
L҄6,L15[J <**AsIFCFoP$AjILAdaqaiB2.'Jr5p	2F@/h5[`@ &W`3j:G@F&hYXDT  (NlQ:+>-?ʐXnZVAF) *6@ *xrFѕ 4*A0L@@`&"&@0؈0j&iz0
 +8Qhɪj`EnC0B(`Y	KFJ B&k됔 2)b։! 4)TR`8 ̤	(	 B:P   LP`Eɀ 1C8̨D $rAv &  pr	`G:C*p@CiB
  (%RPMF(f  VH$1WZ&PD"N12[`p,AJvF   Rv 4hXH#r%2B0Hd0F=aDH0\jÂ$)["!	WbpHiH<`B3XSDK8D H@jO7vt#M "LdB 29 RC;OpJBJ@
xA"0@ $! i0QrVaR Q)O%C#C2P0@EYĉb$\L<9xBF``M#D7BRO4LE єƗ XE.  PCU1$
PR84 QP"p*d T  "&F ),%@<qH~B Tp1!E)JN&d4 V4 X%dGYC!4&4HK1 ACAh-`1 "!.`'`	2d'@la@N!G(& *J0 !0 oP@@b;Гo QR	 4H@ z&p $h  :!4-B'PPZv|ISd0fc$]cGDct1c0cđOc0cTcDc3cc	c5c$5cJcԣJcDc0ccDcԔDcĔDc0c0cJct>cJcJc)Dc)c(c(cc$cD|(c@ctoc1;cTUctUcdUc$(c(c(cT*1cD*1c4(c/c/c/c)ct|*cd|*ccccFcDclclc$cc4cTmcdDctDcCcCcCcCcCcCc~c~c$?c?c?chchcD?c4?cCcCcjDcjDc$jDc4jDcD4EcT4Ecd4Ect4EcDcDcDcDcJDcJDc0oc0oc0ocD5cTz:c$3cDgccd(cT(cD(ctKlcdKlcTKlc0c0c4ct;cd;cT;c0c.cc4c$cTcDcWcc4_;c!cccycycycc$ctJcdJcTJcDJc4xc$xccccĉcc0CcqjcccĄpc c<cDYcT[cD[c+Oc.ccoctccDoccT2lcDcTctccQcԠQcĠQc3ccct?ctZcĺc.c$ccicBcPccwctcwcwc$cTcDc`cc`c`c$.c4.cTc$cccJctcdcTcDcD.cT.ccJctcZc5qcDnctBc:+ct(cz^cd.c4?ct.cococgcocgcgc4T|cd$cKccpXcdccccccc}c$q!c,(cc,(cDJc4c$cccdJcTJcmctJcmc,(cDfc{cTc$c$cԫ$cī$cAcAcc)c,(c.cTUc.ccԾc$9c4FccScTcTcDc-ct.cd.cT.cD.cEMc.c%(cPcBc;/cjc4jc$jcTcDcccct                                                                                                                                                                                                                                                                                                                                                                 
 SD      ݪ}}ߪU}}ߪw_uݪ_ߪת_Wߪתw}_ߪW]ߪժuWuWתժ_ߪתW}u]ת}}ߪժת_ߪWuߪ}U_תתתߪcd  c4W,cW,c)c%ccccTJcDJctJcdJcDc<Cc<Cc>ctcmcmcmcmc$tctc4tc@>c$c	c$c4M%ctNcDucc4pc$pcpc#ckc4Uc$UccJcJcOcOcRcRc"cctcVrcVrctsc#cqcicqcrcrcicicic4rc$rcc,ccococococcccccecDc4~cdcTc6c6c6c;c;cD>c|cc!c+cBcTUcDUcx&cx&ccdNc&c&cdcdcLcLcԑLc4dc$dcDcp;cp;cp;c$O%cdIc#ccc$t&ctt=c&c%	c&c"c>Sc8cT)cDccccccccXc#cTct$c4c4WcccmZcGc$ ccccԴcĴcccwcc4wc$wcԓclc$GcTxcxlcxlcT{cpcT#cd#cJct#cJcԵJc4Xc$XcXcXcJcd%+cT%+cD%+ccgcccc3ccԪcqccqcqzc3cTc3c3c7c$xlc7c$7c47cDAcTAcdAc4xlctAc2ctmVc2c2c2cľcc4cDc=ScccԨcĨccococTctcdc"0cYc79c&Jc$l?cAc)ct"c$-cfc!Cc#ocDmccc*cD(xc0"cq,cq,c$^c^c^cYcYcdcTcdc{c{cTmcdicMcT(xcT&cctJQc>ac$;cTAct2ct%*c佔c4CcOcD2ccrcecdc_c(cLccD(cLCcdmckjccjc}Icl
c^ccd(xc4V~c$QccZ9cTdc4Xc$XcXcXcQcdc$QctmccIcԂc6c6ccĸc{cTtc6c6cctclct0c
cececccԠcccLc=~ckjcTvclclc2cdwcec=c=c=c(|c-pc-pc-pclca<c$cDlcc4cTlcT{cD{cd{cdlctlcpcJcJcpcPct{cT{c0cd#cpcycycpcJWct#ckckckcckczlczlc$zlc4zlccdcT#cD_cocDmcdcTmc$cctcdcTcDc4c[cdmctmcdcmc4kc$kcTTcDTctTcdTcĹJcJcJcJcJc[c[cԲcdoc«ckjcTLc;cmcmc>cgYcT:gcTcDc4cdctc~c~c
ccdMc4 cGcdc4cXtcWcd=ccccccct=cԬcĬccccctcdcfcTAcccccccmcHmcd4cd:gcTcDcD*ccHmc>ccT4cchcemcA8cccHmccT/cD/c4c$cc[Acd/cwncct!cd!ccc>ctEVcRc@cc$c4cDXcTXcdXctXcBcBcBcBc.c.c.c.ccc$                                                                                                                                                                                                                                                                                                                                                                                                       
 SD      Ww}U]תw_]_WuߪWw__תݪww}_תwݪwݪתתwwժߪ___uת}Uuuժߪuwݪ_uݪ}]תݪc4  cDcTcdctcd{cEMcTGc4!cdDctcclct:gc)Oc cDac+ccccclcRc@cyMcD_c{c߫cĕcpqc_cUpc8cvcbcD?tcD mcd#cc4cDcTcdctcccccģcԣccccc$c4cDcTcdctccccԠcĠccdcTcDc4c$ccc,cc cԍ&cc&c&cDcqcqcf4ct#c.dce5coctc@c4f4cQfcciycwcfc$fcwcP$cT`c?cdNc9cLcÂc4ccbAcKcTcdcTcDc7cRcJcJc3c$KcT`c4ic$icPIc4>cDcTcdctcccccĔcԔcccecec$ec4ecDmcTmcdmctmc9c9c9c$acTȕc49c$9c9ccwcdc4KchctecdecTecDec4cda$cct3c>mcwc?acKcta$cc6cccd-c0c0cQ?c4ctLcwcNc>cD*c4XcT$c=	cARcL.cԂc<cdcDc;Vc?ccCcDc4ncccTc&c4c$cQWccl"c5c^c$&c&c&c1-c1-cc4l"ccGcdctGc$^c8Pct1Pccccc$Y%ctcdccc@c_cc`c?c4fcTA4cDA4c_c]c]ccctkcdkcTkcdc@cNrcsc3cccTcDc4c$cc]c]c7cc4NcDzc$0&cEciAccc7ct6AcEcԆccc]c܄cdjccc$c4cDcTcdctcccccįcԯccccc$c4cDXcTXcdXctXcccc=ct։cDcT;&c4Acc4Ec$Ec$c$ccccclcc4vc$iAcccccccccd;&c/c4Zc$Zc4cycc"cPIc$yc&cDccMcD.c"ccc4ac$acac-cccctcdcTcDc4cdccQcccD%^cUct;&c=ctcdcJc4iAc3ct:cd:c$c;cdcTcccccc$cDc4֙ccĩ<c4ct^cdcTcİecԩ<ccc$Dcwccdccc-cmccc$OccݡcEcd.cctqcd0cT0c$ccccc.cKcD)c4cctcdcTcDc4c$cccGcTc5cJcJc-+cH cDqcc$ !cTc$0%c)cЉcT4QcD4QcScDcDZc4c$cccdZcTZctZcdecTecctcc4c!ccDcccd\cޡcޡcccdw\cc$ccd{c3=c4zcdcTcD,cDwc
ccc_cH cT:5cvc?ccOcOcOctcdcdcqcqc$cH                                                                                                                                                                                                                                                                                                                                                                                     
 SD      ݪWժWuݪժwߪߪתw_ߪݪUwUw__ݪ]ߪ}ݪ}}ߪwߪתc?]  c4Accc$"c"ccccccc$GcTcdctccccc`c`c`c`cscsc$sc4scDmcTmcdmctmc*c*c*c*ccXcXc\c)cfcĲcĻ*càc*cCuc4ގcdc%cd9ct3cTwcOcS'c[lc_c4hc$hcKczZcjcDc4oc$ococۯctcdccvcvcvc_c$cdc$c$cccccT|c{uc$Xcc40%cDic4VXcLcccccc4c$cDcTctcdcT-ci5cd#/c&cTPcccc1ccTIcd/cc"cBcccccc@c@c c c c ccc4c$cT3cD3ct3cd3cccccԿcĿccccc4c$cTLcDLctLcdLc0c0c0c0ccccccc4c$cT!cD!fFfdgM-˶uV?ﱛaÛEJs~U^+ҦoeYrWo"sι޴_\tT>NRZ]+hxOW*9oS<{+{cͦ{WUQnfۻ]SVs[땛Os:^<w4K]lK{='?ۛ=\s=sn]iݛO8}wMo	k:5ˢcw]`su>_?߾=]byE_;\xg~	םOBSk^_(ž_ݶ˟޾}Oǹvx~7E~:S_wx:ǧogdۯ׿-Wͷn8{xow{n㽻ݯ_ys_.sVpԭ7[.~pֳwxn29x5ţKc߽zHNKp>n{z}_+.}VsTg>u?{>JҢmN5}s;1G.q
V+~?=XsMks@.{w;{7l|^O(^Uuen[Qε<-7GGg
qSs۪Qy]t
w=MO_$|vO~׏zz%&ow]/XV{o2,|s7wO3u*sa |_z|rZ?mO߃:_ʧ>[moOڍG0v|gsq=߿~=YSӑnۿ	EY6ǟGſnWWeνaMkW>tڧR]}s{vw|Qo.?^go,6Z>g{?UIk_1o}}~_f۾c|)g_["j<Rk/woҶ8o/_K'd/J[=]Ͻ9>&sz_gG5&ooxi2?eٲZwrvX7I:uϝPYc՗ytMe
>>Ύپ䕻k4~\oW;_9vjzw.ZNl~W>WAz;nvݍ矛xon{{nuwyߟoM|<nʾW\?_]m+Oο?^ҋVVL鼽)|F:{ksggw۴OЯ93;kg_U_Mڟo}ڜٿ0ՕOe}OGy?ɾ|{ҙ%9E?WݱYoN
f0R)Zhʷ;w|pܭ?[__Gs?kV޷פyNUMv.Gvno?su܆s9]w݋嵶w8ڸ![i?[c,}G-gGbC%}/}
v_kV.X)}6>Nzv=)[st/}cW0=޼M߱O^wP}y\14=p8ܳ?csߑ~\1u( Z?|vfK{[흼L_a-csڍm|kr}oVܚ7go7ëFt?|IIonLbs:Ǿ?Ͽs|<Q7_ez:p~f~Hʋj_?WO?{_{Ow>mo?m?=EGKGշ䷗xA59oj۰\J }3YKF,f}_?NNjo|zz7BlӹM;Kx=vپvkx4cC_C_`['N=uo-l_08ջV>s=yn۟pm-^_]ׯ?sSUvjkksKYw+w/q.n{څ^~{-Wf{7oQв>}L-A}</\g7�#gd}EqvݩZiOQn;o$lq//_YYqRwjG}Ge3_{#:^Dl;:tݼ'cEus;L޼Df_e_3^3[5^ϼ}{bگѿ}u!6Nv5]}}sǬ-)uN_z^7\"()e>ЧKVn}m~8y:\۸^xoǜjxr-ɓw3׮_w_l7џ-M7:V]p75g:۞.W?oM6VRyguiwoozx{~Vw|͡n-tv[=;|LYw_^%{o܋>yofIPzTGi#t_Wg[5GO]_zΧ/}}ov_s>}3WG_}
oۋZq{c_E^_^omz!ۻ?2wK_w{;N׬ݫ x}kDGA^}y7wLͿCͤr5ّ׋1oos=ӿUt̼l[.w=jW]~r}'X|<9zϼU_qc?Omw+x~Q/{%UͶW'[b;v5DG]2vEr~PȺ}]vVm߭[?}/U{v_[s5͏_<p鏧_vsk-?wVRѯ޽y%ܧ7W˞߶ڗ\o>%Kadܥ]~K*z}c.xvaۿs_Nݿϝw?߷]a_f;u-%?܏H}=okOt-^w_~LO/濸gyRΗu=m<z[}_<ׯ_vwxNm롟O/]{['.u/??Yۿo;-V֭o@ H#8ILh0V QPO#
r 9Ť0)AL >4Dp4iF D  IL !$ Dpc>b$`&R@ e DI
~ӊ 3HF@ļd_ȟ!&v8st @"AΕPN I'(Q2hX=1D= DP! Dϵ.oosjW{wtP_]zuӦm7/mgGǮ_?߼۽w`>7_^}=M9?{gߥo_{u1 $*g-ԀAE#\C&]oG!22-b1*(0 F8r`+T F 85A A$uD!aQT!"DBa!@b {%2<IVWW+jOA^;|&k}_[[Ow5u{sN`i9jgܾ[)/kv~y[wCz}GnUs;Wr7Kպδookt9ܾ^ڇ<d_{joԶweo$EJ 'tT"( (Dڒ	 cRY;]H8h!@4"Ȣdc	b %BHTr:t?J?K$:(% 4A &3jr}	]}қ5~l{e1m]V~92_ z=^7~wέgy{ǝ!&UBTAPR2(0 ^ CRF(a+E-h
4	@8A MfaA.H 0LbyAb$`"c]:AC%P
L
A")Q[ lLƅ-@2!A AG %BR,eD,ARM]!TNH K`vRq#BuAF8 2T  ,	A2 QJ0b8(JP  .mq;vnrk4Ym?[wYUOQ]׷z'AK~w{T;~eΞ}5{߷ PH!B^@2I`@F a!lS8DH! * Pp 4 \j FCBD 0H f
@"9腐 iH#5h	 %<@,Q +ڛ?Wy[~K7w=u8e|o\vKreVs[s>⭭;s2{nr:~wkؿh9?߯vv7}LyYbl\/߹i4czV}j`Sk8[oGbwv?[Jk_X/^~wg\~Pm=W"@4 + 	3R6̱:
*`UGf90zP /)-C HI)Wpe H &s,ȺCH1F`\iZƙKlD7}wv^lxn[֕ejUޏמt>{vϖWv&M}˽~ְ
ȨGQLSIsC~Yt+R/ B:X	D	Ge!AH'
4$+p
 ,W#p(sf:
U#Mpᅍ!8JgL	 @ar!s9$F  T1z0r, G9Å!f#TqF!F(4[-!A.y%BEV5 F$~=}o??{wwo崝
cن/'Qdi˷}fgkjn}u.w~}^}6N,o_D'B	 
AB0( P l\0XaeX] D9'@h0jmz h/	s	Z`!(|Y,"udH$HYR Pa	ϻ^^睵{޷s~׍o_=TMo}{mؿ㻔w__޽muxZpɫbk/{ڽؿ~-ݵ۟=?z~/]nvyzwz}PO78V3y{}_zSoobvll1?v?s߶-mzpg$ol  !p`8 B  (Z"h8TSDGIB Dd)@F@b*" S@" $d%DDgBSDvJDcBI4XS'gCͯ.7۴_{u~=[+Ǜ=_3z]H6v0Z?RYoo~㾾ſkķ8PChE| Mp
# Q#`$
97 	 ̩C040Do mBD 	DPg"!${Q @!`J5D' ?@
  vT1!\KķnV(('"1N@Rr DġP$7B R!Rb %G# J"  eha
ho*B050@@elO;|_~*[ì|ʿg.ϸ/ٖ>kjb5wzoe6_;|꺟]zw?\^G2: TlIkK`
씠	PSRo X4Q@4geQ#!LA\"00<HHWg F`*C6X!AM+WwW"Ko^XS9WwC[~wou}x-t][_oz[_ZWFUn߃ϗӷɻ%|}7U+4u>}n3οs=w[R~M,ws'Wnd'ou&[K՟]=V~/o%ɓ͟994"%uY!ID
 jh@ ւc 
pe"HW  DBD_@"hp)	*K 	
'HFOt(.!L@,pWa"9Q@wY{Z|ߡ&ssg]1^t)O>KڇԹ>?m\fwZkQk	ϗ?9t_ďs}|.2>~OF_>ir纷;{wegVaop{G?o?[7w}]MtyO{{ok
ܛ߿.{~>=7wȝ4}~4n/̍=sgCw;O53_ofs>٧;Kq]}ݿ}+=_\Z|BD\]7$1ս*=VWQI{Q-Gimu}.-^Ή7o\/_
q}S=jq}{oy{WOkj.O{OtW?=ūV*@u..w׿;sחWDD^~?廞V~^\ܑEq;+Huw?zTN>:'aǞO/|}?) zORWGh(s0u"|'>w6}ya[5<w$~WTyW|޾)W}texngάrvguSZ{kǻmuUcעo_?~gBg=	pRWomw~7ssmǤÌU>]o3Xs3Nŭ\YYMj9\owgOjoo|۬~ו_bVrw]ջc_5W^=ݷUz߾m/OإJW_^o\^>R<{=scmKzoOhm[~~msv?mwU\;Vwp;}5c}O'uk_<91|rl_g~Ͳ~|Lu~N|M[^?k"c߻1wZ2ߩ5|r4_ww}/l}ds>c_΋N[G}u;X3ϻ^xE]"!uS>nAgvϩUg?t<cl5}Wextq;~y,@/uW{GVWENǏ|F_x?w5~nO?.|Wk^8{sد}֭ۏϗkZw|7l_[L֌|*tw-~5vG;i.or>[\Ꟶ[?Z'Wj!:׎|X^]oPoT7gK<ݼ~aSN}/(^o*]
s.^YRosscTUggVws~r>vul9쟢ykg@禗1%+=*wdgyt~~O,[~{'x8{}ouQErQcܼ^|+|o۱|vW}~'v\q߯=˻򮅯d~;|o>o;Gwt_\g-6պHN^a,NQ9wfٟ={mO]ח>T_~?3]:=k穹}d[Oz_[=5pwS~۟lϱş{[~/=zw=ߴ_Ŷ:}Jz{s^>_ٿw{=~u͍ߛon~fߴOgtKVn|}7޿o>+ͦ3ף#y}vוo=y|woSٵ_ӚO?jCa7iy8G%û[7ϥKve{}q-Or띝Bŷҹ׽f]MK-r\^w/}c+wspv޷i_7cۍ]ߧe{W<Ցo]UBϿ=忸5/oߟsC׻/??zpmK]o-zeMep+wq_8#ַ7w{ϡT>z~}޶?[w7ߗ?~W.pg/wg<9ǆoxFL<#:?b7_ꡳ{ȗY(Y^U;hן٭t?*1FkYw߰ے5!	Ύ}ݟ=߽ͤ8Ygq?7o}|G水Vi^Hoxg_?6q:Gs=|_b<[:Uy~y=_TO[6?ӯޝ[Ysϫ|>ov}ӼOl֝Ik1^l3.`o|_ߦm1sמK+/ϣ~Zܿ:Hp^?u_?+i3mt^vov,&};UɁw?WFo~_\|vMo|}V:w縷UV3}?wyُ9<G}?ݿ}ύ]own*T;~}lJ|^]ggiK[YT'|r߷mϋ_0#GOn{ІmFK0]}ށślm2׿yGQzWݛcb{^uq}c=ݺȩ]?\_oO]Nd!t<ri/YrMaf/_t?twk?nY(ٲsZޗГm9/}=5uo-^c?}x}~7gv}-[wϿ٥uk1T-mszy/ݿ~l|>X~[jT[y__W=>Sk1?RGѽCzEo&h\	DG'#w:ke#kw'o~\_lWq]o5?p>jSg=YiߝԷ:Yg1\kwzAnȿ̨ݟwޏe+u}ۛMaa,zoZwgz_߉M+m_ݛV)뤼\Nwg]]+y'3}5ߋ~,wE @$xBT@ Q x6( (T" "$D!  Hs & aBA % !12 'b 2lm& B`	EX\bA298Rr"PM~I I ( X!Q( `'&   	r )ŐL`  @A$0F"HX !<U0`N  \XpC(FKD0_{ۖ9+k?tϯIGwwn=uB;41ߝG?o-g4*owiuN?g}5g?'J7́ $aCbDPH%P@4ʃ$1pm!4"|aY{@ P`Ar  P	` (  P H
)@r̰
t18B hbDk:Lj pA Dc<?:Se?=vWwe}3w}AuW+MK{>ߞۏߗ7GߞZg./3t￪3[e=Pc!$ԇn7=uy禼~iM?t[~_',Ɨ?fA+ꦪy]{Ly~8s>/{'"BA 8pAd""0$у@ <ӡAJ@
@@$ \FA"!Byh(   0L[ $/ЀD ABPPP2F  @U  A	-o^GkF\KO{_ڷ?oqw{Λ{Ǖ=oCs_Y^`wvB}[[nU~&9^ӷw'2ҥ۫s/Zyki) BL`IrT#kH"-B))T@A a*t  @ǐ	j%`0 q0hED PaHI @H!D@ Q`Lt}Vц"
Z rVT dH'% KF 
H4u	A "5䄁#N 0 0
 $0xR `EH Q-!)a07 Ib)-6>q'qUrnmܟjZ"n\LW_>&}P?w7|Uwow۷|Ǽluv|fFYsn56- \$p i4eJh͙	B bjŠ#C@ :QP     @"~\ @ %b,	FI`R(pL`  SQ 	}V_e^ml|?v諭_xp[bGe^lg3W={m!n~S3k=ލﮏlG~+v/_ok"W.>ˉmZЍ#;~ҝ?[ezsOw]n~0~Rm<;gq}	gmv}1\ߋs/?]f5xJ_9Vwݢ)|EevFU Q" 
 @ ҦT@@r	@ "<PYdQX$D`L D[d)`P HC!-9GD-BJ@ ` mA
,k>-\x_^׿ޯwW{={=8nIo9j+/85rտ3\+=wի,4%RVGS
	N4僀P>NH bx
I@6ʊ |
PihA1	<7Ir(̘(Bl@-ƒ(h@%I,4xPL@ɠ$MÜ' Mt !    @f  $
Hf`@ @v	LP"$A P}9`PrC  3$E8	dz  C>wϏUZv5Ec|Ho]RN9F`Orv{Aw.++]Bk/Iy3yaqyO?׃_zv`0p
H )
 Q8
Ⱥ
)"TL@ ˂4B$ ɨ2 Q` TG4`@+B"pT1ATP5E RE~ߒ}壽{x|?WW6_;zk)ߪvT'/Ѷ>ZVvgo)cRZWmoeOoW~kwAgd;gߎGW_e>X	i);~ХS}~Sy{}=V7]A+tyW7w/ި3~}6/9W){e=D(5`DI& [L%Hx	 `	0B%HT` Z  4DpR 
H @BH  @V"B   [hJġ	SW3}m7s;.Q]ן:#?uS&+_ӳ?*v<\4=g߾M\oؾ?;kDl~{}G\y~2gG엿sU@B H$T\EfP;qH7QP
8Ǎ K 4
0T VP  D2
\0 b	9@ӂ@Z,DH %4TAr Ƅ HhR,pB)F4	J E!7A   P h	HFhS 4ɀX)!%tA pB2,H EUf0/B
2fńP`)@@(&꾘mZ~YE>g]Elw͚u_/gO7^Ӿￄ|m{m)0_ڿcr$W|-:/jG Dd %A8Ü@j !bR@P0 B
 I aŋ	%\8 5$ 	L@!G (" H@l4 Jq'`M

(	ny{Wa`~o"mVPK&m2O6_\w7vow>u6OiY?Ngyto?'ѷoo[OEo_vz=Eh]ge, ',='n[7'XJ>>A;~N{k>V	|exl|~&~enϨYXkOV p! p	1FHR)T
AA@
  4   SAO-%^h@@	0~X
	[A$#:2!$F° R2	    ȹGYh;I  &	     gE΂`ѹcykoh @       _T p$Q=`-Q=N DU  :?    p,Q=+Q=XF	    BM C?rr:  F	     sƂ`k(kM @        =BJP?BJxL Dl  ;? <?    4BJ@LX0    ak<               <8=?  @ @  6X
  XCm<   ˞Y ˞Y ˞Y/v      pAA>8    8 8 Aӄ7X
 KhOL <   ˞Y ˞Y ˞Y ˞Y   Ann+ ^ >>> ~". .i .i "1>>.`
7@  L:P 3 Q@"  8p 
*/ @7 pA\*08 O !.aj8 Q z!P    SC  ^  |  bjj__0      æ8ą    0  ;Z  @@8bi+j  "8      Β리&       08joO{    8:i+I!! 0      Κ&@B    0jjnZK4    󶼩*   0    8
*H J
C8ji/n!!"4      XOd    V@ m<     7ͮyG   pA !?    @A0AX v;m<   ֓HZ[+BX<w       B	B  X"?  8 8 B NX(x I0m<   ʹZ ʹZ ʹZ;w      IDGD    8 8 G(MX    	(:PeN      naM naM{*kvz(      A     ߙ8Pә8$?    I0ؙ8X   @LJ\N      ȳ/M ȳ/Mv-(      A     "H(&?    ,H&HX HPm<   ֓HZ[      @9'?    09XD>    8JȖiF`#sL     ?VѪbeJj2   A  I(?    @IXǱ    eFX:
G     AvW   A  NN     NX7>    _JhlKGH     }Ѫ<^㕄3   A  B+?  pBBXz    ȩ8(?*;      ĭ]8MXakxL'      A     @@,?     +Hp+HX+     [?xa#;     ,           GG ;  @ @ G6X(>    ŅI`	XL     XMI~Ѫ IH2   A  ΒLL  ),q@^/  n~  nb^^  # P ? կ?OGY(P ;' 	>4 &_ C5D	P Q  h	0 A! 0`#7  Q  g* 8.	)' G@ 4  S!C  %3LP   T%  %$70  4%`~6         S      S         ` S  8  X  @    
 9j,CJ("   8   DCk	CB )"@(*
 BX      0  j*0<84    P?   @"0tf\ d @<(,
  @ 
  3 Ȋ b,J$!   `8       (Dʭ   !`IXKF
  W?     rl %[+   9^9^Я22',d, :0    _HDF 7$     J DF{mrl d\<(Dʭ   !WD8H   Q_?   : (ks %[+$u^-^e&: N :0       -^-^ȶ[:DN 7$     J DF{mks B\HDʭ   !E5^E   Y?   {
 %[+J^022@69/2 :0 ބ  >tD 7$     J DF{mn\   `=Dʭ   !FC  :]X?i$2G.$  V %[+    6O^UdX|o^Thq0@6 :0       `sDdD?< 7$     J DF{mV zఘCDDʭ< ?    !   EX&^E  4m]?   {
 %[+      ^U]^E:o[ :0    U]TDpN? 7 J DF{mn\خDʭ< ?  Y    qW? Z L^? \    Y< ?   b@@( >    N 8 8?>. ,? ?c"988>79?  { `8 .        S      JΊ);*=̹fJΊ+,d̨&,+?̨=?ߦhj1	+,+<hȩ2*+isȱ2Jϊ%?'=o.;JǪ*+?s󩏹ϒ3J*,+?s̲2B+/*>̨"󊏊&<'?hȸ#Iϙjs̩;j?JΊ',$8,=-5D P P@F$ < ? C Ј  R:< ?"$02E  @    `H7?37# @578k;> P  Pq@7rCC@F$    p"$             g       ^D                     ߔ       Y       \
       '             @#       *n                   SI              ,       h             4       /       f                   U       3             Rr             s       %       r           - -   -   - -                     y   y   y  w y      y y w 		p  w  y y     y   y y  w  w   y w   y   	                                       0                                       	           P     	$	h4G c	 调	5`2C' #!T6(  05\ I '@bpq@;Pt@4*b
)2CF/02!P!p&C,C* g,!!mf+^`1Snvp!(2q0J`	 "9.
N
LBs>Ov/T2 	QP21/)	>1yl2
.  0    `  (     	@      !  @2              K @  `     (   @  d    [      S.  I  n  8   DBCkHI 0 2 8*
  T   К Dj260(8  J  P?   @"0t d 1,(,
  @    %)?P*-b 
("   `	8   DBCk

N LZ# 8*
  @d   B Dʭ   !ތDsF  rY?$`m&h %[+   ^U]^x=\ Hu$ :0      U]09;DD\ ; 7$     J DF{mt\ 3Bʭ   !QFlF"  CY?    ڠ$^  ]`u&]U %[+"     ^U]^$ n%r!	 :0 =    U]K4D(; 7$     J DF{mzf7ȅDʭ   !EfFc  fY?c   $c%[+    v^U]^*wmca&Č
 :0   =    U]K$DS; 7$     J DF{mz`>ʭ   !p`DJdF  Y?@ԂE `p%ph&%[+   Љh  ^U]^`9CR+ :0   =    U]KD `; 7$     J DF{maU zS;S;ʭ   ! `D(`mF  Y?m  sm ɠ$  %[+    v^U]^smpmiC0s :0 =    U]KDc7 7$     J DF{mzDDʭ   !PD؝mFC  էY?I  F[u $%[+    v^U]^F[u   (ώ_P `N     08 8 8b.88 =8> _7 ??Á8>8  ;  c7  	8>54  `     4  S!C  %  %|  %m  %  t      S                                                                                                                                                                             *>
                            *?Ϫ*?Ϫ

 0ˢҪ        0`  P0 FF@pq @pe}Pcc{@pТP  `ayy P@p_w0 0`P`]]u0@ pМ 00`W      0 0`p@                                                 x     \ S       "!* 0@
   0`@ð"2* 0`@"2* 0`@"2*  0@"2* 0@"3*0( 0@"2* 0   "3.0    `"2* 0`@"3* 0`@" ( `@"1* 0`@"2"( l@"2* 0 0`@5P   !    [')   @s@  	    K -K *Kﾭ< ?   !            1   < ?C-   !    n)    ^<7 P  9   6   !    .   @s@  	    N %K!   !   `6     9   $K   !    .   @s@  	   %K +K$4Hw   !   P,   9G3I 89   'Kﾭht\   !    `	j.     9  (KV
   !r7+     ﾭx\
   !    @
"+   @s@  	     K /9ﾭ}_pO%~|y"k{uZOYBwzz:Wjw____7[>rΒn(F04b-+ @e3DUF:A!H	 5Q "QIY  $aKbrC`]PA7" Q-AA
o` R "'$"D\ؑV  `]TEK a4m(2:#ET* ϔ
BKE .ldbT F 6"D*%@}QP#؄?CE  h@B < /F߯ߎGvڝ~vn$׵^ï??>ןo=;gv[}>ěO~^</zz[}ͽVo|O)$ a941%- )CT0b0рRhf)!'0nH2`&#@QS`!` @184/Qh5Ff*r	JBDRРI?/?^ǋճ0}ﶯ#/s_~#߻~rs?>ݸ_}s?걪}۶uZ7h/KCqRusO]6{sxsO1Ջg.娿wV{;ӎn1mͪ׹yyﰯ76m7ÙCi 5%8A`@<L$
3	 iL $D f*Aa5Ќ @Q1,.GP.A@6)0	b @2KJGm[}}V9NR7Q_η_Wo[ϳO9jn|?'>|x5sỵ?7Poj{zXQ.	
 0! P B,#=a~b]x5,$F!Y DQ/L 2!Ч0$Dh0! 	P(dÈ0A  q3(A";J֔P	 $ `:m?
!,b` cD\P"!)ART2 @E$SR B@!@B7iu)1z$(􄤋| @P0a@ܢ%7⯞u=Vo:w.TO͏rxaߓ/.>w/nS_y}u;R?cyCuODA7WϿG_ I	鶅gI8CPVcDA$H*(	RY`JX()QYTÐQ,B@6@
 8	yI@p ]0 Ɏ~Pr@CD	iPn}p/Oߌ=<Is>婟O~CgݼU/gCzn~i};lO?A<}=\{zOe=yi]ܳv?3kmؽj?Ӿk3)˕^}2缸7*UoXtfws՟sڭ촙ٖL( f`] 	"0VV8!Ch&sDQ% eX "Q ' '(4(& 	%B8q {6DTrizy`oȁt)kIho_{:{pݔ~Lroϖ~sx}{>g2}k]/}'jK?im𗿿]koߪKU TDLu		bp4[" ϠnTpf ;)@@`3
y 
"	@Y!D%$M@}r :Щj22   r6
 D҉hπd0(*EGti[ :NX<8. j(:K1Fа ^
%@]h5L$ DDI
aʰ8	@I;u P2fϔv]m}i؛.{_=F?oڕ+۶;7v{*.c*+o|uOZٿg^ȦRߥ @eL
Pj	 Dv"A$(Pd ! 4x01Y (Iڋ= a5$4Dؘ~c e Y/apHx(~~}9iMf'{vyԅ+S<\|^֟.|Ҫ)}r{ܖNte_>ݯfGjx_#_:oIؼ5'UsU[4<歠֩5%{-q8~em]λגO|J{I~oW޽pQH1 "0xhBi6{ڂy
2D \<!gA"@eE)I(Vh/DR"Q ("R܃hI6ŢBPNI JUDdMkb,sVMaS>l@?w?kv:sp2{$wܫ7'/w%l{>-k|~OzDzn^7֗+$EĦAtF B2H"@C /:~Xt Er0 `L?xF@ / cL:0X!Q!LAI+ Lɡ	ѐHP9Agl$ Ԭ@KL B4duDfG a$x@88 /0$@҄aЀ5#m!S$	<
X80蠄 !$M	Eȭ"7/۶2vQ?6z7'~z9iʼ=^lo+f/kޗ}GN˗fc玻><~>\suSǸyTnjh@!>"2$1& `Hj Bx[e]{PC$& S )!B(8@qB`
h@:$JwUU1A(#fT
0tt#4p10p sxzc~߾kklwiʻZ{O1^oqM}}O㒟u%<>#OTo2/[w_?kg?|*I?Gb?/I߽gz]<.Sݯ#w{~]OO]4׫[_	k
F b%a KJ#@B@@hu2%j Ȍ-4d)q8R$ЀBcAz Bt	'NAC16a!P  /PCW#0A0$#Gd"=0#ApPrHO:Y 	P	@ 00Z2!	 `, aEJ Up"!Mt TʭUGAD_AC 
3
 u	Pkh_cgzkrX9w{VkNG)r;o7%O>j<>vǾG~Xhw?9;sS,U~~ߕpjoΊ>sig>޽.ԇVۼP~,ϯ=ݯߗ7ݽa߿z})V7lk%_@   XТ@ap*0PTEb ^` j@[XcJ;B\ L4pLBF V@T+q L:"BҌDJ\Aqgc%
3
L Pth5_?cct-Gw/t:Om:o_rLJww^Ͼq;9Mvo<~27CknדUIx{zJfgwoN}{?ޟ<7=qȦ @P0Lp!P 10*)tC  K<
vF 3h<3!3*2B< 
%
	5`AP  A0UH$ń #4 K
 0H  @qԚQ  ;  L* 	^ΰpMp"$*bA  C@|$0$ !05Hc8GJ[(ݷknE)v3~.C]{]K]{;]w۽+r{dO7یs/]zO[ޕ?H@. "Ye
iЌNB&0DT KHq b~  R4
/((/x bT  E .qRD&A.' 
DcWz7;5/oƭ<]=?YW&mw׿za~o^J}k{c5o7377ڿ'LGn~sA~MjכnxX]W̝ƤgpoOD-?Guqv-oF?s-Ww{w{ϰ_3/oԄ* @p,@%hp!uĬIKh)]@" VD54jPYׁe$r D!c` "0@S ,S(;1p8(Ktu ߀d,0
4$HދeyM>8YB4Hۇ_e}î7}E\]ښ7K^bikw~7{,{E޷d_~l^;Z-ݵy_;w|@q
x`` U%(ƀ~iA
Lt ,8 a	 v TJ=P  h Mr&) %ۦ@b&$"4 WDhqdRd%Px2d$/f!bg+ A P .P+` q 9@G`&R<$8 Q	( @0f! &40XJ$4*~~ol@}gO?R~C|+_eߦV&ߛnO^}uޫ%Uw?䛾}2^o3},;?pADy WP i` !	x HB+2g	hD`R0DƐ@"`(R@+(
hFС0  ؀0!" (@˴Ϸ헸^<۾^=Y=絹uWwݿz_௿}nv|;n?߼_	9O}GZ_rsջvvos7o'YםG[noswO^垸~9cxNѧ_GHD++;Wsnק_ͺg؅}~ٖؿaKw󵯸K8	8@U2I  >X4X  x80|(DHPX"HB (cuP	BB5 0l"%AD<9  0*h ,"D4bd4f  \!2^wg'sWN^k_	~o.sĳ_$C7y_kϗ'>ʧR~_=eGޯ+G7~AP!e)"H0 E(bE,m:Q
A< A-8d4 @Q7$ O)D "'DBe(& (ƱsB@a :#%	D @1, xD8* E 
hA i*2@@4r0F1@X3 	
(- M3*)*LVqaӀL A0Ȋ*4A!iA p ] AoڗhO+~?Jo~zkߗk|>wZ.t۝{5߳cR=>-w [}{U~v[5>ha NI6Dp` <D@l - N`JP#ա RhBP'U	L< Ȃ! W@	\2 m@PH" z4@ 2 SԧgVvڝzto7Vw[~ݮ^c.G-R|kFo܎W};n7<_o9{g*7D'}wۣNk]N_y>VӒwV&unMXo^y)oGow.}5N?8j>y_'*O?}+
:q;oYe(J
$5 0 @$@  !AcH4GH R3]&  =T4RR qEHAE$ %` ~J	@jdX&rS_߽7ܞ0]~w]S'R=/\ϙ{y{vBkɍxV{wY ]yX=~{9c?!fk9[OS{ϳ{7zvXVHQfh(t[@ hejC%* 5#X%(e$nJpH%<JNAQf"TPvPL0iH$@B81phr3
A#bb  dbD`_UF9	F0K,C @& 6p U%KA 9Z	` 8DCu(nSP!d N*X".	(1$A0mB `S]ߢp?ۿıMܴ)?OLt#?re9wVOzsn%>[ļ>R^Wv[7ߝN^w_omgy?[4^d;?wzW5w|Ѽ|~F>{5WooSֵug?jW[M+o/5`R`[ Y  @tU *FXNX6ɝD Ȥ; "!SW.
0DDRBE-N*VamX Ϝ!$.g O"BP 4db%"]!J4WSp(\,I+t1R& H.P ~*FNHD!@PP -Kda	 OQH+$	 N[#`߿KقukB.|sgܼ]m'r1"o_ϖ+Ιǯzj7z_ٺ$|KZ,wNT	$S*[z`$!jRU&IOUÐ q"T+B.sE#m4R"AeCdb$р(G`sa#i:rpvajH
Igm۽#Ki6CgϢ͸-UyYsj?~3'_Jdo;?ڟ?-}~/Gmշ~~	wJM^
w?lwZM{6ɻ*W_ºϫl={Qgqzfy-џyػ_햋{}Mì+? aA_|
j$ΖXf'A"
0.QDp,4f"*ue˄ lA'A@%()/ xTŢe40 CY(m{{;ܿM0fʸUzϫ+G>俶fy˝ꙸ}{=Է7-7?jn3W~~yο;ڢ	 D/B0,s$B!AՂ	w`@tBE@kB1X& jc [NR$"G"<Y#rP,2h  T,$.C UQ6h0 e M Cr"cYEfa9dJ9@ % ƗB
`K`^,5FoB`D $btp$ɐ U=㜧c+Hh8RDg	S0! GD9JM}K#*y3hոY_;/ǲyv{m=~/yך5ﳿwY==_I{_[=p{oMҴɿm}W3{mFE6!&RAc$	@6`ِ
@x+W	FC " "3 Ȥ#DA*V*DPHP+C
!@ PA(%% 6) <*Qg~O&y?Tn\<~ts5zY/uwצ5{sosHeӥ\UkF\~?xo5G/i{mk׿~ѿ6f_~-K期߽礮!fy<gswOz으_\ߛoOK:ۆn? 0qaahQ( ^-tf5Gr<Q&,u"VH L 4' +Bbp )p$@`@%|	un捨"(Nb$Tn 9@QWE4t;rsث/W{>~⮟~cJ>캲%OseYo\k[<^ky{j~Vzuꇔ f  )6)t@n SSV F(L c;u@E PQ:@		;]CrBePu b\/ KB2H04/+ 4|	+@,DHѢ	.VDaFrFBHcBԈR*"l|pJ
BBTSrcC-P$D4" 4
RJjso>w1tk.ߞNd/k5س8ET~v:WS{o^ڴ-˟uqk_v
!HɃ 3Z`y
F9

 R8(b"J	A3X		
 @EH  @ d
0
	<d  X l#Y%*ۨ0q(1$!d>sj^'_֞^W}aMKF1F}~;Izܼ/g)ݍ>_{{S*1wK;.f2##ϾrgG>kȷXE[.hF~:|_7ދ{\/[loa_}{yY_||_wo[ޱ&o:wen?{v@lH*@Y "B1cI$
Pd0 Byu:'1%H
 3#1 8UÅD
9r^F Q5h LI~1+bk`?nwsKr7_>Sշt?0?=|?Z8֥~_HۻWx⺉>o9.[kmw/˵_dCbAERbvaBd
 'c*|`"#%0" y)1@Q/%0>6
L'nHD
D $lIP YKK^o @`	*'Xۀ	MFeJUfT| CD*IGDOA=E$
 &%H,? lXTBRc4B@ `]\woIN]_߶#~r?=7۽z54,'=b+xL/Gw{'?د[L?/~wEC[C 	R:H$@J$)Abd)RGM&7BR!SVq;  D a@JT Ef +|(G'&EF  =`Eo$	0OTL}+΍39:{߸=N}?]/ۺ|W6}_|~Ϳ/֯G:ϸ=|_O{wi_To֮+,}ns:oW~uŻCvYݼNw7+3&1g5/z{kidڿQtn+o|W퀬VcUR5ҼcD" р("(6 	 T !ur@G%F aR(OғDCX$V_/\7Pegr!BP5Q΃r[`  !A6
(#ƨJRFR
aՆ B@
h@\UPԙP	Ehу?N2C%H$aق3)oAl@@3dE@%
,$H' H0B A`i0<(L B 4eRH7*$GPH2T}Ì @`r[,9"$C:K2Ea ~V0;#S@pF8PX,d&H(B1I`0I&c*1;fDU@PI cD|!)# %jay?B*BZQG+o`XO6 b0I"1 j|HbLT`ABH0M8*(HA`0F =i $P  xȢ)Q1	(P`HAP! 
K U W0S1 (^E"`htV4lul.ƨD"CcbqSR:4!|(b!ݴaT`W #5!CUelR0yaX07"XQ %r 	14MQAT rhT2P(AV0'@A@1CD" g	
#-;B& QH0P @ D0(B]`0	Ae GÄ`^B)J,IJR 
2!P{ R l B`b R&NB1EbH,qAՅ04	
0 TѼ EP6`"4!!DZIbǀv5KU9p=T{kݐJ0 	I 0@SNĉӢ7I` N-D''H.<9$d(q*(Ԃ 0 )H B1JX`& dA"$f!FPrcA XAXq!Z (B0@Ad$@NĬBdd 2k 
p?N$ K;#
AKH
iTc@,:L%<! (	  9@- 0(	`$CqqPZ@2y` J'IP/Iɲ* r`"I 
QDʈ6Hc*HPD@zVTAix II(@")`4 h F' @$FXdI	p 0m-7% o@I#M
2EuCRD *I %  H $2$F$@@ 62`;ΐ`Pm$b"Xp o@!f 
"0!80`6@ n [@$0͂wRL5AG	
@R>ÖBDp#SUȀBI h)bk+E 9F &"qʠ$	(D@p $I V0I-F)8FK  lX6i  DET"UB4P !L3"q %&"$(8	n P (+j BoC0"0SG @!GA l,5D 0 
 Soy "Hu lX"@ <ʀ 'E(GH7``*V
>H,A YV`r 1DT* Rv  UB= IU";aIA@N`<" Ƣ`#|ix<vd{2C
L7#$*)3
!(S&Ë
/xHj@Ycz /:I&,?!Z#%@ P*P 0@ IB(A3610J B11k`z$AQ*Sx `$"o5T(@&`1Y@220E!$ő5"@;G@@Hc&C"!7 R1DN@D¿X-E2FTiɂ`8M#b4e3Q18El@Lh`'IDTEH@ɉ!FϯHb4  нcbcS ǭ&M!$!D m-ePp"-	n-P@ $*I,,$ - ɒE  '"E0 n*pEN0SBJnd
@BC L 7fe A2ɠ
mL (zDBF(AADL	0K&^#fh>ț %'OpbJJ4@>$Ap
E	BoR("t\UWBTIyp`j!QcA:Ȗ &90=!
5"-G	hD40ƒS	(h)A\- V21SuIa   PhJ(h]z&PJ`qdtA`)0l	8 @r.*928JFAC$  )D	C4j`0dKL R	,P 
X 	1	vG@n8 $@U9#X ` A@01T
VbB0@ B*"FMAXA ` |A$! #zr 	v*pC$A `n ( W) IfB\ADNX ")W R/B'@feXaŁЖcD R %Y$3P Q  A{M/B` pc8bY(
  B :@`BE1  3@a*Q(D tC"4
@DC` !BABȑ(T$AAD@8CIR@<"(=#-ÖzE"H`d_UtcVQa\&Hf(+N5pA CZE0&P `	BA F	DN$@aV3Tʰ谋C#S+Xr[V0R QCOv:@P PG
 Am`A</,K 32$IbI!@2$
N8IJ & N*pDbPh< C$ PWH D
  @U hDQ .* >aGF`	DU@`E"!Ga!҃kC(A9s P3
0g902RVE00aN@BVD-V04D6 T("HY@NT@07 
A,H'P.. 1	[®!u@`` 1h$EL1
 "4KY(@
OtlV>$W!BSP!,M$'_ V2@   9B@Re!$ (9@@F( i}%@	a4 TeJI@!! 	D^" p ,( ,E
*"pX F!>`u"g1: 4+.P)bf
Axt&'/	%ιRFJH[A@JI(8 D5T`& MPš9
C` b FrC
0 
l"CDɊc86 TCSj" O|BY3G-lP|G
	 X`% !y>ChiZ`PqNm/1 #@@ " DHa0!IAJ0D	რkTZS MZQ1`BS<4PT b  Iᤊ  MG( Љ BfTLA$H%2N#t	D!	P`qB@Q BA eH ". F;.6"R
(h<QP}Rl<j`"g2@)	+* [$ K5/łagD(5NQ=`+@RiTO -V@Ebr   0D$[' .pfhPiA"%Dvq5$`4QsAJ5,O 5BmBHG B4n<	ਐH0,(R'2BA BNA1	@" zPq: L  BH0
$!Es2DW@&p$)&0	 "D!Z(jJ(PaȐRX#M3cAG
:/ES?1u R_RP|00& 5$T	5 SPCOo2kmXl6@	f#S ](PA$bBf @Jɀ  %MB3@ B]Hxi$U&!zA00&I8fQP. 0	XB4iP @c B$`'0%
(	20Ah  US#,@#ӅeE	@P>D! -%p@ !(	S "V,@H}T0ԈX0QJdT 6Qdb#	`M@XR@ŉ-+@`EjH$wւ!O( *<
cYH l`т
 "4mDI'Ds-a @AL9Q !`'@d,$MB #8  Fbo (!%% Q$:Ҹ^Y B,@ (b Xx qLP@f `+<p@HYBǀL M`X0		fW`qHWU`# AcaQ01FO:dZT*G%93@аCB BD':а   R< S,F<'!  I,dlA [%5	!_	 h@@D"4Y!E C! :,B[{"FPX  !# Dw6B+  &^($[@St^Pc!B$EA18pj]1QHcQ؈@ BA)$691@m2B&uR BZFAY@"r  
aa		zfVup
!	cXHA"# B ʋ 4p'; " \<
, "*4Qz ,U Ѓ:bA-Eêڈ`gS$2ImFYrW(dT\" o6y$t*ԥ,ֺH$lLP`I(X `  Ip	PB@I_ *8P 	G⣎ $L
he@R) 0IdPb5JBx*!"qƀ"E ]D dhHIA' P@ R4
.0	` 	J 2(eA9   D$
"BD>!!A& !@Eb	K HEjKRȆa838PH( LvB)a")@TN`"p6Ry|LV;P`1 &72%D:
(x3  3 `
	W DX
"@ HhB@BrBu
qF@B(3 x^R	Ɖ՘$C  $PҠۥ "fe"&2 D $ V
<!s31 T  -8h# 
@,X0X8 V0ucFDH dA4Fc倏 M2L+$ BTb@ X`@и
ph8uPZnEh IHE Ƥ1ܜ1!4X(
B 2 D^ u"B4> "iW  Tĉ2*AC#cVu"$N " a	a>C1@ @<%A'B5 Hf#n'#$$]H.Θ֩dѦ
l@Gf@"4* O.`q29̿A((RCHmb{@&%rD4CJ! bO2}2r-؀02Gp% 6k*
p ^Htgtr` ppJW`%30a[a@ +J0RR3ؚx/(	Hh
 
$p4$h0I8Q0AOl%!l$x  $Z T(x[:@h60OYH
 Y%" Y 
1
U&+q ^ hSJPH(`8B-AL9B22A(@n*P`<@HI(5@%mE2n,  '6BJ"%x``/@^(I!0`Їr
p* ("'@2"0700D(!)HD  :H(Q8`/2@ jI[<U4wq<
 vH[ @D D'H`%J
, 	P U@"  2H@HA INH)PY:NB('P`@	6*"jv`@ d1)15GBx#*Dq	( }Ag`r RJ$ (pEEp:C )& 	4S?@g Z`  R+`$#tE.704c,i#(	J0Т	+|C	 @ۥlL4  nG|4Hj6 @,9{Eɵ ⬀0f7 )]@֔,I} T)V H(&eq!J)YP2 MdcZc -و-F$ȀF@%"lq 6gűBe{)X@hĀDjRDRGb9$ O(  A%(L
$ @@I
D` e9(4q&@	#< 
Pj   - !H+l 5"VP dPXѠ0ꀊ2 xP3@ !1V#Qb 0@@p bB9$4AC̝P PJBRb	BX@1(+`8@P AȄqTP "vI!ȔBX@@RQBD " FZ$@	$v@,UA0 	*A+LH0Hh F 2
/9Q:Z!E &  ]!F_@5PՉЉ@聘)BMP`$ P4H
!JeC$	jQc546(+2Ib]8 5'D"]T-`%3EA
<FN@ 1u)YA ף J/   jI݄P, {R)6Q] @̋Qj
	"C Yua 2eAB	Bc@BYQP@ I^(RX0H d.ceE t&}L3ti  =-=`mD0| (XDЅAV@UTP3$=~~&$/W/z}#W:zϝ`_O&3ozW.i.7$wJ"{WM}|_/zG~?[;O}'?%܊BGkt=gM{R[Gt;{%[yr{uoE/nF;uec^๬3o[EW@BI % 2-"
!IHG(h7p
#	"3"!zL!HR QpE ,+	H5!$B	@(%"J A'xE#3d)KnAUvSG{77^^7\g__?.S/UW?u)oߞfv:<NOWS[\ֿM+I`
I {  0HT*M"FU\2t@ VH36EfFpcACb*壶 [C0 )IUJ`:5Rov8Tp8P!k45a`0H>,!̢!)&@@(@(!/@t 8&p0C1G(`B*ZX $U 0@P9LOHBUK7k-?wٍ7U?zڟ_?ogN폽)V75ꙡJ)]=igw&2?s_׈I (;@1
8$"	Ha% Ey%B # c@!04m@ (@@J@ jUPNkD	PAEKR),䰖2(Pb
pq4@dH<cqG;nv9Gr	%]qGM\qcyLn~RTw/oTZu9=w<Σ<{۠{~_V[7<{n'N?Qs/m/VjF}Ϳ\}G'tRB6}SmW7Nwuܛ>]{l.w}Y]䂡C ǡ$"`M  hE{ ((S @ jjFVd""LSL ȅh	qCW!ZP 4"$<zApTAL
v$Y<^J3v3Cߍފz"_?w-N7噻N.ѮߩWc|ߐ߯vfG}m|!AChlw+qy_5( 0@A  ! 1*c$f "wGc	H*<- <H   0MIs L"()L,Am8 a")Jp@Dd<	#
K;0 |H8Y7ω9eK2rP	$ !4ʘpPdd8(3) "@0X@![{ ""T B`P8DCGCP #*[{$?O{tto#<q_߸M+~w~wW/o{קv_hGywvZ]/wf|xS1M}~KtdE8 ` (I biBR ք \D(H B
&0Ę,FDD @	GP 	u (YUbA:NJD,j
" ) `b@2D_7<g*_ZxzOS{nw9~{gM~1SuG\j;sknєWmi.	<X'⎍z5u_,o}S?P
}ص/~Vo湭_5ۿ0㧳.?ژݾ{wyqw]m,n?[+/=]߷;  A8Ex@&	IB|éB<P@$ 7"2_SZX (r&@T BpLM(G]`@ @@<PAEBtH ~/s{Wc<}Pq=|eoOh};w~^^{oy?^_<m]GT~{˝)_֪WtW@a\#BJPkp'#		@! 4S?(Vg 1I*PK[B bT1I# J3FU ̔B
	Ј, l+
֠hv&T

P4@U"
 $Hp$ d1!Rd>,XPXP` AkDqdq@IMuH 35+@ W%*8NA`!PHH3,L Ҏ@A@TN"x}>W#ݽ˟6b=y^jw4kںrw&-w^v{\{[otk2dS~g C:0%pL1#*с*B$PtU bT+H !(M$BtC$D1
HS" @j `($S#b\UIyPm׮|k.gH۰^۝ofls*=}z{J_?^L7z7{޳#vsl˝?gkCVtKZ?n^>jcI_ue>{V>g>[mf0޵Wo>SEoߵo44^ۧwWg_H	iM(p A {S %qTn-CjX `L` @H	_pg	i(@1R	28E
Kxp N)T^M0d2$N`/j#&27/s̫V9n//wf_YyUs}r߱]qvߵ~{K7{Xx'w{|]zDI	rHXir~	!% 1jDTjP	@$. 1mfCD0@! 2 B-(HH$¢>MEBD DB   $$T
PkA(E`	<J#C$i" Fg.0P"  $	5DGAh@u@	y#maH	HP|,ߤhЋ[?}Oeou_?t4{i=~%{Gt{[Z_iuj?}~bj}~Op4^[Pj;u^L_wԽ_Ϲ_'}FQqdwh?_dJ{?^y#ۻ(uov^֯y_ǟo_kyKw@2(L4@HF'@"pq%&TD  +T4MZ x<aDQA$4! , a
* RaP H׀h~ԑ3 i	
DZ+ &H C	E	,0 X)F]Ӏ@YDP,EN@@(hTEr q@5tAI0  ,i 
E a	C%$wK5-ݟ|w%K\#w0ӸYf_z۞ufQ>^C_7E6J]gnosٻgvj:g~*ܿNNoy)LPBJA2'DzĘTUeCF&
3f4Bl2
1a0!]7"1UA)0xbZ@IT81T5a  ! EϮ;׋?rM{_~Q-sߕS5Ol{eE]կ?NO׾Gm?ۅ?~_olwݏm0?N?/7.ozWywd5s?yN{|3{rտVǿ~]?_bꆯ*wB"532II!zÓW`8J(CH y($TG@Xd.%( SN	(@ a1d g$`CP-B;E@
@GU$Hb z.vo{_±Vһ>FM/۷W?ɭε}}}B+קG7]_;F! 3Ht	#q%# .h^*18 GO	F cl aH6#ER H  1F641t	c@lPT1 s#Njjpd5ĒpI	hR*08*Ũ29UX<V  A		RAòI5`x 	MD̧GaO(@ 48r	q0L}خ?Fd[DB	1I_3/Yu3k|KLuv]owH{<+T/8
ۧ]ۻw'ܽ畮~kir{O_!# R5#dBt&b!?B    %  -0W])ܨ!
(.(a%/4bWH"\$g !d6'Us:fnurI'-[s3~7s{~w~c7~߬{Orv_u{k?}|^Oj;}v-Wwvs^~|k={<t?mm^ߌwݔ//ۏszonFO~~Auy>gߴu[)+X{[9iȈiꆅ	0ٝ`D dbjl$DhHNEU!  V1^i`$"
/Q=D
41P*/31tA* q~x+Wh;Ks|qW#~/ou.xϝ3u:}:׆tN"ݲ+djκ߯Z0d,-#\#0lB `DRc֋JX|bԊ9X{AN`O䔚R@yTC	Hn#y,@{Erg"2KB,6
 ah
 4*Rܴ@DJJ	@!@ /6EHLa>AW [\ Teep74	k@`P '"@0H _ 佭1u_hWOg7qV=w5W?[7o."__w'̜z-鴿5N{gw$$KQ7(I0A eBa 1 #X0 W4z X$- h!9@e'C)Xp"@ @|	 "0)EL3uəۯoS/\_nxZl_gW\̿~F-~w3m[ }s_ߕPm\t]߿;^wz~Nݽ{{˱ow;a=ƳjXwmu|nJo]~Wo{?OMׇ^T&sZh0rQ ow+XuL.LlLZJsb  eĐ qb& 5b2t P&".0N	k+Pe8
|}}}y_\>p{>+)TRsuͦϿo3Y#[Vo=swgmcj>_ۿI)FG|4h z#	A ooAq*x! <BQAC80~1 f@p
F!=%@Q\ u@h54yt
F `78Fz  JT)eBQ<XB" "<Y &.JT"e@7ÁL(DQKj$)jy7!$ e a x	`|@D rC  yCw׷]eZ.7p=S%p;uvy=khv߮yZ}{>~qnwXjL3DEgzR0#BAd P@0$A 1 p@d!h(G	bĂK8.0 @F	8HѐG  ď%M'$k"/=:s_N_wwO~u>oK+yomrK}Ɖ^>Ͽ}^N}mop:_O.Ϊu%GuvoK~<~F_6[y_]{{xU޿=Vo7\)y@@XP/@#ڠeS.a!K)^ /DDRC=cD`!Y@TM `:
%@("N GAlr ȃd`r0@q"XEB,&pL=@ q 5n*@A(! Q! `/J!X6D*#x
4T8y))$T(5`8$?PITq#dT$``  4ԤT	cZ3!P,	x ,
;a 
"  FkHv5`p"?:(MhT  T B	IV` }ΦI d2  (J7AY2"$ AD @P5ԌU`!5V%PaD!TPf ")L|8 
`9A |&`@"#pICYĺ2:s_N$ $Ih 45GF.<)}4Ƌ@c2 ŁFPC0/d!cŝLW s@R  DDA 	KcH `JF$C C `, vf)FD9!`92@	 (u4t
q	Bh   h&, D01B
K5 LTdl%b *QQ
R#؊(#"0J" @# Q2hIBrWZhMZ(TR J@ 9CyoDQ3`$E DL%!հB"ТdRG@145F8Le(0XvL`b^Jϑ$ 0Ǳw0 [)v5rx,$"45 `Sb+Jh5P0 a,llǌD7  	1  *H<nC4 	(EGSA\%c1jbhB8C  @q@ /]ITĉR )$! PH$ PfiЂP`BDJ`Q	42E2LE\{|"O&JPrH*$)`Ix1 H%Hp DρeA\b$# PWS) e(!0
dBPdpNXt8 HHa`G"P$sp0P *$$N( $9C@ B! M6/8! JYE@8AlX a`8Ix .H,DB9   &i !XҀ	0h1!FA0`W %"diD(EdX *Pf P`b  $,PH-%YPUFԨa.A!gDQ, 0CqU)kHr P@ OL^GW'iB@xC(b (Wr.cHhCPBHdŰq$GIxB Jk 3!9ED5"c!L	h,`eH_ V ID@n PWP	8J
"<pZIpDPfDP#iX	k" p` "PK37gXh	 Xe>(mŮ*(;F8#  PCɉ(`E@Yܐ%o"YJ/ ѼQ!(s)MT	@!lQ 15K$mxIaAQ!e\ In
pD&$OJ _LF` @2н. AuN D5*B14K"6x 4!1"z$ GjmFI	#4# h13LFBA| _5ˀ >0!6 %TEX%C  Z0B A!^ BՐ"04 bmma(!8e(2]ǂ@,J L-"@71A+܄\La R
b`Ɓ@CJIc MA$F%F,hP : Y@F	p0(A0 qA@*\ @9B)pI`(l$ցl ,rdF  !hj.@ iBhI(E469B%3Ȑ eP(Q@	0"k` 
 0HэH `F*`), #B`B,B 2	4  H1nP"K-8 t4!@BP@ `9f @dH+p
 ^P PrxLUR ATFce%c"u
  J(1iX @(Li1Pr21!
BҍQ0C0 3XLg}k򵤍 @
!R{,KA  $B8p0CHm OR	J
Xc C|z)
 f |@{
l$W R+N,^m \#) AfL X@ b($,  4V I!DETfn X	 @P#DQbD"Q$H5( Đ@R#(l$"
@ADDA&*CZ#! 4Jb	H=(0N']
VrE1`0A0 0pɑ 25UI𡆂C2@50RRD @ (9VF4\! xBp(>RPPSH&l!Pc1S$ $#
1&A2"p0CdpFE86F1g8P20gt r#%J(5Q  Xm
 ޒ$!*ęAI! <,e)(9( I'D#dCFR "GՊAHG(&`'0x2@,2#	$TA 	EҐP
#k!| CHY&c;Д,CdtoY	
va$pD@=g Q0Ad`ID2
oP|
xr $A4H ̂{B Q"N NdĀJ`(Z0q]` E T	"äQ7҅$MZ!BEL H6D2S	YF7Jai @@]`AIl )H"XmЂ8J@C@2st),B@0` pl<$	 !BĆBDȰP1 ҕ F <`Q1>"5J@!D $H!	4Ph(3
X2 04؀'h[$Q	P@7 Z @J©i8,DPIH" JoSI1,tH0OI&."14G$ 	AV|О7䀴RA& $@ $	X+Nt@P"FQIh
G%1&H\	kB`JTԔ"b%[ P9D#L0G #k]H0 @1Vbl AN dF&4.*,z(M$1Q@!Parp8Xm.MD2Y,PtpnP"I 0xL%HwUA@ vx Ÿdb   $ J "!,V
A@([  	@̔hPpI8m_2tEAa4	48L  H qh	1 @c 8Y8 |ipK	/ij!LF4h(, ,jp%aq1  s H1BIXi@ "Aa	2R1eR|xJdp$B ?Jhj9 ddSD3
dX
R e{ pi E "x̠2iQ1*Va >5JA	x1	 GZ L{hxFNAÄE 㦔JZY@9TRS0:{J /h sˈe$@ ]hMD`Dr!]-A@
iAr->1$^XB SmHHPy)QH V!Uh	@0A" YZUWM@W(   5C. w
PD(D\ >
  _ڈ!l!Cje΃၀P;La:e0<L # ĥ eIaH`l
$@MP<XQ`c@<^f
U8@AԤw^d0.B$ @$pX 2u8@ "/W$8
(渀4)%.J@ UJN.[PF@ ) KB"]* $
Q3XT 	TV$C
#2 E@pH1Axb0@ 'Ґ"]	a@0p"Fe8P d`8IYI0Ԁ@B@$D(E e U %!9xLa YRa@@.LB .( 0,A  !J@!gpVD"AB5P.]L'SAI#z=f .3QatxZ/5U!@H`O
h , Wf%H 3MG.$ "	$z @l L
	[  $: )Ew
x(*##R	YR JB V@ aw(DŢN6 w xMJ@ R-2`s` &3A@a)&È :9(
& J@Nmt !Rp$UU2 JD$R!L kH5茒9",Qp Pr7ޥ8N# C=t1F0)d4!BLaB!MDA%v
|F'9 S"jP ԡAIVr ( A`0"s  Í(8 u%%\- n@&8B J3	 HT0D (A-6et0UR ^hH0X@dh
pnB1hvD d:xF!3R^T1+E !Pr@ 4	opp*fPG@ a(P&H/Fu &\hTZ0$H% (AqɆ %7E@6Bc$G!@@`V @ H@" #Q((EYJ0Nx	 t" JP u'!=dE  H$
)Q"づ@BD   TȄJM"׺0$@Dp
dÀ,B3jh
H$@ 
@12AD4\#FQT'P)N< ,E  @'T(DhEFpf "1K@b 3J	:5"Kw_h@,a"EI90KUZОX*v*Bx	s$% SjZ $]	)   
-UCITFF2 @L	@LP
d5EQA@!0D8RPQP iH	Q3@P\Bt1t p80!}D+p!T { 	R $0 z"3X!V D4rqIL0HpD6)86R9 M&#6SGZ#$!Rhrf\h? }0B   Bd&As14=RL0ELLF,14l!,	Td(AsEB@аB$3Q6,MP%JBb
v$/@$6< H  zJ$AIJ$10A(hB̀g8%` ) (p$ 
BD!K1\G$#L\8-!FPU@C 7T%QDی3!`;bY$!(DSL]CjA+ K@)B%ԝ	JB!caE@&iYAA*DJ  A KjQ6 	@@j $)ID R 0G2$#A%`A H$E 1$B D.`B!T', !TH  &  @ftrx#LGB0 (3$`Fh BP|`, ˀ@ U
lLd t
 vMLB21KXeiBrZ@%RJ5` `<B(nAAЊ(4s@%0b$JaAD,!e YP	R4"<pf`إЄ48# "@cit)F7hB5h`:`8JIA3 1I`@ t0	A&	PyHYK >dk؄  B`    
IHP3FDu I`  :@HA 	a  r0V74aPDp78!@Eq<IBO Qe
@dP|" |H?PT pâXb4@'8X<(5@`U<	fJ@  ڂSqVX
s J!aWFN@d $Jr h"P(2(bp@&~H0 V@%(tP	[D( '0PDL"[%+BREH  F 0$@
  @Fg0& b@TPA+  LU 
2H!CFB2IB
7Q	D"	M` baj*ke/,h@a	n R5EAUkx@ypl@2 ("8b"X\  W4Rc
J U&B&\;8AYIP$5 e0D&*XBڠN!+( 	@@@M):"j4&p'@N ½BA Ūq,ᴐ"`X2@:PIR17	:ʂB PL7( (X.$!B	@L1T*A@PV<!2- Ur$Mk  p\`#ZND h$PQp pQ4
IW V'( A3 JaL *%"cHR Ԁu@ J`rV3AbEJ&c)k u%F"6   G	! "l03A$'B#;A(%@ԥA AK B `	 i(  2g(ZsH	R U@Z EAr5Z J&
#lt"4,f4B@i $[) MAY(*-` H%d6*KBq*A`L!Jt@
1 V~ƼwyaTn2gu[:3ΏQ񿲍//YORj|[7{}k6;M鿯ߟ|ӿ=/Q<mJ/{r= oqߗ9koo%_M_3TҬC?%rVg}z^:?i+.2:wuA_~gy>8S"Zq<ְR7B$x8x#$*K1@*8|E+
PA  	Ӏ  8 u.H( 02HF!(\@oC- KeH PT'K[gk~.lb5嫹~7Pͻ|9m§}\~N%Kjs_KqVn7U|tOܚ)s{$F$&&Ɠ`ASFe (@a  .PD|/84m tLC@; C@T sɂ 
BA 	 	"=MD	 !f#! R;J!D*T k& %Չ' ROLB 1@bBHK(r tU&HA>]HU DE, |Hp)F2X 0U2 a;Q@P0 ` =\<_nO.UiO67WW?ާż==箙n'NƮgy|s]}ݭO'w~Yz/߷ t!Xp ;al*P 	SHHQ8 ` Lbp$Q "4)L($	")
D0;	D0XqPBDIO')DhjMutz֮|k;?u<yߦbǧo>]QCc	+	Kt~-DFT+CF/;-??ٟyn?G߼o7۷?~_wOoo| u_8}O^}w{0΍_:s߸>w53oyywײk}ٯ_sF QP 2- R`@)$!v$Jv(JT	0NBM@Hx(
BT xX2)40
 $A)/]H
R   PCqd%@ Aq CD#x)$+\~<cꦫBfU=vM?o?sfw;{|QZ?m|חno/?iC~uwt_?>?|{oGTI*gBpL(d
@1  	,$
p Թ& Z@AT(P@ hR
8"  `\BIs %k12IH!Pa<ՒMP&9pA"@e)i4\Q`	8 FdZ
 AbE	H!Ab  ppkP"3>X!4#(	A72*$,Mb ׿SنĿ{7?Ug>ko~=ŝ_>ɷm?D5j_sm?}O6ޗ{_3oͶ#n~֫(	w$E!0P ȨQ F-<dE>LfH;DȜ0JA! *(H0BI*
ЀH 8PBZ P@h h(]?uOwsv2p|om9i{Nz=߳>j뿧Gwao{w,5}w|u/xVW?w_lMs~>.~OW1}/ϯW9}P7z<Gls:=]ط*ۤ|__g>MInoCv|?ݞh&@@x' S"2 pw
bX|0 $$ )[TR#DVH(~	p(a!h  Hr@ <# R@Nd`$=+ }}ä]j4?n]7>ݻo+wտoO(TNǞ~gf|4`Ywߝt-筝s繽V%PB921 <@&pX:w#`b  ? 
1D Ot(xdc[	M=IzX@( !j@Dy4	 ]1znL <7C"Q(.p jJ&%IAx# W8!	%Kj*" %p& :HA*A@0@Q@Ίb	"$ t\H$IS#L7Rf=*gO![殹oip8euGvyzI|Q-G1~&⫔wߊ%׿n'GK_7UѿڨJD@5#$BDRDX8 Bd8qT88^D9 @EV@ 
0@y4X S  9A 4RI !<BsD
w
ǫ!	\L h  T.̞~̔mX?ߺ]־7Vt^~>o{T3tώɢ|wlt>؎c^7qouۜm߭eϟ[_M1Il?e%]wP]'z펺~>?f~ݯV޾]nKzWUK}po߶C[uTm\oFaw΁թ[Ƿ~_}ZpAHO )xl F%HG8L2(Abq	 K\Г#Ra *Q#EBL4L@X`
 "a!AL+$*(JHDA  [mWN85ҏyWS?awzw^oדv?dW_WgzoC_{>|w?6u_$f1%/)!hb&æT Ќ$
@4"A20h8Dx%D|*I ) C2 )B(J%D J BM "QLA%e`mp@="n
B!QT 1l 	NL'iA0@`Ð$!a@  T
 u
$M8 FB&JQ@F'	P## "l)@TNm8I{ͻ7|9il?ś~Yw75ߡqgk}ugo}_FΉn}{-'G=~߿nro6"Mb(!T0$B)EMDl%, L0vT҃.w  8@@-L!b `p !)E&$(`ACB	' d a2d`TI(*	l V !(CQMZ,% @&S& CWg,J%E #!<GP3D
,1MB].gV7!6!Bǒ.*QC`
V}@AԀ >C2B NB l! >^&2!$  X cMe (''BH 9IǍpp&i aHaWP!AAEa)) +$sD[
 Fc/B/ @̀`YTf2T(   LC1GH@(A H M$L،IFF TRP}!=k`?HA4A&$LfҞIB d4EtJDIC$(8l @
q $2 R`Ye(	jQ:, E D4l (j 90J2 %0|c<K0  h $" 8݀ 4GJ DS=8Gp lVG|8B0tE6y	(ɡ  Kem 'A\aM z"=ZAB TB@@	A(
 $ #f`W|(axXPV`/Fc $@ BH5l/k"
 %pE  qJPM`$VXIR 5RS0 @@-d:, RB
2%f3"$Vb1\U+ Db2=0F(c= -Ѹ$
s@d@T[-0P*(q^`B e28dAUr !@k4Me2 6,ࡺR@0	@H@$ ZAfh/B2F$I'$ l  DķLHR LL`! ͔hQFBlBcT p5M$i-*o 	D(] A	X6^
:-$B, L@ټ@̥U Np4@Gy0E  %9$@2 3H(1	a9-'"(T)! X 
2ȌcCB1n	uCicBqi ("  H  Hdِ!p`UH+`R60V+&G  bd"PQr0\4M"
 9DM2F J@1 .>dI%E	
@ F9@+Tp0bX"ܔ CT%"d6aABGG%-b: p C oDl
ƊtrIAvP  @`*h #- 
#E'  &΀SCdI0ADF'
)A@E02L %x`' ătAZ`Z(JPbM@A,$V`V0@Bd4 569(<E1` 4PA
H V q@&54wrDKB@$@LrDi1"F 0H` IDD@ BXIp-e9Eņt$ð1vƠ"N	q0.J$ LMBrE	Q JA0TeA#B 11X2Iw]Z01@PCn@1F pds b04L1TXΐt b < &XbD5D 1EB @IH@R*dBR6Ė&FI@Md5P$CE~ $G 6a_<BCI`G@&(,L9' BC"1XCD   D) $"
 A"RfthL	, EtJ6G@E|A, "$	U5i, sH~@ʤ5&)0@%b THEʐ"!1tUqBQIͤ-FMD̍#L0m#x>@Ft,D7%x)jFaQ8 
KR"V(!1 Q0B	jFy҂@0dBB\ VPU CB dv @0`ș=ҋs1  @!%	*B C
\4 b IB4 1@S@@9Cg0]0YJV +,8 z("PPCPN	
L85 &(9"#9$w$"`b:HaQ*tDRq}H" ` j$P"Hإ 0 {ӹ @!|C@
44I{CIH \($񚏓)	 d$L 	a1;ThP;0(# 0PB\ $ B:4!\#PfEĪGBc6@'HJf`F`YAC*P(aV@-(*X	Q kaRn@
"B	
ňjƄ$@!,$ P!MP2`q(Aj  0R Ԙ3x%CD0/9q BbˀlAH	%[ 2 , D@`  K0KB2e`(A": (L!F L@Q
\D rn8a'B 8Dud;	N MRH   QLPrGi	hX	4 X4GB8GD	 @$$T ;VK:n@-\ $}06@NrAvIG	FS0H@$PVO%"c ʠ^G bVH{LڂC0wW<D3UmCF!d0С
huHPc?I	 I2 BShFY    0ӱ @%@S%"chi FAd-1h@ x
ȤHF(	  PcPQ!@2Ec NFE7
D @@Ò!pBk؊ bhj.FX
T!N:@0IВ X QԂ t  \GIlİ@L< dIQRPbeAR4 F  R1R!)& N0 h\TAT `fČ K@"A BgR<P8iADnD4`J"q@ H!=(9By iI!N$P	8Hi	qqYXB0p

 LT0MZ\($  $@R1K" =L$Wp
RlBM MP8 d VN!l*Y8yPD)( / ; $(pr@5 @F"LAΨA @&D 
5\Rr8PD 8P8TA3lF@D
 	T" 0*:"*T` `(9q@vG'IQ"9K@q
7iAXe3@*xLHQ݀H&Ӌ$4hA#y"*\`,a ܎SBh M'pB!hYZYS2<G&AɡDU>sd2ikX@c0' P_yqNCp9@CULJG< 
]}"0`BdpI!AH@$8p JCcP  %R@9|)'pA2P(ぢ	=.!M"+IJ"@`>
@b"9"*!	0J I y!%؈ Mt`?@!Fd(14$gnm4(F " 8@P 1X"cEF]kq"b-Ad ƄX `HBP1Fԅ(1BP81( B`3D԰: U`FU|p!2(>0&TG.vĺ5 bR' u8\|29aF@0ٜkR-J*:iUd	P@WI$ 30G!0BQ & 
WuMi!E$@t*Pt5N$0HAI LP8 @x?zB (	
,"H.5`'!$ ( A9eW&BH2)t\4"cMH} qrĨxh`b1  yRp@]@PT!ee D"C6 nEBOHD:8uW:BPTGObGt $M m	bBLG)nĖ
jΐ
7JA!+fXB%Ih%$'XA
R%a!n$ts _qǜHB@kkYý l`!04!2,\ 49DM  Jf1@
5`C	\	 bCmbHVā#>=  C=ؐ!4F#mQ4R`Ԅ%@S`b @L1b =  Q@$TteD(g(S®G@YEAHB(.)	(B%P7BưyQsQt2r1^ %aH90S!"- 1 8O (}bTBE (T PXH@".ІP:X8 rJEFdP8?E$ L2T	pDk0P!sISK2B1PPX(zНW 5)<!b  +rRH, z ӡK
 aԌ 09L$	# 8h.p@IKbX530BP !q@$xQ4RŰhREQ Bb,lqE0Q@VG@(R F[A>Ų@4
h'$afH*Adp <! 3cQ@ ]A$@0${a	!9L@gQA.E!@(E4 PC$@#@(@"J !\,4
Ph`ކš d d@e$mІ0EBK
w$ILps@	(%PP)"JQ	K-KpH	BBF*	AAefzXHD#!R)
 ,# u55EabKi3"{Z\&pi, 2Qaj""w a.`,Pk>%@MPҹlP# Bóa 0X849DDŝ,H 
 ,@8DЁYC$E捳@ Q0@pDh`!Q5H IXciL9 	4!h +ى
hE($"(C>&p L F0v!W0a 5 ʹSB śA b<)@ BAF@>2D4AhE⁤TB  R[4`XAq|c#!^$P IC0DZ@pBa /4Є Y2̪`" !D\   1RMP  $J	YF  Ʉ  @ C" N4PrH$4MtG6 bz ✊;"%F @4J
J*t!JaUF U  @2 	xh RbЂ\@(-ۀJOIܒRHp	B,2%>@ Rc	(Z`QzY .Y4ڸуP!FN3B H0K` 0(?H4L LN
Q28*
AKI h	) X )  !A3|`؃{d0  `Bx$ AaDa)eP BRȊٚ%:2&ʁO\Bj	HحChoPQ,-08UP/xEJMe" `lϠ0$PR0+MV!I9dU(sV:
S	hV
UR
#Hq*P0)& R+ FF` `	cE h&ᔰ t,P1Haf8E 018I u1RFĤ b I!T aArG:"KD
 *F-@
 !D
!#c
 H -%F"B @Bp& A
	h 4bQ B- A0FS` @0YDpFz|	 P +`'<"t3+'HE eKAJSb 
Hh@2F8AD 9Tv	d `F@)3|p	:h^ƇGB,SvS?/f!s I! !@8F  )iTAP( &  % b(\dP5bT1)
@HqD	R ",B "t *pHb
XdT0QBH0LL4
@! c%OԵ
P8  ( c0A$Q%(  s` 8! !	 P`"B<PHF  <E$~dcZ%$D!T04r^xCaE#E5q@Pq AY*w0TR KpjRpe@uT  \gˁ `CӁ؞4!Q `@ <@ AbXx `1#* HQPT0@MD% D`  @h3  	
1%FxU JrS(@ T@@;e 
 ~c	.R'4G &lT 	A,DK-
 C4 + V*P$#LG	'90V Fx&DH@\VqILTFqgQXÀ( @AQ_Tm@ 	 E(# KS^P'0#+SJ,D@	! BZPG^5deddI"MAvΩGi8hۀ) iCڡF uEJ Plo0iFBC:@EHHRըiL5 )  B`)R%1e"8RD !  DP@@("QBP=$ %c)5R5g6@B
#"XψP
?%DL$AqPJ0`%`@ F1ń 4"huSֈ%Hp B0PHF x aUDaψBp+l3ETY`I$  HIC( K-|A	 J
 W0.!K;& 6L:@pV! AR2>p 	ĝ	5 H()PrH	DTDm T!`:@G epF-P ^4xEb0X@t1C͎
 
"!C:U#8Eh	L&@*	I D`! \,*$K0PLCAs ) LЭ$#Ҫ1x#  0HPc@uJQgQP=% ggP!K1glWWK(|
FA@4a PT +Q&YHvP DFV0-c1  P 4@5`P0Q@,x	ju @&ƈI!  PQJqQ 9!I
 "@Y	<L 1 
1!A( $B -	)paDR@@!X!]K!@Q@p#
`;C M\\hb oND tJ!>X@_p A&sO H_%%ېBb@!eERRŏ- 	Dp0@
!7`v*21Ӳ$*) 5q@HcDIRP] S
#K$X$!H*Cc@Z  #@c5a*a
( u C "H&  4gH!@%D	 	XA  HaL7@<R| 4	@Y@P!(F? (\  U@@*I-i-BdKm`!)0
K T 3Ţ+\R`D b;t<!i  A`&)8l\8&@$  `@(" 3
s0Th	(AeLPVtȪQ"  @a$`dF.@	  	PdFRK8!@3
eq$ y AШi`@ jh1c	Y xB e`R
-@U#4!(7AJ@@\Eh&QX 4 D
lQp 0X" ! 	HQB Ja=fA6Ufɤ'xPV#@VS@l6EC ,u	f/!Qb@ZIh Ҡb
2H>
5&^r$ 2E1d ڄ@,	$BMC6̠!<e`0!G 4^Rp` ,AyN08HP$@i* 
 dRLáda(x"n]f3 B Tt<ݨ
 ϒ		7ē9F(#-M5x0,F	5 &)a'7lɐ%@5J a!8'apI H$ɇnH P
.$LȆG8 t)pm8L@j@PI9(S Es)`"ÎvfC OhHdx
)R 9"`@(LWFSdh9`1n
Ac
!tg*Tef+ǲeA R*Td) -2ڼH $$J 5 )`H8 -OB"$	$  A8 *`!6	PT4ѐ&8?1sr	b9L*0)!
 H# #`g+&1x,- R R9~ޅ  4F#:	 4Q WCHQ0FD1(ȣZD0YJ!#~ ?Dӳ	GL` aO(h}cB 0
&Qt	ih)1 . a(46 ! D 
 P"<, hq"P 	F@ (	0%j"	
A  1 X☰S.xDBVi&~} 
q@CQ 0ch:S8`~:
A@L Pe. JR 	H1!ftj"ȣ5;HnRRa5HL@ H	'wB0@Ķ8f%0%C	aAu9 E`!H'Tg4#FD)YT!"EB`Q)@M3iҶS,U#
tk؄, Q+	KᨼԂ   $L$c <ݙP$
 R `DRB4@_
@ /i𗤆2A`
8N  \̱tQPFnqtXJf@@ BB@Ent Hd5L
d -c8"h"  QZ	łXXBB~V9FOA;m@u 9H!6^1dIP! EDJ1ʙPB=^`.Bc|%( I§ %1(7@ `"@ aC(@T @#:(RK'h 儨@ :2S  V D
C@t: 쁲 0( \A`Yc p<(k6WS%2DU#8 D(rBD-4P#W	#A^@-PBcҘpEBJB%v*+GADH 4(P	@ȃHȝ(!])!) ]1[ )dXD&	{H1hVC 
4
?:M+AQ l p <"@+$S(F@>Q@	#*
 rE ` H0 1La4\
 8@D֑	AF  D&E,QPGy3X	ӄʑ I 	 	 rA0(h*	( 1`D@!pҬ  ! 0.$m/P !drc@!Ȓ @ 		è.)ADBdp  3 cČ)|rR3"Y@]!3QP"o 3( IDEf(.`JY`2c0^?!و"$#&@`a-P<5'"ڂ#
%$kQc4('6i-	(
H  PɂR&Ȉ %  fb)ӥPIahhq]X "_e2.AA	hZ)( " 	dX!{ gC 	[FD H @$ ġ^ AG@P(<BrCFp; 
@ LJ+Ûz
>FL CBX0 "#? F,``Rǃ@$ h^ރ@L5X&- HDC 2u
}]A9@	fsJ@&0i81UI1D`M XLE1@JPIXRBE
 %CQE`D@BI`F#Ck0YA
ygqPKT ERSN G  R ed" $Ai8r@hp  C$bpp 1
HBr b@,,8 J`p0Bu`3f,)3! 
GR.YA$BE`fX }Df@$T1uˀ2HRX)B@`pA#6QBr!eHVV"Q*YE!G@@,H`YR'P]  À$CA,2`%@!a<  DA(&O  D!EC]$    ꈠ*@0I@r Ph؀Bp 4 x!@4&``rC0 "4K(X(2e$ @ 
P8XR2$ȂiYDШ02g%؀EP&C$(@H`!yqa 54o`
5d
,-S:%X"B10#i!UpHq@68@-/(ڻ98"IRk5H C ``W!pEB(@PB">"a"l1ILِid X" XI Ţ`JI:P	A0PF
[940L 1qM$H QDp
Ca*!O!M!sD	P9cfYC &d!DeNbd E'E#}Q#Yg@K_H+#i`Vb|v@P xaH Ո@!%|
M.蒓 #ON.2  
A n* 4 J:FD 
P@	(H65!8^3Ebx
9	Te@$Bْ9"sh8hZ  p%a |*ȫs!Ed@dv;H!Q Ur8"
$RS 	%RTHX"ʛd1 ±C'	D JRh5YrC`D
'()._I
  !G+0:ćSvfVP؀"#*bFT>+  6?2N,0OP' Fa(ЀkDP#21@/x t x(#$
#\R A @P4pPF,D  a	z`X)t @0d
 YB@P >@ 
hD (C@Qt\` 80 t#B< PUS A$Љ0ؐPYƤ%R@7 cgѥB P*e0&0
fP
C,:̄R-33DVDI`\
4h
RV(BR ,( +&cƀ uJM(HEhFąt
aE*!h3XR!IP ;J  ДA`A$\p`KiS` @H( GED C@`@"aQH  DYKD"BxS)qQ,Q!L2@4G i`Ep	 b`		T0!'$(bO3eF`Q40b
X(&Ȅ PF@%ŋ i ^  X`Z[fP 
!KF pRBRp22Rp4XKN)*(+\A0UH 	rFPDy}U]Zh.r R?cr	G( ʈ2d0T"]TB 	 
$(G 4Fp͚R`h'KA$-:P 45b: A!H' f!*e`p@ f6YPL dKh4`@!1! B APS#%B M!TPׄ&ᔯsBK>2J Z4Eo/"hi$M[H$:P-@B` (FM8nB@(	v@Pa6LCPbZqLG qH`nAI PdYj} 8vR 8
 `0HjcL +%BA͡
 x&Zxb`  0@<	#B#*IEYH(V i  Lf-	f"@42J10' R(dF\1A|H$'@F00h(cJ&M !YB")*$ 7d  E9hœYIqPX	  @Df @ƙ9<@(@?ԁEmt
Cd= 4e 	I)\@݌B{ T_NaB	G0+8iB!.DAeP2X
!E*DDjQJPi<*)xvh@*:@,D% ˠȡ`  Ad^T&T(
]%I;P9H!RHò$EC,uA%!0!re`  s$OGT`V!AFpԉ9+c&!2 	T`qV  (_q!qʝHj )#PF4r$$ 
.W@U6pH1!9hA %hPbA/ m@N6"P(Az̃@fX9@0$P ,q0-2>6,Q ӑp}  ډ  !&Up
4 )0d1 (H=%hpDBZ  B 2	@FHp Cf(1R
I  0X5VG!d Pb	0Cdadc`  0 Ԅ  JH!ҙ@W(>oZI
A0!b5pGd2#bP 
0gadAј&Q0E@bgA !C`JNl70iXi' R"`["IP
;l()(dHliCZ	 	@PQ8 DptD0x^	>h K̀ ȫ+XAVX(HxP P* T ,	@qd-CRZlg  @ Y\ABB`!7pXA
@B
L` & H`F[P0X	UU3[ "ffZ8Y
HhtF҉b92SA0 UK"v`D `?D48@H\95QPp A%a2rfyh< k搆(7mУ` C/	0wh
jM6r1SFaؑxdB$ ($L;H'hd*z"ih,A :rPY0Ќ#	FA
f򐤪`.(Z 2FQ<u1+ BL`[	v#q&
dI! h$chB9#@聒 jd@A BA`	:e3\
tx	E%0JhYr,990ţt x ` <(8`KB, 
m0FF !$hAgL,x;8 70P T_ 1" aSa!Gb`gH+$`" R@  MAB+d    ='Ry0(Z$L "MăR`<H7\F@#*T+ k&aF0;0C 2`ARP3.qXG|\\}zd_9}~NWQfqli>]S[اT/#p2=U}<ʁyvuoFx}W_;k}EDl7o~j{V'G}ȯȔTL|k/2k?nd㽿{?Sޫko޿{s3?n}3ݭKj}OZ]f|n>7N_~
QS9o_[u+{ta"s׌پU{ut5s17:+w{Rm[wW U$oR~U8&u_%r2osz5v?տXqu]n7c4DG-?Ng9?[?z'~׾ӮWo<vVp?oܼCßyLw[u-?>|ޣz?n6g)7R={s|~]wn6-Nme^w]Y3e7o}hwk#ol_V.,]y=߱Ky^fqãg𶒯VU'~c^gX<ϖO2{VyhyKo3+;mo=vo^>/uGoh׹s4ھk/L>t~}z~x~v߇u ޯt6_u1}oW=i`nc+q=WЩowK.w>Maw^ﶿ{SNNś+!{|3s{o7^M-[_m(N̶o_oo+wGۧ|sQGY~gozl1StvCܰ7E`/Z?]_s[[s|ӗ~wZy_;e;C&Ok	߰p]ط._ݍ>OOn>}>.8w_t}Fa2_owX<jߛ*Z9~:6o^x]|r{畍[wǽoϳRS̗}~|zϷv?=_wLggܛt}wո~a}g>1
uk}.+z.&)ZW˯?+_v,Ž]$OojW|S[_חk;e.?{f׮yI{絾cEZy]9wGzo>mߣz{__[3skYݷ~=>3^}R߹w|emwwWlu*tJ3n{4J5ǳOM7;UWk߹=X??־;'>y]\{Dǅ:=۱}d-yEOy\Z~i.Y~mly;9]{I썞ksa~}+yXk޵֩q|(x^U_؍><=SܯnYsݿx,ﱼ~7??ey۪-|{hYwwi5=_y|`ScJ~6_Mԝߡx_ξf_](wGE_Go:O=w_~?MjUW+Q8V6rSwu3/~՛z]/?ǿw\=W[xqN~
ln1~?2>/S<c3>3*v_ҹxVS1M;ot{"~g[iDqO+?|yA/Wk?}-ӻgᛴƆ+O߿͕
kkk,~;~ޞNgrȟw{(qsf?vg\5~OW[_?>a=n[nD~jZ;_+??ka_]/7g[jcu0~[ڌal>	X%o??EݲEm㾞sǸﺻ~ʛ13{j}{tlpnso}y&y_wXn{78ky_{|ۺͿ8歷	QgS;c~7۴޵;馽w;#"YX~1f/a|l~czwk{.}y{e*=p{ߴ_}sU?{f_dw+ޭ_ba+zWp<ϟu<wug_.s?{]5ZOhIA7?nx_x\emϘ|swaQv.s 6霭o՝3j}^`lJM{;?=7>=|ރ}U6dw~?翺9"lw}jZ_S[-~MU.J4$ͿUU+[	}kl{dXSaϹ=yw[+ُ랪`~{ѫoAWmL3Uww(0B_S߱2g/v?wg_߾pfn߫ߵ~>LOXzen2y};=_uWg/`v<ȮtMY춗=毯qw|k7wgiM|7]ھڻoo~#ϿwoS{n۞o0~ޓ}dݧg_t}+k/g5"PjKݥJw;oNJz{]{{۟Tnt?mSo܌bE}Oy~WW}kKJ/wm~?yh3Lz؛g}emwo>ߗ]oz\Zov%[?8]}`{]nOõRsKUstwVzwzp3ɵj浴O^F~nf%U;Ӝ;#V)dy;nZS֟3~}7/W1%j<3GWU4W9UGQl_^~_ 6y]ߺZ~qՍD7Og'>uK﻿l֝~P4~^׻{;p-8?-_j{$ݏGos}.]uEmeD]im_}sߔީ\kx})_{{wݿ,߯yUu\߬omE̮ym?l_6y{/˽7_ѿ(ߞ!_{UKinY&cmFϦ
;_9	)n}y[w>=4ž{w{b6v_%cywW w}~F?Ok/|_/cwz~[?[TnޱU㪵[_Glgݗߵg<__\ormG[g[?\~_m+?4gz{i#w<W_ٺ\~͘]wF_O?sܶ/o_~=wou~\_1zo7ٿG[&_._;>]wuS޽=:y]]b3~~|ﴟܿ?71R_6onٲӫL
lq,{}/s׹.?ܺoH7g~/_~gpָ<uKD{ekXϝo;Nw;ދU'?y{kvOuF9{2k:6^Wfgu~=i{#uw^Nii~\/|˰g𾹿_s߅:^W&ה\?~<_oۢ|нms=f`ym!m={|-z?}3fWﷺUdV5*V%ߞ>wMozRoM?h4U>6f,tl|k?+)oN{m|NkGo뾚yU}]qo6&po4^kƞ]4mƱ6{[g^o_'VWoxGxW>Nv9<ji==F[wm?Ϥ_;?gϫ?ۿo߸þ:i>Cr/F|'w]حޯ!$=_i_U{u/3]?"nsתquXuvn뾞?׭FλwI}wߣ<ם@--ɝ_-	?%ƽ;Xs=rbz5gлP|I%ޓaaGO~w.S^\p[{_VS߸~XY)~E-;οo[kԾ'BYu?ocw疼\w9mFo3?=|_}i߻p[.OMjN{V2y.O>wk;%tz{M߿{7gs˷>{g;]fʫW8[}C}N[m{|?wu߫$ჾ޽an}ǫ*g߻݋~b^u{/u=~>=NdysQg>}8GIuص?MfS7s=}_5;9jo;/>{u{k˼;t^y{q?^{mu[wnkO}yn~mT&?w?
ޘ)=0-z&M׾?ٗ}/d%m7#̹:x
ǿk{k;Ӳ~_k}l7pst}ݛ\\ve;6lpc~/q>m;g{O/枦ps1R{}5ڵ=7vmݵqOX.˻B7mqgΖwٟͧP~{_
/Ϸ~xk{zw?{{|o]+snl-gO<o_qq5~ۿyzۢǴ|eYNW\<>myW_wgU3ѕ_gߌmvr}t}_otw3wX{}ɡ7/HgAO_cWS|ǧ9;OO<6Sn~ogכ{S۽^^cw޺޽}7lgG習awz}2oxם/5{zwOe:&o.^ҿ)n{{v_}C*6ӽ5unn~uSyￋz/S{y_e~٦xd2g*}\ޱNEJgnt'woNV"$Y)O}z{Suٜ\~7s5ks{73ez{em>ulڕG}EDOՒ7ݼb}=XoW%x]tw~&om,v=:tw+9ݩ$<_Gz/>o{X_{_Ig}_.y,Jysz9^}͎/O8ї%[׬u߽wglW51^!GLoZBw]HQzҬ{ۙ.W|L0_v|?g|uzQ>>Ow-;]{_v?JSSpVPwUg~+}[J}=qݿbjYNϳo{-3wKkw_Who,wǶ-ϫ=׿yo{9/o߯[{y{^so[߳WGn_y/~]^Y/+כKs};jn]髗Ky6yU;uPGR}fgZ7_<q9ߙwk?pY{lڏ??Ǻn??u9taws;Wuiͧg\'sȿ[WO|~fOtVX{}qwtymW&_w7Ya>#3\Orܑ7弩CzM/nutKO9o޼wc/ӣuGugq8޻c~*{|߫kty>;^~F?Jܻ]ߪ&}}wS_x^'w^c׻Áݍ[mOg#q9z={}ī߹ߩ{ 5ߕ DnhhREc>$F08Ha@`n2kCă`` 
""NCA
9GFW DFbA&D
deQP@zMDPI  x׸~{M=<{}f'u?9_^owi^ޟNwwŶsЭ;gg;Ozٕ~o9?׫79>9şַ˳k{uV=23߽_3[N|ǵ^>w]{zoݿ꫆Q<pc{}9t:;zqg_y6յܓx^9=]#8@q  C<Ze	@#@ b,.̃ғ-:ET4.Y@J@WP'/  d"X'<% !h	"^۷wo7{;߭hqs-7˟_<<~㻿jr2{gWZ{xok9[71x%2M9Ѧ%RZA	!dh)Xs@ CaN`b"H)@DIaAM@XQPE00
WGi #w xB+8+J!8dW44b``n,"d1o/CQ@ 1 	\aupTHf	I=I%
B\* 8Ot0l*:/٭#qIo='?f__]O߾^?aiwyuO_|Qo_yo|sun{ogwm︛7ڿlOH^0X& HJp`ع@pD:fQ$ R1:TKFsp5J 	@[ S&%0g&.2DH*C #F6 >3}v]gk[xeػo"RF~Gbjs;=}U˛3c}k߯OMrN~?Ӯ[]Jk7ɹ~N~ݷo׷8we'c׿x9~hku]\^~]ǧ])+`S%?z_(@+^DшVPj/@)Q{ 0n@ ;2SD pZ"4X8b*^FP&b	 x@1 &@@: fWxG5˿I%k}\q۟E{_ų{|P}v}nwҿtiw}^wwow_?ISkk߻=f 0 dp
 0u
2eJ%D`L  "P Pik-Pk% !A<^*G 8gj)Ĭu䐃@XITV!*/C(	<jgKP1h.pE4P5t.,BF G2aAl*GW-c)R$؈)&6,
 L'(@Tu@"CF	B)(ʊY'3)6 hh⥄?z{m-.?ض;]N7~sOo	~ռv4fQe׼?ۻx?W}PNzx}n4KTH!.lC`  ɋ
A@d"(B(]J$<JB7`XKC5ȉ`Xpm
$B@QS,`g
T!C ϻyv_&o5w~wןqߞ߿{10TS=S}y߿^^_/xoJy}n<o?ޝ~]7ޫ^ïZf6l_\~_ǿ[Zklp.:_?tY~o_kWgWϥfswߖkw0R]* RCPA3:PG(
T`TB 	k  !fl
A03[ta ,΀ C% 
l2	6!	$!IL@" )@].R@Uux^k~{;_}}Oz\{1g?sw?|v9sVo>?|)-o/g=xYnޱ|f<F.HE@@,F	`(R%Q
񍠒ReD0  JMn\K葕:s2!0HBEjIT}U@GF nF	d\CKXpE r aᐈ qBc`I  ,]D8WB@	@)@E	s9ʂUAV R B4}3B"hEp   qDo`T8_Ceg;*:eۍw0:o]K~YXߧly#oC9i{_i^?>}ޛ}@Q0^4&;p1A'S75HQFGV !AAh
@TRg Z";q
!ђ
Y( 5hP0dj㠖yo֬nG?q7wgv]D^ǹ?2/f</MnOEqylCrOHvWqݷ훧`ｔn\N˺uȒ_﮻~f5}{yx}.z!-Hj[+#5A PQsV+͈^-Jh#HTp@D07 $(`n[.:ФD-~H!)M@	`FCp,L1Q PVq_vjsݝ5گk~~-^	72_?[ݜݯ?==ӳ3xyf9WIEߐGbM>
-AP`nq4\<"zU/ca UEA'D
ps mj\"U`	
QyD  )9 % "1 a%C| U
	`Y "@ pP
B*h9cM&4AB+:j9 b;9D+؀!* 
HdQ
"(}oov4/.x~ǟ;Îy+{{ކxrml__S/{߭[ڷ_g\oh4%eSRhEVA"; 6N	"P3x*PP '$a+DȆ
 T@sA )4D $!
B  HfK:EEVZ*$1NSQ	Ht	M R@Ag&V[#R)psUfXNC@` Ge dQŚM"!at7TSGLR "0G ;DC$1@F	Y\eeiDPbtNp)D.  e+ "  㠪Q+Cx!Vh6AXN-IU	"l$'& -!t@8QNhpEF0=ҴNL
T-XQhgPƌDkT`$3"!>	N8 CDQ qBFe.$B@q`r@`'BL{E `@@ O^ʄB84 B
`@C1Bp*aM*?T:C)PbqzE)2fTL ԋ9%hF'ZB@{!@ZV;[q Iea0"I* D@"/a#M+ƐD@4hXL1
/A@8!$EHd+D -@	H J`0  Ua&  8 CB)QP   )B8b MF Q@|ș A0mlvlt "&PMR \%0HHE  d4J@	B  "@C0 HEJ*(C@
@CXQB*F2`w'
Q@ eˀN d@{XĜLP rBJ,4$
XXEAćz?rF)|5a %i&"@#7(@{0(2P4 !fc5$SH 3	Pvƀl6q0H(H	ȅZu	"BԂF(I
,LI$$J"	V4 	l(	"  P
4648";(( 	u-!\BKHhH8 G C(P b=QǱ/V ˇp<?)	m`'S^0PAh}EAˠd1x&e"a8e+DSht1ąu,
pa44G؀F{  PE(ZH/'\D C 7qpL%g- c`B	 @A1 V%WT;#2B<l0, 0A "q N H0@
$k! *(
 a D
@ EFY b}u	E P[ȀhR `ţí#cO,)K` j $M\lEXdp0Q"O6$b%t; D`	pS`p1>r*XQ+
@yw*"Uni08N9R> C>J`z!0  	 a)@	Wd` @HIڀ K# fMEPJ`1sA@@4&BF к0I<,M(,, k=z@4U	A @`A:JX *( $$ "aG$$O 2(X<@@v0+rJl }Q `AB@CI

 (	0n j1"P*45D
HP,5dHhQ	>Fphd6F` Ax!YP1YH4b恶uxt/` %IƁ0A*,h ."c&!dQZ< HRF@J!z;HFB( [	1?L7
g" -J2Hv ]**"X8JȠPRELpQQ  %NP3  I$''$irbUy$yIWDt:	QHHnY cLpVQ؁ -]}D"6T`2	H 5>,&x%8Z
(4 & 0d̊H@yG#BЂL=3mC4 FFy1$L p*[&%qL^Sa)xJ4$Xpɑ9]!SMQ`tpV6DIsH<A*ʸ,TƆBT@	GAm` X 	%TEn
1kt!`@I@P F Y(ˉ`@EHj,r tu3 d
@FC%+=P.GBd l ,b!%XB`/\D16r8)4ʋ$)t& m_8**Td	A5H9\_v `xۦ,
,B
N*UEAH KN
"`"0J%D4B
\ֻL<`IEH@	o 0r BBA p$b@ d#"I '3
PĀ(UB  I]
 J$ F* 9t)0!S@"0p. UJ@&%) L 
/# E 2X$2a
"FBD,PS<\(2|Di$.Ibՠ2SD)	G%`Tb3D"0z `  Ac$ƈLI"P(+jV XP	@@2XZ< ø q"HzAB 4PS18Ap $qP  60%E"PKP2@2(   0` V @8ٍHmnYEXElO*(Cx)\RT$aIV4   6HIQcuD`="0gH,7S)0AC"K
B%A	 7f⽌1GZ@`f0@֮B$
O%SI9BCe Uaΐ"6AFiR%](iHG1Yi4Ƅ/6Ø!I𕘼t Łt B ń
 UPL "XpV#l`B H VAC$CDL8 $,z$A@ 7@ )C "UTP cF@@de$ E`a0_`aZ$	 }CM
!'لCl(ji*!Th hHXZPAq+"@Hh(F.A 14#

AA<DKXk>	H5h!|Vd-I xFIbXC0 opCaEJ`$
HN@pA t %A*$]`_@,@I	\	ĸIb8"B z`X b 0YDDHH
B 
2<@h(
 1DOr7pa8hn$b   vL*P@
4Rb8,FcG  4P8G  OKca8$ /,խ0T<P&8N*7 &sZeA8K@ о(J- F d%d 0P@0"^1@Bȸ"An*<A j1d`
TlA<4X(dq$8FBP0D$ AdЁ|!a["@1bC@@0`E
h\ 
	1J : 	E9u#AwQ	ȑ[[3:QWi;wә=r߼.]:ɛam&7n}mk>[wG;sY'>~so1nϿ"\pUk2+7;Wb_`?jO96fL)sۻKul_ܽgO{/Wߞr~M(  bS( "	9ULP
eYi.A`a @
m@ 0
 @ nR`CP!ŢHbI43TLE3c0 A& ]!
H! 9_o0ԃ78t4&ڿeg{>Eo>'kak@?xWD:4~P1gst/Яx2yq:R72%eDtu=g>=v@"qEP\Jy H  I J " b<P$RpD+t!0 8"`  `RRpUE@6ч,'P6 =Ab!	#/4 $$D:ؤ ,`L$\@%4
 "( $Q  A-@b D!N 

Yd8@ a"
rAH3%0BByd#-;'~6JORm~cuv=-kd[J	~?k=y{UR};Enmxn~?5^;o# 4kQOv͝S3TJ,TO;0("}cA.%#PV @$G$
Lq`I#Ɔ  ,  
j! {Dy 0dfP %D
 2|2$0T)~Ğ^}?mtb^KHqvr5襕g޷gĊ_ZϻU}nwpvmNy_3gM6?_9/ccU۷i_orM/iomwywn:2}sH5rhsܓwZgim_p?;(sn^[Z'|םbet=q8ZDF1 
CaĴ%T$@VQ( 4"Ȇp1JC Q\
0s	n`̡@hI J4
 $LAd)`lp 0 h @A( BY!ش@<;o-8o+?wۢHUYi(vdϾvnv}];W.o8}.E?sWvv]Mەs1=z=5??P@H&H `*%Dp"+A(Q L EE@0f.,B
Tp0	2%Abp <w@ :%X@,]!%yB 2p) Ut(XԓP
 7 
lPxK$)$?b	
u  (%^!@(T@ `$᭠ (#PP,A,B B@JhJ8 Y-??/}_m3^_ｹhO~lЗr~c_u,OnY<8=?uSG?|}sҴkL_Ǭ&W˛K{_n A) hJ@BJ%,q(YC  dB  #eZ ` Dwȱ3%Ұ	Aҡ5;@	PÙ D D -0 {:[ϙy_x]V:KMrO۷[{yng]uV9Yz~h6G[ﯧvwBMzwr[?w,tz_z{-Ӳ_w;oou_W}=W4.qU+7?Gpׯʣ+;nhyk)yq?>FO׿gٮUlyy 0CMR &@e$  $0!B0FA c hpHI {@0,E D%ՈPlA!f&%@ RF L9W.r#@<wFf7ڿ5n_Sn}H2c>gҭ{|óms,C碑nkw	mݛOviӼs_o/	lZ `TĐ88 	@3+IA % (kdh4b 	&em8 RPk3?A@$b-$m  j 0t@Ta` !$@2+,	@9l4~p 3" dQh8 Dx 81, 	01(!` A	h"Q*@Ħ(\db :"Rϣ_O#/5smm?C:Oyoǖ-kQә&?^)ՉW5?gy:)ա8rR!oD*jܣ⾟s@DH %T``	#224HX,ąa5@"XA #U  *. &60 ^ơJ$ !F8 p  ,6JH
 b\5B@,r   ~K瘃+]׺D~)ueoy#7?Jx[W75wwϪ"e͢OWM[߭vw{C~9]vzE~o3Cg߯3f('Zv</<>et;wZ/te]]бe/ݤ.W̷|Y@g'~psG ?}7{]|   5!@C)G` yH/d!BBq@ATP )(V-P(CR၇  $Ád c"%C``%*̀  /	 C8'~Oyi_kݟϵEo٬,rtvi7SXmՓ6s?/WQ: r|^_O5S"bok5|֛Ȓr9@! h`AKá@ҶD@	(dFBv' ",,Td҄neL VQD
  8  20BBZPHTնPOi#a
  dKJ#,0C'7` 
!1A%GQ)R 0)
D^,J,!$e J2 ,"JX 0FR\;B ,!  `0>*C9>9ƿwtϿ?yD6{Qu1N\`E}||]>})NVL/cGv"ϭ_iߋut6s5eǲ+J}I~L.u!~M~A^$A^$H[A\A]A^A_]ÐUHHH0  E1E1]UHAWAVAUATSH(DMMIIӉIAAH  tfH  tWE4E1LLML]!~L]MH  t!MԿ4E1E1LL~L]MLmAD$ Ht2IL$E1f9uA9s>  IHI9r1AE1E111A9ADBAE1A    MtLEtGf} t@DE1AEt2It$H1ɀ~ tfD9>tHHH9rAE1fD;}rEthMtEt^HS LUL]t)H t,41E1E1L~AD$ HA;L$$vsI$LΉu   9EvW H     HD     4H¾ 1E1E1L~   @ADAD$ D9~0HMcHHIt$HH|HLHLH<HL9ID$EIfB(H}J|(HtHP EtID$BD(fF|(HEfD8HEfAD$ 1ۉH([A\A]A^A_]ÐUHAWAVATSIIH  t'HH  tp41E1E1LL~AN H   IFE1    L9|tIHI9rpAN H|HtHP(IFHD    AN D9vDIHLHTHTHLAF "IFHHTHTHLIAF HI9r1[A\A^A_]ÐUHG HtHOH1H91tHHH9r1]ÐUHG HtHO1f91tHHH9r1]ÐUHDG  Mt&HH1H97tHHL9r	Gf1]UHDG  Mt&HH1f9wtHHL9rHH1]UHHw0]UHAWAVAUATSHxIIHV H HEI}A} HxA}    LpHE H HhE1E1L`   躟IIEJ|8HtHIu0HU     IEB<8    HI$LH5l H  HHP(IEJ|8HH]H  HH]Hb~HHI$LH5ql H  HHP(IEB|8 o  B|8    oHI$LH5l 7  }    KII$LH5k L  IE LP(}    HI$LH5k H  HHP(}    HI$LH5k H  HHP(} t1}    HI$LH5Uk H  HHP(} L`tI$HhHLH5&k   IEJ|8HH]H  HH]H]a~H菃HI$LH5j H  HHP(HxHL  I$LP(IAE II9LpHxHHLP0AHHP(I}Hc H H;EuDHx[A\A]A^A_]i}UH]pS~UHH= H5i H @   -L~H~? H_ ]UHH=R ],S~UHSPHH5i H    K~HI HH[]UH]R~UHSPH2&#~H@ HH[]ÐUHSPH&#~H? HH[]ÐUH]6&#~UH],&#~UHSPH&#~   HH[]r~UHH ]ÐUHSPHH5?i HՀ    +K~HH HH[]UHAVS   r~HL5g HLd%#~H=P S_  |    k꿮kꚮjk꿚櫾nkjkꩪj骩ڛꫫꪪZn[껖n꿖nY꿮o[ꖮokj? HLY~H[A^]UHAVSHL51 L1%#~H
? HL[A^]Y~UHAVL5%#~H>kYH=נ 1]wc~UH=à    ]`c~UHH=    ]Jc~UHH=  4c~H=]cH=k  c~H=U]bH=?  b~H=)]bH= 	 b~H=]bH=  b~H=]nbH=  Xb~H=]BbH=  ,b~H=y ]bH=c   b~H=M ]aH=7  a~H=!]aH=  a~H=]a~UHH=ߞ    ]|a~H=]faH=  Pa~H=]:aH=  $a~UHH=q]aH=[  `~H=E ]`H=/  `~AVSIHH} 1tL   [A^]UHHǇ   HZ} ]   UH1]UHH   ]ÐUH1]Á GuH G11@  1]H} @  UH]:N~UHH=w H5e H|    F~HD HQ ]UHH=D ]MSPHH5d HG    F~H&I HH[]UH]M~UHHHHUE HH[]ÐUHGH5]UH]HUHSPH辨   HH[]m~UHH ]ÐUHHH5d H    E~HfH H[]UHAVS   m~HL5Y HL:GHD HLT~H[A^]UHAVSHL5# LGHTD HL[A^]eT~UHAVSHL5FH$D HL^]5T~UHH=ɛ 1]AH= ]*^~UHH=    ]^~H=]]H=s    ]]~H=]]]H=G    ]]~H=1]]AVSIH H= HHtHHL  uHHP(1H[A^]UHAVSIHH  t&HBz  tl411E1E1H~HD HL(  tHC` [A^]ÐUHSPHH  t&Hytp411E1E1HY"Idt#!pÑ @  8r` S`2` zd@dB4w  e	 4 *<ͤ6k @ "=!9ݒv!l l$":PkÙ񝾽թ_OWes~p3{`8M;?E#j|fvyQMdfjM6>~o;z{Rg]GH7%U9=oW]#?{_>>RJ-v=tWϿHK`G5ΌE7	Vkwf_;_+g^Hqwxhiaro֎iQ1"MI% D\+0Np$,`2+w  B2  ,"		RPbF kHDf@X@@STqJ(@ ju>)
а	  ݋C3=Ĩܯ޿vOn*5V˜y}6={-oǭok{Zq)koouKWDo{'1v>-w/zwfnl-cl4 -" \g	Ix MHHdd`xR*  Z` ȉFlL@*
PI	`P(	Vf$	X.P
 a  :,`%% $ eЁ@B*D0 `B̊q005_B6"LAа2#PXҋ 
U ` XF X ,X"M bpY2@ RH9 he٧y]<ϴ߿0)wwxU
^/N^?{;oI2E/[7mr_{vW-9;c={/?еO/ve/1E0   e	0I vd!0a:8?P!OJ <A!HLu  	P P!8V$`%&i< HH i Ѐ`&6⤈H ' 	@ POmoBҰԿ[ډsQ:j1p9[w6oM+qq]>{OvWk/?î{gwοOnׯv5O+j2¿qy$7Mӯ,%^|^7y1]*}}o6?
.m'fЏsM&ɇ}x1@H$Bp'ȀBRnB8y ADJC @a 0Bgĥ*l(   X.r  ((2* 0#  B Arg Y*^6fk믞3wO7|>yI3/}Vi'b[uk𻒜ܯ?Gӻ}/uGz(/#@(ܪl,$!t !")M@Dӿ$@4A% |2) P	@ ($I/JBD$RF	TAlvJyr@@Bp
 (,b`Do$d,v PH)J1I$tE0P	Ѕ@`D$,,TT lp0	 <c,.F!`	1D1
Gvz'Ƞoi[mo^^dn'-| wp~x~]o(1LE{wά*;?ofW^6KIiPƷ  I0
 2D)	NB5 F!EEАA BTW kVBf&pHDdƔ	I &P$     x) d]@P݉r	11?K/Fþ+w76oe_<=d&Z>yyy_Mg&e6O|'sfvVu/g?nl}}پvyzKܥ#{O];7v&_w鎞Ҧ~տ?7{bf/=t_ʧ֏?zۉh!]2hP5_Ysy%_ЧO{aGVkSH,1T   A	 
Ń gI0Fx&`ͤ+PS 1 $00 C
` M	A
UE@t#:C"	H4cĕ0Z@ D4#F̿os?A{	-OXqUע'4?mFs/?l6k2K:=cuɱewuSonoهoZF<ׯ}'Èlu'B rC d.$ Hep, Y(`EPl@F0Zgae&crxrd + 0
@gBuN dQTH` p#!5)$`  :SPHP8 0)0 I`(TPa (쒈 (YPH. 1@pӳ&@!=4   #=tiS(
 `ϴ&\Nk~MOl~7SmFfϺ!w?U)ϟ}1'̏mXW ov=vl?>r}(V݆IN@ L C! 9%U RP F:8XP 	48R@aX@A L`0 fXQF
,Ģ5`b	O_KK?m7ޮ^	NU~Uk֬TmOٶr7ʵZ7VW=Ǵ7߮o.̿-8OzPI5X_j}wmH}s{}gnW&_~ѷr0\ݼ>:S~yn1wfyW&oSS?}ݾwE.e~Zv.{?w$A TBH`	0
1
DTV>	
(XAdD E4 R$r 2)BpyU $ H	0IB  pR$Vsg_/:oinS<Q;~qmL}G>~G/)wyoV_lgwV_>ol۟jzڽ[EwǞB %@0bZD"@p	Gı8
4Fi@ 0 DE઱D &@ $0C 4  H>AJ.բ*@
d  P`%lhb)  0MDp`"'7D"0
@
&hUr<b8@B<!RB  
Ӡ ` s
1 &Зh3ӂD29K 5PKܯf^?.6+ԟ)u՜jj{~~}w/eTpO5|flo<Z܌-?w}ݫ~w]kKtfd.@Yq
wqɡq@')"@%(*aP0ga#P4bAA"D@Јdp5IС0Vɠ# aH+A(bD@@P;C2`X%d@)"Yixc
9A8 Ni@-II Qb0Vel@S " `A`BCPA  #  @B *I0YhF%&@ @A qW	( rA &+ @;`; #TBE6
IKvyY! De Zϡ
 I H %KѳR2}oDQC`4s"4v&GPe+Ҕۄ
Q"qi# 44 ,@&E:8G@ R ":0`ғT*h`BZЇӼr Z%
 G+j4-}Bc(ҺX5oMT  &c A!Y@Y!* !S&b&@bM "x JC @fB
   0D2#	6exQ$P  KR!R @)"AB(AB[ B!:	 5	A`:e@1s   @p 
@QZ XcňHN/a   	C``$"djc!%" !*CE	 с&&pp+ yZW ](BС  
+@0RP"H/G.' z`D0U2	AAb  p+	$U<p,2,A AX0X  D -R8# D,luP	ZDpd  pa Wࢢ
D[PO P%T`3jRY]b$d$jb.Y!xJc	 @3*R&H_B'DTJabB/ @*6`p0  eNp®CQ!irTu( ($`#H Ĉb4+)AH GB@ 	SBDB( + (@db U IE_/0	X*DRCGJPLE '^ԑ`"؎qH L4X,v ^\EX! 
EɊE@$h4`
@ D 4 6A   ܵ
АM!%@!H	J E05nB#Mk%쌄A %
@@F
)AƩK0c%% O&$(	T X"dHFTe
qǘYihQM@	E	PF4!DP7#n&Q`(0P^Uyr#lP$1HDa2j0y4RT!e$(@B`k@ K"䅖/RD ZTn M(Q`H9B'F-9 @! GA>bT !J(FRRG	 K3d&D*Ԇ]8 "02!)jA"A KAe pg
Rnxg,	ƲYC$P!sA a0LCWDa@Q( Q8{
"vB5E OU$D p`@
$2DN ICĬ , *
٠ !@l	F@hDPN2Y n" K *M@YK 10ILA@B B$>He$",Y"#bȌŀ 5PL@	D$A3 @(!3 Ќv	0DDKP(
*x@ZZQXV*@:# b"$x T J2f<E `'@!f|
hi02D$d(` *xh *z !G
 h\IDX:a3 jBځ0	@b	R#DfU{K3 R RbT 	B0( $# )kB		BFPA0F
A  tArI 	0 
P@`h
(
 %H 
F<ҩ	D	A@@!4!@c'ـ!
/ R9	[Ĩ (2 
@l4e<߀cFRK`xDAMQHF "%+a(rs	 ·K ] $]x#@@YbS R @ఀ@UPY$ T*"
aA!
x4,j<H$&8 сL@: 	   EDA!) f 	-MKd(   YX  33$HӍAb@V.r 	B"%J#@NFD$P"\PAc5\,B) *1#bbD5䠌" EB/EV0('!5

.@i@)@t@$.,! C@vE do0 /FqID"#EHC^`KCF`+Nbw-%Q-10BL($lN4܈ES
F$PF 	D94I`yȆKA1 .[Є@Ä@BN)-0$L5%"A AqEP Qx~BI) @E"p 2#!d"CxyKI.H$ @(4x8XY,U: u&<Kn(XX@#9Ba{8;`B %K_(IAqlS)X"9b :$$YPrh  0XFcdZcW  8шȄ  LƉ@$R%q$4( 8+xҤIK=  逐aNRV  h  8@Y	 FA I܃Y9 f%P+HEdXRa4  p(8 UܰQJ`B)) J`@O"EPmT,| $!䕐EF 8VO 4GqB)a@QJ 
L%V$,@H: 
<Q&>2D!	32#D0'@4&	F  &!CYA p.%`%Fǒ  HKE l H`  L&̨.Ҙ pJ.TS$)`)	#J	Q h*0$Rʌ00 TE 1J <IIb!PٌBvO'U!N ĔJ!7b$	.ĩrqJ4bLQ@A 5F&i ! )e0ƤIxA5D&eQtNiq	 S"
{oX1C!@pBD$D%<  NA K
k1-#aXB{"Eb0 
P@b11TEa@ n>3>ڊhBgs/FCcS=HUX'RQ$	/F و(- $p!Ajd @a,^sq r.pñBE
 p! CP7;(d%U̳2 hSBXY ܣ#@@ " HA ! ɐAJ2AD	რkTZQ MZQ1`BS<YPT ` . C	ᤊ  MGA( Љ BfLA$ʆ@{N(r2,nA0T
D0'azP@1	R*NÞ".vr%vbBR4B⤀y"#4Dj@H°0$9"S5e,^"2i%{tA q @iP9C@0$J# j X0xE@ WH
Pl  ]>pHdDQC!4
BG B5n<	ਐ0,h#2BA @Na1T	@" zq:   BH0
$!1@Es2DW@&p$䀣)&0	FFTVW Ml0B 
012ͺ!]BԑIAN-VI	@!`J6+P
BtjfAi!'po.N!1U4:\2ƿY)PA$bBf @Jɀ  %MB3@ B]Hxh
$&!zA00&8fSR. 0	XC4iP &@8c B$`0%
	20Ah  US!,@#ӅeE	@P>D! -%p@ !(	S *V(@H}V0ԘX0QJ$\ 6Qdb	`M@XO2ɀr, I H(  H""A
 ƀ`Ӏcoae+@0@`*Y	 EiA[K!I q0`	O-p/*$MB `#  FbO (%% Q$:ҸY  ,!D (b @x qLPHf `+<p@@hYBǀL  M`H0		W`")@bd@FFGƲ\+QByWQ!IK!Qu*D4 	Bu@T$R933j aPf|  k˪(
cF- 2B@@>:KX"
T 5t	2FpuAO@~CdVi  -Hh)QJݬЅ$hgKBF@U9%t 	S Aid(1PP"рӪt悄cJ$A18J]1QVHc7QЈ@ BA)493@m2B&uR BZFAY@"r  
a)		zfV5p
!	cHA"# B	<rL+ J5s"[&  EPZPF @3(I -$  0Y%P[F"\0k"`4";\q$"Ă,$"
d>pfT9P!D,ʗJ$lL@@I(X `  Ip	PBBI] *8P 	W£ $Lhe@R) 0IdPb5HJx*!"qƂ"G ]D d`HIA(cP@Z R4
.0	@` 	J 2(A   D$
"BD>!!A& !@E`	K HEhKRȆ%838PH( Ll'wi	sS'Pp DAY:&Tr
 @,T!<(7P2bHJLlM`php[ע9U g('HQ"@G/Dj!zrBu
pP@B(x^R	Ɖ՘$C  PҰۥ "e"&2 D $V
<!c31 T   -8h# @,X   aE|V
hTp6@<XPoT>LQO$]arYA
	 ?Ah9TJS()g՝> (1q9I !'BA,/Q͊XHhE<$	mLRE,P #l# .!u?S;5p %@>dvh>RD^C&LT!@bUPϫXH@R]G:AS'j+TH\x# &S '#$$H*ʸ֩҅d
,@Gf@"4+ Oh.`q29̻A((Rcmb{@&%rD4BJ! bO2]2r-؀02ph&([R!V) v Oh@[!A`WdPsa pأhdEȋ ^%@
-#Ţ13!`M@@M#r`R̄"q@C,ĒI8Q0AOl%	!l&x $ $R P(x:@h0YH
Y%" Y 
1(U+
q ^ hQJPH(`8 -ALyB2A(@n*P`<@HI8D%mA2n,  '4BJ"%x`-@^$ H!0`B؇r A%
$RA=eAQPHR-һK: z%dأUX^ AG]X $m! GXdL\FZ7R q+`#\INH)PY:B('X`@	6H*"jv`@ d1)15GBx#*q	( }g`: RJ$ (pEEp$XfC 	 2
O"炓488)FДC[hp :iIqžI1AIF /*)6BX` /m:&2CP;@y'EIs2i
++D 	@Nq0$R 9 nsW9$T_DaTȈ"HJL ĒDȒ(WF4%dґU(CP")X2H!"lq 6. gECe{)X@hĀDJRDRGb9$ O(  A'(L
$ @@I
D  e9(4q&@	#< 
Xj  "ISPDARO/aH xs Zk^fȢyB?g *TiJJ d܈|B2#s U'P9DaJY$AP0 Z	:XBRb	BX@1(+`8@P AȄqtP "vIȔBX @@RQBD# FPZ$@	v@,U0 	*A+LH0IXh(  2
/9Q!Z!E & ]!F_@5PUЉA聘U9BMP`$ 4H 
!JeC$	jQ#546(+n80IU.,40BB0!"*
"5&@N80 AQxK[ ?+W IjDQ!@`R1LqY99Bͅ& Q\ JR1C)` ! 0K9^vI
  D#Ԩ  @$ X`Hp% UD8m8cDZ@.3?k}+?33~"G?=/nͱG|ۜP{rkW:x{6u;~cw=ǲnT5W"u{Xg
+sog'={W=ZMq~?[?_=zwo_/g;Ϸ/yӿ2zdnbs6seU>>/~E]ϕSnߠyo l@p,! X7 1TG.H ."zM`XHyT%%&S"\n #TUv5~,b p I CTF0XE0D륷GDyo:CC=?3n^row\ׅϳ{ܿW&>cQ?w#wίo?_uc=ӿSAD  "y'j^@	r"D+E;4x T
^BI@6#`vh"Dh xb2Q2  aP
(/~!J
am: WpH#J0L7DH9B8"H$֭Aj[UE"!'@	
_Du 	D@N@4`
L!C\
 " !}csowo3}7TPtG7q'~{Wz6~ylaj#<~_tUov/_ﴞL<?{cPp@A,G,  |d{p(j8$
r!$h B*`8
e@˸\ H<!  f)v@e@( |[S@~lM[p+#{?i=PI?vt[fgq?9_mu{wvwtkWa/sN{_ws:,:\ֱ'W^dt՗{nMm{W+WƇUfu{G9io;..Ww߿kcAat.:"V	HI3P @*m`I XKB[\L BP-VNQZD#U~0 0ҍHJL8`fZSE1
˂^BTh*L|=cefVRϡzG<[&}~{KWsvnn~COw]0.[x~E3Tk/7
%P*A]Q  H+ZIlD@&jĠ@h@`@*6  97* (u"aELF  h"a{,caftd A2P	D04^al (ma mQI (lK - X-,Z    ! B@ #C  # 28`O8?$EAӄB
Maw޷?[]mWaNrtݯ:uokK.w;	o<<_2oUhݷg[Ϯ!$D12E6PPp @H& B5%pApbp'p]( 4Zc DD: PD "R H" %(74$CpAPKv7?ؾis={_~5ȏ{;?-ˆ+;Vo_wq݋GG7}u<펯c-O/_?m|O?a
OsrǗ'gOK?ilfP>
?gΖgcw?abfn?_q랿Po[ݭW5\֋AhiD "ApH$@@ , UՊu`(@/` DJPv3Q0:d`HCe@4 -00BQ6;#s8)4wK:A=l/x܏jE}/3n!tuyku\&ݳf}//q~<?֗s}~7kMsGŊ
 2@A[@)q%D@. <V60B V([2(D j^JT@u `L+@8(0rE A`   FD%"5hCb##OXђS 	V!fR6 
J(b!Lt(Kr(A@|<ð/@ H! C,Dh8A*&3 3Mj_~ZOceO{7-,_qA]U~nLk~6tyg5jko*rj{ukҬ{oT4V p Ò I
JJ,	!@D b hq"7X<` @JR) "#(APb4-O`ĈlaL%`,B D>P^Zk{M]~?_櫖?y{od?}oow#Fix;Rb"k_wj~__iU~:WCV6_{82vooa~or3:ow//oTOo]-}Y~|Wbq'v{oo׵kXC`P B|'+$t 72؀ah 0(+9
LC
t اpR؂؟ xAy$C +C`

e@n 8Ț_/~ދkiJ6{J^6.}ӧYVByDbwg?WYzY[rH^}m.K͝o^U_J5$( 3DdDB d`DT X B 	Lt!Z	Z5 8Qm2*@
a@
| ܃R08)b3:=@ )waF]@%Q)iy0@%84R Jn5J!Q4&T", !Q,u$ %D Tz>90y**#1`R5Hp4 PxF:w[]{>]3Ox]>hsO4:OwV2?rdՋIӎ{Y31;Sob"zwtHd~OOw}s @19""P(DKbR0B%Ai  x -@!l"tbv#`(d
 ГeP@#ϣ 
A(bp D)N(b"f7	/yCѽO{kk
oLn/ǟo ?}o߶U'Iߩ߷;=w<N<Uw~}?y݈<VFoF	f5r~==~z}#NwO?36s~{LuZgo%Mq6J6c}~/eFwm*6ӾyK)itg@u+ 06s	ڶ XcxT!@ 5 1w($`"(CiIsL^v4D$
Iv&Gnh[^ܖ=1;?Zq~u=3{+3ۗ?ߩEͭ?Q]6_>ݑ'<c\&Ch9D rh 0@ 6$Iz 
0 DG$
B/  an  B)LDe4!E
00N 
t x
&Aen  8 HHp)PZx#B@%!JG0 ALr\L%2!$+ 4PS`i/ C$w &BA A C\P^ $ [Λ�ԯontuv=:+Ƀ9j>o;j<i~_ߠ}J|5]7ۦuGϘIzp>*,</VѼw$'0fbFH	x@Pj 4 ( 0$`"E
1%(k(@Q@ Fݱ dd & 

TB$gR@((
HJzRl A!v I/Oi)	:WvVޫD(iUYfuZ7efR<voKojnL|/z?VLNOT.Tuʇ{;;9e</0v7Q͍svO"er_wbБ}R۳%ENśokwӟ~3=.xy>tsS% *dd!`QS T*^)B[$VBDa  (Ea% E	lY 
 @h;.!S	 -Ahar$A$BFF@C 
0lt!hwgIWk׿}ߡkX׹>oG*|oM%V=u/7wg_v|鷲WIfy{x#ڤ!3 S@th1 @
  @DD
ePA
1AD"$Td  XhD 
;@
2b   Na CtX*~ H
 6	 VDF!n-LL X  D1dP`B@з!)	 , s  "J"  0 "D@e(4#@hT` u YA T%7+kJQN
'o+\ncv.5 sqF8lgk{574xStF?>;la~89#FZ>m<"iS(
&Q TF`,V Q@  Аa FX`RU@$Yr@H  `~$$Ip!F1$ H eRب@HCTPw
]rr޻8[Uaj7t:rjwk5ǿ׫βz*>[Ig>uN~rmiK]4\lA~oɗ/7<yߩ5]yww[v3wՏxߪ9=O϶_B{ֽS{BO.au=^-~q =T3z7<o[iEALP%dY  .D  9A`Q5@[@(I	EXIeb2A#2ЀHPQ[$  H
LP*>^~"ݟ8vq/+һZsEywڿk6ןn_QO]qͻBF_\aL~}"_}Pk3H!ACFZ
ј 8R$AAH.E IyG|8h
 @ X'Бi9.2h @_*Bg&PYOPH 4$ PcE   iѠ#`% &ZD%FΉqE8) A$ lCI	D'^(g  V`&K	5!pfC,
 H@ dA$"̤H$p2 FE{f1W/}}W܉o5lqj8?gͶm{n>m?Oosm_;wiՎu/8]1>w5NV&uX;c{bA5 P3	H
%VQhA6P#B4 0	f1(B@& 䄅$=a 
脤r`02  D( J "yf* H!$II7?K;N<W9`׽٭D+#M34C_uݍz{ߧ^s~כ4X_ܿ~wog߿韓:_l4~}/]w{9l$S[m޾qwa/u툸o{XSÜrmo\{u._Ͽ\Ƿ't	cH,j̀ Q  a$8	I@((X Р@7@54!pz0 ("!P JerFaQ@
 
 B:o7i7Wb-Q/۫^:5b'Vp)=WƗ#پ\%kvЪA;;sHjq_9D~nMOriKM 'da҈Cb (ҡ*Yc1al+Ġ)XP` X
 	p B@u@3Ѫ@(@*e!B  EPc`8:S$4@G z#'<A8 Pa *p `ED!^bD2ɜ S%$@ @	02b P@t@a ( HFR 	) R@88} *D
	+2/Kt'nWo{w<hN0_Stw~O{wn|=8}7M'0}~υSQj>^uHX42dA '1(@%CRA}$jK@J0P*0
Ӑ2 Q  B8_EAd4A2 B`S,-`p  = `/PeRAH\  
A4<Ρal@kt@=VEDEYU X0(]\M@`T " Na&h(@d-!U uBQ"\ LxvOG0W%! \'d-)F:$@OIΓu1V(*41^q(G{{[!$Ph
ʈ ɂ!"e%쇍$7&@ d }~dhr@A
Dd!&&`A< ) FEa( 	$$Q$H*P:IFbj+"e CPBQh$+ PP!p%( `&`ctRq0CA8!)ig,X&ܒ
9Op^PgQQQx!RplFDQ!t 	KH( ( R"Tif1ё*Ē" "C` D. #Pq)PA*AdC8%00TF[`P0rbT"	p2dT@0EKQPg
d0b1Hs0N@ !((@= Kr0CĄ  l 
 H*Q"2G@0-AD D~8JcLW:6IoL`iG9L` ZC %	!0y#A4$
а-`Y;B@URL	P,iJV@  xR@b0bƏ@ s(]
SkD1PaBp)eVh<$A&",0  "x B.(F	"uF1 D $R#L @ B[	`p P
M met3KW LQU@a! $-`R)@ Ade
å aO`-~ oU0g20iL@tʠĀ[HHS%L *>͔nc(F  G
BG<SDx@ ,e4\#dt@Krh$S$
t%HV(Pb )Hkξ,B `A @gA"(G4.,Hրq(H ҷ	`om+FF@ F$0BѼd'zb@	 AR0, %	NQ3mL", AX(JPH08#Ș* S( AFDZ2D	P @H'R``@А,6`$p	h AmD Р bhSF  r 
&À 0H5("*@2X@WɄ4BD'҇:[BV˦`AB7@@z'LYt)#PAV1@,>`E(bdW 	i(#E|G$u u_`-($!!^E$2`P`@0s
( `B0< j%T<b%A1FH  OHg$2 E(B/ b$*  D85 )-e eEbE`pp& ͡nL A	@V"2E dpEp(<D"B ^߈0  $&SH 'W. )@ Ap&!$HJ`ĤEP2`BBUv sEkB$ELsF3tiB$jpyF!@ DaYOAcU
4 G.Q/$ 4 -ᰊTuV ispI ̅!B:ЉPd
#Ph$@p	Za*Q@Jv"Ba$6@	(4\Phv10	@.%APA\P`	p0`fA h# ёCJ&\z!*E	0Nl!#j/cQMJ"39M@dhZ& B	4lX5rm[ $$"]`GǇH!RB
T:2a% C3fJ0@aIm*L-"V	@E"L : ɐ6`?PvqG@@D&X  )( @bB448h8PIa
.D, 
0`0@*	@"LBaAtH`
_& 4dD
P(#,&"B EA`>At@Ĥ&zBd G pBhǈ,KbJ8(&*@A&I B @a	1&0 B2NSޖ3	h%nAEBpKOR
TtL	]@bNHETI$)i$9C,@@ D*BD# ǴE
L 
0(A`r2HP    I 1dH2咠`
Y tHkP!h| !b\f8aXd0( @ 4`D`P,"BN" PHTň`9ሡ	`PfH`1JB  "Qd)F(K )@3 A< B ` R0 $r<"  1"GTf2":]kRp'	)O@DBS%f @\PBj*piYf$$< @ ` /"c@rKU"@b1E ^BP=B(pYCq,PH&B "|EC&   c1 H@,$ &Q"
heN$$PH	 ZP0X (
/ C@)NQ&kC65 !
(O  I#D	Pak7*d1DDB ☢,̒b",h<(
(F꘤n!A861 E,#jrW֐DְB K`BP&T5u qXm "V&H<5+ g|b!74!r1 L+	TƠ `їE4&bQ<"Nt{QE#b:FXP)	 Au8Ր "kf\H#"*p)!UHH @$kpJA@7E G,)rEf j8@"\dV@:}@a@B,z遠 
2tAh,̠gE@PP@t-Q <BGP0A"PߔB"й9AR6cH<BZ# i)x$(H oDP4"-j	HY)?5j@m( p32"LBبG FmF(M#aAŌCJ#@nQ#`Z B02"Bb%1`@`p$@ @ h  @d#$J+0Q(!kARR@H(KA @o P @Mt
*!HT ! ᐐԁ @8 [!a*ۈ@ @P(@aw@>A YdiIp0+ELMz#"@D.Xcc$@"D= o5UG)BГQ!2DA
LDb%E >j$N -EfU`:$:$~ngشn[X\zU 6P]_Ig%bVqKoUѱ~_G<>lvj?uQvӮ~>ꊞtr?;ۏ꧰rG~_E5cIW?jIo7t5~swб5ڻ]߸]GwKgzI݈|>y-gv_;w䍮[zםܿ_lv;,~ϼm|;';s];Wn|O^hc_Oߦ^Ց\M|{e]Y~Y~u}xOIOv{? WOxmetn~ٟuJ^7=toۙM^e0)|J?mvXf>] KV77}q+9f&8Ǽ}k/xuy<%g_*,/n[/t$roi޺*~-K{|^oN~ko«O4_ڞ|.k{>;}3R~7U1ognQ7Cy\-M}-ouϧ;o_NZ-?kyz?zaMսOtJ!GF+SWMnXIyUo<W叔<5O{wtȷ]u~ksfz{oy%ҧv'*vl}U/qmUWzlpg?s~xh/:{*Zw|o̓z$8V*cܭllh=^wZֿk2l2_zx7Sg[ގfluϩҽLib7]i_W{YLFQߞFy|{ߟߵ/ӟ6lhe춍wƾ>o|~^-vVKc[[~mǇ5WuuyS_;>~u~6Vw{xc㜤"J}xSO˸;9<}@NW_1kϊor'}_<|yߑk]7^o?~~_ݹz?:UQK_(fYBlܦu(v{sz'뚧/Di}L;I'_xnOqޕWׇ[/>oFש}[ݲ';=אګC=Wu_}:خ~}yӹ[~^m7c{R異zﻶ>Jm~OևgmWunt;rQo?}}vմc;k&}*m[ݻ-q_N_/	[9WWc??}<Cx_6m__蟻u/#}];e-e{{%o寳Ⱥ6i=϶U_:<r/nVsf㙿9m>o9k۞54;eg|6E˥߱TNW޺6#6ޝSA-PKm3~]eoO^͏?;[zo<aq>m׿gw^]w|ۺ7w_},c=]{os}zK|-E
߯VYWv{cͽo+B~}Ou}d`G=ӺFHoWQzquZ6MӴ^Js^~Nm|;{?2q^]oWDYvo}Uue
^xWދO[ʯ~Mw-?2H9KW?w|mWR?kgj8\cpoYs9BGW]SzuѾiwvo_)fɉ%~ kXs^Cvpg΍_=hBWWܿ]mwѮϷLg!z:H*Y)wo=~/ٞn]P=x}4gIJٔs"XbWKz,MwݾM=i-Χ1c}A7*G9f|O?=yk%é?e~'݊u}}vW_oݷޟ%z_+##kO>s;o;Hz{4E@	ΝD{kﭟX?dN5?f-.u|ߖ7엢?O>Foڎqj]ۘw^ޞ"D}oV3=3ŷTmso'$wlǿwx>uBr~ٯ?_UvWɟ~_=}ޗۛXž=?}ϵ.mzt99
O%_t#6qF~cY矿?ǩ^/Jw?1i_tl[p3qzYEsKv-wz7.}x{pJoS?vOO9=XsYWtKl}=~^6?k'~oK.cgm"Ut^Bn{gwO^Myۺ5{_5Ow]=kٷnu]_HGϯ=Y|{C=~got~}|@ѻ_n]Z){hܕW϶oo|]|?n#7(f7WN/g?1콿O-7|{2ݼ=QcO׎WҳKA2~]_hڽuQt5ө|׵Ue?ߗo]mN_~Y8Ue7w
wSA?4۽ͭ㠒1K>7us=/f~I7{J|^>/ձ;>/0	ig&-z~ߏ>^<l}']N'_sqƹ=fv:۾ð}buOȡ??U+kyǠ7{mwbo
r=qVU//]{gqkmǍ]G|vmUܫ,&۾eGG^Mr|րgNG_}Xsw/x긮sr_>o?s,bQzvoOdw|{|_pq)/W}\|Zُ쿶h>׻5X>׿;[?_xaa{oxx4WV'O}_WoFZٸ<~^ZU3x|c~v?3P+v=;.s}lstGc╮
(PHäDDHPX{0@N9A%4(LPApޢA.Qm+Q	BL&Ā\
LdT&[cƁt|/ 
 hAc66$̨T@PЂH:IX)#$9 &@$o%x	pr8 	t3(E[6 #6z/ߗwo{gNs Z꾱{|?8{2O߻w_C_oiLv[Wnxc~˹~ŉ"HH) 4TQ1Ӣ	'Axb1A1CG x2` @ 6RSZR	@gZET.!,u pbxD@@ a$.hp.(?q'g;9y7B|~ϗw-Jo_su_y?[g/{{]kү}u/w/L^;__zk{ޙ/G(]{J.ϕ-~!T_~}{Ngߕv߯_%f柕_Ou_b|vG{#e@x  _
*VI<QM Ѳ"$evZGd9jA@p"$CR0 S  F`H,B t_=@59` I|!_3>Kw_~Q^U]1Uw2^ٖ03~ֺ{;|'oپBv/~QVv\yKnֆ;U,OH#t AA2@k2y5CHX120j@4.b#h%SL_e>7,Vc<D!p:!0Ő΂ b A
k
(B H;h# #{S
f.y9LDA  q%0*KAQ]-F(hеdy'7,L4q 9@؁N1ƪH6?;={֥TMö=I~o_Ux^W_zo__2ڶ|Mx~vs%`G)]0d`pC mP T
" v-$  ˬKCkf
r&B(M	Z+a@=L!i$9$8J"	06`T@HJEx~<f'3sO[<<_j2K^{oQsNw-}]lv@_丹O<[>{	\df-vIz}_qo{?so[uYWMy=]8;察ծ.~o>Ɲ~wsF_e߹>xmnoz~sВzkr*hG:57ީV 4'&u)*K"Aa))\	8Tg#D g(tsRQ#B	O䬊";uDzk(v$	-`& Ao{}jVf_v/znx޽,ǹ޽<׵;kw}}__ts;3R-Y֛7&nxWr ,+ApXr Z@O bQ P+Bp#yn	LZ@x<P'(dmK	 @ )`:1C)N#>NDS AST$6xL8P 
Z<&8b *P6aEf><T|S	d V $3y	mPl #ETD\^ A@Ǩ#Ix8!O.xru]I"nr>>w^MmVyn~ܿImz׺{|<'x^*&2=O2:oG¯;ݬ\o׹a8naOpd'2^ TK-K5N
,L~e8Ջ+8K0pEĉMP1VQ(P`	_0X$^ @]0+ r*?Z}so{__/O{k;rl5}pQu{z׎Ʒ:^)Ͷ	K|mwmB>_oy\oO[1yśw{dY^39no2=4i%u#_ݯ`=?ͷC{?;m^߿}m{{8 )<40@&)p o# p( RHz< 	lNQ LYVSP̜A@`T\uH%`4r6Q'GAOr5Z3I ԙ^9agwi<ӵUoQ>
>{.C4c$^{^ǟbr?K~վ56ӧ{_n{oo	,"	""5s4w	DQ1@HeWC!R^$ $( l!PQ2qp? ZO&*%pL	cnvdXC"XDUb1E$9v:
QIqR`saC"xR(=@ n#A[+Cp- եYQ2@'XL4F:P8rY B4:<HI	h6|K|~oN{y#_d}3EE{n~si;_tox{nw;k$n?o?pع=q׮1"	&d  M!%*		1 AλpJ-b,. F.Q  AcPf/H1+%HY\H'@D
B'	Q[u-H1&$(a ȵ	Է{{)[hJ}A~eXw]Ά>/xsMɜ[_~p{suM~ow]l	ۖoַrݝ~2k	7 <~w|}5Iֻe{wO5ÿ㒵{xK2NݬwK[7]_jU`7nTp. ܴ~h`	% ډHʤ4 x:uTΎcCjZb51I$F}0$	1$' b#  DڈȠAL3-`a9 f}oYtne֯O/ȏS>>WT@m vw>WxPrwu-sx۔~J}=^]7S}u}vo	ceNL.yOQu{d?O{g=˭.>juTWy)EYjO߯K'/nk{%<گ?~Uk;|4w_W=~gf[o*nZYݸ/ϙǿWh~gߝ|x?wK]_oSnXO7:k׋ZӌW폑xslkgm|/fſ3˿*lzӬNw'^Mqǩn7[']KȳcW߮׿ץ^瞟Q~i>f>}gsy#o/~|?N~+}_۾ܪ~}wݯ5=jo՞V?|ˆ^ gʎjoe1mչ#__/_7_R]4|8fE~'OnyUlkWusz#_GzCUkvvOwMd/]:F-W	?(!zf[=1z^o=O2_?y??Y;kf߭ZW>_?}Ϸ?ov~;Qz|i;~uOkyunW/޾k\]YqY7cسV[>˃wzwz9*Gv~ӗ_f._"&ǏD6>>*UVbG.mTux[;fkon|s:Oȧzog&ErOruߝ9{p|~u~1/L}I^ױk_2~ןXO۾whۗf~vS6卽iko{>Om[~{I/o?rU?:yg.{m~^{nfYr/?߽|]}?ee8O_7ui;>~&MW6SbqjS޼[+[m;|tl}nv[j_v)EOGPgzUV]]?)~G)_3g񻿫)oxws'0Y/?Ro5#9xuc解|_o_5#nʶ?B{?yÂ{/|/]WrOj٬^wy[_Zvv^{uyоw^S#7NA5>k7ߒ4ݟj+_?_>~6y5.kz/#˿sgWٻGiN,_߮ehf_߻{towH/?"co}wmw׻G}l}_6]rѷN96o;Ofm~7سx9s7|Eo5vNuUFqvCK*A_Oy_vb:sܵ'kۚsWCzvߕ]zKg2}k߸eݗ%4}0|fT7{;\7r877	[}kb緾춽Xwܟ4׾ߒ_wwugX_uzY۷?TC_~-yn۟?{+*?ӭ_:}yrݶ}!ދЬyo__NT'{yq%Ŀ?_s-fV{֟N.t{ï?~I|K~]W}J͊_??~摋=7K*v?tbweVϷ͞^sZ-x77VsWl{x|֩mv}~fwaF^72!֏-Zܪ0\^*G~o4?˯ݽry_{ymds~>7mV]]im/~;~uCNm+;9taG}wn:pa_kSŃorO9;5v7CU7ݟo~[m#tg_5s]?;oߐ;~;7ݞz^)zC~<owλw>~tܿ0_;^bϤ?^/_Ovv|vE1\_{_ksgO[r?snxqe}l9?|msv_c~_x.ZJ;'n/^}"׸7_mN/_o^lcr_>?(;{y_X}w]}#O-͟Y77}h7zݟ_gŋpV׭ro0ӛ=(3YB}Z=+v^}oz&vrݦv};kuC[]rN_|owjw|{=]Lw=5_|fz_CZpߺm?:?:~}1%~	%C_7K};G~:+a-wg_ |V%lynkw^⌷(;of_[_;g~_7s5_d?r_6*ntV'EO{nw:Yoe|UW=oytW_뙳q:r}oGdm92]8f]CS|;U?笥9{ۿ~?wvh{~m3rϗb<m?)+}av4VOv5]Jt]iG^<ſ83MHY}{_/Z)长__svF
uI_V}r?x*ݴOo~|׋k&eujj!oL~q3;/߸`w*{]O]gOWUr)qekk>__~i]7߲[z_ޫ3/An@>kݗ5Jq}KyKn}7d6ֿ;nM|菇D~E6y?νO.|/WG⹠s7ۿU]Nd?Wwwws	nra[?;~gvNݟ_.?[|c[oO׿w/cs?{lǦ^ϗz^G_K~SIri/6ߟѹoOn_\~,濤xn;]+7_:f3ܵ7ͻt߫5u{uQ{ѧ-;ΩyWގ?<#mV~ؿn_Kn~5K޵֙mMǵߦy_|_uW=ɿ_q!&ן[7qy7+ݽAmi{_i?nTM^5m{]mPWͯ'e4:۾jܦ_+)=`'۵꽶wQ+w.N~k?^]ﯰjg_Ow'g~sj?Woc_';ߪzڽmmo,pm~wOɿmw]Kr>ZW;+~ƥuo޲??Owo;?wjV?/i;v[ۭڇS~kmgϼ}bTZSiw~^N t5{w3g7?syRwv:_oc]z2mYf>Gkxo71_kO1d\~?_ol}nWToU~|ܚD'/׳w܇Kov4~7{}=ϯ7~_rgoʸ>ޟjtOzy~ٶ!&:[ym4r[K/ڮc9f?_}bSf-frs/s{;_w>bdۛzV?&s-UrvsmCGF{}cz7}mZ)?ܼeBΏJ]okX^=_?~3?{}n7rMvnatoֳw]?l޷ϳ;~/oZmN~>eyݾMߧ7孖?G*e{rӴfG27sܖpO>u?[n=mۯN	^wnُrSv,S]*1+e7=ž#?ص}[z_9z7~xw\Qcxot/}vܫ_hWoe5s'`7o?.dZ~?UM\94?nglXص޽=l.Sϙ?7ǻ_w-!|7y\_?ow׶jHdƼ[ot>}ܿ3f}OOKgy*/q'_,{~T8_۳wutơ.߭Mo+J]׺潶뼓|W?G_&+pw]mIl>Ue.Y?؝mxߎ]ߜ'ɽwW]Dv5nR{z^<qxW_Wrx+lq<Mg@o\w+熏3e[/{w=}OGs?jLƮ9*(wo7G{X/;=ksN. :X3yki7U=>SlwTbߝМon_Σ_hGm]o>}ǟ[1/l#c˿gww9ɣMsw]_,Uz73n<ӽLOoR`Ek36,N[-OW;(&ܩocڇ_{oo7/4oN?*]۫j~?~mku'_]컞meeGTJy3sV:bڷ+Xuܻ=Wiwxo6d7t/ҷ<x~_snqo/T}Oiz7_oib%ξS__;^Ѯ|=]
>_ޞ+btgOs{l^޾}~{LU_W{l[oo_C=zuR-׿;?v<W}Ǡ~M'NٵFwԯe|Wt﷧3vW?uf]|};rW}v'߿z@.~f_ƟW~:KIɫuil}rlwx^~qZScl)֮Y]ޟߟ١|=~LǽS{_32?[穙b~-[u*	ksR_v޿W;_{_?JOkt,/׌OךwsGV׽o}OjƟu8wz9'g_fu3~U\o^\ހ,UjO~;,^gG/]NřۏetG֪q9k-_Kmq0:+C/ͯwiNswm;/6=f4vlxy=|w?姹Yߋ33S?}}'_!ݟ|]3ye!	7;tc헔MU+sT:)ͭ3eߟU7}s/gծA#o_{3tUl6/\PlmC'Au^k^oسukn3Oߍ
ͪO;Ww)dlW<qvmV3nns~w~_]o_47^e=uCvkPoxc8wuY9m;=vIXgެ+w헅s~_[~ӕ{7]mO?gv}{oғˉQxvj?{U~t/ɵ܉}gYr[ljٽη˷%oﳧwߎ˿`|~kס?[X]L﯎u״=2qkwzzwzW_o־O{_NShkunkš}~׿yUy^_zֵf7~?,돦WqE]馍ȴ+	B #"F  LF	pȕ8ҙ Dg G	HaB!"dHEщ)@(Bk: X0b 4Ā+QH49Q`-hYNm&D%OLC~DB)j,?,k>xS|K#'5[4߳l;˿fzYŕ<%CYofX՛o~>Tj=K1O9{\F!]^MS{+mt}v["x{{pO8ϙ
״?v^$k"sǍ CA4
 'D	
t< *'brHD@=)d&&@F@)%SDDDJFIGH}<!@B5 Y>OǮ[O׹e* 8..xrckuw7>ݻ[ywV?_ƤO<lէn?}PϖioeիI("L Bp@"`8	:5Cq 8H VD0@$daH􁈘Qb/ǎ R C(20e V6XFд*0 Q3,$PUćA&   	4Nx 31хVV 4tXBAGBXJM@O02Ch
 @B%` -!)p@4iI Bv bE'Đ %Qp81"m'J_[|wASVٴ*.Unٺv</I?6ӎM˾>ѳvnF<^~=w/
Z !h\yP M+KO( M"mT D2
N H0t(n"Qa'88Bd0hF E!!^`{wR˯_mN<5o#~Ef.\c?/e}0ibzǷM:6^cN.͋{>m֭|w*g'ӧSgDWwös:S9jɖgӵ#Ve5>uy-=rwջ}5oŏjw9ێ';l/v[zmٯ7M`{nO_os5r`C		LJϏPX ah<@L  4`+8UJ !& lgJ @B DR  [@Q( 1	`/9BtnjO_w#sǼtwyBj[=̷WFヽq箞6m'֗xRӧt^]+*mNh
^~?錟~3B01mW>")u@+ t 2Hp5D04B#+1 ZPS   D	G9T (3 P@â IYBf@ aSAPp=cidjU@R$$0J Вh@ h`+B#@5G H  Z#XgLM P  Tk sL	9isDLMNA@0Atɜ
'p@p{`B*mZ~xg:>V|oUuoRe?o4[%UEMܑnoMpnXq[oTY~O;
/vo~lyj*^o3֝8?G
u1!TJ	 RTJ *  Rր$er,pA $4	T@ %	@)R4'ITCQBh"@DYe DcT$t/h>]Ǿ*=ߧů:`#,w{+~?grJ_ުnKf^<sOڴ1m
eR߫E8/?ZoE:I}g}tV۶k_4l?]/_߾{mfکtMŷE'uzgqCE>O.>?9T:,'`P^l,d*3HiJ<
  5aP = p)%!PpA}	@ &  pP#BU2I	& wL  @\ DA  r[B! ADV^wOo(}o;ٿoo??$oY}tѯ܆6o?DW /ޟn9_Փ^[KtW]#M3qT PԢ	h  d <1%p`f$ F9@Ǒ ` 30DpP53 \gBxbkQ	*K 	8" lp- <  )` L4	J2Fh)I&Q`0 "+iPd 8Y%PGQB ! 1N@B{ Q $ނIB H6 y/]6~]="	sWl#{%U%?/=.h>(vqq=z|Ooo?^ϬFML|Y[Won~\s4 *դh d 2 H䡣"PL\K()@ 	@$Q(fFoq$ BcI E#&QhV2A 
CP	 6,Re f!
Z@),BDn|ut}ܓ|eݾ[C1~zwOn-_`{m/~e.CugDK=W%KWY~6n^*$9m^Oc3yNY֜?OV&gyiL}UME9m{Nҡ:K_Znmy4}H	.a?e}"T#B+~턕 & 	FA*5DB@  @e ?  
|B 0\"CpM9mM	)PA 6oo%mZ   N HT$@QZeX6@Yp2jj HD rRO+^+gxwkf]m^v+}۷.|@U=o7'z3?tV턭os7S6';voy{E  q @@a`!HEBCNxJ6) Aa(! T,Bz8&D  1 y` I 5N L0	!R0	 T@GBPG!a :J)"8Hb F
 a@,HX dPD%
KȢ HI"*@2Aڀ 8H  f"q&r!Df#a#(p1k" `@YY|KKH[O?fTç)Oug,з.{Fwrr]wڒ7j{D?}/&Y:'fK]=~C^~wy>w[g|g޾ϴ,}w{|Svk?/}vֿ۟zם+?vy{[ja҈T? H'AJB`@0p-g@GrPBEMGrCDS9SZa( ( (T FGEPA IAlQXNIp
!1" %mц$)iX$!^E9QljpΣq(-Z'': ) 1a-kI8\WGBUld)|F4~yއ|}w7~o3w޿}?T+__ސ߶(?ǟ_]{V_{/H[Q==էLu|Uoшljh ?RJ\,xupqDDaU	ƀ) rƌP D_KP.! @P qT1v1 kqCQppz9H#?O{\W>[Izt߿Η<g>{;snѿkv]7%~0ާ~}a;a?63߽|}W|.5^^9z{}.y̽/^?o'~ǩ}ߜxZ_ʿ_?}}}w/[g7}tIP
8_ 0*i0FƈP!8^>	q&#!@MJ$ %ODH+TkB@z,@e	Bb9 $ P#"rcS@Q ,svy?4g&7?n|~>YǴ+޼\>~CvV^z˶ZSvsWM?ۺ?pO}g?
!C28Ԅ0!* DF&U0#PՂ
a"	A4 $)D~ dQ$4!8h+ݞr XB&ZP!$qPR*1GF<P` hHt;T3mCG~dnɋTH8Ls<S"#D)]$h d`c! $X
f7$d09IE4XMF@db/)RK[tƇz|-ܵn}eou^:ޟ~֝x~ז5uM&ݯZ~~MwgtWo~ÏP&cB1d}QC/ )	A<*E&,9PHw"SCPщ@P8X}|y@\	ǐ#0N4FYc"\DF/scsɵo{^xy8yCk:po+PzZziFoQ{N翣y﯅*?7ԿgWםGvY)eQlz?ߗ|i̏@u}﷫=Zq^s9fLn{sr}CXB*I>(X 0 ㇀Xr IG@D)VbAc@2D$	drh[Dv7:EZzIMA.&]	BB=<H ` Y8XyG^uC<*%;#j;&_{9n~};}8xŚ{'{gu|Y;ǧ7o~oB "a'3a"\q	XFP5:SBp"}fExZ4׌tj@j*i
 APt$h5vAdnqPp66bE`
Ӎ'$!` @JB/`4"Dv)LPD-ğ%((P" ebH48H*%r!! PD N.h0za YXPG#b\~2C9DLNoNovnbow7z>}y_?x{{_mgw?we=?gwr=՟nV
KF^+:uҫk5О1|8mp%$ R*"Ae"8@WY^*1u$SoaF2F(Q%`C  ` n</7mW?N~mghaz'>?s?n]粯CuK7ӹ5o_Z7~f5׻vm}o[{?a}?}n{wv8EOӻ^2LnwT]>l=,~Wۨ8_z2}z[u$EA<6MG>uUC"	dHRB0PLHJ0qMBÂr` %x@JX9x)PQx" BޔAB0}?y-kg[x?c%/ҷ]kjG?sNqoׯ}/[Oy_oxu{xF"2]I Q'1^<A!g=0er9v(TH	8@fш4 " 0
(/xAZHDȖB7MbKt$DBRG8!n 夝h+SB @1 @*SeX
A \ #P-cR]uE>BPE\xч*RALQA3PH d!MۂpGx#(:jss(ڻCVY>߫^Kwbpcg|~z7_/S|_8?_m_?G[տvZO.Cz}C?N@@KH-OI OX0mqvU`b336IPPSQLTt OzQQ0K qTYLAG1qӖl rǃZF]]w<۳1ɾqzj߿-O0ݮ>x?B'{w2>[Z?洨w(ݽ=W~N}ߟGͷ/u~R~o̶ѢNߕK~ϣ~OvWǣ/Kj][soq>+IP$I!MA
paKܰQG ePYy$I%0DQ(#*XKU0@ZkWbp Q7{o.c/j׾_<?iֻe?=Ԯ:,U<)6oO_{6.m//~oj|mQ]׸sgl_qk~Er~=YwԸ/nݟG__m/^;n};z.x=npǱyv;/YeeU4cIw[WkMGf>P]mLbD~I^`fK@w_|cL¹jVb	VJ&&/G4~fc~ޚc׬ w6s>ɸ>?Oq׺zߟbW>M8ows1_<ܿzOZǿb}	+եӳ;{ezü˧<NO#Yph+n}g|6NE޽ܻx[\=]V<ݼ~_O/veﭯ(kNtjɫ_ٹz{Uw>[-x\nl2}ݾ_{bM<?[ߋzͻK_:';޷ߛgDŷ}:һ[}Ѭݳw~~w/ӱyjMV?/.w]_e}}_%o׳߯[ݻ%u}\}{r~8/_;4|w?ȻmW︌wWݳt'oyf6mįV?=tϟ((jdޥ-nf5%\u߳M=5g~]oG[jKuؿZ[R]?A6k7ϳ/=-;oU{uyy;X;]߷Vwo}{>5{vy3E={Յxs}v!cKgww}^uvXn]~#zCo|2-\]SΉ<~Z__riNOo9Љ[w2̺*^vc˨9|viæIx?z厭}m{mWRؗiOGv=	o.z/qm[|vFAv.|/]ws]Mk羯j5oWŵ~u~X7u/2l_ߧ?~~/~[ޏ[޸w֞O0x|Uvi{t3-iM߽eٳq+]qeloY}Wv12^xwd8o<vxdl˽Goיm߮U[~uuJm<̿~=5gCLĎs0Gk~w;~F~Og=k{_n9h3sҙW3wWwy]_\m5wSV)?s;Q濙n_{-L>=il}j7]gp?[02{9_mZ|ZEo擛d[WޡRkZO`ײg_}rv'٧T4r+ںw+]ٟן퍖k66+sorfُ:nyPg?;Osg}1k9fw(ڽ=ۿ&&WFN/+^F/ֽg/~K~osN9ԧJ($j"6Ru~[4^|[nz_;z9rConܖDc;7ZAvk7]w1-F;N7rvtDkwJg<kOSC[闾'?%߲:?rs~%:߽{BgwE?{}Kѷݵ_#Jfƺ^ׯe۷kuSZ۴^{;<̷ٰw{v)za|7^7_o~v~bާ7Lt]yky?ΉÑ>'z2(wL|_.~}v:/ie{RUSPCvvOϖ62܏~Zv˶O>ld{%?msd˼λծ=OyV˚IڿF߰z_4ﵯu+Rnӿej3]:}]Bm˽.ϝ~r;Ngo]_߽eκ^]z=۟i}[}?x>[}gϡ|_lԘ>~3g6ߓ~?ˈ3߻/K},lů~\Ho#{Ǜ˺7UoO|4M!R%W97ś̱巿A	WcppW=+_qy^_ϵUCZݷ?݆~u~߼ُ=s{?=˻^{+_~?eؾUw/vŰ\ݽҽle_EmO|r娳"-G{}m˶n{y3F1]{m<+Wڟ^֮Gy=ϫgr'gON_{_9/wgtcz+?Ӫ޼O72{NΥ|=_k3흏|&ǉݜ}vN_E^1so7|TI;yמR1ƿΙu?VOa]vN^s5{Kk:w:v/O1?_[??yۻ\Oo7~sJ~?[U(ygGgIi?*6O}TՕVmƍ/qѷ	[ZfNm~YKiٚz;= }t*2s'_Gֱ3Ϳuw'tpz㫿lݱ4Zy~^Aw_;N7{kypV7g~߽k_]S{*ٯ^on#y_3ԼxYwjɽwHg?OG_ꗝ}ͫN_||X>퟼;wWvr/܆N[MO|k?vgv~IsBw=k~-e뾼g_V=T?L.W{&dYTKgHk_7k[׵[㯱)WܭW{=OQq*t~޽{xݿY^nwzXU>nNw՞Ͽ7.ߞ/^:=>}f_y/VI~>mYKU uOjv_97glޝ>/Ors?>W-.SO^0m{__҃JFd{v8wQS,7Wg]mvΛ˴('Q =Wvo%5^j}htֳuE-rksE_ǋ[i%7ԐVs}ַr\J~q]_t]qu{n(oo?uy}kWwvz([Wmgn_ߺ?d7>?o]^mC|Evvޙ'o雒.3v߿WiO?&{rsם97vz[=|7Jrfͼ9>Go1v~dn&Wj*cz\{l}KV|==_U}[Vw'5g*K?\~oc?s+S]Y?;~{nꗍz5߇}ozrkOz[~W'~ߜW}%SOY߱~n^K_ܿﺯ/z3oտN}neй5ge8%z,xuq[cQ7A8؇{_P_lofk=/צG~+o{X:B}Z:*%ɓb{F	3G	]0aS;s}_ܹ{սojw=kZ?O4G~EMȯɛzooo	}/˻õ~WG~Ӫœ}?뿹Di[-K~VO.1d}VDWROԳl5~?<4id>},|Yu[a0oP:K]in_]i__~\ҶY<>nNO}w:<pks]ƣWfo{GG_nю-uR6[md";ַE=nzNq{|?[jqWd3_뜊O>2;7ϯoyfmy~ ؇DA.Wa+{{y]6=$oeةoJ,%_w=~^dk>ި!?Uu~:fҰR_v@[׷&Weym؞Qc[s|oMP}}Go_&RxtgNQ[d׳Un;{}ѾV||wl>TTgw}k?oV2o8n^˕ޚ-w>q	]_ޟ:6s?9vv_ <<u;.I}xoo^_yvƔ%8z3ڗ/忸[oxy#vdb/u_{e߆76e}Xyx޵*2|Z_f}VpE,U"lv߳~}ʮz=4:gŅϯ>{kܗW=sw/O~uݜ~}ͽ[}/}f/y_=y~ٛ~=g^QMXZ_]4Uo};=_ʷw˹o;|ӱNv8ӗ.5ݯwb/p޿{:\_7JۧfkQqtGju;{3f|L;shvXdmw+n'ɟmq9!TI~Eq	Vy&ǿB`:ߺgW=wӦyط敌g彙g+{y/_sf:k[>>>mo~}wuSS|v,>7*}*yv=l+W_+ffIic>o5i[{\Yz-ui1?z?ü>]ϹqŴu̯O:7vosuR'߉ߏw(>VxW~?͒ηݪuUkϫ~FgNGv~S_wQJ}~ygV_X?kwdX7~ޫѷ?_ӷo޾m:sӺٶWvJ&?bU>PW=s޿翾/촆Y+LǣhnS_]dWMkO?=uE]EcW=Ns/q]\nz]m>Uo[Xw{4[N_}K;Cy[q}W뺮ݿE3wxd}k=1mk}o^n[iZSMznֽ]oo)k}]ԓWR]ߴ+c{]!rϏ݀>cңms׆:\~~ߋ\o6Oyߓmv+^yvirKmeo]y~f:Sn) +^.׏w3׭֓kgv{WoL}Ofs0ʜ7?_y`8U/+~?ՁVzqB'G._g]>}|{i\w<wgrvUg#c}}߷d/}5\sw}[ӎ+?wW>~]xֶwYGg8sFsy*>~r)}OG{>/H_>H[/ԯov9m_ϋkmq'Nzo>ʹ_zN>rf#YK5Ο=O_:i뢸a&qmEMUo;YVc?7A]۷=?׬_{|u~_Gooo{ٝt޷7zgg=hC]5nO}e[{M?.mt/߷}>xǕ?*}ZwzsQ?Yvv}kEb귿W#{ʻ?{~vޱο}ksߢ?2c,/|]E;>gkV>qS7g1=7zֿ~3V}>VR/TO%6{w:_W}׿zl.).}?uzq]O]|>,/+_cHOz'>~(wwY	ӻ:?oW:|/NWvfiR[0w0vT[w&z~ur5:1UXf=h5_o׮o'~.[#]]3hoe֯vHY%IqϹ&+۞/?V~5/Te|>W}8w+'5[м07n3~~xK>/{7tK^N=}oo}im?9}yŵ{ҾSs{/s?>wg_uZ5쿯%>ꮭo]?E{w,>r2~j}O\e}ߦ.}Moo|qnZwl`!#O{kjȿOfWy'zy=<@͂:"Ӗk*qnmE_+W{ێO]x{OW;w_Ǫڵ?s$߯}+j^g{wO~>׵גT_)*jzok7g?_Y.lV9~?{ouq{5}Zn?tGs8ڿn[o|f}@[@g;pMC3?eO}zW{ƿcn.~n}Z>gؿP;w>_9^|eB;FVV c!7׃Uu'o?/6~5uc\I_xO]vSkKԡo?sݿgn{ҷyת}Q\=W_WC?^˿tƵ/yM~D]q%}D=NKߎ+Os35t?d̫7	7~?"4P֌]b_s;e?ҚfiuJ&׽=:/ymP~9-3B?ŷw#-rʟ]+_߮\d>k_pk֠sqX}jU{3U?a_\߉~3vZ}WPgf>\M1{$g?Iwm⮕_h߽ܽ{gsٵ3]_m$3*MUƟ}Ywo?e+;$Nڊ9i~ߵަo1?o<ӷ7~oIM:u멚~W=߱}wzEo}eտ;WKGϾ޷6Z[sͿv;}-xD?w:?_#wWU\?9Wmܺ_:uݷ?͹?vt{nSy{oopufUo_̾o/Vk2~ׯ=3o^k}vs}wu-^ڗ忻cv^z{rݬYۻctA_1ˋ~L^zOd|&/~;Gol+4mXֺ~z?Ugj.y?}ww}Wu܏97>}KFMt}X}m//s4?16|{jӾoO_>۟[Z_}ggw?˿v~g7ľ~Bn(^ES6r_uK/0둰<v%ς[>S[Ii@o:2ݫE%tv?dGb]-;A-ϡTɜ^}KWFΙ+[=ٲFM	ԳDǫW~S<%;d=|G}W!8mw&{߷߷|~}7~[񗯾׏=IO}^_w̽Kj]?~>wm8[cz}~įho߻?]GcW՗[wb/zR/|Oi܇ug?,K};y*Q5zn= >9y[[j1zם}FLZy{[oEg{W9C_UG\a3__}P}_6=v]=p{f]~~}5{˯~ogrۉEokm۷~~{UOooiBsiU_sߗ[T~|pNĳ'z|v{~mX;~~M`Qk"pGkOs}KtmS?9'١eo<ԛtKDc֧=mdG5<aS7;-XKRY!?o[5R<O]T%S]7{/_/75{O۾=쾖^Mw<ۮWޜ^ˮ<gg5e~?byc $*] aX}k&>_?"fT=s뎿|mz7{ט7gu֑WcO'״vB.MvۛI7z.T%'ui۳aROTAx/7&|6[j-[-d~?]}ͤ'YvE0p7N^5~7MvIEܗe<=a.q%|~5ɣg_o[st_ߦ!7]W}=_Sw̮?ލ7mq+Ϋ=7IR|U?~ymK+|mqh[xw~--7o]'oh~|sgGڷi☵gm6_<W}=c@q_oN}osvv\=uٷnCwo&d]TԜ]ve;{O?o<oq~׶kN^Z}^O.Ϸ=_.Kϣ=c{w~߭={vw+mi{+Coeiџ=oxooUIA1̺rݿ;uطLʽ71__jy=ޕWٻ{՟_ߺ+?Ok{俼޳yzE<g\Γoeı^z*]}2W19[ǚ񿃴O2z+'S|;Vb13wcoqG"{+t}%;ps{5箭ٻ-b>yFϸξo漭붶e_7}a[ޟc./˝]}O;ye*g߹vq4(!Pjd&harKJCVJ@,E 
&  B抔@2x%?FX=& QF jX%Ӟ*X!FPȀq6I	 i!faH(Q
e*A;23	ANu6!
d.B\؀ 	7"])@
fT%P6? 	cY+k-RM.o#gg/S}}?}f3ȟoUfj^o`퟿o._;nI}s)_~u9'Ov:(
2LD%CRd@4` QsrB sd@ CpD4б 
P<WT1 ;%B!5% 1@JfD}' q"u! b (
$,n]}o?_c:業s3Wrkoמwi'+Ǻ\S_u{nzo=;j:{t|wx}_]ΞdB̼\?}meՕL?Ǒ7[yϛ~֯sIn~Vg~~?~^wSURa_zϮ3uvtu'7M!V	*liI@9	06ь5JE#U OC:i1@A+v"f1|Ep)@.3* H@2GADDLv7u.syˮ[soz:cCSϏOO>;'xG?]ݷ޿}}8֋[^믜#w+ro경ܱ|7otB	!I#DGkDL.l0!T]T"ZD '@;<M0 Lh @u	-&Ď`]`>TZ3hDKlp0gAK#ha̸*`Vڙ{*̴"SV^(PM5 #MAEIZ$P'XL&8JJ@B'`e K]P!(0Z'H2A!TϽO6EZØ|^m[}loowI>I_׆_h7vǈ.=d^n]g ]}[ W><B=OCcd _
A`Xj`)lł|El+֌ (tOT%0@b	Gc[ 6a`;
0â
P'`UP@I̘"+D$VܜsK[vή`]~6~ϻC:?o];wIkѝag~z(}G8o;O&m_'}vgo{W)~ySv뢷Wտl;_yPF}y+o7}o~wr;1z˦a^[;D__k.{Y.i ""  d DBuTKrQ,aL!*.`E!GXh Y`a\- *$L
c Q/Pt<C@1'|N BɡѐR*b^%!3ۻlwwhϫ.^:L=tuRp#r~qpn?N^UMQ?o]f{zv_%w4
m4Qnr ,USefv B"`m BԬ\A  $,b$%jZT}PC,!P`?@	&@AEUpL4aBgA* =x %rAJ\0Sf@(7
z'wIehw Xd4G
QA@(Ar0:0H@?		0
B0MP'"bm $D=',D=RXd?fmmٛս=gk_]eC㦤.}uD,7>tC#H(}m:O-ӿok.ce1'W~oWB@@'lDYL`*;T* ,!0YHzsdJthbV!()	'XǄ4  nA! ȵľ̑r'@CŤ˻) 6jk~~]UZ;?NO`_7ǝMςg_׬MӸ?Gh_[Q}6V}~gӯ/}wu]5$WL?j^Kf{V4P-wWh/֍3^~itk{k o>/>w	W{$#~O޾K#|W[W\seW	ρzObp7}`,4S,Z^LCqH%LYPH@1	YN	$`VcuF $ &!@G@=0Is2
͊	 HH;UR_o?w]=ToyQDw69iٵ?Z6:Mn'ںד]_ڭs}wmTѿ]_p?+3|=Zٿ%0'$MKe1I':hbːD	 !TjRd"x0/BJid1
`6^pC	<H QÐ)i 0IaK&/r  !m(#p:X,q/\*e(EY(9t)HDZb"!RBf SlvQ *87Z	*Gۤh BzE.RÞ{ן|'?\V`?]S}UoݬiOv<ߍ9RuYmyX{wo+,G/]")cA؇((Ǘ4C* @°(>		 F^P z`܀(ԤTS9F rH pH"LH6. A[GBb̝g("JwSn_f__1s]|zz}}/m:{ڱٳR;wۻѽRwL6;7ٿz3|}O.߯7;NuYTYN}>|w76l|jYk	oj{}v>v</7AAdL;C  AS]!(c{ `UA
,JD)$@O`K@_*QcP 8V	ctR0H@ %XWV۰!tð<e@
0ŔVCHq@ E@*`hoï D|z*8)E4 3/#!AvHx\yRQL" 5uRQLF6.@М>HAB

U$*JQ;$RG 90  > D0A"4EH 3 ,`4 P]!H``SX	 $ !

$NFB *љ]B p2HT @`T*SHi
J$lDIqx0	TPEP@:A $AR!P @).dM
#>D LXB jHƉp@&4$p
ф.011-@ 	d=";pŐ*}PbU)."a` bAH *a+\yC8l!$ VX}6E XүIj"!` 0F` 6 t G  ߊBT!, 
1LuP YTI3 `h
X@ &XðF@P+
G&H@B.p+cyDMh
J]"  :@d
!P2M	0dXj @9B X&b][&#fbA*h) g4PcF`@BSb#@  @.
H +(}.f.%y 5ѱp 2DV2@6 2BEQ(ФY,@0C8B
ERE I((A/= |A#L9A(TaP"
PT @4  !E 0Xe"4"X$ 99&z Ua`080f$<$(@@R1@D0B&pV+!0HX+`DQ hhR3@,
4ZTL*Eh8 X 4 T+di ,)4 &L&a綤mb0FBcA	P3 cP2-E _a r]40Տ#HVr"L 8	IGљ#zl1i`	Z!0@3q@@ $B*QFHx"	,8$-	fTC$ DH $	KaC! XT"@DD(IAH@`#3呣@@<2j^ "`a3r  I8Xk0A`LU@4S#`|$xUqI1 !0EHQ đMB@{ 18
`J @SeC`Ts. E! C7H@Q@	b1TQHǢB0,    %@4X@  `	KyHPBD1ګt=ñ@5P J | )Ը 20[I_z$ +R@8 0Y  WÂ.HP@fH0#@ @8!R]GTP \ abR23!`)p"iBiҁ
6ad	$LgC`gY`!.!@@:	 N\K@@gv5X.K詠 Bl@N)OJ )8$), 6> a(!
DK$Q#\@ P`1GÎ"I0
et*@0hx!R+!b[b>J a(h@%@C	J1  D$.&`>GI H`	T@%( !
R(GDh"$
s%!2B*)#$
  ;h ȸX )be0P0'32u@/K0tTU.5d$p
x( 	h%0 DSBD %`ܓM+ 
*UlePB0$ 	@"pLx?0hq$DP F<BP($$42T  HyX P?`U܂p H- @4 P iA:Pa,#&4	<$0 @[$T@!RH VcP0CRRB p)ZhØ`fd 'ML)BV`FD@4
!@	RP Ȉ UH I@ DyTA$*
R  0%1F((BE0^"H59  0#BP4%& 0##hBCPm QBp<\ЁF0툀0ƚC@";g1 P%B% 8؄Ab.4=J8  ,\.F5CM0r H(+[R`J@?8J @VL !#=lq h$HF32@Y$I@TX RbLM 8Ir!H"A 1N
@rB<)D#E(@ VFIYGQ#
hE! (r2EKa 05Q`΃>E@$]"+DlR!@d'FA3	P0$!E8Bv[/}."<IDBFB"fKUA&	'  A@ՄI@؂"$ f h	F1F>	XCAB A% !}
R( Өm^(I` Hp$2&'`Sh0D,DP hDLE $P Z!!<%c2P().@R#	 "Pc8!P +XbF9%RN R@'AOL# P-X   *y nmSbB%"EU2~ $)l4 k Dt'%J I0x@l	8Ɍ	Q`lH	$! XP 
Ix|i(`@d!B-sK),% CbLW&"-%0i@L`p	
	pk5   Z$9eIպ"%b(#0hf E J P `SX5@)5 @f!22p*gb	2/Vp`'^!(D"^G1cD V "E86nB#CI(ʌD`ã	AP1``lP0q
SD0> DD6@B( ! H$B4 @0
`m$0  H  IZ A`$րh(  C)`U bC,$ \L(
("x6VKWC	" $ E*ĀP.*@w2$L% I P& HCo,0X XJ #& RPdمUH$AxQ - @!ր7dZeEZ-0<|aRD2X,c0h>8L9[ l.6It)A)RT 4@< * 2b&`pa `ĀD&4-$BĚ Q2h  Fh<)H
4"pPdFД Ea"_ E"4!ǐ & y@؉80XDDk$rdDJA @)"D
A #XVfGKn$s2tp'l!vY^F`'dXv"I;|%dLmPj!@pg$
 <>f&7" )f/PwDZ O+!%Rd!r@4P
))  4"EƠe @  RPD(L!@'@Ap#EO B:Q04B(4	$``q[@l
wpb0#@W *>C,qEC8FA@0"a	5@P"R. 1&z[F0Hj/=B#Z"6xpyЁ!8LX 0e"$"r\' (Z(@Y8A rf"Gq4C2U0
4"KO z\`BB@1<vFp0-7a  	FQ	fDC(  BFlBL .#N
cQe
RuRb4 >:PD 
"E ZWP % 9p6Hٚ& VGB$4  N, Sq a`J!QY MEvbLBA2 Ab `W(maCR<4mAEGQ d(WP&+ I1pD!|bGq,BD"`QPLcCqApȔ<#B z`E$B$/)di=AҌ44HFA0a(WPexUpxI|L4IlJN&"!@L c Ap }8@!Q%
:?%pB֘@4*Ai("@&M&SJd A&I4
Q  *@ sQh2pQ`3Z!BCڒ0%Bl$=YD ( e^fLspwJc[  rP"Whe;R2E#IFu)Z9-B
		ni"^/ ^C
@v҂"Y I. rt62 HH^c$H(_.* @9(f(D,(T)v (" B(2I5"$H	KrHP`C0fAY3Q&Bc # I  	q&BB HIEs Ǉ>J I!I E$N+  AqF aiD A!KF l@0@D "nAd)B,
BP@CAʯ
AC@ :	(a	C@32A҂ 5
u2wl 2DdC
!%62݌ӣBNz!F7¦\XLz !41 @B"h*fz㨐&Q 04P@:P `,L  Ӣ"tBt-PVJ<AFB%&$ ָ
HI+b 2:0!H
L/E3M{0DCa  vPgF0h
4yda"iaODBDkBݴP,$ۄBlH \IAj4 H\	CP-I @P#btI!Ve%"H 2 r.&,B   r**`iBNp2  0Ls!IBA QFu ץt2@4  "K h8D@+$  4 ,$%A!-$jP)ubUC DC%	a,	3چ``Tjv^H4L%s E ~,aAJD M+Dc}D@js cj$l: !NAH
~J"r)T࢐fpURVa=8	U .*&y),¿#E%HI!M4Q_
0 ` cvp !UDPX$A" $=B0٢	8b>AQ a!`$ MXM^NAP!EZcFB"0fm	,X1<\DP*ؽI  LX 1 R] 0BYF sD`\
  (B .: +B !J(IJLD%ĕr(R@V'F2"8VS +C *C@GCǒ"1
]J@2N"!@ZYb0H)ؠ(	@![ C
Ap TTPp B9  $Y  GD",2@E 5DA% 葀PQPDCc6`T	9<R@CjH   S|*  @" p$C`)S ӴQ6ya` 'pP 4 aNKR+X,DPRɁNKJA!ӳ!`t%HBXAA* / i~lX$
E6H	P	:"74aPY8%(rكhqoXD
l#Ws1&EAI!1 H⢹bG3ǗP>g!Rȟp%͡g,&	T*A2
&Ȏ(jlX8BJhT(ԁ7I*MJU!
H@@Q
`D!0%b@$RU2(ld 4 %ETRŘ@KHZAHp   P	c"2)f3 !0$"rP5(Qrܲ`p@D QXq Q E5 ,b7|$1RCa
 RVH[	NLj&v.(( Hd[!Z[0Cw1 ^2C"w \"jHfP@Ú7." I)c@&$ԝiaLaA, D,H  @ h3PBe*DXªnM()1H=&P`o`rd@bGDd 
Rb 45 	&`qCD@s "#*@UD	2?#Y(dZ7XIhX[aCf +?ADiU#g)3XH AlƐCQ"iA4#Ȣc8	G".
XcAuA a`Ԁ 2R)`(DQ"g dP#,ʐ
 #WucJd6D

0RBD9`)$INIU'*D	䂂>M1(xQQ+ )e	 #"`HT("	 8PLN8 "YTА±liHUDO a)3QeM7d@Tc{^!)PHH '>gkByh9$&@C'24B@bAb0©R@,
 WLE	2[?"FHpV" ԏ(#D ,d[R ( FAuM)8XF6D CDB  p@: !lFR E"

_T r"$ B$4H30 b@+LL@1 	!3rEu@""8T_L88( ڠ$>  dK %[+   
^n^ >d&@$
F* :0 3      Md+JUG 7$     J DF{mjz C,Jʭ   !@JJ   i$ J@ԂET=r1eK %[+   0/8
^ >r1VJm$n4* :0 3      M(jG 7$     J DF{meK kzCʭ . .  .~>.C 9?? 88@ E> 3_ (8@ j9?? a?_  p C?6>
8T 8/P S  1  T  j*2>0(4  
J  `?   @"04f  @I(,
  @     j,CI("   8   DBC[ A  <Z!`2 (
  X   Z0@  @j2=<(4 
F  p?   @"04 d E,(,
  =$_;'<Q"f9 :0 3      NZ:JG 7$     J DF{m]K Wz@+Bʭ   !@J&Jʭ   <VV?   8>> rt
 %[+
^ۑ^ 4n1,$-> 1Ӱ :0 3     ۑ^1HGJG 7   $     J DF{mMT\hJʭ   !J[J  UV?^o
 %[+   
^
^/n11n1 {   :0    GG 7$     J DF{m^o
 NT\9BhJʭ   !JؽJ   %[+   
^
^/d&1d&1n :0    GJ 7$     J DF{m_o
 <B<Bʭ   !JJc   $VV?%[+   
^
^/2124 :0    GJ G 7$     J DF{m`o
 `$BHJʭ   !&JkH(  bVV?%[+
^
^Я22~r :0    HGJ]G 7$     J DF{mco
 ST\n@pN~6   >^ p ^ L     C88P_? 8?N- 8?G |08 `& =08C Á 08      X	 S  :  V  >(*?*;          >(ZgߪV]zYU_

              :(oתުת*;*=          >(u۪ݪ{*? \	G X	G LF&7  *  (     >   /   p'a `= P @ G #   p, `,  '   л   | " & p* `. 2 6 0: P2 &6 : ; p; `< P= @RA 0 C  C D  E H %L P T йX |\ ` d ph `l p t 0x P|   > > > > > $> |> > > p> `> > > 0> P 0 P @   P /  |        p| `   0| P @ﾭ X	G  F `G \C&7  *       ?7   '      и   @' 0'  ' Pt @P 0-   	     m o! % ) 0-  . /  0 1 5 p76  C  D E I M Q U Y p9R ] p#^  +_ `*b  f j @n Ъr p\w @0{ ~ p    ) `e  e e @e e pe  Ie e e e `  He e `  `  ` ` `  o` ` p` 0  X   V     T  `ﾭ P	G T	G jG&7  *       =   +   }      v	 i i 0     и ^ :   E pE" `# P$ @^% 0:&  :* h,  D-  . . У1 5 9 = A @E 0I  M prQ `NR P*S @T 0YU  YY Y] Ya  'c d d мe h Pl &	p 	t 	x  ` P @y 0̘  ̜ ̠ ̤   w S / 5 P5 &| | 5 P @ 0@  @ @ @     У  P  '   pﾭ jG P	G C I&7  *        ?   3   @|          z            ! " Э# C' ) ) * + p. `=1 P2 @2 03   6  : ,= > > E F cG pgJ `L PM @N 0O  Q U X zY zZ z}[ pzp] \_ 8` a a d g ph `l Pm @n 0[o  \p \t  *v w w пx {  _ ;    0y @ p `ŕ P @} 0x}  } } y} }  } } } ޸ p ` Pr @	 p@׿ ` P @l 0p  p p > p ` P @ 0   Іy       7 p ` P @ 0ﾭ~xGGGGttttwwwwGGDDttwwDDDDGGGDGGGD~~wttD*?0" "3
OC&?#"0 0B"@@J/̨Р,""#`84" 0  "3*?Ьҋ < <0<ԂB H      ­<   "6bL "77 `CF<ɂB H   x­<  #6bL "7CF^DpHFxcC 0=F <RE H     3 Q:  CxcC "7<Fxp<< ʂB H      I#­<  PI6bL "7XaCF<p<<@M H      ߍ
79 r:`CL $7 7@I <X<c<KM H   Q8
@@      0U7< "77u<<01M`\< H     v
@@      6U7 "77<@G<ܢ<5<< C H      +J
HOB0eF0IM $7 7I<< :p3]C]< H     ͆i	<
      ?U7 "77h< H<<a< H g	<
   06: "7<3< 4<< !M H   L	­<  @$=GK "77 =<<<e= H      x7 ȔBL $7 7 .HM = M@>I    6=9   @LG $7 7I h<4L^D < H     %Q+­<  1U7}8 "77}<  <<  <<<`_J H      P+ 7̔BL $7 7pYH(<q<< F H     L+­<  6(b= "77P=N<<tGPG< H   ܄`	@@@^.nn	     肀~ ???# N 4880A?+8     Sq   v   w                                                                                                                                                                                                         *?
                      
*ע"30S  PmMWM mML   @P  R`VMhMjM YMPYM?M?MMMpM@TMpTM0rMjM7OS%`KW%PVg`PgǮgoCg`   @V   V  V ML`VP:O0VO SM)O                           S        
 S(  W    hjUUUUUUeVffjUYViUfUUUUUUUYUUUUUUUUjjߪj*ʪj*ꪨzkzΪ**     @  V U U U U U U U U U U U U U U U U U V U U U U U U U U ̎g P(            w .` X0        ,      T  0  x        ' B5 w"                9! b  q  z  ( #    @   @ ` \)     + + @ H d!      X!    # C S k        ! ) 9 q%      0  @ com.apple.decmpfs    0  TLocalizastrings    0  @ com.apdecmpfs 1   0  MainMenu.nib E   wInfoPlist.strings _   0w  0  0  0  0  0  0
  0#  0;  0S  @ com.apple.decmpfs h   lmLightness Decrease.qfilter x   )P!ヒラギノ角ゴシック W8.ttc x   (SFNSSymbols-Heavy.otf y   @ com.apple.decmpfs 00@ c.dec 0@ cpple.dec  0 @ cpple.dec 3 @ c.ResourceFork H    0_      q  0r  kgSpriteKit.framework r  `CloudKit.framework a     @ com.apple.decmpfs  kBridgeSupport     Tversion.plist     	pt.lproj  Presets.plist     @ com.apple.decmpfs      >AVCaptureDeviceNames.strings      >AVCaptureDeviceNames.strings     0  0!     #!   @ com.apple.decmpfs 8! Xa AVMediaSelectionOption.strings K!   Xa AVMediaSelectionOption.strings ^!   0  @ com.apple.decmpfs ! ResourceFork !   @ com.apple.ResourceFork !   0! 	 ]	ar.lproj !   0  TLocalizable.strings !   0  0  0  0"  05  0H  0[  0j  	Gqko.lproj n"   0  @ com.apple.ResourceFork "   0"0"1vImage.bridgesupport Y   0# @ com.apple.decmpfs '#   @ cmpfs <# @ cmpfs M# 	no.lproj Z#   0k  0  0  0        0  0  0  @ com.apple.decmpfs $   0  @ comecmpfs !$   03  @ comecmpfs F$   0X  wInfoPlist.strings p$   0$@ com.apple.decmpfs $0$ $0$0$0$0000r XTeQuickTime.framework          # ܝvecLib j r    |CoreLocation.framework     @ com.apple.decmpfs i rk                                   	                0Hdc@!x 
`;:Ji
DtG"̯l@
 #ƀ	 E*7;"@$lR:Dm$H@bK@
E0B[2$H>ABT1K47wZ-[d (i-	b B-0^ u92 !"(E"8FCCQ+!-Ď!M[%2"< ְ 
2/1H!D A.Et	Ec=RP$zYABA vP Gl JH1@Q$	*-)0%>kAHQHJJ


tLhe H 0GJ\J`["8F0C (IAD ZE+Xd	upP$6$"@,:UGT!@IA\6HI4
 Fm=pQj$hR xF(!dBd"
nP#HJ	 @AxkB@ F$+fEXlGP	hAPXQI
@ F BSn
E A`b@ 
qJqDq%AE !` VPB kpArT	 4Sn[RvjP6",P7U 04#A"u+P) 4@y0%31}Ԅ@"b"]$Q|w =y(o.@,פC  PBxl*YcaR̍ƒ1#!:I2x`#]I >,Q^E   -YB r;AvS*dY'04*Fiq5h__*B 
k"#+"qHt 0\HAB.Q ŀ;s3OBˤe 
baF4QuBpipiE0  @  V,D<=afu-ЈNp@iB IJ0癙E&KáNKtS&*CH- 
 Tg zHWPC:12D`r "0A:
g)L$m$S,)"0x1  Hs DhAM&]
L S 8a QpZa`p@A Q@P $M0D$"jyd$&$ b2+%B@ JBG@
^4{ze9P  }AR0r"2ȡdQU	@F	5)GB (%( P \IeJ%L' :> +!b([r9E( gLJI65/r0  0 7&y'Ep
I[G%iF)V#`|.G	2JOX8W y0P@ ` 7B
R=B
D, /K$ M   ADhZo" B ME0:'"XGH}0 RDaD2ymk!PcIf$A mlm9[H,1H!"ebu0
TB #\Q	`8*,;L'"GܢTb S  XЈ` &'`c0a#)RtE) @q64pґ@dFO\|Nۉ@D1(u	2Rk"1$%)$O^ |u%@m! P$$164hJ1J22.h$P$ LbD䀝#" :p  LXH) # Tg:4 $*H Xᘌ&!uj#2@D!zD&HG` )@X=X֠J8ECy @S6d
 @ y$Q@@&!4$& zGbb 0O02gEUW]PG,GnP 	 ajIHXC)$&CA
БF75h0 G;4ADJ&"Bpin)mԀd2,B@C@( e !ȐIA  	`@Jљ'x 	bKP4 !'D@r9N (LpTR!x q	 &`lD@@` jA1!
Vbh
P @0a!@@PABAv1Ͱ0 CS Falc $-tPB@i(qC!#knZaCӗegTʐHÈO"P$
Ѩԫk)@HQ1Q2@
C"z (Q4Zы%X@ `&" A^H37lҲ-le04A"(Z4Wi#/D*@d!Fƀ05!E5R
H!d
CE+R%d4"Y"(`ԋؠ	PD"P!I"Vy>{dj ȿCc@~Q	;9DG
])!8Sl?šBve&0 k#pS*H! )C)@ Q`j\9SU]ds	P ?.$CTm`@GzRH6PjiB2
%PFpjp<E [4<h0QtYN"t:G tGYNNv10$Ye$@LV pP	JHDP
bÀq
Kف0PHA(Z84&P`G3VP |bu`1P[t	 -+
|E:FhF &$"E&aR@%Dॲ!SI\z " 0L4z!:&a@9y TI"`=M[@H2%3#)$S@CH2
J&pH `T58ŠX+pPX`v.	hPAz0DJ""B faL[$b	9(ҐfXD$YxQCAH*iFr^+DF 00HL0SO$
 a;t2hS$.HL8F	"@)B%ZRZ @ʮɀ$VˉR\ AbrS B ؃	$[(  `@΂A(;Cwsi%jD` #?"%G
]Bd!LUP]גLa`@` al_Y  1F	C Ho<DDQHV
-@DQH"; Z"Q  FJ0 "S@&T 	p$9*T@Ij)`PE&UĠJPNR͒Lv  G $!  
@ B4 (9v gx< mJ8NA>B 	Hr#2QC@bcf2K)US)`Y@L 	U'N$JP,đF<	Ln %   d4;d@M2"$T)]!Jw`B>vM0N9[̕s
MFL=`XZGpD['@±dv13,ʖ&@A8D Nu1_y(Q2 +` ygFMT )  ƀQh@@̔!K
 *a# 5sl@c%`(  c 	3`ڢCda E4LJB DXb#,",,9 =J &8 A0Ap*0 7"@	( 805`7*0 7!@	*3`C<Cr PA
p*0 7"@	(H:	805`7*0 ;8	'B0097Kn P
,2 $`
7&3@C6H80 . !@	*3`C< 7 P
,28  	&b7E3@C680 . FC$p
- 6? @7`S/	@X!lY PA
p*0 [7"@	(g%`B805`7*0 7!@	*3`C< :f!3
 , St        VY`hUYUUߕOdTUYUUUUUVUU%TUUVUU1UUUUYUUUEUUUUUUEGLU}UUVVUUYU?

UUVUUU1GUU}VUUVUUYsPUUUU?USTeUUUUU?XXUUUUOTYZUUUUUUVUUUU1EGUV} gHzgvg g8|$6|$h$W|$0X|$ \|$a~$6|$*gg0X|$XgY|$gggJgzggg>gʢg6|$.g0X|$gg8gg8|$0X|$ggXgW|$g0X|$ \|$bgW|$JLDDDDDLJJNDDDDDYxNDNDDDDin...RxnJDDDDDDFcCjGNJJDDDDDDxJODDDDD
 o%/) `. ,,8  	&84PC
8*0 8	'B009p1&yf7 `. 8  	&B7k7B805`7*0 7!@	*3`C< " )1 PA
p*0 7"@	(88?3@C6C
8*0 7C$p
- 6? @`:)(46;
 `. ,8  	&7#3@C6Z). 8	'B009P :ĒVPA
p*0 k7"@	(8*M33@C6V). !@	*3`C< 7 PA
p*0 [7"@	(8m4P7
,2y7!@	*3`C<C 7h8 A0A)`. 8  	&773@C6)  H S       VYUVUUVUUUUH̖}UUUVUUei

UUUUUUEGHU}UUUVUUeYfEςUUUUU               < @       <  @    $   @ zRUZFfjuUjUVUfQTEevuUUjuuU]WWUU^UWWYZUz{uFMy7euWוTE        0X|$6|$g \|$"g8|$h gW|$6|$< \|$<L=^=p= d<=:<N<g$,g \|$bg&gDggZg6|$      com.apple.driver.AppleFWOHCI5.6.?6 @f P ggp  P>h6 K6  Ah6ChȊh`6Eh`C6$XHh 86@ 66$6Mh66PPh6V6Uh@^6Xh`S6 6@T6]hF6Xh6P_hI6 6bh@6$PdhhhmhXphhsh@68uh xh6`zh|h666h h6JDDDDDD).NJDDDDDD).z.BJJNDDDDD+*      >>z
JpP^7J.N,2C$p
- 6?P j
VPA
p*0 7"@	(K 805`7 
,28	'B009 PA
p*0 7"@	(08*3@C6) 
,2C$p
- 6?P 	3D,\		 `. ,08  	&     0 78 8888@(8
7 807C7
8! 7# 7  P7`h )8 88h/8  	877` 	"c  X78  8 7# 87	88(8   S  tH1   H	  ǃ  H  H   1ҹ   HX
  H  H   1ҹ   HX
  HH
  H   虋  H  荋  H   腌  H  y  HH
  H	     肠~H     q~H  H   1ҹHX
  H  H   1ҹHX
  H   HtN  H  Ht!   tǃ     H    H   H 	  H[]UHAWAVAUATSHHH  t&H  t@/1J#KG 0	   H,pX q@P@, F)Py
5xmIbR %0"դ$!-VF"	@ h0APFXM J'&+hǹ;F\[T\#Gwۊ}&Z׻|_"̇=0N>}bG!lKU6k׹i%wmGu)nFwN=Gu?u{t7ag^u+V&o^OX޳巷	oΟe;USo"e\][,MRרX )}l+:DC JdB@HF	B\d;@ȳ@".A@E&10$ÀXhtB#X鄀$J\ iAi  1n8=wy+K+tFo6xU_o֫̇dZӛκ9q_ڽ_nUn0g!yjc~gsZ΢f5<'?ЕoϴU?sϻLQT  <ļJ0PN J*  ,SeBF4!`B442Faj B(Ni@ЄHp 0ÀBT
 (~I &!%ADt0 # h Z8Y'
$@1Z^%p 홱)¢e @d(ʡ S  @ʌ6a"@Ysp`v! {굁B4 @#(&x -s#E6 \Id%>y3ߚʷs?rk\k_S?V7%^ew^}7{åyM-R{&3/MҬFXpȏYwיu[d d,u
!	(YB#B
ci%0
Ū` a))h	i*F ƀnZpY CB(Ps0&^U4$ pf ! 8@ FH!#8$n(ڧ~m_OyQ~GWöo~.K>5'\G"=fZ5wӯ}vsG-^}bym=u;lv&ggߛcu׮Sc=7ak 5*qCgl
_Ѻ͙߫OI,;ڻg|&?=1޿;+ۿu#]s:w&ʫJ
`@"_`@(l )G b`S T&BP(91*(H@1iYB`@aK#JK#)pI  FPP Lm&=vͪo+k6կf}?Fʙ`1aK{ػwR>|nFصwUu'.ٵ ' oaaO1BbU hIG"!4"@a Uhz5QB`5"s:
0@Bbb&EA"b)e,@%e0 E`8bd	  XqшZYS	
)@	`F"XBh@2) 1 ØZ2e¤T`!eCa$- $((!  -8aJ	PBP
 PfPD+ D\=/fom~ߦ6_D?}G]wz?Ͻoe&=<-z6=>/~=3wNei~lOf؞ l R  _(XHp 1D,_M`I  AP	PT C,Va
\g`(} u(J4twDby 2Af$ AW4oŝmaS.˿sGX\;oճ;o;)kTr]oW*}}U?4fZ{_{7=_}|\a|כvazk~Xm۷}N݉m&ߟK7mrGo6nۻ+q?/Gy|>spK_jZ~־㫳;^+x   #e%D KuɆBP`
4@R8*Aʌ
 Ú8@L #~!X	sTp@Є6U)"x$&w8=4O<oy|iM>/_t^QKI+<#۾nn/lEO9Z2ow<v?ӏ6ǵw+/^$! a-P	\( ePM m$)"A, M48BB dlY)91e 2U
Pֈڠa@Z a XD H!
kaGTA$f"A!anR2*c#C@X<8"@D⒐`0 فI NXǰAPB Ba59 ؄jL  bX0 ($s/[I|~qu2[%?Og)~Y{cw}f||_Ͼ/fM~mk}=:f͍R%]^/nxYz}ӿoD4Xa@"L<ø7 n: 
5䁲UM0fZPNy`na" LKB qHy T	 ZC! =(j
 N{7˫[[jߗouӬZEm/|{Py79z-`G;\yD[~Rog7/	OfM	n{+;~mYmwsH?s|PqΟd5{Z}ەlV3?̏qtmO{!??i]9#b_b{Wosڳ?+!k_z(Og%@!6	 PH LrK B@!d
"*% >  o$kQ"҄ mRBd` ˙*  @A;FD8h%
JĀ PKa(oDy~,~y~OWog_~mfkr=_e?O5m->hL3#Pa'Ƣ_5=#_>ϕ{}/I^HJK^_5hYIT,"44ifS NKD
.0nv(	\ JS +JHUF@s
J*(l HK:4"	e Kd)B "B[d*40
L1  	A"	A% HT) !1Dvu*l R#3pE
J0
sPX	0\!RIb䈁 @E  `E^f]}Kf4;<?ϗrEVnc/ͳ}W{?n~۶__9߾?;=MM;'o=|W\js~a+_B7x                      F                          d    0           V       p               &m       SI             \
                                   g4       KGi      "         -  -     -    ] ] f V V f V f U V U V f U f f f U V V U e V f e e e U ` U f e f f V U V e V e e e e f V e e e U U e V                   0 }      {   P  +   P        }       p      а          g       802b5\p3`)|Hp&	$(@$, D#C% 
L`$pؠ5  (H#
.0Ga.X?{,ӥ~$vP$ȩ
iV,ad 4j$d'E%
1d~(8{<%遧,{S2
 pM &१pM &9%̥h  `      t  ?   0  
    P4   0 @ 3 R    (  P     p 3  ) P   0     ϧ      S        L SL      Z0^ZZ*1<30iUii<Z0UjZVϦiY0zjYZjV<ZϪjZV0Y[YZ AL` ALL. oIhL1U7p+=0G oI`LDȱ6LFRJ*=Lx).ȱ6 L&R<?LoQ6L(.LK86HG>L@ nGh/-.>Oo`ɴ::@L`AL0LPL O=&'RoѠݝMAL8L&R<?R^6LExLmG00U7ALj8&.T?:ALLF{ .<?PL0}F6AL/GK:.GbA2B@ALhLh	!.~ޱ6ALwLi2.gW06ALAL۬M@`9BpLəg@-M AL`L 4.H9 L^P0°6 tLPoLsL ΰ6,.n8}.9Bސe6C gL@0;p4. @ 0;8+&ﾭF@ALAL6L@\.:: 06xHL..H98HL
B<Lx$.H9<Ln`ﾭЇ6`	AL AL@L@E/.6 	ALAL0m1.8M6 
ALC(.胷v@6 ALLz7yi 67BL`<p<L.*.EGmКD@AL@pL(.gWﾭހAL tL&.H9sLkD ALPL X=P|oJ0}FBH L  :<0RR= =6.hH=QR=lﾭހyAALdI{Lh4.0I^P0°6|L6.0I殮 V]9@GLW]9s#H>w@0.`sDΊo!A6@LAL@LBK0I Ln~L0BK0I~L ΰ6`IxhEB:BDȱ6@AL6FyLr$.H9oQ6Ln2.K86L`!.R^`AL ALYM^^)>^I^^~~r.~~wwwnnw쾎>3..>>3>>>3>3N8 p8   0A8 19 0
<@6*	,8 "@8:`7, C2`'8؀$B0,;?  
"808x @@88C@8 3@6 	A8	:p8@8#
 A C8*`
7& 08@     S   !  ;    *?X  "L
O?0" 3
OC?# #3"BӠ,̨,!002384! 0  13+?4T 0 L+?  "L̈
O&?0" 3
OC%?! "3CB#BPЅ,̬P,100"3`841000 23+?84   *?­<  609> "778ALX4AL1AL pE H        "7hYALmE H      "7ALp1AL@LnE H   6 "7@AL-AL @L-AL3AL n-F H   xBL "77o?L/AL/ALpE H     +09> "7AL,AL.AL,AL.AL B H   6 "7AL+AL,AL,ALB H   (í­<   "7ؑAL)AL 8 H     >E "7p]AL(ALh8ALy7 H     Vκ  09> "7 `AL'AL(AL`9AL@x7 H   7­<   "7xaAL!ALX:AL7 H   ­<  6 "7@pAL ?ALP;ALE H   \  Ї6xBL "77N?L7 H     x06 "770AL>AL`7 H "609> "77BL  AL =ALp7 H   !&6 "7ALAL0;AL0?ALE H       @6xBL "77w?LNNY>.	H.NN.AYnNnff/nN^.  @?x 'x 
 8 `?0 *#	@?8x?0@780-"?#@80?  S     5  84   *?T 0"̌
O?0" #3
OC?# 3CB#̂,̬PP,100l23`84!p0  #3*?44X   *? 0"
O&?0" "3
OC*:# /3CB!BP,̬`,"0!344"00  13*?(( xAL>AL0 AL@~7 H     .­<  609> "778AL=AL7 H 	`609> "7AL<AL8:AL 7 H    6 "77AL(:AL $AL v7 H   S  09> "7PxAL"AL7 H  kD09> "7uAL%AL |7 H DЇ6 "7qAL w7 H D4p6 "7 ;AL*AL E H   e  xBL "77 P?L@9AL H   G  609> "7HtAL09AL(AL 7 H   ܂  Њ6 "7ЍAL88ALP7AL)AL|7 H   ­<  @6 "7^AL&AL-AL-AL*ALE H   6xBL "77s?L@7AL+AL B H   ݋6 "7AL,ALB H    "7\AL*ALp3AL-AL@R-F H   xBL "77q?L/AL/AL.ALB H     09> "7AL.AL.AL/AL /7 H \Gh/.nBnNN....NN.^.H? 8?#	"??>Çc8c> ?#/C?8H6?c	4h$$p?C8`x    S3  v    :ﺃb   <(j<;,jGYUϚ3iU2" );ZUZo#Ao@000  ?$8f[Yf0  ?:hZei󩏆?%>;800?#?ΚkX+Ш}$^yO ﾭޠ}UyOtest B }a\yO}QXyO    !es_419.lprojVyOЧ}QyO}	eIVyO	 en.lja.l}}}`}!QyO}!PyO}he.lproj	  java }	 de.lprojorg     !	 }P}        QyO`} @N9@?Dda.lproj }aUyO}RyO   !it.l
 processor   	 0}q_yOЯ}}1QyO}    ! } pt_PT.lproj    !}_yO ?Dﾭސ} }PyOWyO} }	  src 1PyO	    !cs.lprojЩ}	 hu.lno.l	 	 ms.lP}QyO@}_yOuser}`KFQWyO;library SyO }VyO}RyOsk.l	 H}}es.lRyO< ?80!5}QyOWyO`}QPyO }a^yOP}templates    BAPyOp}   !en_AU.lproj  PyO	 WyO   !}Q^yOar.lproj org    !el.lproj	 uk.l0} java 0      }    !    !zh_CN.lproj RyO`}!_yOsrc ﾭ }QyO}ٛ ڝٛ;  Љݟ]UYݞ홈U﹛	ۊmU֐ok홪]ؿۋX	[ 0 [+83؍]ݟ
>		[hݏ؝Yݟ٨ݞ	Ϲۛص[ݕٻ9k	 
 D	&8D
aAPE8EA>!20aF*p0AaG.A	
"a'3qE0AAkC9`BA'
	FP;,!(? ,`4 #qDA8G      < S}      *
ꪪꩮj @""*	
h***(!⢊ꨨꪞkj    HLino  mntrRGB XYZ   	  1  acspMSFTIEC sRGB       -HP     cprt  P   3desc     lwtpt     bkpt  rXYZ    ,  @dmnd  T   pdmdd     vued  L   view     $lumi     meas     $tech  0   rTRC  <    <    <  textCopyright (c) 1998 Hewlett-Packard Company  desc   sRGB IEC61966-2.1   sRGB IEC61966-2.1  XYZ   Q   o  8    b      $    desc   IEC http://www.iec.ch    http://www.iec.ch  desc   .61966-2.1 Default RGB colour space -B   .IEC 61966-2.1 Default RGB colour space - sRGB     ,Reference Viewing Condition in IEC61966-2.1   ,Reference Viewing Condition in IEC61966-2.1  view  _.    \   XYZ  L	V P   Wmeas     sig CRT curv       
     # ( - 2 7 ; @ E J O T Y ^ c h m r w |                         %+28>ELRY`gnu|lfiguout, K
U
po
*U_,~H<eshould7A	 heck"Yll8Pdiffe
0:

S mS !b	{9s.map(&:E)iq/if.size > 19<IKGaELErroq"#{`}nGmC0iH: #{~joS'}"1Ok,Zw,	conflictO	O	r0; &	#Eh!;` .Gvi+drej { |s| s. dha_? }.last(unlG9:le14e"un-;ha	i'first}'&*Ch["E =-09k/l!;O08_?Y
'1 _e8l? 
_i9A.sage.
MD_?("Cunotb") h=(  ;sGT.i_i)9|?x/8X1!9L 7 n

end

  ﾭ  {zwwwwggglffiiɖɜ\ccQUUUleeeVQfff EP  E8 / ۀ,t5>_P\$rv'Cc>W
H<=Ѓo|wy'`	&I<yw98       S!C  ph         ~    0o    `S    $ (   , 30   4 38   < % f@   D %PfH   L P   T 0}X   \  o`   d L  S!C               @        $ Z(   , %     Sd      UeUUeUUYVVVUUUUfYYZUUUfZieeUYVjYUVUVjUUV?Zzz誧zjjljzklZꩥjzn[nZꩦZ[jZhjkjfjZjjZnlk/-UYKk N#   @     @H hd0    X     p  , h   `   X    P    H    @    8    0    (  x     d    T   <    (         0  8   @ 4 H H P \ h  ` @  h   | p P    `      ۏ8      H     P                                                                          (     X                `                     p                                                    H                                   x                                                                H                                   x                      '             x              pp       A        \
       )       {       SI               j        g                           ~        H        ~    0    ~    X    ҕ                               kjy               Į              Rr               '              SI       !                T          ⏫             n       zd       )               h       h              '    D    Į             r                   ^                              ~    L    S              #)       !                             2       6    8    ~        :J       \
                    uy          p    V              y       =v                               |<    l    ,    X    SI    D    Ȯ    0           9        =v        M           H    -        |9       h                     O       
       «             Į       S                           &m                                                9          "           " R  U U U U U   _    _ U _   _  U       _  U U _ U     _ U U _ U U               
  ݻݻ    p         p                                @    (h!Pt?hc5\` p M(7'@":@3@	$!%8,B; Sh_<.87x۝6JS|<4(Z-\470jL0;11S4
s.1.0726s/D=38l2.1.021430&[<4    
  6 'B  8          `  @     p   , P +   d  0 L 4    0 <` 0     1    $ S    	  2󪻦jv7_3wwM&W?yо?=]YŏkX~Ivw9V~\S}}UXGQLF8Xb^dZdN IX"#`VxI! V i@pL0<q48Q\XP )%b0
;4CP[T@(k0$
R E p8JdJ@ 8V^e%! E HJ|v MC!HPŁ) 3 (
+@s I 8itKvm(D 
b	Uw-S~XOiҟ??䜧[癵+\;O.vKYX0v;ݻ믺\߾Y[ܯ[D`$*߮w~7vܿ0RQ	$*@Jbh	d@#  ¼&y0׋ ( 8\20h}0!  ! C#ab/4	 *	dB' p !,F)rgT>O0oMM_fl7_^,n?ҽ?T;5Vf[۔l`j~o[^
;zo[ls%YK˽[7߬՝{ScyӾ[ n?,2K_߳X油w?[|_Vɹ+crO;urW}_c6ia~[מnO~qq|?#$Y\T1!hG*
v%J$M)\	8W  u"`	E%@Çw!´0 *#$%rbBII"Ȁ t `䀅z>(T 46ov/vwW5=~gi/տj<l=`?~+~޽0T<xZs5>OU(nSIRS;?Ok|	
P EHHȠE -@J)bܰH$pBP(!TJFd^ @B1Xb4 a* *!D``M
͒"D;@1
3DSQc-AGxI!Qd)	@aRF`(dCC M2
iL`[	?/p>@#<Ą$EY)aUBp  /omP}֭V~_2o?o|Oz}OvlݯO~6s~͵d7\'V?m;Ycs:8|aCl_<Z,fDUDf[昁AA@ 0&1 Q,PD B*    HzXq3-A*1RINzPh	r01` @:( ibF ,LKqkꯟyustoS쓍?&syˎ:04*)7淎fo~@Nk]D~7H_Ov~>tW?/cy*.o"9nWRYϚ迗IH};Eq5@#v6%z^c{␩k厳ۮِ;Lm^BGepy4FR$BA::Hr@ǤM` `Q!P N1 ( .B0lQB" Q9a  I%8P`!8+   p#!Z=wn4{5}sk_u>7ogr?uk|ҾvYSÏ6Df=vW3wr^'v}{{_>Gc۾>}X+
%[J HLBDڈ	N
=0AQc!JIHsՐԍ䅆d-
m}@AB2 `hpdQeN5 )"Y' 4,!) v2v0	Z2; _1@g 0,p0e $$$&K>zఢ `hH
 
; XBQP  *>@$jz )R* A8@0<JC2`>  #  zV\?s.}?i?1]-Pmx+o[._z|{)|tqz/=<֨Q*Nyﯯ<ou,.qzO/@@uH - Hʜ@U	DtDD!  s`'B*KA @pj	
 L!@Gx
BB
S@)@<$Q V2f
		¼fU>Vj/ɍ/~Miׅ'^O wӛr*r}I'"KV{W]~^__rCEwR[U?M]ݹsb:e^u5><{=|:4GJ䝭܌]a?߬4;mʟ=o?u}|'ܥ%jˌߥ9 NQ ҁ"<7;Z@ ;2, D<
iga!*)hX@(ĀJ@CP1*( ta ЂA8,,P*f(;FBJM )ɴ37Uo<ˌgrwӺ|#gsqc]Q߿-;iWSrid`?߬qKnٜᷩ=89{};s<AE$  q%(킘
B^ #,"#*`$"Rh <Z4RR4B* SLX '!Ix z019s)l  Pns  "^ PTABJaLCl`z	f$R`@TA+ )
DB#
U|B@1 %T884LHX.D
@PxT]￬~PZ[}~<wbofl{ovo~wk:_::o[N-{Ƕ|w/}'j{{uewVmLwB
F+L   Q *R Ia ТF^ 8B*UPAJ2   XN, Ex m$0A0@	#@(=6_Nq=ϯgY~tl[㻻kKݛU-:~}#naXeV1P?m}uu[^ĿMخ;jyy4l3CxQjs^7n߷G]V?y_u۟$su}x[n;{:;2[ѓ/_U}>:Oj4lٞenqyxJ  7~E@L@Uz("@2@1Ki\Xb>cXV` (RT]A
K"tD 1$o
	J`BIX22BV楗$a=;#cž]{yuo=Gjm#MzݝWkV~w+_/f[hYn.m\ݾwW[3ݍ>3%6TB, PŐ<I
 1BA6XR<!$Q[;XE6[(((r0i@' ` JU\%HDWK E y"	C&# TIB J! ˅(CP
 $B-bJ@i+  琊 P	 j*@` x@BHC	*M"<BC)[Dd#9YB"P9S0 LRa}<jܿ[O븛Z-ۺ7:>?>w<W>[<k9yR0o_}W.?u7[tSv}?z"n E I@8  T (N$!3@ACdE $5@@d <HPXrH(X  	`D#f2o 11 !`
0$rH	H BdWtw|qsR:){οӮ?+臗fWOGKx߷G;v:=kz}i?,ͺM.U=?yDw;߮Өv#~ոuN!}qa!_6kϫVҺwj}×k|9j~qgv5_~?<~{oܞ<t
M_;h fT"DtA 8	X J(@ u  p AH@!)sH!0IP) m
&=ރE@ R	!MB	h Qdpg58~~Jqގ9Fo{:?<e>Gz{6;ǯwqS_WW\[%_SFّ~wl翽I^붽.+^PPQ@KPĠ&`c BhHhajX	xGdBZN @1):I`@v"!P3	f
8ZL`@@A	4!K'PSD'@ 
@ 0abRaKHE2 @fl~W"	,D !63AA0	&: @TٕM XH[[AC
)"A'IC/\%@eS (lITTΈ-H@XP(b0}ws/vSg+}"K7w]ݛw}oח^mjMZK;E|THW#OB="w+%ǯ n$@P> $Y U#@$L K 4H(0OT i S8//rELvD`%R,B	UJ!:	(&(~!d$D% npv3FmW^tn?\᷿=cm̛r?Gq.nn>{J^w[=x7;߷%;_z5woZ|s.-~:߲g=OnW
޼[e;g/onk_t=Cq23EMy%|~9W4a,;3xw	I*!TE @hA9@8+ `#`O0lp@H(  3""T)`@k @Q'@
"DS@sH0gr3g?b~z,vrvut~}w}[1gMs\f=;%6m{:_Y?__(-}AX`7@&̣' &>`c HH { 0IPZPP@Cbzd]V3CN`2Ik4CR L_ @ؚƖpD	L*8j̨&4cH2b@#	&4&BJ52!@tR#9PHrȌGƀ0{xJzF#$GFPZA CC$B!-K b 
rs@ KKJ?KFs
с#|~ݕ9}G/뎻{I?~+:_<O{Ηwk=ڭk{ew|Iw5)\~sξ% LM [Z$&Tu UU	 j d|P !p
 Xe4 TalEE/I` @դ"
A AKLH@]rPH8%@$dU7̶WO>swf]M5-oUh<#'Y˷oOg::y?V/zv?@b|wҦv{O.s7>_~wsoߵ)N}[g/-_5'>v[o6v׷Woyov[+ϧx3SmQ_޵R2U)a0A/&|D˜d\ 1  ~ȁ`,  "AiTZPJqe]@ZH1 $)G~(TNRG0`HHH#¡ crgN;k[V?{OfN>W}<K?V韯UrƋϵ->]vJ?۷nC^==^PDY<dҐ`A#	a-+ E$ɐ> jaBPx਒!?G
0@9A	1`hA' HHKGUF#	
a Re$2PMbI $]`8I1+A89	"(lT\A눉(  @K=+pҀDTС@Ee(AP^	\/}|]ωǗc{x|?ƻsh{y[o;_U7Kzo³o~n}r}\/r^7?[  =@p*TJRtBP/'jDK)RhzXD^$" NsQȁ
l @)Bap`5dHt)I1RYBFа|sO}7yJcTvmU'>SZ/.|ڂ͟[7|{ܫ^|pv_/w[e3Cy{<ofSqC];tm<kUwmW4~YPUw{VT޻k7vwsg}5~߳-g*u֩j?ߝ}9Z_a#P @$ISHL x  P	(1C" B.b* ,F 		/"_
M ppC09-	
 bhz!@L ؇Ɠ Kh@ @ԃ~$ '1PD %," A Ȑ!0" R)@P,&y@ b8 p B9D0f"@paeGE@H U0 p	 DBbDApR4o9OOv䛟g 9xsm5U7Foc95_ܣ)|k'j۵pip5󋫯Yww?cߌ;
?ծʽy]m.{X-{wc۳Ύ*|ߙG>߾+z=Zud}旝e^~{_U&u?.ww.?0	KBA@d%Hpt
,3 (0 E@$h@K@
$&'Y0!@a?jX0UAH @F`* 	`{Z6!po՗)}[k>A'?m?s~oyz{x+ʙJwB|Qv?Ｏa~hv/d`@ 2>RA	!0	5@`#G  ! PjK8\X& @0 ɡ \DJ$B0 ' MJ6@,@0'!Hi(eKHF ȀB  D!):R9#80qEs	M1 D r LP(FV'Ƙ$`H dVhN0ER`)֚Xq#P(< I 0rP 8 p ;ע.rw׊Ǝ?ryf>ۥ?kؽ""Ky;~7F|鶽{]^=hW6SnշJo(S
b(Rt@aZ@N%BΎAUPo #ؘ IH&G`'P A  @X
h@  G8 $ P>D8  D$E/G 2-3 "ϭu?t¾Хgߑ­.x7yh߰uffۍyۿZ6kum3?m[뻷OGĞ_:?KSNMGOi
}>qFwh0IoU{<ޟkIGeӵs+lx4?Z.UTļᷙ{>IZO-]' |}~KJ  P L "	\:#_P80@Pԭ@S1:8	q"ab@!
'4`+EQV@@ +4CV e!j(LQs %`Y d *KwWM'lo?Ǽ_dQc=?}]esS>oo<?_ViW:;]?ۻ#c[/} Q`$ĒR 
K#BR &EȊHI&$!17Hz!B$ .ȃ8tM84L@u@!)%BHJR/BI\ 
B%;=%1 hC,H"pJ`@ Լ $>-$&%Nc  *Rf!E@{  $@(2LEE	$GN@@
@EA׻Nͨ/Z>e]ҞɞI1gvW̓i4-T~#?VcřgWf}j_ٵ[Tױ߼-?+l I$! p	2	@wX@TT'rHAXSPB ĕiRdpp a+4HEXJ-"kh, &r	)a:@tM1)_7{oMr|/woJau>Lj{=㎿ooͿ.yOzԞ^rսZ|=+6y}=򓣷;>1zuk<w]ׇ<1ԝ>_gBvO!_kQoF6?[y~6b~X_?=מJs{}y|>w?/o{x<B ͯQ td (օ@qA  @$sRmB` \ ,0s @@7*H:JDh`aI(O/BQ2IzA
l$:A(@1!d5	";Ddbd?}OYs>꺳-?qy9];d^wwOWnV߷]RTTۣVo/|ki>fx3/O햭>CH)" 8e:p " p0$3P2 a	O(PTLH:*MB㤖 
 PjAo/'(Uӥ <I$<=B6)FE``L;Q!.PD$ C(pG()Xܡ   9$?BQ cJD@ľakE3L !80>8@" О?.7ˮ|aM3g_Iwa/6wx6_vNϬv<;޽rدxp9=f:9VTҺ#6@h
C+ JJf@ň r0$ %tpp*t$IZ% Hvn,  t$2	!  @  08$`5@ `(ÐG d	(`
Ax}пs5Ny2'[߫\(ny7<o~]Vsw}s}?M|6}4A#ye<K-Jw5:_/&ӗn^ufqԶf#NQޔ5̶Ź.ur>urwϮ-vz~~TGVg]Owcq[(  0"4dH`G4# r-Os@`7AS#~%Bܔ(fHEp@A# hf6 Gpc@CB"Ap̄ S4 Ȃ@ K_֎ߎk=ϱw}b>U^}lom_R]G]u|Х}gIևyڶg:_dCwVwu	Ω@@d$
@$D@!^hBJE\0EPL`IT
B@r8M P& @y(a]I9`4L 	*S0IC`8 Gd  & 9$L6	8QEPH	 $D=ѲFA` 7 @D*`80r$}TJtؔ%P-H4x@1PKBq!-" 82c Q@l̐a @/YG(BA Rď. v	r(02V۵{fYs=c\ӭwJCm}g߫o7ջ~K/2_s;K+y]d;NΜhߗs(cU෯7סK-//w<n  `ZxsM<Y1F)S3@ ȉ@I;# Ap@5Hp
8I*8* JY!H(	PaB@A#iGԯo}hZߪ=/Zss~zOl<97N=?i^u߼C?{x;m[V/.gx-sE=kR\}onղ{)~_]~ۛWgח>L}ܮt?Wuޫ;,GzzxR)wV>[tk//(IR= )
X)P\ !XDN U @<`DX D 	@@	@!`!13 B#6+ B2BKE
* aaBQ J-;>J=:vUmP?vtL{NSGI{f|{3RR/noi]d_w1wHCI0 A%]$!i"aXy"-`!  P E
 v8	Q0= rg!El0X4.2l  @#@	
	RpD((@?4&Jc5M	V	
&	CAAЁ @ ADB %A$ X .'.T 	,*^c S,!jljnNGoᡋmk[e:n[*7M_=/ߙ{h);{?o՗j+[s}p]7+gOzwV'P&0R@)ƒ C0LT  3 4 
 )׉&Jee 0lT.+:y͢ % x!)jX	B S`
 v	*1דܦ_"
,~9jvv]>??8}{5yϺ~=oPUdN@8٭-wGp_bluoO~X{0ۮNQo=wQ;_Y,a/)bmy+jy}?4ogyV{Ώ;u[s]跇}ϯO^/L/5HCJ  aDS
7NJe? A`Tk3pI+"9$L$"  .!T(`+H G. ")v A0	D6Y %` @#`F?{Iz<޾,A}Kwm~ݮלw}+5ޑw{wfu~縛zmTɷۘw -y58,% ؀!zhi4@AW \ -N!  0*Xa , &`R*2@K)$@4*Y"p! Ё4UFC",`
" ( (%$R'`,%2"Ah&2xT@9$@@ð 8T0q0E0N2Dq(}A@(<!@1F"1BS(L  i,cܸsQsng}XЂlZ!=zփ/MbkwJ=;Vz?L'ѷ:<{3/U?9NۑO_B* @+A&"bp(-0T@3`Cx쇐g a2 $SPrr
 	 AgN`\(XHm B9Q",C$N8 
3}I混Ps޿.ͫUٴ{lw]Kq}~S}tLj%MΝuSh|n :r?xU{|/J?_Ƿv|n_]ۑ^׽}[2}߶yH|W6}|u+^4_675pYu.NYݿkN[Y
x7M .PBl@  LU@J &$# "pE(*6 2
 B! t YM z.`+c
 *E*+ EL`6"8
QCVrf\M՝G`Y6mO]ܙ}6y^~o<u=_8}{u7\O,otָ}_GPna^
(t#J 4Z!X$΢J*	@"1<FAE j` 
 HB'  @!1HQ@!H h(
SD0
LXIh|@0%AaIШ ΄a@A@$". Dw}d+@~`2#-pQ4* ( (Qq 	 q,f8UFd~x{}$Msu|o{SbWwf?>ݿKS5e:og>v^ߢۺ_=Wύk>v핹B Ɛ?MJ	DA ~CEp"gXRÅKx !0F  "Xb!I4f )BB\ @F2% |2m(hTE (N%k^K{MXU߯K}lTw;?qPC9SMw!|v{kOu|z"qfLo5e#dog,ZNWgɹq_YWy+
.3`H6}ݻqyu?BG?Y?sU^ovFܖxv/7ﵯ__Ӯ^ˮ @H@KfA/(IB)1% (DH0@dC(J`
p@ C5hEpZ2>d @Y~aƂ  8	bKP
	f 2 .C T-t7;vͯo;_D9~qs2'Z3M'oo>{o}{/vw|>~j7L1 	e X #`5h PAt U@ы%RPА m bB `f}"*2` 8BfQƈ	Qm)G5l@( D(@a!3BN67 U 5D:BH&( \,o@$ 0 # ¬3 BPU  $QD438ɠx8L@9Bu`NͿmŧo{ww|wJw׏ZG^7#_/tS>UG	`Nއ~4`}?w}mrgbrv}睷۳ܜw1wp_[8&'){{˳z9'7	.:hcR~WXm:osqgW{D}OaAk% ΆZ'ӭmK *%14 T&M-hf	NDPMCFefADY$RCu#%A <>#QV8 y9*@@@	D\9R0
,P3%F2C* tc* pU@81@(6U)62by !`@)FS!;uQf  M8"`B%07;||ߩi}͖}]/~Qۜ7ޝf~vuk+N|翡x痥@m4{i:|S[	Aa"!K"@^"4H|EBL$ 	0E@1B:(.P
8%/H !U qxDb iIB bT7P& 8  a)5o\O}M횶V_ڞ_>W/n-7?f{ҿǚSeu> O-u?=}i?G'+/[vjzkon&'ݵ_s]b_~Wٽ}?6l^iOGr:m_w?ٞ|
  8
"ЂUhQ(#( !F!0DӋOH
 C:1h@ F  :F<ȨQ\1 YPB<AQ	 G!iQA)ZL#ׂyoҴi|q]&sJ{noX'cuqJn=gzȅ~72wgO|8^䮹}2=7q9<GQuWqF!E0aa+F  
SAhFC ]9&4ex2VAN(6Xb`T 1	nU$9a-C6Ki@5X  

a2D "]B@R@  @ 87	 @AD0감 gtH:\0%$
edbrdX	qCF"@$e(b  	M{C}?7~QgeS}}ibo~!wxo'ל|K[?v'?hg᪺[54# u  ZM<	J&1 P#1	ǩa1DPA+0D  =| 0iD"MP!!J@AB&GI&k._2u+#/ w76[|yh,_d/)nջ_4noh^WܲOލ><i>zY?um]>	~=z~+?Gq~_׿}wow|?Wk;ox>;{vqZgVw֋wJyuFG;	m_oϙg	~  (DG0r2
B"Q4P Bd$4!>E0D	G,K$@'&L`R`\I GF "KB@"Аs1.L0
,]v"OF{[:~\V;?]~[^/\>vs:m۹=|}zEz|n	?Cg4}Y>S|*4p	.XFuX܊A2IX  K_E!DYD@\A BBD	uHB 1bX5"(0ԲIr\Daz%G$@4L$[8tD@a,t/P	m%BX+D'	 ,PR,ehC5B`J  -109H<@ldR~n{uC./Wo6~A^kw~oEwNTw>{u>k.ts?ۭ˝, (XY RL" !>(!tQ 2Ђ
d@DD B B1/4
IeHCcw!  
@KPb-Q
=A `/fw^z^1[~wVϷo}o/cPz~](~ǻE=zEnW?b~|o_ܮYmk3ƩkeU}
~]Ïxy~T'&~~3gm\ˣSgߥx޿&s7I}y
떶W9Sk5{Ȟ.OcN,id0Ҁ- jN"
3
XpF$<H'4 %
@@wb Ȯ# J  RRi) @&x	
65 p" A< 4%0(GA숤$( :u훫7^}{[>ݨ˸x^+j(澿~:{e	~P[fO:{a1ojLgbX4 D%(]I T:Y6 x\T@@ L#BB@#>y*ECa*l Ep CH~P@Y-$
R&b9<0%2 $R	dP!B$``P(M
Pȼ(&"btBp@ !	 q(x]~L Uu0'@@J映O-]@qSzp!b)9A
>?yϋZ{x~oo}ٿ_uG~.7#e}c[ֿyw[}7ӫ~J79+J{2_Rn{_߹ЯyBlX:'*f2m:ŉ6
E$04% R
0+6?AA@.BKI&kLV :fq ` 8	ౕZ0`'$AQ1@0 m_{}G0uږoҾw"n݇|v&3NO-{{ߕ޵]WO{z×ymul7"e_c'dz߻}Su9wkg\o_}_oI>+}uKwx[nfǿ+wVz_ a^!y`	2DG0C(-E?)1qB25fQaD )%mA0AT V#2@A2!HtS	e I xQ( )wbyiO^nuϯybqKߨguỹwo>UXW7E}'_Mxooݺ~N.~I}cwr;V9ѷ>ٮCחgzԏ?&ޝpeqI2u9Z[1zLS`o\$ž^/ky_|w~m_nng~nG@vYwٿm@q3~Wݗiu]f;:wҞ7mM^flk~oj@kO-ycOOw6-˙-.뵭~=Ee/z:v^kwjVK{wxmv}~j?Xgc_޷z;4koOvw"߆&nu3ku>ݾG@vc7Ro]'7Fߧlkvn?NƨӲݰJv쟮'wuvmn=/3.~׷?7㝚jy|=;r%k(VekqM~s'uOv#쎰37_~:MvNogpla]G^կճzO<~Xt' {QK}ܣW._;W[^j8KO]l޷l`}Q=ѿ{N%s&KOO{鏭>xS+纪k?N#nϡ7ϟ NckG|45{[wŻ˽8?.z{?Gٿ|}}zEg;gwN\k?3_96[X]ޯ"ZCkOKWipw$3Mn6?Tʷ?׾m&NXg)eim}}S_ag#;/68}1O'KJܕNnܛ~cvӻoߋ2??ּo}ջ]C]U\/f]cos?ߣJ-޿\ŮR\ߣ֎l߼_{ǭ/}ޏ/gT>?_Nu__t^>h}Նߏl͚w?w9/zɶp^K|I79ό﷤;~%uK[QY4_`βWӭ7Ujg{~zGvџn.oyeY|k',wzˀvkпzO__vaf`ϟ}~׺]5ZOi==Oo~o~_\=lK=/]ºa߷^|qiе{'i)FM׳OcҦہ7GgݟbW~oڰƟVU=n__ir(ge#$3Ҷ?GvζŞ_?x{]X>U#v߶m^wګНzV^/?kݷ#3o~Oھ|y;^WճWI'ֺmo%}Gz7{GO{nduO}ݼn>_\swmEE|]5>u2zUda_f}յ=}4J{osO^}jؗwoחnz嵏}vjz{g樂7.X_P=?ևq::_:~u^N̏OqVXK𵫏]8gy7?V5ϻ@+eJ_;sSQ3NZ\V~si.??[;Y}wwg]ݻf+_[!noV't;~OѮ.GZmy9S?}O'^^V㹿i|#fn/=Mm{T5~?VOÖlӽ}uVu74FCϹק/w~oҹeV?'oW߿T|Og;~^yQsCC[C..7O⼭s)\mˏ]7ǹO}ϭ!g;NAgMI꽩;gʝu{^_ų<g9ϸmOo]^ý:/õW
c]߹m:o>9<vgWoy>ז?{zzmT}}翯?K]>sz,o=<wg߳Ҏw7{{i]g;ʏ7f&U?]:>Kps~s_Qu7n~;_[mr~oEN~F7o_[Ek?VC'_~fRѻgoQFw|>oTFn|mWkyxv#sm帢wo*Y{fKX,wgsJtci~{Sfrxwsh_4idn-<b	]}vrQ؊y'@[OwU';g~近#-)$'GR>m:ҷݿs]^Λk|8bx=ke%*zu+íS>&?߿8^E[͐ɟUWo:̻\>{@=ku'kqw +;ӵ޿}}0~3s_^\?}{5}?%^^|cz{y݇=w5^?M\ѼWߗ߯3Mڍ^a;|ݼWo~es_lF%̓oi{r3s<ҟ3~.8{9;\~o~*?.y>poeٻ}j?{u=m'owxEzW~ݘFZr˷~-D*`&~o֏OfO<=o?8O|q:췼Cfi=W}l'zgQ/?yڿl|M3Im{E9Iϼcқ]4>[><RaoSGw;}uz_.Oo>7\aj~{oΊkfFf$gM-˶uV/ﱛa폃EJ{~U^+ҦoeYݿrWn*ι^_|t>NrZM+jxOW.9oSͰb>}T㭝ױ?eGϿxO9]N矲zϼ?}.]u5[n5uwl{;.}9uUTvvUu_a?'-k}\g!<}c׽{got}nξok&=JkƻjVU_;LXw~	םOBSk^˲_(ž_ݶ˗^}OGvx~7E~2s_gx|#;C}osE-֝v0?F7>W:l;Nvپ"vZsٝ^_~|xc}'}&xxn2%9x5գKc۽{HNKp>n[ z}_+.}VsTg>?{6JҢN5)s;G|q
V+~?-X{M7ks@.{w{7l|^O(^UuenZQ~ε<=?GGG
sSs۪Qy]t
w=IgwW+lmW/vWţwOv^{/gM΄굿A}c^tw)^]ﾅſU;g}-S:_ʧ>[}oOۍG0Gv|fsq=߿~=YSӑnۿ	EY6ǟEſnWWeνaMkW>tڣR}}qw{^wOqY[`%}&9K̩5xZx=[/Kg~t~%h{''K~yM؝6s6ݎ:sܫxݷwx㽷:EVM8|]{?qG,?g>ߞ齮5Yrxi2eٲZwrvX7IuߝTYc՗ytM%
>>پk4~\oW;_9wj~w.ZOl}|YߪwOWNrnw{qqw~w?+3;w{{g;?|%~6U~hS+߈~=+xwVVL鼬9|F:{ksggw߶_Я93;ko_U_MMU؛o}ޜٿ0ՕOe}MGq?ɾ|{ҙ'9G??WݰYoN
f8R)Zlʷ;w|p޽ޯ?[__Os?V޷פyNUMv*Gvjo?~߳oOnoy捾c/=v>IouAg~gS{>o׵v}}~nwBNm]?hcry֏.X)}4>Nzs=9[s/}gW0<MޱO^wP}y\14=p8޳csߑ~\1u3( Z?}gk}۫f='__{YzskW\{ֻeWp{;-t߿]pʷo^W_w?~q_쟴_w߬|/ׯ//fϟ{S/pwOs槪+ٯs5w})Wz{NIx}7zݟ~Ge.{6>}U_OWc2=uMGKWշXA59oj˲\H }3[?KF,f}_?^Njo|:z7BlӹM{x=vپv{g{;Pgo$gɕͮ/Z_~ﯶ^oN]M_>v!>/S^xm<d}M~K-]ׯ뿻/sSUv*kksYw+w/q.o{ޅ^{-Wf{7oQlԲ>}L-A}<?\g7�#eFEkuvݩZiOQn;o$lq/._[YqR7jGuGe3_vz0":^Dl;:tY'cEu{s_"۪owN~.3_ޟ}0>ۚYd)vyv1UkWv<rڙ>{|.qrMo;yyϟO}{Aթշ[m_߄-"()E>ЧKVn}m~8{:UYۺO^Ryoǜjxr-ɓw׮^w_El7џ-M7:V]MMq}{ˡ}Hx쎛R땝}n?}+]Zofmsut_ݬA,~#RO{_f?m[G5X~<o_8O_}|s	}r\wx[pk|	^>VyrM=~g_}
oۋZq{c_E^_^omz-߻?2wK_w;;N׼x}kDgA^}}7wL}omm}Z>o3}gㅭ==k}ɷ?u$	v~^<ۿmm{%UŶW'[z;v5D_2vDr~POȺ}]vVme[/n/U{Mvߟا[s5ݏ_<pϣfsk-?wTRЯ޽y%ܧ7G˞߶ڇ\o>%[Cd\]~J*z}c.xv:a뿧s_w<s֯zo巗fy[l\==ݍsv׮wWo?Ixkgv{X?uuo|g//m;z<p !@9!	9QEY*0"j$#*:
_JURҟDHHHp
IYH~ \ KQ	9EC0>`k񠹡"g7b3
EddJ`DS@l	  
@p@`   E@R%X PJn ,E H󈑥PJ@l(ȩAg4!@LK8!LKwіo@a㤉">^ @00  3̔+LD#
"y	'
2M&f$# MkNbC*6  +99ZQL-DL! AIo4S ;Ty`  A0H	 k0N Ԓ"ăM BAZ 8LbT@*hR@sM
 K"@<<#  R@ɐ	DM $|G"oTH<%&?FI!D:FCݖcA񀼁$F $&fКJ7lD|! `_2# I"
 T  bBڟ(A	 AUGM T N@i(#J	mpS  2T<TԒ` #~Ij 0aQ\T @riG l  bb9P FX@, ٲ*!H
X!I3B鲀-
`-irz\{*nF4!	 A afB$ h( le{NdI3c{`t 8@Q;Ȃzg<C`"# D!q֤B) YdH@
b4'4BH[=0Ѐ@e`<6vRD	E!
8UDZЙb$3g$OCLR䘒bBRG 4aW@,a+ҡK&ƗAIV`╡Qvh5Bi``c!ϔ$o I 'Q.HhCLad'@88D2(C@@4XAJLaDZ09l}D!pQ0``AR1%i 3Kf  , ˂"1Ȫ
H2Q@(IDGvBa&p63ba  &V h'Md*w	5% Pʊ&14
$yXY#/`A& ˗8hE)Ƞ%$1&p i ,G1hj@7Hb5 8 'H,['$HN =?zQ 0\bxi D}	Z QY@<J @BPI >4 TF Q 	@W	hT`x0l"!: @q C @A%RfЍ	c4L.R&"%% $P.
ZORFD2&XC T	҅  dd Bz"I (K(֏(XX]Sj5  P(E@.pHR	T@] (b
bĩ	7hD T4x?	 ( C()`HK*X@ $"D{rcI$Yi	yJ0  2 "6
T9"@\ ABR$zſ00`$;K0. a :Հ		l@n 8@Z<D	Iɔ(XkQ (Ȥ	@@ 6BeЯ n Ѐ"LI  @C¨̩0* %%'ZAҤ% Ed@,%* PK:#3h~hpK\z80: ' "vg T(\  0(C3,4Fr,da$i@naAAi8B!:PAd C#ifX !  @x*8)0:t"Z-#+5@sƏ D4" EbJbkd	XވӚD` )JTT]%fD2hZ	aD=)0X 4 Td$01C,J3=s%D2iG##xC! J@m{KSPA0(((+h&i o8f &4<!UBDbE03! nGIEF HPp #	"Ht'eAH9lN$fT,  
'
EMHB!@('BR d:K	  QD|(etDXI)(go
X@ T22F3F`ǘ3LbwZE hBg"&hE0VlU:L@JJU@~+0 `8 xr2׼0 D"9H(A8\&Ph@9xTrZ |Fd " @z@i3 g	 ((DzM,FV $5LH  nP%,!DŢ  @"@ 1J`%  A P輁Hf j|PȂ "9H`j0	r4 !$-z!E$*"2^e
CC0#q  F ; 0jM$  .>$P MH 1E0#!S2\yV)0@c-@
HTIHa8j6N 90	Ā6	a jX# $ jʈX8$Bt#D1La.8 (X + D@), &&PV2x0"!KD艋ܿ W&P
c 
D+{IV$bVL[B
P@AeYCp1Dbby͈!b5n@&C d4k(ab PxF ^HqRxk	JP"qULEGb"@QI &P)`A
0*f[ P"+̑!D&!3P  '˂)A\qDRBV  PIH
&pC cJĉ3N qH/w ep@Zੂ VP6uVT  J%*N4([gH 6 8*S@E$3)0 A&  h aO}H `CIDa!R
ɪC01aH-^A#bA4hRȃ%#0)	&S6jh
-@
(H9	$DeV
`nM`[,F: lD@p	`9a !$p	06Ā XT< !(G p~7b 3 	B&F @ ,V2PTb$
2 ,0(PD=B^#fz?648$P3`S5L@ r aQN㴠hP"O D0  `<CqhVD
EZ!@]iAa)& dvC(@ܠvqj#Q$x +g	 )Gzl@GH~xvG@060Ԇ4߆b A)}?(~ݳWuN~oϽߝ+ek?_G{?zkϿ~jԿ}οf|{ο|~SVGۢ۴53/ӳzzϼOיm'_ϝ@_5|fylR^7/ݤOng{zn~׾ro}̵wgOaz}o{߫M~sy[%kyї_okW:(9h=9˵nkHܚ\ZSe3o/jx}Gw)施ܜ͟Ip^gyY]To]U]]o,j+^6}_m?zv~{or+m~Iީ{J{߇wg|?߳/ۿeSozW7}m+[P_3Ըm]<W>Կךmi/(=o\&Kg%6c:W|sl>Ɲo܏|+u폹/ךYߥӭu.Hڶq2u_?lNLp]ֲ}뽦{;}[ߩzg=/_;{͚}ޝ\??ZD.VPO.-}v/͙ױ,X=wV}oʾ׾~֐N~GK_N;~Woa_⇷KjUޟO|}(bwz7}۩fkA՗aBׯkCKo^~7UpwW6}vΒT}wߗ=vF߭)Mxo}~gߙ&߼
=Uu{zj,~_-gމ[ۏ>_#bsK5V~|;kGby}og߼St.n^Xqn/^Fݟ*S;rYmޛ={?׊_"{bZ?2W޺*u_vwcm/a6E-\=Ϧ7x)3>7U3+_dwMiD|n{~9ןڶT?ͷ(??|S߼/iyso__ѮT|wc}g=YϮ[=ѿ\o#.H?W^_9}.?Wշ-:^W󵭷{ҐZϿs-VGNC_9uu{hmV4;Js{*ۺץzsm{mSe5g˭뿻Q<V_w󏋼x|<Qޮ'߹wM۩_9cyGz|;Www˴:=ܞn?oP;픯ex{ݧ[]u}|r5sߝ޿/_.6QW:?k碷zM}N4[}ENǾ{iUqAï^>*0j>viofoc7)Ayfy>.ioWo>fKx~RLU\Kk֟
sו|͕w߯M+g4fo<V[;￫/6ucz3.-Eۣ3<.?i>ݛ{z%2p~uvMϚ\SҖ/[7uk*ήm_/=Q\]w]nSc_0^i;ߞg-Fo&n5}8Ƴky]}~s뫝}߷qߙf_S/[V{^I_7ym{fC7a|mm5omz_wٍgw_n×.ؿu7{N]|OLkxtt~Q_]KnV٫6۾&B-u~W{۷ݟҵt7zT~l}5on|\nѼOAm;0t^m_;nf~;}Vn}ϼٹ7w|$&z*jޟP]?^w3{󋫬wE'p-^Wor;O/~b1s|nӫЄs/.w|^yZ'{Fy}zgx}ףy[͛;nqyM}2ޏwOw8׽*smOyuz5m7ÅNeu=/grn/Y?7ٖ_L7fw]|/qV_ߟt/=y/}Sp_w{>owSͿ/οm^ijwx|Bƽ̗Ͼ.yW֚QN۞}}_\7-{#k=]kɉؒ_%򿻆;y_]1V}{7ѹ}9N#eOL=xw"/^+{M^?g?_n>\*wɿ̽][pY]y_̩]qt7:WŶk}?UWR=Ou?w5oOyvܟ{cS-};ܹ;Y/˺];Uus>{}Kާa2nC諭ﴍc^o6u>t'kj{|]z;;q/d}4מWgN?r7]3-9?ow޿g/yO_O]}NWӷ>uۼyˍO/9Na
}Cu/r[r,_ߐgn_r:aoUhŴ~ѨQ~zݟm9Wo׍{_-Inۻ-wПn饾{t'm'F`[~/9>Wՙ~s}:ߕ=r{ng~wϗƷ{Fo-`Ei?n7_X]ǘ6N7+o^}o?OgqXvҳϽ;]uo|r*So//q]Fw>7m3Џob_o&C쿷|z]}w~7=k^NerJ_{ֿWf?ߌwx]o{ڷv]Ͼ>o~Ja*}>{ܹ/,gn~2.;KO7un_3;Wwߋ9>8nֻz~=#^{?q/w_Kfa飿kdK猻{9sws;7zt킵d9PzZN5~\_o-\Q{Tk.m7_usKq)9%u빫q_^=6Fa6%GC.Ȼ`:Op{}*޹ssѽu{7ݻѼokxwp!9WwS{W6,W~~{?~
{Gێ|~מ~ޗwΟ=g˓U5_gӏ\6^o0r^:^vҤwyW;]\kGuudy?o}<zCe~{6ނe\}ޓt_3ۻ/|_u~ۻ?w<~E.Դٷe.I?翿X1_}/U5繽%YMow'i3tW~b{l֛?y۶}_vg@o<;҃ZܦlC^=kw4li?ُowC/m'OgBW~^Og~WͳMuea~W۸[R+uqo/j̝g}֦e5߾'I}|c˚sn[o2f?C{S_~+?e#y[\GV_뵗{[~o__w;N_]s/;~w玷}Gw{or~;m^{0?w_Owٛ}>^[`7[kv>^MsW>Wv;'O:u|lo㾾t![$N[Ze9xYiN~exuhvۤ_Cxկ7v{LyKse'7Ey]mc;GZ??ޯ}X?[CM5v}a?kv|{u/'UGί~WOs[[9|mR7	g>kރO]lj8>_V>bMs>/&E=mGQ߱J$ܩΚ}!w%|,^Կm󤿽u侯=#<Dwnq'|./_u׮B|)v'ӣn\ڰfNWS܉o욶ל[/?Y׵~g:֛מ}i|]$O,#tcsg&E$OUV{w'}Bs??yݨE[[~wo+^ ſګ՟9nӟGc'}ng_~ǟ5onCN	[/{ZN;o)ޤNwǺ{wVy{Gk<'_f^O73r,}ͱ8Ug?^ڜ_{y{J{s{8w#]o_+wM~|=7爲&מ{'8-?;];=Sv޿ڍ_~}n}y-[oU{~/mq<"3o]Z?7s}:3sEO8goft7͏u+	;ohUTߩҼd_V=߾3:߯)?<^Q{tN~̮~o܎}b\Isɧ~~mf|u{4fC[~Kʻ߯UYp>gZ侁|]mrwIu^_k]7{_}u~v?'6ڶ/]uRc6g6߾;GBEzcgYӮweEoz/o;&|n/3w++ĳk>5[gļz}ܵ}U2;yiu鮮v?<|K~]^݈g}{x]|k/k_e&WՏSzgE]}j}uMn[{^u?̟zO)Nwo}~_}|'U|iWlIwB+TL1?^9^Ku̇}^{Wq~yngua}ߨ߳襷4w[+>t?sowG)RqM	uUV&?72\zoj&uv7݇q?'XW=7cԎnS+߶$W;'m9Fy̛&6ǽ۫m˟u_\}?c:/wֻwZx{MC?oR_޿=Ο~}[G}p<*سvnq_y@t^g)s}{x#MwioFo޺r?Ng>66rְ<O:~?7Ns3[.;?uf[޺V]wyw}^V{\?}j&\s/O?^˕wMGֿ%̿_$Wϯ{׿cew=c_?sO꒯82n}Gsm뗯lwSoˮyzUzӊ~{ֿOb{ֹð{U.ϽI9_{D3~({)ѫ-OuJ>G"gYӆ_/9t_en-=cj˫~s?oyuW6Bsnq1߾]?=(DÝ_WU_Eޛ[ȗgwg]]iw,̭7y_~7ϱ~;>ύ{wgN!i|fo8u{d鮙f;w\~o;}״ɓĊf8 5t?^  @0D$2 R b1wBQBr>X@!>"(-2q,@*\ypC  pZ/dTyaPxzE`@N d*$NR!"@j@NXCTQAD1dR
ִ `PDئ; 	&!B+$ <_Y\* crいq%@8`\z=rwWk˿~k{9"u>!y벯CȵoCϟ|Gǿm};{Z>_yww3>ٟ>_ZQa"P L@BEUI "dJ鴀x  Cx'K!$ 8%1>(td" 1L$+HjE!,$	BTt,B^E#@rYߗSr^I~!]n{m;>;z=O޽o6/߸w/<]^S;yu轞_;e{վW*S/5o0=?l_z:HgRFvi^諾K_~A+n7{wª{i`d6f[m{w7w;C߻{BM	H40`*Uಓͤ 沫T@r85
M JGtT},T 6L &df0r$8`Dqov(x j B	: 8,P;dvܻڑ⽵Qsg~YW{?Swuw_
8i}[ֿ_ǋr+yߞ÷fݭs?ŻmvH%$TTđAFxBja`$ ԬEhAx`5"JZ?(Bf$=PY@ h +4$(,C &,S2h#"B8 QСEf ;?{x p2& !p aM*#JQN"1IXI9
 %+D"<X66%B
@VEЙ	k@aA{B@ E-E/XaMxo|}n%/=Wxٷ?~]]A߭ݼq~oNk_U^7Oǹg]?5|y{eH0$p̑ rDCR36Fj@z_MtxJ0 `h?alP IP` Āc04U``r$GJ!3h"V|ZCSW>?z;4ԻOo](w۲~M>-|,{}8=w/wo~r.|swYzzK>oO^ߛj^//~_T?oܺ{:nz_w0nom[ήnj'7`a
,hh$脋
D[`; :<A
	P  ($(ô
pLng"8cH{DƶUr* KpRSDj|q^<קrGytɴm>z}[3O=|د//U߶׷w٤Z}[{TEݸ^޾GOe߾v^#) A`D%퀅`vGL$J@פe$_,\r;!؞r0 P $m &@`(Hʀ ]R@'
GؘTnZhMb3YB[JC P&Ab515O  #"j!jKQ[ 9h5H!@DH(bC !hYoiHEL`@F
&  #SZG_ߖLS}cv}nf<Y~{%~7vT&~W~QxYB}unB&%C>`}NوM)Av@aMa"5%φ D%F	 @\\U<(*-UU"P#D!@kMB	b@#Ir*
OֽV<ߟmMs?_>_>|SkW!y?cBW{֮_ˏ}şۥy7O|f6}zO}f/Un߿_ڑEqSY>;kWfﻫ4uI'm/vOzx귚οW78N/{D$q@)1Ih3 x? O<X3@&Y*PBP=N!!30Ԋ"o$T6P J4Hq!71!"FD&q	ӏc-}?ݙ_pOcսTνq3RU/z沋ʷ[wԾq.k[2-|}c_w_v+g}PS.:@Bb8QBxiq `eu6E6
 !1J780/A qup(4X XYC@!R	.Z׫cPL1		vЂhj *#P*QN"XSP$VH`j . 33J6 ZdR0@X^FPgP @B  rF xe]V@D 0 {4jZ &@GOyJϻ⯯k~z;{ӿѷa}32W=#]4.~?z|u~{]L߿?ϱ65'
Fa*I2"0Q$s@ h.H3(Dn A,:l4R(`w>@WQ{a4
Q 'p
@$L@MҽN@f.U|&}	P˯{u9R3/_q~}U_
_{Q_u7+}Y}+{_]?|mz߯{]7u[xnsOi[oĩ5^g+]~oޕJulF6D;*|B0;,̐   <<R $ s	R:y@ V9B dM"@bBU(L0D$b"P	c &/C@	B%8I?}^oϿ_/۽ol}Ug2:akU뿻#}ȃ{i{k?ߏWKJwͯ?nyNm}Uxzտa'g:
_k\籇d6'95b?bOuC?_\^}|YZ5xbтoIN߉JoFTϻWzc?_o_/~>}j[}w0fW;?~wAݸ]w컉ip<uy/VfL;ߩ;{Yiߧ;_ _Xߟk_KUlc}cvi|O}_k{7xOMlp]Ͻ[Nߛ8=_1gejָ	;~dY{vqn~})1M;{ڗwZ</Y}/nv׳ͧ.իy}O8QW2$Y~I<~^x:oq=O~l?߮*_gokx7?>ē=իostx^r5>ޗv|oM}o{ sթ_ala7s}~o7Ғ|WN?y{F[M[ʭ?t.Zs_WK8si]1߳6#_w&eOߪm nO 㗵u<u]qgw6?_>7v_򮭺ܳ|׫3_&;Ynoʹ=o7^l9e<\mQΪ7v꾢/ξ۬ogv̾{<[Vnw/UZW{7Z%|Fo~YG\_N/i?ӇS]lڑ^7De|׽~<w-p-~[-ҟ,!j7}m_9M_[}3Wo<w{q6}+{n؛e,be(5j[<:QSW[sǍ7c5?_.kۨ/V{&/a9qϿķ>~k3]X}~7ٺ|Ziϟ<^&}97{ΪWGO[{~W}Xo!w?w}f;}>^g mT7={5^r3cU__Zw5~s뼮Ow5e^R_ͻ,]WWk~_Qt7اo9_?޼/3_/ڇvmWo[W>[޷̟=SoXދ_m}rf|[~ؼ~Ql^c\[s?{%'7ʯYs{\8?ejs?7/onѷQKsswմ7=^WGS:mו~XoIϷp&~&ԯ7g{=gik6%]}.}n{w~iz5s տ꺚S/]?qy{u&Yڽ_c}{rc߮{;m45gz:__ܟ.Wݢ?5z<Oq#/Y2/8]mݽ5s6ܷv{s7̗~u}?3oohJ[,Ƽ:vfS/xߘita)[~M	gp %'i-b&ofeO{h~_~ΧCWBg2":9u\_hw]tmon75m!
M^?`fx-Nn\w1}rg5?^Wwpk[Baw[_s2߿w-Go!^oIsSW>Yz<_G~kߪ_vfwyD}X*}{%omZ/6]{l>oml-O_i5'|cxαS~n-~ʌyڥgՇm޾ROA/XOԺγ:IםjW.Cg^WZ[zѿk]w?~Y{gl'{]zmfگ=g/6>ݍOn߾u_sen'+k{v_K>_OW=}o\^=ٮ]~,{ܿ->/FS#7o['d-2~gfG~{fv;tSU79wo*w+['{{ߵ6=ogvO[{֘we~gL_S-ÿ7}l?7,kxY߮}ﯗ}u/wywuO?{.~Wp}C:5:}lP Ǉ_˘E࿿f7{:NusvtwfoUOlO9}o_gۻ;c}!71]0ӯ/ajgnm?:s&;mלJ7t}+xsjTrkޥ}]q6}^h~}ʺ~mW݆F_g߯"ߥ;{пo|;N,%X?\?w_.O'߱?~^2>>nO|>_n>,Sۿzy5o6Ws:jO]븾Gk\~jU+TVa&kfLks$D}L"zG}}7sO׭{74q~[]_~z{Ki{OoWpswo{[zW۸.f}ϴ;ůo7p|}"/qr4l+ߵma֞_oo̽߳-~|z릟|~üL㵂{wcv~|:ld\g;/>w&̺`_ZCNg=ctv_mpU^m+{_{ܧ?r5q4]}{d(j*C (B*J`H(&Fi O^2y}BbB!q!*eqҢ¤4/U /$M!/ia% Y
waB)  BsEz7{XcY[?h*6woNg}kn/{םt;mj\f~4]C3x-_i7B?W[2}{S2X}_x=w>_;vþ鯎KC|!oz4Ϋ[1ry8#{+-?Ӧݭ5;w_>Ƽηw4iԥ 8`@+ct"O  ^$dSQ	"D5YGeDV	(Sp R(A1P 4 1  #$f0IAU  U!#]J pH bV 	$ Da=J#sen|?\ook##m_{[#ɅSEzv{U?mo;}t?οGχoqB@ 4[%r
 0 @x	G+ #AZ =E	944SAC91 4&@zѠ4%,@S0! P('%b#(?Q @/EdLTC>" "LVcbC<P@ E  y+E
REd,ATIm P`aEXk, Ud_0W302J(*"V1s~?ȧG3j?q;vݍo.:=_9{aDO&ҿ/,^»U8W}/*ksYo/ҶU` @ɀ j .$,"  p \>HU4ajJ04
 JBAA;8 9 *@#dH4q ɉH_AHD  rp~qwSg7Jv粋/6q^oe_,m{'Y>u/tdOǭ_sӱ>[YJ?ל_-՟q:kvf(L=s{okVhmm:zAmawj>˿ⶾ엶'tkm:
2߾_{tGʷ}|i^56|g;=w=u?.z H ,_B @HH s!jިaD(d*  /bKg
BBD@2.\$hɢPTᜐ%mPX8P@9ډ{S;:p-ƭo~s+&2[{SF}[+?g,yׯFJm=En,U>ыG8l=??)o_A}ut+Y'X@I,Dcy%#d @ <Q@ 040( nJd
TCIh`t !&`SBH!eHhb؋9Z "(A`T 9 D AHR	a"cR@x"ɍSY HQ4YL!"p;F1D0b(XͳjʂlP@/PPB(ւ5jN~ۻ ֻ?Ss_Ugi?}y}*Mں}}_WfOޯ/=RO_*T\M)gz}O_>M%ߏ^z-_ǱIUQi N!9%(@+@1ȌV۳vE"Ji#`@P, c6A `k  "$ [( ep*/0\m̚&Đtf%!@hl
HQ4edܤ+;?nc?V].KyMsM߫ik2/Og\Lk[bwW_:z>}v{6l]mRmڟt6po7F=M77KYkq$v5}]o}f\/:ɵy<?<uem"{LC܋'d?ٗ~̷-oKEg%}?=g@g4#@!pl	 @ : @t O"0B$	@@)Q 		A'hKDDY%H	 pNVЀ"f 0H ( A 2P%030 I|qj"A?'g?F/1Ŝb?#}{ǻo-g#{ݯȾ_E5_w6N=mo7QO$.o| 2" ,(6P
H؂a	  X!@): `a$BdtĒaaqFIRH`Z~1D CRC1!/20
HP@.Уh!O\pA HQ`AgRJc@$Hp 0p#R , @95ZјIG z@d`%NЉ]&e4PV(BBHXo)GܯWiߌk6yS5k[o[{s17j'[f{sݻ_m.䜣զC]k6;?ݺ DN %*00a˲9 ,yR qRU@J<Y;&)F    	@	 AO<"c@_DADCc 0!p Shy͹KӣX໑"y]4ZGS+ۣO;z?dXzܽomy(Ϋ)n;nWqmVsߨ&X}zw_ǧ}wW{yUI=V:K}vӘ_ݾ'W7y[T\t;_Oݏkwzo}ǳ!_R(&AȆA#)AX#BEt`29!	5jCHw 
PA Ó^ |@V (* @9  ,BH.u6R 4P H@ŵ*&%@>OܿqU椷r3}T}w78jm,;k|~=us?Qsܶ{垘6Y6pxy9>*,t d`gt` %rp D `D0@B% yE:DwK@AA0 `Pe@At~L D <# 	AD:Eþ(
 D@DdnD	Ȋ`$9$f  APfن4C#PPIBDFI0P 6Q*S) 4J#k 6`@F42 pP	@ gPJѝH}9-gY9Vf <_n˞jyۙ
_[;"Ms=/_ع;s_7y3.@Vsov{5R2S$FFZf@L4 y8p2%&`<bpb 3Šg&$"
@@r1 LBcS1&P0XBTzDAi B tDy, 0*-(BE 	''+Dd):I1
Ȁ$8| $A>"( bFCW`jR!)0 H' I3N `D
P /T*GtX   8@uCC-!LG/0 Qf # TÉD ya$ 
 
d0	1H)PJ)CI@^ ! 2>6L,J{RTf
".@H`y@H$*:P`. I@JBR%Is3	1:0LQGiА.˒(
,r`F`4d	<	_wr(%BbN=(X3JS )GP4(b@0 O
f(0@\p X%$KF}LH#: n0D1N{$	@(@Qe  Dp"
Ԕ' 0d`! 2.EP Bt{ b&[ `
5K"h	1X)#Ԁ .DA1bgfԷ$
B"8Ȑ# (`( va @;$1a) A"HDP y2T2))
a/`1ĢML 1B(ZA A@Ho(PG4'ɸ	GX̕ @vD@Aׄ#0"B @o#P̀2"J1-*ċ@ R 
"tT u$#C	 @0LL	5f!$,8g1Y0;Qā@׶0-MaO&hD +,%	!줫*)HT.Qo4lf}TT"YLY``

!}l CpNx ([6ǚv b`	EaPxbD@K2 %$Lf 
]0x`d(aQ@@ !P a^ "lA 	̀iI k!Q(B	X#%p 	BOa l YԾ(XئkF b b	>cTIBA   "0K2#B7Pf8AT8	JU 	2ua0XHB"4T#Dg172 b@D	F4 IOp(%VU)O+D T 	LH:ΌP%x "X IPLAC	AA&P Y
7AB*B#  z@: ;
X$PPXGRjcDQ`+ĈM pҎ
TH(@	b OɵTHbQAaB	8JRoH2% Z\ 0Ixy? -  /!b	 TMUZ@R.bSe^0`imfF6	-dHE @j1DHl(DpAOpEB@PO(**Ie5
qXb B!0Ict@v BGj&<G@B!5AP(ZlPdȔ  `9%H#QDT@0X, _ P  ECLK ]A$
@P\'`),6
aaID8  $X	!
8z( x_:`#@֘  v"Z$aXܠ` V
H
 DD\%d:b 2ĄCHaT6	Yf XD(PXүM\*P2+bpr!@"Rn 3ar@`-
/8JzB  \dE2cU 8"& Ty# I]\E.M
NPe,΁$40-xM(2Xhp 
Гʉ(XT8 qI%,@PZ؂*	Z\A'QL2"RUlI$@$QQ >`x8UƐAձ F2LQ[	A D@Z#d	p0 ƶ$!F uF1%b̄rA  +!"|!h9GOM ʎDyfTm@S +80`DAvRZc -J "  *30IxWxH> 1 `+jCQMPaJ ˥ hY KFT `8A 4硠^BL@H`  Zs a&@Z HUAh+B pяCh
UFB4 ZDZ` 2 HP0x $p,t$rL!t#MYA=QrDF Ct0%`<A$4 04H% J * JVaE Kh{ r !2d%XJT$+$H<1I4r6tZRJр P3@t0@  PTdd @sDZY|8 Ȓ0❇<BBΞBa (e'TAAIEvHT BO E"&(18(pMxaf! " 1p19!ARP$UEa	
pA  $82j ACnMFOI]  wI*m9`Q=E# KOe .'Ib)$Im
12p!4 Fat*'`!"8nJA_P(E(	fX s$Uf9Q2\,	ъ@  kAAD@r
$ {A& &0 %( ":3̦HB8@+1 `0 2hhTL@ʐ	#`pWX	
 ff6I H$+ l+P$$&@!@ FI@vQFɤtBb%.@DNrFh`2 Q%8?耠O#$ 
lbJ
)*yF0H9PT`PbpPE@"C$+qСM _$R{ mc-P%\kE(|Tb<,JvAFiK@Q
pjW BV@KIQ=; 	~
p S?zt(:N,
5@G!l% 	0DR}
A +H  @!-*a
P)<i M
JyJ		#@(	R`&] Q d2PԪLFα" @(	e$+P%T
qd"(8 9@tR&	`l>LTah啅#y@{`>+ e HQ5cp)QHbҜ 
T40ʈ!N,t"vCbQP
4! Ґ
D!0	.`O80R`$@E>\	vw $&D , d@fE  K L  %VJ N8 6$ @``1iAtM!  LE`,
r	D8	!@[*eYHlAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                KG{nc|Yd|&o~m꾲[4m<w<sjގrZ_9Jo}uvJ_%fG{;coxwrh@Lo II{+Re:Q)hNj "Rq̀gc@GM2B`DyaYTP (('F x3Pf&:5KFRSF\3.@@p0
A wݍc	D,Bkf%Ln5=BC _201fCT!V'sl ,R%j%Wy/X -z3@!VGRG圐QՁ˵n}ۼI_nR([M	g|w_kog֏yNnW;78OR{Ħj~ma^я߿l泠qf; 1jVPs c$p=	Xp 	V+fѐLKRJQiRCCr 
T)J(d # 	
H`B }ˮ	q@P
:GH_|"οW[f~%]?m!ͣVW>Kϳ$Ynu|Ϳhus>[ӵg~Y3_:rݏ=j?.kO3{!J%ǿ:gLt:JҮߎ}S+ܪTյoضzUvI}Y7o~F7kR♘`otX.`Zp膲qK젚d0B2C@#r[`d`!LB 8 @0R@BtB1s~(	 a/OU*p`;kAUY  lm2ŠtA[z]{y.͟o`7go_DN]/3zuml}_Po2?s]{sj}?ߏ(M˶ͺ-O{2A 3tQ I2< @R1HEm	ቧ Dd10@!G!`c5q
qFad td@"'lC8@ĭrBa)T&1'$5VI jY4!U*LD&B  %(@&*`$!v6pLL@Pn  AWBb` 2<qj1XXPC`p2W#_%&g[r
wY[9gw];on߶/}N\ԏ{S\S#͛>?}'wDVRBp|BUY F:P`k7@6	`@*89A=P(ǥ$J V(:FBHq*!xA`y 
"hwnGtϫ.ߨwGoi]c[_s<uwtl.gϞy/׍]ZIlvi_^-9ln\}^#;{_Vs&E{}{߿?5埓Ϊ-[]ݏCw2]=ٺN:O^~YjxH*5?̀  rUjEՂG!⇆_ bU/o[@_35;[~$8eB!2Q "QH *ġcby'']UEr*rtu/ϾV}-[՘/٫IOgﯶ匌Y=+m|9?wv_Z}^ya0r赯_o/Iok"khHQ!a6n-  S 
3YD- 2n),R+/d<W*m&I <P "	1d**
Dd28BHY`HU8@	6Df&І &@ޏNP).Dൔ 3HkFP4-p*fV[AD.BS ^ P0@6W.`;!P]3|~L_;K$1ͷm?i=~}=O\e׻ߺz^'}o[<П_=eU9O*@j$%
&!)b&/N|٫'	0eO)d˦]PੴKf\0PZtÀ+t8R'Ps0cK.^Lɥ@%ֈ hܸl<uIߦ_u?7~~^s?|f]CwQsk\?k7n#5=߭;{zGn]y?mo_mg<:iNwow=ߞt|E?~N߀^_;}~{gGwwﾻqۿیڦ& $	*Qa .X"Ua2DJ
8`  #ѩ;y@3! ?(RM `щZ`ǠD,'hG`@B!Q@%!%h
j)CuםԷ{/u'K=}Wծ~{roݳ߼K;tյ$Mz|urmO?/v` ױh `h$UoBhTDA"U
RE$Ѡ0pǋ!D 	BIQc;)? 3kC%@tBvT##BBnܶ"Ú0#	Tۘ Bb\O4;N+?e 3BKEC < o$xynzpl@4rZ%d	je a$O x6wf%FfߕU<{:ww\n}>/uv#zw_狦^^ݿ}q}}{v^)k޼׷Q{w=܀//rp\hvB)$n$90 +9IA[h e% 
$t(@594U&!&{@#\>؀4Ĭ@1mü0"Os$"IK_m{}jg3;WmǇ?c9y_r~y?}˫?otk]?l5vڼ~?[Wgu^SEsKOQ{Ivw[dի:}-o={.Ll;#~iZLhmwy/[Os}v}}~m(r  nM ^^"fE!DH#npT$b*$Q'D1 Tܵ( ֞pR	Ra *@*ڧq$ d  R! (܈    :{cnKzsǰ}'_sSS]
ve5/w?j/ΒgmgQZ.G7Wl˛w 0xO D   Pd	Q[ ]@`@d01d! @HP VB,E`E\!  !Y
1X<A$ % y
&@d*i`6  A `00 *"F*ЀH	9P6f%$T
\nXYaRP& 0*2yPlAb@4 "F4 iD  (8ˌ{_u[mk?CWؑw_7tAOwWc՟ӷ?kfiEާuί]}K2}7|^qKK'赶 'hIp\@$s0X  >a$
IȀS! `Y D `F gu `,7Ay^0  
vb$b$@<!AHQ
sEU7V[mj&kǴϟϧ}>ᖼݑh{er@m_?OYǚ3|kN|~7;u->?CwoM.___k;ӳ&%9}-}i;w?9?]]缼26}aڅ}_KGoWKvmg6ؿ
couO~u^!{fh۾VFͨW"	a@G&F':2"X+Lh5$%1@<CD{ &@ @,q@Ejn``V1 $'!A(0  wRAP(LjTHVR9Us+cؽ}?wi^S}{,.=oU&^EGGon[{17D]7I-g_W迳zWEF(.d)%b
`ؠ	BP@ yd4 '%2C#J
!GLf(]o X0(I0"D 4p;ʡpD	gF B*^EF !P!K) Q C1 pG"8	A  @i Ip `B`aD 	UAH6j8Ά%J,]
[pdo?'B?OuUy.䊵]s{Nv/ƼWt	o25ǭܟGn߿㎏I5U_PՋNODP1"*GVfo	 =^d@`(h
 %dZP
GyԂF2\ )"ဒ#%I)
&t0 =9  $b[~7\O(1of̕K~Wd?_?LOɇno70^;.r6gߤ)rk6"ez1e۸Uվ{}vǹpm]WW?/+?y?7A?T/l|Rnts]YYV`IBu㵩7LdmBCtN@aF&  	@A (Z*aL!0P%a08hT s s TEJ4$JЄZ1Al4cP@R
	B"KD7L]=?ܶ=_g{=+|ϏowSz۟Yzζ%|GM[zBzsɏy^Vv~wJOՙm^uoݼ}HL Q.4@lYE.$0"((RET`  +-"@"8l@ 	 I	J9  (,(TT%@5v"TPR@AL 4LHA (	p`#s;( Y"5P0O A ! IG
$ÞHop@10@	 1g 0[R"A@`"  0 rrgfP۹7Ay*{,ԍ+\ܷbb{ޭ?'pͩύߞ__
s3wxe89}۹_crg_lyE[Gnx;˕W_z(d	lJk4 ګ L7
!@# Q@F,CN*(2A<   !4AB&" &	`	CS< L
$[8 xa Af%Jy@Cnd@"3cD@ vk\K^g3z'9'VRY{33ݗkzd{_?o=x-~|7Wg/[j?ߡv?wOr۰k<n9ۼ;>Cb?>XӼI3r[NoOJ{r޻}|2z2M^ߟώvkLiНG_>TZ2Ke FVAQ$@t$Cǂ@8J$ ) $6/ycA$D%QD6  2($4!Ap60@RiADPMY[#qzߓP7|SpTwg9}"'4~cz{^J޿J}<]>6N~h5&?R6}L?ȷ8(GP  7T(%#H<
eɚ JZi7  Ba@p@ Ն
d&$.@MfIXHQh0lHiVi(͠d  8 Ia01pf 3
v 8( `@4#,aq QR+@
M@ ` ¤d;`DER0$/ ( sd)[޾?܇v~GKWv;V_GZx'C^ooX:v]<݋,/K_?byxyPM`2 $ʮQi<Q	E^C+&ke8& 8 D F1 $`D  `Hhf@GtD ŐyQeP 	MO|}[vSv=^Gm]=/K+ަR{17?_~χk<g6#JȞ7ًdo,w[?g_H{;E[ߜGߎ3?W^Ik^#^&8'o}yVŀMg߈7h[fokT}^7U{DC+Ϩԗy3+Mwe~R 0	L@\d@BTD,I*dED Ȅ !qz I"P !H" KB"X` *)p &)+b h4/"A EFYD'+X
pBFOĔB	B*NpIZƀ& &]3 \"& (@x30
!2	М }5hfm &x1  ,P  ɀ#ЉF{9?>X4BqM!-rOSާ_v?8cm퟾}PQwge\~G3ݹN:?{o*q7w/2]Χ:6[eh6t;/住Sp_5nea_SyBc=~7V;";ַoэt^+/g>{^pe]:EU&Of * 
t\EHN؄ 1! HPH" F0b!`H`tNHLH$c0  L ,vH!	 u 8FcA,Lj #КX@d!APAvRN6{pgQ4矼7{'kkf>')?__gοgbӭO7˯H}۲TQ'|wqVʏЫSK	)YD`|@Bl 0 @j)X^Q 0phsA
 / E 0 2$e_#
B `R@%)2!1dBB \fDb#'(1d *P!bV&B (B" dQI˒P ;S@(C f	c#cq0 ͥJ#ĐҐ@H$Bz4wjyWwk{}7+}Vū+F{w#>/^ֲ>{	Yy/w.ζϱ1mmέhG;kJ f( @2 	W Ph`(40l* 
ID0@E` |	  JTX%%i0Jˁ<  @bs@g< P3J!J<7 D7d y]5KQŭލ>Ѯ<_l}~򺻝mtǖ&+O?7K?ϋ6*?:7'{Ӿvۧ݂oX]/tKMb}Yvsim6笿}_̳#p=%q=f(!ۮBr3:y1gt-v^:_*uϔ;rJ<K/
%  %) "< 
iaS} A#
)X
N"(؅-q! 	ɬ AH J0`$C xϴ  0 RA0 #Q`$	bB(̒}?4gCUu*R=8f=(w~駺>{ãݍ{zV[g(|sϿſ³׻=fyo_|壍BԄ( <A` B@E&m
` P   HKRV\$QA,*:_.  !P"$ PhR-НX#0( P"<8	@P Ud 	"
B0Jp	pB`| Apa
L2&!@$;   	(B@`dI" 
CHpI31@[ La8*Łi9p`1^l^X\a맯s}^mqyj>O3[R?[Oug>nkD޿gJG*M|n/Qm&o-?#WN R H00c "Ł1  !@حD9D,B
$ECH`@   aHpUD" @	* &ycRBJ #| "iT0e[iE]O[μ9m٢n Q9WPiӕs9C\1y_M/=?y]/~ό*ӥ۾yqyy[Fʌ%;^g,N[~zen]v~v}Ώ㿏c~{nG^j}kRޟ]SKv1s=9wl\&{m̱k~O??欻3 bXH
)p 2¨ vP!I HR b܂(  .8"  nfA	i@% !$e,g%)]c[Ȱ :A MT	O
B Q@ET;~[]ݟj\U}]?7{ٳM_Ϸsχ;⛍ߧfY-恷}<O+ݕc#,4cW[~Mw5~8$B#h03J0.dZ 	
.
p-^1
Ш
GۥCTR#`+`D81D 
0Mf:AP Щ@KJq"Ix%6-H!H `!E',mv-̃ADcS2AY&K cYPIA
Q@
b   
D@:c @ R"7H¾*  \+/ ^Wwsg$V|&Vg%-C?|6׎*?\iW6}9K:~}3Mbxx^+~[egUֿ.+ qڠ$9=wH'8>G9T" *@*	!7	L@H$B8b!f-	Y$0_SP$ F@rBP% $O[o{<ˎOg؛+K}^ݯY;׿g5e7߶?/(Oð+ڷWzVg;M6Qow`=gfˬ=^-=wv)~exwO}ۺO`ٷ4UIWo/1$w_?r ΤsM|]jov[|9ZWvKeew6x<Od`qfhB$y 4%98
@!"l. bB!	y 9(IQFҁ/ `">E`#T
aP)H )
8j@5Fȍ	DAM);{D2(*~K|Wcê)cMY?w|o?'F{X-o:<unzQⴼ=|vw'~NW'+D @: 4BP
D Q '"Ĩ *  Prdf (A"P 3Cb 0{aLc -"a89 A*ъRPaD=8	r  !
$c KrH a)V@e&"0K2ād\,d	A`H"0@*% d<Xd J0b A" &А  GK ؿ;xŗ/%^7JFw͌Gd1a_%\ww^\groo6пM_s墳!js/JgartOffset > 0 && startOffset < startContainer.nodeValue.length) {
            endContainer = splitText(startContainer, startOffset);
            startContainer = endContainer.previousSibling;

            if (endOffset > startOffset) {
              endOffset = endOffset - startOffset;
              startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;
              endOffset = endContainer.nodeValue.length;
              startOffset = 0;
            } else {
              endOffset = 0;
            }
          }
        } else {
          // Split startContainer text node if needed
          if (startContainer.nodeType == 3 && startOffset > 0 && startOffset < startContainer.nodeValue.length) {
            startContainer = splitText(startContainer, startOffset);
            startOffset = 0;
          }

          // Split endContainer text node if needed
          if (endContainer.nodeType == 3 && endOffset > 0 && endOffset < endContainer.nodeValue.length) {
            endContainer = splitText(endContainer, endOffset).previousSibling;
            endOffset = endContainer.nodeValue.length;
          }
        }

        return {
          startContainer: startContainer,
          startOffset: startOffset,
          endContainer: endContainer,
          endOffset: endOffset
        };
      };

      /**
       * Normalizes the specified range by finding the closest best suitable caret location.
       *
       * @private
       * @param {Range} rng Range to normalize.
       * @return {Boolean} True/false if the specified range was normalized or not.
       */
      this.normalize = function (rng) {
        var normalized = false, collapsed;

        function normalizeEndPoint(start) {
          var container, offset, walker, body = dom.getRoot(), node, nonEmptyElementsMap;
          var directionLeft, isAfterNode;

          function isTableCell(node) {
            return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);
          }

          function hasBrBeforeAfter(node, left) {
            var walker = new TreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || body);

            while ((node = walker[left ? 'prev' : 'next']())) {
              if (node.nodeName === "BR") {
                return true;
              }
            }
          }

          function hasContentEditableFalseParent(node) {
            while (node && node != body) {
              if (isContentEditableFalse(node)) {
                return true;
              }

              node = node.parentNode;
            }

            return false;
          }

          function isPrevNode(node, name) {
            return node.previousSibling && node.previousSibling.nodeName == name;
          }

          // Walks the dom left/right to find a suitable text node to move the endpoint into
          // It will only walk within the current parent block or body and will stop if it hits a block or a BR/IMG
          function findTextNodeRelative(left, startNode) {
            var walker, lastInlineElement, parentBlockContainer;

            startNode = startNode || container;
            parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;

            // Lean left before the BR element if it's the only BR within a block element. Gecko bug: #6680
            // This: <p><br>|</p> becomes <p>|<br></p>
            if (left && startNode.nodeName == 'BR' && isAfterNode && dom.isEmpty(parentBlockContainer)) {
              container = startNode.parentNode;
              offset = dom.nodeIndex(startNode);
              normalized = true;
              return;
            }

            // Walk left until we hit a text node we can move to or a block/br/img
            walker = new TreeWalker(startNode, parentBlockContainer);
            while ((node = walker[left ? 'prev' : 'next']())) {
              // Break if we hit a non content editable node
              if (dom.getContentEditableParent(node) === "false" || isCeFalseCaretContainer(node, dom.getRoot())) {
                return;
              }

              // Found text node that has a length
              if (node.nodeType === 3 && node.nodeValue.length > 0) {
                if (hasParentWithName(node, body, 'A') === false) {
                  container = node;
                  offset = left ? node.nodeValue.length : 0;
                  normalized = true;
                }

                return;
              }

              // Break if we find a block or a BR/IMG/INPUT etc
              if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {
                return;
              }

              lastInlineElement = node;
            }

            // Only fetch the last inline element when in caret mode for now
            if (collapsed && lastInlineElement) {
              container = lastInlineElement;
              normalized = true;
              offset = 0;
            }
          }

          container = rng[(start ? 'start' : 'end') + 'Container'];
          offset = rng[(start ? 'start' : 'end') + 'Offset'];
          isAfterNode = container.nodeType == 1 && offset === container.childNodes.length;
          nonEmptyElementsMap = dom.schema.getNonEmptyElements();
          directionLeft = start;

          if (isCaretContainer(container)) {
            return;
          }

          if (container.nodeType == 1 && offset > container.childNodes.length - 1) {
            directionLeft = false;
          }

          // If the container is a document move it to the body element
          if (container.nodeType === 9) {
            container = dom.getRoot();
            offset = 0;
          }

          // If the container is body try move it into the closest text node or position
          if (container === body) {
            // If start is before/after a image, table etc
            if (directionLeft) {
              node = container.childNodes[offset > 0 ? offset - 1 : 0];
              if (node) {
                if (isCaretContainer(node)) {
                  return;
                }

                if (nonEmptyElementsMap[node.nodeName] || node.nodeName == "TABLE") {
                  return;
                }
              }
            }

            // Resolve the index
            if (container.hasChildNodes()) {
              offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);
              container = container.childNodes[offset];
              offset = 0;

              // Don't normalize non collapsed selections like <p>[a</p><table></table>]
              if (!collapsed && container === body.lastChild && container.nodeName === 'TABLE') {
                return;
              }

              if (hasContentEditableFalseParent(container) || isCaretContainer(container)) {
                return;
              }

              // Don't walk into elements that doesn't have any child nodes like a IMG
              if (container.hasChildNodes() && !/TABLE/.test(container.nodeName)) {
                // Walk the DOM to find a text node to place the caret at or a BR
                node = container;
                walker = new TreeWalker(container, body);

                do {
                  if (isContentEditableFalse(node) || isCaretContainer(node)) {
                    normalized = false;
                    break;
                  }

                  // Found a text node use that position
                  if (node.nodeType === 3 && node.nodeValue.length > 0) {
                    offset = directionLeft ? 0 : node.nodeValue.length;
                    container = node;
                    normalized = true;
                    break;
                  }

                  // Found a BR/IMG element that we can place the caret before
                  if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell(node)) {
                    offset = dom.nodeIndex(node);
                    container = node.parentNode;

                    // Put caret after image when moving the end point
                    if (node.nodeName == "IMG" && !directionLeft) {
                      offset++;
                    }

                    normalized = true;
                    break;
                  }
                } while ((node = (directionLeft ? walker.next() : walker.prev())));
              }
            }
          }

          // Lean the caret to the left if possible
          if (collapsed) {
            // So this: <b>x</b><i>|x</i>
            // Becomes: <b>x|</b><i>x</i>
            // Seems that only gecko has issues with this
            if (container.nodeType === 3 && offset === 0) {
              findTextNodeRelative(true);
            }

            // Lean left into empty inline elements when the caret is before a BR
            // So this: <i><b></b><i>|<br></i>
            // Becomes: <i><b>|</b><i><br></i>
            // Seems that only gecko has issues with this.
            // Special edge case for <p><a>x</a>|<br></p> since we don't want <p><a>x|</a><br></p>
            if (container.nodeType === 1) {
              node = container.childNodes[offset];

              // Offset is after the containers last child
              // then use the previous child for normalization
              if (!node) {
                node = container.childNodes[offset - 1];
              }

              if (node && node.nodeName === 'BR' && !isPrevNode(node, 'A') &&
                !hasBrBeforeAfter(node) && !hasBrBeforeAfter(node, true)) {
                findTextNodeRelative(true, node);
              }
            }
          }

          // Lean the start of the selection right if possible
          // So this: x[<b>x]</b>
          // Becomes: x<b>[x]</b>
          if (directionLeft && !collapsed && container.nodeType === 3 && offset === container.nodeValue.length) {
            findTextNodeRelative(false);
          }

          // Set endpoint if it was normalized
          if (normalized) {
            rng['set' + (start ? 'Start' : 'End')](container, offset);
          }
        }

        collapsed = rng.collapsed;

        normalizeEndPoint(true);

        if (!collapsed) {
          normalizeEndPoint();
        }

        // If it was collapsed then make sure it still is
        if (normalized && collapsed) {
          rng.collapse(true);
        }

        return normalized;
      };
    }

    /**
     * Compares two ranges and checks if they are equal.
     *
     * @static
     * @method compareRanges
     * @param {DOMRange} rng1 First range to compare.
     * @param {DOMRange} rng2 First range to compare.
     * @return {Boolean} true/false if the ranges are equal.
     */
    RangeUtils.compareRanges = function (rng1, rng2) {
      if (rng1 && rng2) {
        // Compare native IE ranges
        if (rng1.item || rng1.duplicate) {
          // Both are control ranges and the selected element matches
          if (rng1.item && rng2.item && rng1.item(0) === rng2.item(0)) {
            return true;
          }

          // Both are text ranges and the range matches
          if (rng1.isEqual && rng2.isEqual && rng2.isEqual(rng1)) {
            return true;
          }
        } else {
          // Compare w3c ranges
          return rng1.startContainer == rng2.startContainer && rng1.startOffset == rng2.startOffset;
        }
      }

      return false;
    };

    /**
     * Finds the closest selection rect tries to get the range from that.
     */
    function findClosestIeRange(clientX, clientY, doc) {
      var element, rng, rects;

      element = doc.elementFromPoint(clientX, clientY);
      rng = doc.body.createTextRange();

      if (!element || element.tagName == 'HTML') {
        element = doc.body;
      }

      rng.moveToElementText(element);
      rects = Tools.toArray(rng.getClientRects());

      rects = rects.sort(function (a, b) {
        a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));
        b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));

        return a - b;
      });

      if (rects.length > 0) {
        clientY = (rects[0].bottom + rects[0].top) / 2;

        try {
          rng.moveToPoint(clientX, clientY);
          rng.collapse(true);

          return rng;
        } catch (ex) {
          // At least we tried
        }
      }

      return null;
    }

    function moveOutOfContentEditableFalse(rng, rootNode) {
      var parentElement = rng && rng.parentElement ? rng.parentElement() : null;
      return isContentEditableFalse(findParent(parentElement, rootNode, hasCeProperty)) ? null : rng;
    }

    /**
     * Gets the caret range for the given x/y location.
     *
     * @static
     * @method getCaretRangeFromPoint
     * @param {Number} clientX X coordinate for range
     * @param {Number} clientY Y coordinate for range
     * @param {Document} doc Document that x/y are relative to
     * @returns {Range} caret range
     */
    RangeUtils.getCaretRangeFromPoint = function (clientX, clientY, doc) {
      var rng, point;

      if (doc.caretPositionFromPoint) {
        point = doc.caretPositionFromPoint(clientX, clientY);
        rng = doc.createRange();
        rng.setStart(point.offsetNode, point.offset);
        rng.collapse(true);
      } else if (doc.caretRangeFromPoint) {
        rng = doc.caretRangeFromPoint(clientX, clientY);
      } else if (doc.body.createTextRange) {
        rng = doc.body.createTextRange();

        try {
          rng.moveToPoint(clientX, clientY);
          rng.collapse(true);
        } catch (ex) {
          rng = findClosestIeRange(clientX, clientY, doc);
        }

        return moveOutOfContentEditableFalse(rng, doc.body);
      }

      return rng;
    };

    RangeUtils.getSelectedNode = function (range) {
      var startContainer = range.startContainer,
        startOffset = range.startOffset;

      if (startContainer.hasChildNodes() && range.endOffset == startOffset + 1) {
        return startContainer.childNodes[startOffset];
      }

      return null;
    };

    RangeUtils.getNode = function (container, offset) {
      if (container.nodeType == 1 && container.hasChildNodes()) {
        if (offset >= container.childNodes.length) {
          offset = container.childNodes.length - 1;
        }

        container = container.childNodes[offset];
      }

      return container;
    };

    return RangeUtils;
  }
);

/**
 * Node.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class is a minimalistic implementation of a DOM like node used by the DomParser class.
 *
 * @example
 * var node = new tinymce.html.Node('strong', 1);
 * someRoot.append(node);
 *
 * @class tinymce.html.Node
 * @version 3.4
 */
define(
  'tinymce.core.html.Node',
  [
  ],
  function () {
    var whiteSpaceRegExp = /^[ \t\r\n]*$/;
    var typeLookup = {
      '#text': 3,
      '#comment': 8,
      '#cdata': 4,
      '#pi': 7,
      '#doctype': 10,
      '#document-fragment': 11
    };

    // Walks the tree left/right
    function walk(node, rootNode, prev) {
      var sibling, parent, startName = prev ? 'lastChild' : 'firstChild', siblingName = prev ? 'prev' : 'next';

      // Walk into nodes if it has a start
      if (node[startName]) {
        return node[startName];
      }

      // Return the sibling if it has one
      if (node !== rootNode) {
        sibling = node[siblingName];

        if (sibling) {
          return sibling;
        }

        // Walk up the parents to look for siblings
        for (parent = node.parent; parent && parent !== rootNode; parent = parent.parent) {
          sibling = parent[siblingName];

          if (sibling) {
            return sibling;
          }
        }
      }
    }

    /**
     * Constructs a new Node instance.
     *
     * @constructor
     * @method Node
     * @param {String} name Name of the node type.
     * @param {Number} type Numeric type representing the node.
     */
    function Node(name, type) {
      this.name = name;
      this.type = type;

      if (type === 1) {
        this.attributes = [];
        this.attributes.map = {};
      }
    }

    Node.prototype = {
      /**
       * Replaces the current node with the specified one.
       *
       * @example
       * someNode.replace(someNewNode);
       *
       * @method replace
       * @param {tinymce.html.Node} node Node to replace the current node with.
       * @return {tinymce.html.Node} The old node that got replaced.
       */
      replace: function (node) {
        var self = this;

        if (node.parent) {
          node.remove();
        }

        self.insert(node, self);
        self.remove();

        return self;
      },

      /**
       * Gets/sets or removes an attribute by name.
       *
       * @example
       * someNode.attr("name", "value"); // Sets an attribute
       * console.log(someNode.attr("name")); // Gets an attribute
       * someNode.attr("name", null); // Removes an attribute
       *
       * @method attr
       * @param {String} name Attribute name to set or get.
       * @param {String} value Optional value to set.
       * @return {String/tinymce.html.Node} String or undefined on a get operation or the current node on a set operation.
       */
      attr: function (name, value) {
        var self = this, attrs, i, undef;

        if (typeof name !== "string") {
          for (i in name) {
            self.attr(i, name[i]);
          }

          return self;
        }

        if ((attrs = self.attributes)) {
          if (value !== undef) {
            // Remove attribute
            if (value === null) {
              if (name in attrs.map) {
                delete attrs.map[name];

                i = attrs.length;
                while (i--) {
                  if (attrs[i].name === name) {
                    attrs = attrs.splice(i, 1);
                    return self;
                  }
                }
              }

              return self;
            }

            // Set attribute
            if (name in attrs.map) {
              // Set attribute
              i = attrs.length;
              while (i--) {
                if (attrs[i].name === name) {
                  attrs[i].value = value;
                  break;
                }
              }
            } else {
              attrs.push({ name: name, value: value });
            }

            attrs.map[name] = value;

            return self;
          }

          return attrs.map[name];
        }
      },

      /**
       * Does a shallow clones the node into a new node. It will also exclude id attributes since
       * there should only be one id per document.
       *
       * @example
       * var clonedNode = node.clone();
       *
       * @method clone
       * @return {tinymce.html.Node} New copy of the original node.
       */
      clone: function () {
        var self = this, clone = new Node(self.name, self.type), i, l, selfAttrs, selfAttr, cloneAttrs;

        // Clone element attributes
        if ((selfAttrs = self.attributes)) {
          cloneAttrs = [];
          cloneAttrs.map = {};

          for (i = 0, l = selfAttrs.length; i < l; i++) {
            selfAttr = selfAttrs[i];

            // Clone everything except id
            if (selfAttr.name !== 'id') {
              cloneAttrs[cloneAttrs.length] = { name: selfAttr.name, value: selfAttr.value };
              cloneAttrs.map[selfAttr.name] = selfAttr.value;
            }
          }

          clone.attributes = cloneAttrs;
        }

        clone.value = self.value;
        clone.shortEnded = self.shortEnded;

        return clone;
      },

      /**
       * Wraps the node in in another node.
       *
       * @example
       * node.wrap(wrapperNode);
       *
       * @method wrap
       */
      wrap: function (wrapper) {
        var self = this;

        self.parent.insert(wrapper, self);
        wrapper.append(self);

        return self;
      },

      /**
       * Unwraps the node in other words it removes the node but keeps the children.
       *
       * @example
       * node.unwrap();
       *
       * @method unwrap
       */
      unwrap: function () {
        var self = this, node, next;

        for (node = sPBHTf   pT)`HC b@Bv".aED2,P"B	@$H		@11C@x BƂ-Pc 	\ 4b!ZZBɮo2t'ӗc[p˧09[3j;w>¿_|_߿_ЫwL[^ u^k=nGMV5S~cWv{띋kicYOoKuTGfx^*s>Ѷ}ۘyU5~~WӔ6{f#wOgZA2(ȃD8H2He Sh< h؞CB$Ð%V+aAQ!StdJ]qrj@ p3I`5 I ЫC SBa!hRHaDׯNsg卾-ߨ~	|˪/S_+'^?ywϯXԥ_vz-~zvoN{<=dܺ7GfM3.T	I7`!-E!B	$H  $,85A4P$u)`1(ƪ*;A޵$ \/%	6"0,p"P*H
"A&
$   ^MLpHY@@ D P<p4P$ R 0VA Y1)  ƅEDk/VzBp8hyL%\ " @$4	PP``Q>ޟ?w};Zs]eWM~;}~"u9̢U/oپ4
5yf;{?UJ8tg" @3
v =X 83 'A
L@$"K  b"Pb8f0>mI( `c@PaJHRB		 + H'`)B$pd D#m컍T7W}7L}ޅOC<o?<_%߫Z=z󻤝Oiz][rza74\eF&^g'}_̎K弔]w}VǹߍߧcݘZ=}>0Zͩ/z%Ҍ߫Ot/\?r-{/'g:S{}?qEUfS@@ AB/ A ,TLĥa6 d?.HQI$!m0@c L)q)\0"D $U)4`tPXǉﭏ;~,W?rx=ma6Z'﹗ǳF[gLӳ߆//m^"夣绻6qq$9}.?j|z@jB4p`8$Gd@" A: (-d1"H ,V$ .y$ $ZHP @1)  84$H`H;R0$ m!bIPBT.P͊aD$$dI. MP T8*0AKph> B^"%0($   &  H%\,<m`q,	 @ b@E0D"( {(D3fzmOGwW|۽g|Λ-yo޹;fvf=n66[Y޻3RsV:l?|kP'^z-ɝ?j<:oVr

(Q9Dx  pfHF p"p1$tf8ـ(8H`v "PR*d Xh.G(DF"TǠ@/E$R@LH	aJH# RB_;JO_oһ?=ڋ. W'z
|ߩK>Y쏵`mk/ې}r]o׷Sj_jO}o=W#m5l_}uNoz}<[E˶w>Okyڷeړ;3[9F.w_7wVo3/? A    B F ))`"1]PW+h+R 3	# 9!@T6BY J0ш B($<@0BcX 
CvZ8D$吝_z_S_y]V:޴\?ib?A}\߼ϭ|-|eѽM|~s^oXyk<?[u]}߻,wimP`
B %HFJ")X@ -@@@Tb 
`ʭ( "@"!`A<D 9 cC KÀb   
 J-% 0Q %BA
"T$!QPPB@P!]4" @0 # $fH
`pID+P4
 	S6-(
4< $q2uʬ;;OsQ6Onғ^Km>̺p\'G\+P|ek}{/Yy(w}B|{UjIg_% 5CBieB((@ 0&dRP@`RU8FXf0i5 @P 	g"\ kf2D%wD`,8`1 `	k)QA8b?~;Y?vl[RZ>ZWksϟ<{&V>{5__5U{-z8~[3gu=yN*71b'O_gO{~kg?wML_&_֝zv|?+I4Eר{GGnnwW=BoW7\7~ֿF^oƳwկ]p?ua@@@ @ BA0(ndD "/;	Ո8,K b 5DQ`XA F`@ 9EJ= A 
B D
nCItb='}RuI}gEםޔy)/W37opNso;/?o߯1oexw?_yn \HU%AH)z\LB  8$b$*$)p"=ah3`o""`LY
 (@ P%	 
FP (V h$
 T(!l BA@G B HMft/AlAYp
H8` ]B d @0$RAT\ ! h	, `` J
@Z ɨ)d} HHh3{ߺ{벿\m/>޳izYo5U>JlndW_3mKVr)u       // Remove the children
          i = nodes.length;
          while (i--) {
            node = nodes[i];
            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;
          }
        }

        self.firstChild = self.lastChild = null;

        return self;
      },

      /**
       * Returns true/false if the node is to be considered empty or not.
       *
       * @example
       * node.isEmpty({img: true});
       * @method isEmpty
       * @param {Object} elements Name/value object with elements that are automatically treated as non empty elements.
       * @param {Object} whitespace Name/value object with elements that are automatically treated whitespace preservables.
       * @return {Boolean} true/false if the node is empty or not.
       */
      isEmpty: function (elements, whitespace) {
        var self = this, node = self.firstChild, i, name;

        whitespace = whitespace || {};

        if (node) {
          do {
            if (node.type === 1) {
              // Ignore bogus elements
              if (node.attributes.map['data-mce-bogus']) {
                continue;
              }

              // Keep empty elements like <img />
              if (elements[node.name]) {
                return false;
              }

              // Keep bookmark nodes and name attribute like <a name="1"></a>
              i = node.attributes.length;
              while (i--) {
                name = node.attributes[i].name;
                if (name === "name" || name.indexOf('data-mce-bookmark') === 0) {
                  return false;
                }
              }
            }

            // Keep comments
            if (node.type === 8) {
              return false;
            }

            // Keep non whitespace text nodes
            if (node.type === 3 && !whiteSpaceRegExp.test(node.value)) {
              return false;
            }

            // Keep whitespace preserve elements
            if (node.type === 3 && node.parent && whitespace[node.parent.name] && whiteSpaceRegExp.test(node.value)) {
              return false;
            }
          } while ((node = walk(node, self)));
        }

        return true;
      },

      /**
       * Walks to the next or previous node and returns that node or null if it wasn't found.
       *
       * @method walk
       * @param {Boolean} prev Optional previous node state defaults to false.
       * @return {tinymce.html.Node} Node that is next to or previous of the current node.
       */
      walk: function (prev) {
        return walk(this, null, prev);
      }
    };

    /**
     * Creates a node of a specific type.
     *
     * @static
     * @method create
     * @param {String} name Name of the node type to create for example "b" or "#text".
     * @param {Object} attrs Name/value collection of attributes that will be applied to elements.
     */
    Node.create = function (name, attrs) {
      var node, attrName;

      // Create node
      node = new Node(name, typeLookup[name] || 1);

      // Add attributes if needed
      if (attrs) {
        for (attrName in attrs) {
          node.attr(attrName, attrs[attrName]);
        }
      }

      return node;
    };

    return Node;
  }
);

/**
 * SaxParser.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/*eslint max-depth:[2, 9] */

/**
 * This class parses HTML code using pure JavaScript and executes various events for each item it finds. It will
 * always execute the events in the right order for tag soup code like <b><p></b></p>. It will also remove elements
 * and attributes that doesn't fit the schema if the validate setting is enabled.
 *
 * @example
 * var parser = new tinymce.html.SaxParser({
 *     validate: true,
 *
 *     comment: function(text) {
 *         console.log('Comment:', text);
 *     },
 *
 *     cdata: function(text) {
 *         console.log('CDATA:', text);
 *     },
 *
 *     text: function(text, raw) {
 *         console.log('Text:', text, 'Raw:', raw);
 *     },
 *
 *     start: function(name, attrs, empty) {
 *         console.log('Start:', name, attrs, empty);
 *     },
 *
 *     end: function(name) {
 *         console.log('End:', name);
 *     },
 *
 *     pi: function(name, text) {
 *         console.log('PI:', name, text);
 *     },
 *
 *     doctype: function(text) {
 *         console.log('DocType:', text);
 *     }
 * }, schema);
 * @class tinymce.html.SaxParser
 * @version 3.4
 */
define(
  'tinymce.core.html.SaxParser',
  [
    "tinymce.core.html.Schema",
    "tinymce.core.html.Entities",
    "tinymce.core.util.Tools"
  ],
  function (Schema, Entities, Tools) {
    var each = Tools.each;

    var isValidPrefixAttrName = function (name) {
      return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;
    };

    var trimComments = function (text) {
      return text.replace(/<!--|-->/g, '');
    };

    /**
     * Returns the index of the end tag for a specific start tag. This can be
     * used to skip all children of a parent element from being processed.
     *
     * @private
     * @method findEndTag
     * @param {tinymce.html.Schema} schema Schema instance to use to match short ended elements.
     * @param {String} html HTML string to find the end tag in.
     * @param {Number} startIndex Indext to start searching at should be after the start tag.
     * @return {Number} Index of the end tag.
     */
    function findEndTag(schema, html, startIndex) {
      var count = 1, index, matches, tokenRegExp, shortEndedElements;

      shortEndedElements = schema.getShortEndedElements();
      tokenRegExp = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;
      tokenRegExp.lastIndex = index = startIndex;

      while ((matches = tokenRegExp.exec(html))) {
        index = tokenRegExp.lastIndex;

        if (matches[1] === '/') { // End element
          count--;
        } else if (!matches[1]) { // Start element
          if (matches[2] in shortEndedElements) {
            continue;
          }

          count++;
        }

        if (count === 0) {
          break;
        }
      }

      return index;
    }

    /**
     * Constructs a new SaxParser instance.
     *
     * @constructor
     * @method SaxParser
     * @param {Object} settings Name/value collection of settings. comment, cdata, text, start and end are callbacks.
     * @param {tinymce.html.Schema} schema HTML Schema class to use when parsing.
     */
    function SaxParser(settings, schema) {
      var self = this;

      function noop() { }

      settings = settings || {};
      self.schema = schema = schema || new Schema();

      if (settings.fix_self_closing !== false) {
        settings.fix_self_closing = true;
      }

      // Add handler functions from settings and setup default handlers
      each('comment cdata text start end pi doctype'.split(' '), function (name) {
        if (name) {
          self[name] = settings[name] || noop;
        }
      });

      /**
       * Parses the specified HTML string and executes the callbacks for each item it finds.
       *
       * @example
       * new SaxParser({...}).parse('<b>text</b>');
       * @method parse
       * @param {String} html Html string to sax parse.
       */
      self.parse = function (html) {
        var self = this, matches, index = 0, value, endRegExp, stack = [], attrList, i, text, name;
        var isInternalElement, removeInternalElements, shortEndedElements, fillAttrsMap, isShortEnded;
        var validate, elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;
        var attributesRequired, attributesDefault, attributesForced, processHtml;
        var anyAttributesRequired, selfClosing, tokenRegExp, attrRegExp, specialElements, attrValue, idCount = 0;
        var decode = Entities.decode, fixSelfClosing, filteredUrlAttrs = Tools.makeMap('src,href,data,background,formaction,poster');
        var scriptUriRegExp = /((java|vb)script|mhtml):/i, dataUriRegExp = /^data:/i;

        function processEndTag(name) {
          var pos, i;

          // Find position of parent of the same type
          pos = stack.length;
          while (pos--) {
            if (stack[pos].name === name) {
              break;
            }
          }

          // Found parent
          if (pos >= 0) {
            // Close all the open elements
            for (i = stack.length - 1; i >= pos; i--) {
              name = stack[i];

              if (name.valid) {
                self.end(name.name);
              }
            }

            // Remove the open elements from the stack
            stack.length = pos;
          }
        }

        function parseAttribute(match, name, value, val2, val3) {
          var attrRule, i, trimRegExp = /[\s\u0000-\u001F]+/g;

          name = name.toLowerCase();
          value = name in fillAttrsMap ? name : decode(value || val2 || val3 || ''); // Handle boolean attribute than value attribute

          // Validate name and value pass through all data- attributes
          if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {
            attrRule = validAttributesMap[name];

            // Find rule by pattern matching
            if (!attrRule && validAttributePatterns) {
              i = validAttributePatterns.length;
              while (i--) {
                attrRule = validAttributePatterns[i];
                if (attrRule.pattern.test(name)) {
                  break;
                }
              }

              // No rule matched
              if (i === -1) {
                attrRule = null;
              }
            }

            // No attribute rule found
            if (!attrRule) {
              return;
            }

            // Validate value
            if (attrRule.validValues && !(value in attrRule.validValues)) {
              return;
            }
          }

          // Block any javascript: urls or non image data uris
          if (filteredUrlAttrs[name] && !settings.allow_script_urls) {
            var uri = value.replace(trimRegExp, '');

            try {
              // Might throw malformed URI sequence
              uri = decodeURIComponent(uri);
            } catch (ex) {
              // Fallback to non UTF-8 decoder
              uri = unescape(uri);
            }

            if (scriptUriRegExp.test(uri)) {
              return;
            }

            if (!settings.allow_html_data_urls && dataUriRegExp.test(uri) && !/^data:image\//i.test(uri)) {
              return;
            }
          }

          // Block data or event attributes on elements marked as internal
          if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {
            return;
          }

          // Add attribute to list and map
          attrList.map[name] = value;
          attrList.push({
            name: name,
            value: value
          });
        }

        // Precompile RegExps and map objects
        tokenRegExp = new RegExp('<(?:' +
          '(?:!--([\\w\\W]*?)-->)|' + // Comment
          '(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|' + // CDATA
          '(?:!DOCTYPE([\\w\\W]*?)>)|' + // DOCTYPE
          '(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|' + // PI
          '(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|' + // End element
          '(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\\/|\\s+)>)' + // Start element
          ')', 'g');

        attrRegExp = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;

        // Setup lookup tables for empty elements and boolean attributes
        shortEndedElements = schema.getShortEndedElements();
        selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();
        fillAttrsMap = schema.getBoolAttrs();
        validate = settings.validate;
        removeInternalElements = settings.remove_internals;
        fixSelfClosing = settings.fix_self_closing;
        specialElements = schema.getSpecialElements();
        pK8sT(i@@BJ0  d)*@J?J$5`1-D (D  6 %p' TB$L4XJPJWV%F,5 FcBuI+Nk>3?R:Gk~wmfo{P|>}mf4'^o=w[q;4v~ջ|˵9i-_h-ʶn~v'سlmk_zfzsx_S;;woEz{~w&F?ܹ~q@(b @XPLQ.Ig444X%耈'/;&;@aEJo 4d*$t@ !	*#Dq8i$Pn* ( ST6Zoa @p-B;e
v͆26]~;I9Zׯ1۳wq}әϛJ}örE(?<twW]t|nӱJ.//' 3E"(0A  
 "H:FhBKa !(spP	R7*0 ]'ϧ<"*
TAA02"
Q0cUV2% Tup3!vaP !t#J 5Roh- D %.ЌR]:@2$$i
 w=DEn	i GUD l&.J8! hP_)!`zJ@gONĽ_?۹8
JM=_}O>N?ow_evwK}o,Xi;;~N2Ld\&
NJPH&"I"k,"!f$Ecd@A'@! L	H@Jr3h	3fހ	Ax4H 
SK`4厺?eu}Gݺ߻s?{wzڭm{;OM{~6~_׿~Wsvy\?oo]^p݇7+?{77~߽n|JGm-]Ԧ8k&K]_o_g_}|q~Z޿>|ߋ_; 2^`	RX@)*3
1}a$&3)AW@a@L!	& 	0$ QR'T C[ʫc` 2P
HQ19dA 0OU_ާ}wuF_3ޛ>ͫ/߳YhivLhu{}}&yg~s}}/5^ϰ6$ǿ7˫|'Pjrd :dF 
4X|&A6$#" g8ҀÚ"CB1,$`1R2(g
npR P*bK)B0 ʄB#$ KES0"8*va"(]  HA0
pD1[ Q6.$Z 4BŶ)x"C.:tѠj(,DFW_6Y̸n:?{Jg~/W~QvO-UR[7w^y{k߷߇?ˍu #1W6X 8#@iyJiB
 !SRt0`1Pav) 
>Q`	i	l؍ @DTv`!a!u R 

(ЂχD1_zm7^z}uoƻ35=ޟzsן??߿Zckޫj#7k)j}?nOR;7{k? ='O鏲̇~tJ^owf,<zt=_P4_¤|W{Yw>(Ul
AH ` aC`Ș8 @0$+DA`"KF1 0piʉB @THD
1 !.@d0E("Tzy̿ySR;>ήfۻV7]։~sm.io5٪}ݻv۾s{_+onu%/yjd;Ot>sx]_0	dBAH"0TG jx12+ P
hRPR	i",B(WRZR	
 -9X "a H &!F`
l )@>'B"4n!Z%!A "U!,DK!QM =+@TG4a !sR'`DHE Yu\@0Pՙ`cD$9(P@.@` @ PJi@Ea+_{tW޷~߬y~'>_Ǽks|.{={~޾JWfzUkq=ݵMeuvp/t']<z\}_14P7# z"8A "F 9ȣ% U x&<cccPCP@ q
  	VR1@1)p PA CP 3%R6mYxG{?7|OEtK8u_{zvbeM7w~?+]q_=Sp{}>_wu1w=m?uwkwտ]/{~}7̮7=ZBnx<}}xSw㬏{m}}wo}{{v/?c}Cf D%z`!bJԊfb20#&  V 0 
@cI-ٖ"yH--\pB2;D?$ $pG%5lI!v1@X-h_~Oww5K7s߅IwzN};~D+=/{{Z[cuWo{~}g}x{˳{ikD)KkX@@GP	"Qj0/X%"I4p	3(,=4I8JH/Ah  &!X<OJ* @`1G P  @D&+XnI =$KЉI,x(?=&``sJ ;XXsKL( BtT NV#
6VaU	5t"@8h6* KfGodi׆cvߟ9ӽv;w:]X}&zn\_~ܵҏ"N[{W߯{m^]7ǝ=dwi߿n|<]p83}Zy/~^o5.k}w6OvnsQG2?OG`Ԃ2PDc&$ 2O_R#=  C"&dDA5P EQ@`@ FN`U\s	8B 0LTqF%DDDGr #&!@%`K`v,!B% @D)6R1 *ʀ !!FLK ` (TsߤzȨ( k HzuB 0)@bbQṂm
FE@ 
 Лww~eO{>};ٌ~_)_CӼ}jvg_]9&>>|?;o_;%n~u\}szN1&e,E00$  7u Q bA4H Њt@"N 	J &ÂFtDvMqF!ZpN6opa)4Pf#>c0((1s*>74ٽH}mW;ݹuFpoǿg87sv>_Omy_ow?%_w6jӻ?=gymojWݙ?m낿hޮO7?sxzmizÿhNAr{~X|u={KM_;v߹いD(P2(p p-Q32lYQ"TZǞ@ PZ@U`)rtpHOZP ٦~$ !)twA\pt':Ywݣ^[/~Oon~~ٿ9eZ4qYvߢ>rrե'Kb:{?mjqct%X
 #P4J!R 6a j@@P$A %QBh,5
QbEA6D)!J!QqAH&4"MKʌL!d3`FȇtP6$  C0Ex80gq,G"+ !(+CFPsp)6 Ia@ a12tE@0iA	efƄPD 1 1Y,__nw?FM{.my_c}3w{[=q{/[7域?KKPwGڽz~D@d%Ѵ@E V(4[6DOS1qU 0#IhRf ư1P s(BS0F
ChL.#@@CA"MR.''3
K="?eֳLe1ݿϝ9oz,Jn}>ֿܿ}.̗؟wcv~]P޴/oNl_wwqw`k?}{W3't{x{|v
(5U|@k@UDU */ :<! &#X(A4*xȇ:V@(cI E AD
P D,@!"ȅD*MH% ш2a#afkӗ\˿_oA?osVT7߻@o_9o뿿.ݾ<k}s?ʽyr >FmH UTH   r5xAX0ABBpP8@%  dp I`a0a ¨ *`S\"lA(a{AD#D@ Xl
1D(Q:b<S4?[qL ʍH dh &P"!4P1HZPCh ` (2',X8rIf"E$`%9 1&E 85 ?S?y'Ѩu$_Pv+~˶_'ushwrNk5Ni/=wms?ox߫~߿>o 4a4CA
 "2USL.5$C@VM۴!P"He 0")8BY4/f"9 IcGV$^$ͧWv-+s~3~ѝuz__Bwj6~俿#e->7st_{wnο_}~6F޲G/v;1ο/kNەǧSsN-u^viw܏>I]_vt.;<k26~
0r&= E"J	@Xm36B6|1E  J4(
H@  $d@!B2 C&U" y@H->+ÐcެQ( g J sdpOqGO$̭gltxwM_ڞJwPx;|=[o_6dfo<1o{7En5?u|sx;xjt  H0 'ԙ @U(!00T!Ʃ 
x`@(`5$T2d44$a$  :(ǂQ!!Udhe@st"S 0 `	$-a@@@ 
00!*(Y  R% "J Ќ$	& | !6@` O A Q`Pa !) G   )*R #%	, bJ^v%#"JB@OA0$k ֯%~zg;__n_mǦ5ּ9(틵o>{ݏ~]o4 *P"\XDLPD	s@T`xDﺤD
X!PHH P"`XZ
 H+#`# 0
Yu6;@";8JY#!_xC*I̾`{ܪo۝Ktݫ^VUmWhՋW[gz_oeݿڶͺ<~#նۧy˿o_rgٿ;[Sm{w7+w_bIO;磿{puw>ŷg[?
}]Ϳ*Y{}@{޻\]Bv(`bHX4 4bd8%<bP@"
dV3g`=*	;$0!QLh(B E !Q:
 3 07 (tributing: http://www.tinymce.com/contributing
 */

/**
 * This class parses HTML code into a DOM like structure of nodes it will remove redundant whitespace and make
 * sure that the node tree is valid according to the specified schema.
 * So for example: <p>a<p>b</p>c</p> will become <p>a</p><p>b</p><p>c</p>
 *
 * @example
 * var parser = new tinymce.html.DomParser({validate: true}, schema);
 * var rootNode = parser.parse('<h1>content</h1>');
 *
 * @class tinymce.html.DomParser
 * @version 3.4
 */
define(
  'tinymce.core.html.DomParser',
  [
    "tinymce.core.html.Node",
    "tinymce.core.html.Schema",
    "tinymce.core.html.SaxParser",
    "tinymce.core.util.Tools"
  ],
  function (Node, Schema, SaxParser, Tools) {
    var makeMap = Tools.makeMap, each = Tools.each, explode = Tools.explode, extend = Tools.extend;

    var paddEmptyNode = function (settings, node) {
      if (settings.padd_empty_with_br) {
        node.empty().append(new Node('br', '1')).shortEnded = true;
      } else {
        node.empty().append(new Node('#text', '3')).value = '\u00a0';
      }
    };

    var hasOnlyChild = function (node, name) {
      return node && node.firstChild === node.lastChild && node.firstChild.name === name;
    };

    /**
     * Constructs a new DomParser instance.
     *
     * @constructor
     * @method DomParser
     * @param {Object} settings Name/value collection of settings. comment, cdata, text, start and end are callbacks.
     * @param {tinymce.html.Schema} schema HTML Schema class to use when parsing.
     */
    return function (settings, schema) {
      var self = this, nodeFilters = {}, attributeFilters = [], matchedNodes = {}, matchedAttributes = {};

      settings = settings || {};
      settings.validate = "validate" in settings ? settings.validate : true;
      settings.root_name = settings.root_name || 'body';
      self.schema = schema = schema || new Schema();

      function fixInvalidChildren(nodes) {
        var ni, node, parent, parents, newParent, currentNode, tempNode, childNode, i;
        var nonEmptyElements, whitespaceElements, nonSplitableElements, textBlockElements, specialElements, sibling, nextNode;

        nonSplitableElements = makeMap('tr,td,th,tbody,thead,tfoot,table');
        nonEmptyElements = schema.getNonEmptyElements();
        whitespaceElements = schema.getWhiteSpaceElements();
        textBlockElements = schema.getTextBlockElements();
        specialElements = schema.getSpecialElements();

        for (ni = 0; ni < nodes.length; ni++) {
          node = nodes[ni];

          // Already removed or fixed
          if (!node.parent || node.fixed) {
            continue;
          }

          // If the invalid element is a text block and the text block is within a parent LI element
          // Then unwrap the first text block and convert other sibling text blocks to LI elements similar to Word/Open Office
          if (textBlockElements[node.name] && node.parent.name == 'li') {
            // Move sibling text blocks after LI element
            sibling = node.next;
            while (sibling) {
              if (textBlockElements[sibling.name]) {
                sibling.name = 'li';
                sibling.fixed = true;
                node.parent.insert(sibling, node.parent);
              } else {
                break;
              }

              sibling = sibling.next;
            }

            // Unwrap current text block
            node.unwrap(node);
            continue;
          }

          // Get list of all parent nodes until we find a valid parent to stick the child into
          parents = [node];
          for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) &&
            !nonSplitableElements[parent.name]; parent = parent.parent) {
            parents.push(parent);
          }

          // Found a suitable parent
          if (parent && parents.length > 1) {
            // Reverse the array since it makes looping easier
            parents.reverse();

            // Clone the related parent and insert that after the moved node
            newParent = currentNode = self.filterNode(parents[0].clone());

            // Start cloning and moving children on the left side of the target node
            for (i = 0; i < parents.length - 1; i++) {
              if (schema.isValidChild(currentNode.name, parents[i].name)) {
                tempNode = self.filterNode(parents[i].clone());
                currentNode.append(tempNode);
              } else {
                tempNode = currentNode;
              }

              for (childNode = parents[i].firstChild; childNode && childNode != parents[i + 1];) {
                nextNode = childNode.next;
                tempNode.append(childNode);
                childNode = nextNode;
              }

              currentNode = tempNode;
            }

            if (!newParent.isEmpty(nonEmptyElements, whitespaceElements)) {
              parent.insert(newParent, parents[0], true);
              parent.insert(node, newParent);
            } else {
              parent.insert(node, parents[0], true);
            }

            // Check if the element is empty by looking through it's contents and special treatment for <p><br /></p>
            parent = parents[0];
            if (parent.isEmpty(nonEmptyElements, whitespaceElements) || hasOnlyChild(parent, 'br')) {
              parent.empty().remove();
            }
          } else if (node.parent) {
            // If it's an LI try to find a UL/OL for it or wrap it
            if (node.name === 'li') {
              sibling = node.prev;
              if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {
                sibling.append(node);
                continue;
              }

              sibling = node.next;
              if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {
                sibling.insert(node, sibling.firstChild, true);
                continue;
              }

              node.wrap(self.filterNode(new Node('ul', 1)));
              continue;
            }

            // Try wrapping the element in a DIV
            if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {
              node.wrap(self.filterNode(new Node('div', 1)));
            } else {
              // We failed wrapping it, then remove or unwrap it
              if (specialElements[node.name]) {
                node.empty().remove();
              } else {
                node.unwrap();
              }
            }
          }
        }
      }

      /**
       * Runs the specified node though the element and attributes filters.
       *
       * @method filterNode
       * @param {tinymce.html.Node} Node the node to run filters on.
       * @return {tinymce.html.Node} The passed in node.
       */
      self.filterNode = function (node) {
        var i, name, list;

        // Run element filters
        if (name in nodeFilters) {
          list = matchedNodes[name];

          if (list) {
            list.push(node);
          } else {
            matchedNodes[name] = [node];
          }
        }

        // Run attribute filters
        i = attributeFilters.length;
        while (i--) {
          name = attributeFilters[i].name;

          if (name in node.attributes.map) {
            list = matchedAttributes[name];

            if (list) {
              list.push(node);
            } else {
              matchedAttributes[name] = [node];
            }
          }
        }

        return node;
      };

      /**
       * Adds a node filter function to the parser, the parser will collect the specified nodes by name
       * and then execute the callback ones it has finished parsing the document.
       *
       * @example
       * parser.addNodeFilter('p,h1', function(nodes, name) {
       *  for (var i = 0; i < nodes.length; i++) {
       *   console.log(nodes[i].name);
       *  }
       * });
       * @method addNodeFilter
       * @method {String} name Comma separated list of nodes to collect.
       * @param {function} callback Callback function to execute once it has collected nodes.
       */
      self.addNodeFilter = function (name, callback) {
        each(explode(name), function (name) {
          var list = nodeFilters[name];

          if (!list) {
            nodeFilters[name] = list = [];
          }

          list.push(callback);
        });
      };

      /**
       * Adds a attribute filter function to the parser, the parser will collect nodes that has the specified attributes
       * and then execute the callback ones it has finished parsing the document.
       *
       * @example
       * parser.addAttributeFilter('src,href', function(nodes, name) {
       *  for (var i = 0; i < nodes.length; i++) {
       *   console.log(nodes[i].name);
       *  }
       * });
       * @method addAttributeFilter
       * @method {String} name Comma separated list of nodes to collect.
       * @param {function} callback Callback function to execute once it has collected nodes.
       */
      self.addAttributeFilter = function (name, callback) {
        each(explode(name), function (name) {
          var i;

          for (i = 0; i < attributeFilters.length; i++) {
            if (attributeFilters[i].name === name) {
              attributeFilters[i].callbacks.push(callback);
              return;
            }
          }

          attributeFilters.push({ name: name, callbacks: [callback] });
        });
      };

      /**
       * Parses the specified HTML string into a DOM like node tree and returns the result.
       *
       * @example
       * var rootNode = new DomParser({...}).parse('<b>text</b>');
       * @method parse
       * @param {String} html Html string to sax parse.
       * @param {Object} args Optional args object that gets passed to all filter functions.
       * @return {tinymce.html.Node} Root node containing the tree.
       */
      self.parse = function (html, args) {
        var parser, rootNode, node, nodes, i, l, fi, fl, list, name, validate;
        var blockElements, startWhiteSpaceRegExp, invalidChildren = [], isInWhiteSpacePreservedElement;
        var endWhiteSpaceRegExp, allWhiteSpaceRegExp, isAllWhiteSpaceRegExp, whiteSpaceElements;
        var children, nonEmptyElements, rootBlockName;

        args = args || {};
        matchedNodes = {};
        matchedAttributes = {};
        blockElements = extend(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());
        nonEmptyElements = schema.getNonEmptyElements();
        children = schema.children;
        validate = settings.validate;
        rootBlockName = "forced_root_block" in args ? args.forced_root_block : settings.forced_root_block;

        whiteSpaceElements = schema.getWhiteSpaceElements();
        startWhiteSpaceRegExp = /^[ \t\r\n]+/;
        endWhiteSpaceRegExp = /[ \t\r\n]+$/;
        allWhiteSpaceRegExp = /[ \t\r\n]+/g;
        isAllWhiteSpaceRegExp = /^[ \t\r\n]+$/;

        function addRootBlocks() {
          var node = rootNode.firstChild, next, rootBlockNode;

          // Removes whitespace at beginning and end of block so:
          // <p> x </p> -> <p>x</p>
          function trim(rootBlockNode) {
            if (rootBlockNode) {
              node = rootBlockNode.firstChild;
              if (node && node.type == 3) {
                node.value = node.value.replace(startWhiteSpaceRegExp, '');
              }

              node = rootBlockNode.lastChild;
              if (node && node.type == 3) {
                node.value = node.value.replace(endWhiteSpaceRegExp, '');
              }
            }
          }

          // Check if rootBlock is valid within rootNode for example if P is valid in H1 if H1 is the contentEditabe root
          if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {
            return;
          }

          while (node) {
            next = node.next;

            if (node.type == 3 || (node.type == 1 && node.name !== 'p' &&
              !blockElements[node.name] && !node.attr('data-mce-type'))) {
              if (!rootBlockNode) {
                // Create a new root block element
                rootBlockNode = createNode(rootBlockName, 1);
                rootBlockNode.attr(settings.forced_root_block_attrs);
                rootNode.insert(rootBlockNode, node);
                rootBlockNode.append(node);
              } else {
                rootBlockNode.append(node);
              }
            } else {
              trim(rootBlockNode);
              rootBlockNode = null;
            }

            node = next;
          }

          trim(rootBlockNode);
        }

        function createNode(name, type) {
          var node = new Node(name, type), list;

          if (name in nodeFilters) {
            list = matchedNodes[name];

            if (list) {
              list.push(node);
            } else {
              matchedNodes[name] = [node];
            }
          }

          return node;
        }

        function removeWhitespaceBefore(node) {
          var textNode, textNodeNext, textVal, sibling, blockElements = schema.getBlockElements();

          for (textNode = node.prev; textNode && textNode.type === 3;) {
            textVal = textNode.value.replace(endWhiteSpaceRegExp, '');

            // Found a text node with non whitespace then trim that and break
            if (textVal.length > 0) {
              textNode.value = textVal;
              return;
            }

            textNodeNext = textNode.next;

            // Fix for bug #7543 where bogus nodes would produce empty
            // text nodes and these would be removed if a nested list was before it
            if (textNodeNext) {
              if (textNodeNext.type == 3 && textNodeNext.value.length) {
                textNode = textNode.prev;
                continue;
              }

              if (!blockElements[textNodeNext.name] && textNodeNext.name != 'script' && textNodeNext.name != 'style') {
                textNode = textNode.prev;
                continue;
              }
            }

            sibling = textNode.prev;
            textNode.remove();
            textNode = sibling;
          }
        }

        function cloneAndExcludeBlocks(input) {
          var name, output = {};

          for (name in input) {
            if (name !== 'li' && name != 'p') {
              output[name] = input[name];
            }
          }

          return output;
        }

        parser = new SaxParser({
          validate: validate,
          allow_script_urls: settings.allow_script_urls,
          allow_conditional_comments: settings.allow_conditional_comments,

          // Exclude P and LI from DOM parsing since it's treated better by the DOM parser
          self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),

          cdata: function (text) {
            node.append(createNode('#cdata', 4)).value = text;
          },

          text: function (text, raw) {
            var textNode;

            // Trim all redundant whitespace on non white space elements
            if (!isInWhiteSpacePreservedElement) {
              text = text.replace(allWhiteSpaceRegExp, ' ');

              if (node.lastChild && blockElements[node.lastChild.name]) {
                text = text.replace(startWhiteSpaceRegExp, '');
              }
            }

            // Do we need to create the node
            if (text.length !== 0) {
              textNode = createNode('#text', 3);
              textNode.raw = !!raw;
              node.append(textNode).value = text;
            }
          },

          comment: function (text) {
            node.append(createNode('#comment', 8)).value = text;
          },

          pi: function (name, text) {
            node.append(createNode(name, 7)).value = text;
            removeWhitespaceBefore(node);
          },

          doctype: function (text) {
            var newNode;

            newNode = node.append(createNode('#doctype', 10));
            newNode.value = text;
            removeWhitespaceBefore(node);
          },

          start: function (name, attrs, empty) {
            var newNode, attrFiltersLen, elementRule, attrName, parent;

            elemen&pKIP##-Dr֐ "
L@
 L5@!8KP!E-.@L`uVIw59 C1KpzB# hHHl( eHL!'P4L";(m	
PP߮(@mE'cX	 `<F7)*ՉCb5JPO"JhF+"2a PVz\$*| "=P10mRf@" $0B	D* M(̱#e L"	L"mIn8b&$CYET(KXxxB &щapNhW@ X`)WQAJ"M@$pb+  D(s (88PM
 xM	ATJ/W$ȈO((L
^(SdQƐ$И #Q,2e @	iQ'3b(ApSjH$h$VñqPR6S1L04t	P {R,PŽ@PP݌2b@H`脊I!F%D	)BYQe0 Y&0Uj1($%@U3!  QQk
01ID0Pr0D5& @ B0$Rb%	CEl""!aw 6$P 0IW @ <A =,XX`0
QU4l*@EB`  = e X D(ERC(d1P" `!DJpqԐ(u @ tBR0 D X
9bES@$5`'KBA,:$ 2q"fZd H^(	P.DC"@0"?L"UHDu|·ZB!DYCu2(K  )T"X !$Em ʒp`: 
T"Cy*gfF`&  "Vh0XX @r@ )V  H;C@@L͞8Vn^ Uck3
@ 
D5 B)$ɫ 1'AY"W@"A  "\'(H#0<+,cK!pN&t@!Bς(\MFeJhAr$fPP $I6%Bʐ?<q}P+P%Q DĸI"DCҁE	
6X4AcLVtpG,"(DUUÂ+ȕj33RF.	 @A$V RŲF@D p4\Hu pÁƤa  L@=$G(E#41?2 zLtHFUD0C  BJ,@Z|"/C~5Za!"?׌Q!8E)->,_ɹ@pT׃*M3*A
2"A}_ta:XXnIKB th|<J'% 
@3 QN0"; C	R   Z訡 
AB0 (w' ,1K "@/ApV.	*ē (@A&pI@8H@  13 B	  -֐pAuF`(8:Pb
X'|
Hٓ)
V-jYXXB@BP (+9dL20+$t  =Ӑ!S@@E Ќ_S AB^
(hc$80bPJp ,b! prPAPg6G@!V<(	&D)P3!ia` #-P!F-1 8r!#% %
H$@)2a]$ Lx t
@(Ib -JZ	#-
h%B*PF@($Ęb0׀06+RUF"0iPukHQ 
U Y h
/b%*D9d
D BVAֱDF$Ë& #!"PdA)P U,T (( RAi^-K9$	TA~kcm5B5#	AFQ-D @1#\$:SSo !CY H?F@,LORP' ^TgȠJ f@6Ćq!&XKtQ U@4q "BD}qB3P%4ŐX06p {@@LP `G0(NXeHpP P @IH@	
U3ʓJXlBBM1) 0	@C,W@ $  z#%2C<`,jĘ"#!@qHLqk(n3RQIk&rB}#;EtB<dFhFm%F!qTX	d9 #d"= u*k@D'#X@"1 .#C&
SS	% OUqH1>#& 0&1 Q
,P@&љb ]!P^
BJ2P T*MR,@"Y!8%  P`	%aBfBi `dE  3
"d YtI B%!ֈAq, t 1 !!֘@VR	% H@F]qx+9P$"&jƅ6@ "4Q1ޯJ@#"1%(@X /H%RE#au|IvA	bB2 DJR@=]fd"` ""p0 ka
R('@@Á8 @!
V$,1JB P ITL(`E	S(!L"1pb0d *9P Ĳn@Ԙ-َRĬ a]@ h%0FBQD̜&
JK(DҜ3d% D-naH֣GLn;PPq,ЁXSBDcCʐah
vYf sl*q xL]rAJP~=   !ܖ'DSbwO Hkᴮ Mb=	:0` i%0gTp!8A TE@:H  @b MSB8P!T$Pb@"P!)	@TlX3yS $ X"IA  D 	LH
i2@+5.W%@RJFA4PGEÁ:;"0&	"ˏw
  !M Vi'C2g2^5`LB `LQI(Ep`X  $" $DX	D6|DpѺB0Ec*ٲ4!r3Bpp $x`!	K4 
`ĄP9@r`m l(@`` 	PCSmC"$@DI0HD!mZ\B] pH@ cH % 3@m)d) pD}IцSDp00T 		`~ 
B6I3&`nRDha(|*e3@L0P@܍@"@*fL@Tbb#*P	R`M0y `A SCR9FGhpȤ%B0`$Ĕ;
                          textNode = sibling;
                        }

                        textNode = sibling;
                      }
                    }
                  }
                }

                // Trim start white space
                // Removed due to: #5424
                /*textNode = node.prev;
                if (textNode && textNode.type === 3) {
                  text = textNode.value.replace(startWhiteSpaceRegExp, '');

                  if (text.length > 0)
                    textNode.value = text;
                  else
                    textNode.remove();
                }*/
              }

              // Check if we exited a whitespace preserved element
              if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {
                isInWhiteSpacePreservedElement = false;
              }

              // Handle empty nodes
              if (elementRule.removeEmpty || elementRule.paddEmpty) {
                if (node.isEmpty(nonEmptyElements, whiteSpaceElements)) {
                  if (elementRule.paddEmpty) {
                    paddEmptyNode(settings, node);
                  } else {
                    // Leave nodes that have a name like <a name="name">
                    if (!node.attributes.map.name && !node.attributes.map.id) {
                      tempNode = node.parent;

                      if (blockElements[node.name]) {
                        node.empty().remove();
                      } else {
                        node.unwrap();
                      }

                      node = tempNode;
                      return;
                    }
                  }
                }
              }

              node = node.parent;
            }
          }
        }, schema);

        rootNode = node = new Node(args.context || settings.root_name, 11);

        parser.parse(html);

        // Fix invalid children or report invalid children in a contextual parsing
        if (validate && invalidChildren.length) {
          if (!args.context) {
            fixInvalidChildren(invalidChildren);
          } else {
            args.invalid = true;
          }
        }

        // Wrap nodes in the root into block elements if the root is body
        if (rootBlockName && (rootNode.name == 'body' || args.isRootContent)) {
          addRootBlocks();
        }

        // Run filters only when the contents is valid
        if (!args.invalid) {
          // Run node filters
          for (name in matchedNodes) {
            list = nodeFilters[name];
            nodes = matchedNodes[name];

            // Remove already removed children
            fi = nodes.length;
            while (fi--) {
              if (!nodes[fi].parent) {
                nodes.splice(fi, 1);
              }
            }

            for (i = 0, l = list.length; i < l; i++) {
              list[i](nodes, name, args);
            }
          }

          // Run attribute filters
          for (i = 0, l = attributeFilters.length; i < l; i++) {
            list = attributeFilters[i];

            if (list.name in matchedAttributes) {
              nodes = matchedAttributes[list.name];

              // Remove already removed children
              fi = nodes.length;
              while (fi--) {
                if (!nodes[fi].parent) {
                  nodes.splice(fi, 1);
                }
              }

              for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {
                list.callbacks[fi](nodes, list.name, args);
              }
            }
          }
        }

        return rootNode;
      };

      // Remove <br> at end of block elements Gecko and WebKit injects BR elements to
      // make it possible to place the caret inside empty blocks. This logic tries to remove
      // these elements and keep br elements that where intended to be there intact
      if (settings.remove_trailing_brs) {
        self.addNodeFilter('br', function (nodes) {
          var i, l = nodes.length, node, blockElements = extend({}, schema.getBlockElements());
          var nonEmptyElements = schema.getNonEmptyElements(), parent, lastParent, prev, prevName;
          var whiteSpaceElements = schema.getNonEmptyElements();
          var elementRule, textNode;

          // Remove brs from body element as well
          blockElements.body = 1;

          // Must loop forwards since it will otherwise remove all brs in <p>a<br><br><br></p>
          for (i = 0; i < l; i++) {
            node = nodes[i];
            parent = node.parent;

            if (blockElements[node.parent.name] && node === parent.lastChild) {
              // Loop all nodes to the left of the current node and check for other BR elements
              // excluding bookmarks since they are invisible
              prev = node.prev;
              while (prev) {
                prevName = prev.name;

                // Ignore bookmarks
                if (prevName !== "span" || prev.attr('data-mce-type') !== 'bookmark') {
                  // Found a non BR element
                  if (prevName !== "br") {
                    break;
                  }

                  // Found another br it's a <br><br> structure then don't remove anything
                  if (prevName === 'br') {
                    node = null;
                    break;
                  }
                }

                prev = prev.prev;
              }

              if (node) {
                node.remove();

                // Is the parent to be considered empty after we removed the BR
                if (parent.isEmpty(nonEmptyElements, whiteSpaceElements)) {
                  elementRule = schema.getElementRule(parent.name);

                  // Remove or padd the element depending on schema rule
                  if (elementRule) {
                    if (elementRule.removeEmpty) {
                      parent.remove();
                    } else if (elementRule.paddEmpty) {
                      paddEmptyNode(settings, parent);
                    }
                  }
                }
              }
            } else {
              // Replaces BR elements inside inline elements like <p><b><i><br></i></b></p>
              // so they become <p><b><i>&nbsp;</i></b></p>
              lastParent = node;
              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {
                lastParent = parent;

                if (blockElements[parent.name]) {
                  break;
                }

                parent = parent.parent;
              }

              if (lastParent === parent && settings.padd_empty_with_br !== true) {
                textNode = new Node('#text', 3);
                textNode.value = '\u00a0';
                node.replace(textNode);
              }
            }
          }
        });
      }


      self.addAttributeFilter('href', function (nodes) {
        var i = nodes.length, node;

        var appendRel = function (rel) {
          var parts = rel.split(' ').filter(function (p) {
            return p.length > 0;
          });
          return parts.concat(['noopener']).sort().join(' ');
        };

        var addNoOpener = function (rel) {
          var newRel = rel ? Tools.trim(rel) : '';
          if (!/\b(noopener)\b/g.test(newRel)) {
            return appendRel(newRel);
          } else {
            return newRel;
          }
        };

        if (!settings.allow_unsafe_link_target) {
          while (i--) {
            node = nodes[i];
            if (node.name === 'a' && node.attr('target') === '_blank') {
              node.attr('rel', addNoOpener(node.attr('rel')));
            }
          }
        }
      });

      // Force anchor names closed, unless the setting "allow_html_in_named_anchor" is explicitly included.
      if (!settings.allow_html_in_named_anchor) {
        self.addAttributeFilter('id,name', function (nodes) {
          var i = nodes.length, sibling, prevSibling, parent, node;

          while (i--) {
            node = nodes[i];
            if (node.name === 'a' && node.firstChild && !node.attr('href')) {
              parent = node.parent;

              // Move children after current node
              sibling = node.lastChild;
              do {
                prevSibling = sibling.prev;
                parent.insert(sibling, node);
                sibling = prevSibling;
              } while (sibling);
            }
          }
        });
      }

      if (settings.fix_list_elements) {
        self.addNodeFilter('ul,ol', function (nodes) {
          var i = nodes.length, node, parentNode;

          while (i--) {
            node = nodes[i];
            parentNode = node.parent;

            if (parentNode.name === 'ul' || parentNode.name === 'ol') {
              if (node.prev && node.prev.name === 'li') {
                node.prev.append(node);
              } else {
                var li = new Node('li', 1);
                li.attr('style', 'list-style-type: none');
                node.wrap(li);
              }
            }
          }
        });
      }

      if (settings.validate && schema.getValidClasses()) {
        self.addAttributeFilter('class', function (nodes) {
          var i = nodes.length, node, classList, ci, className, classValue;
          var validClasses = schema.getValidClasses(), validClassesMap, valid;

          while (i--) {
            node = nodes[i];
            classList = node.attr('class').split(' ');
            classValue = '';

            for (ci = 0; ci < classList.length; ci++) {
              className = classList[ci];
              valid = false;

              validClassesMap = validClasses['*'];
              if (validClassesMap && validClassesMap[className]) {
                valid = true;
              }

              validClassesMap = validClasses[node.name];
              if (!valid && validClassesMap && validClassesMap[className]) {
                valid = true;
              }

              if (valid) {
                if (classValue) {
                  classValue += ' ';
                }

                classValue += className;
              }
            }

            if (!classValue.length) {
              classValue = null;
            }

            node.attr('class', classValue);
          }
        });
      }
    };
  }
);

/**
 * Writer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class is used to write HTML tags out it can be used with the Serializer or the SaxParser.
 *
 * @class tinymce.html.Writer
 * @example
 * var writer = new tinymce.html.Writer({indent: true});
 * var parser = new tinymce.html.SaxParser(writer).parse('<p><br></p>');
 * console.log(writer.getContent());
 *
 * @class tinymce.html.Writer
 * @version 3.4
 */
define(
  'tinymce.core.html.Writer',
  [
    "tinymce.core.html.Entities",
    "tinymce.core.util.Tools"
  ],
  function (Entities, Tools) {
    var makeMap = Tools.makeMap;

    /**
     * Constructs a new Writer instance.
     *
     * @constructor
     * @method Writer
     * @param {Object} settings Name/value settings object.
     */
    return function (settings) {
      var html = [], indent, indentBefore, indentAfter, encode, htmlOutput;

      settings = settings || {};
      indent = settings.indent;
      indentBefore = makeMap(settings.indent_before || '');
      indentAfter = makeMap(settings.indent_after || '');
      encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);
      htmlOutput = settings.element_format == "html";

      return {
        /**
         * Writes the a start element such as <p id="a">.
         *
         * @method start
         * @param {String} name Name of the element.
         * @param {Array} attrs Optional attribute array or undefined if it hasn't any.
         * @param {Boolean} empty Optional empty state if the tag should end like <br />.
         */
        start: function (name, attrs, empty) {
          var i, l, attr, value;

          if (indent && indentBefore[name] && html.length > 0) {
            5 ކZ'ӭmK :%16 T&M-hf	NDQMCFfaDY$RCt
#$A <>#U8 y9@@@	MW+_gnܝi/vSoߖK#5mwwQ?.}<mg;9Wkqg~w:~x۾s/|߬0NU?[Ҿw^J_3]s{~?{?8F睟Y_s^_?udc\WotTX9R ,R#$F2C* %tc* pU@81@(6U)v28by  `@)FC!A;uQf  I8"b	F%0/8wbo:~>oݛOduN7~mhyezw'FϏҿ\cWw7|.~&l*/bwnw#ј	AA#H!K"@^"	04YH|ABL$ 	0E@1B:(.P
8-H !U 1xDb iIBbT7!P& 8 (`)
  8
"ЂU`Q ( F%0DӋOH
 C:3hB F  :F<ȨQ1 YPB<AQ	`G!hQA)ZL#mR?/}_[<z.ӦѴi{<7%E|mo{OͿR_s:m=~?ϸ?ů]QuWqF!E0aa+FG "
SAhFC ]9&4dh3VA΂(6Xb`T 9	lU$)'
A-C6Kij}N{M|齿,=ƻݽ.ScYq?4_^}_#wlRF+Kͷ&߅O{QwN͛tWwUv===Ϳ>̮os|ߧg^wq|~rۛvyۯޞg?~gn}{>k={-I 5X  

a6D b]BQ@R@ M @ x7	 @AD02 gdH:\0%$
%d"rdX"	q-CFbǗ@$u(b !	_MIe[wS{}"lu5-тp8Rs~unT󫞳>j;ϻPNrmazm?O_?5$+ q  X<	J& P#1	שa 1DPA+0D =U| 0iD"MQ!!J@AB&GI&k.  (DG0r "
B"Q4P Bl$t R!>G0D	/<K$@#&LaR`}K G2,F "KBB"ЈGs1.L0
,w?=޾O53yWͭwavݳ;⿮m__o}9}Z=wEK~]{OU+eolo$pI.XFuP܊:IX K_E#TYD@љ\A BBD	uHB 1bX5"(v_c5$F*=>W{3x|Nݵ>MR/Ϳ˓yׯ6#ۿ=/n_}/~eZ:csAݟ{z=	~/]?NKXG^߳7ߟܿ*y~иB]ދvoWtH럷?v뿯luOCu筵,ՒXҽcݴ0ԲIR\Dz%G$@4L[8tDPa,t/P	m!BX+D'	@,@R.ahCuCpJ -109H<@g\y}߽=Ο6Qgo̍{˔wUv:~u|n>lznڻt^Kzfiovg; PY RN" !>()tQ 2Ђ
d@DD B B3/4
A%HCcw!  @KPb-*=1A `<it0Ҁ-# jN
3
XpF%\H'4 %
@@wb Ⱦ#H RRi) @.x	
65 Ap"!A<470(PGA츤&( nz[scx_~[ǻ~q~:o[Ϳ{|՛un{_lbUS?zۙ6܋|ݧ/;fZ~[;.bX4 @%(UK DY4 zT@@ L#BB@#6y*EÀi(l Dp CI>P@Y-$R&b9<0%2 $R<r~i=^_{_rԞϯv}*-ѿgNؽO_q}ujѪo;r	/)'gj}{3ގywgk㳽x-K:KKq޷kd6{ggt=ힾvw8=o{}W>̈́	DP!$``P(M
PȽ(&"btBp@N !	 q(xU~L Uu0'X@H昤M-]qSrp!B)9A
{޽?^w3w}^[uiֿ?;<rW˛y-Ϳ_T~"_>vV#ϲ'2:>/^~F;UorWߝX:'*f2iL2ĉv
A$04%$P*'0+6?AA@.BOI&+NV :&q ` &8	ౕ Z0"  '$AA1@p  a^!y`	2DG0C(/A/)1qB25fQ aD )5mA0AT W!2@A2!2HtS	e I 8Q( )?t}l/?H+?)+Y3Cڷ4ӽ_W]|OzbϚo.~O{].߮כ},g|oEۿnew tinymce.html.DomParser().parse('<p>text</p>'));
 * @class tinymce.html.Serializer
 * @version 3.4
 */
define(
  'tinymce.core.html.Serializer',
  [
    "tinymce.core.html.Writer",
    "tinymce.core.html.Schema"
  ],
  function (Writer, Schema) {
    /**
     * Constructs a new Serializer instance.
     *
     * @constructor
     * @method Serializer
     * @param {Object} settings Name/value settings object.
     * @param {tinymce.html.Schema} schema Schema instance to use.
     */
    return function (settings, schema) {
      var self = this, writer = new Writer(settings);

      settings = settings || {};
      settings.validate = "validate" in settings ? settings.validate : true;

      self.schema = schema = schema || new Schema();
      self.writer = writer;

      /**
       * Serializes the specified node into a string.
       *
       * @example
       * new tinymce.html.Serializer().serialize(new tinymce.html.DomParser().parse('<p>text</p>'));
       * @method serialize
       * @param {tinymce.html.Node} node Node instance to serialize.
       * @return {String} String with HTML based on DOM tree.
       */
      self.serialize = function (node) {
        var handlers, validate;

        validate = settings.validate;

        handlers = {
          // #text
          3: function (node) {
            writer.text(node.value, node.raw);
          },

          // #comment
          8: function (node) {
            writer.comment(node.value);
          },

          // Processing instruction
          7: function (node) {
            writer.pi(node.name, node.value);
          },

          // Doctype
          10: function (node) {
            writer.doctype(node.value);
          },

          // CDATA
          4: function (node) {
            writer.cdata(node.value);
          },

          // Document fragment
          11: function (node) {
            if ((node = node.firstChild)) {
              do {
                walk(node);
              } while ((node = node.next));
            }
          }
        };

        writer.reset();

        function walk(node) {
          var handler = handlers[node.type], name, isEmpty, attrs, attrName, attrValue, sortedAttrs, i, l, elementRule;

          if (!handler) {
            name = node.name;
            isEmpty = node.shortEnded;
            attrs = node.attributes;

            // Sort attributes
            if (validate && attrs && attrs.length > 1) {
              sortedAttrs = [];
              sortedAttrs.map = {};

              elementRule = schema.getElementRule(node.name);
              if (elementRule) {
                for (i = 0, l = elementRule.attributesOrder.length; i < l; i++) {
                  attrName = elementRule.attributesOrder[i];

                  if (attrName in attrs.map) {
                    attrValue = attrs.map[attrName];
                    sortedAttrs.map[attrName] = attrValue;
                    sortedAttrs.push({ name: attrName, value: attrValue });
                  }
                }

                for (i = 0, l = attrs.length; i < l; i++) {
                  attrName = attrs[i].name;

                  if (!(attrName in sortedAttrs.map)) {
                    attrValue = attrs.map[attrName];
                    sortedAttrs.map[attrName] = attrValue;
                    sortedAttrs.push({ name: attrName, value: attrValue });
                  }
                }

                attrs = sortedAttrs;
              }
            }

            writer.start(node.name, attrs, isEmpty);

            if (!isEmpty) {
              if ((node = node.firstChild)) {
                do {
                  walk(node);
                } while ((node = node.next));
              }

              writer.end(name);
            }
          } else {
            handler(node);
          }
        }

        // Serialize element and treat all non elements as fragments
        if (node.type == 1 && !settings.inner) {
          walk(node);
        } else {
          handlers[11](node);
        }

        return writer.getContent();
      };
    };
  }
);

/**
 * Serializer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class is used to serialize DOM trees into a string. Consult the TinyMCE Wiki API for
 * more details and examples on how to use this class.
 *
 * @class tinymce.dom.Serializer
 */
define(
  'tinymce.core.dom.Serializer',
  [
    "tinymce.core.dom.DOMUtils",
    "tinymce.core.html.DomParser",
    "tinymce.core.html.SaxParser",
    "tinymce.core.html.Entities",
    "tinymce.core.html.Serializer",
    "tinymce.core.html.Node",
    "tinymce.core.html.Schema",
    "tinymce.core.Env",
    "tinymce.core.util.Tools",
    "tinymce.core.text.Zwsp"
  ],
  function (DOMUtils, DomParser, SaxParser, Entities, Serializer, Node, Schema, Env, Tools, Zwsp) {
    var each = Tools.each, trim = Tools.trim;
    var DOM = DOMUtils.DOM;

    /**
     * IE 11 has a fantastic bug where it will produce two trailing BR elements to iframe bodies when
     * the iframe is hidden by display: none on a parent container. The DOM is actually out of sync
     * with innerHTML in this case. It's like IE adds shadow DOM BR elements that appears on innerHTML
     * but not as the lastChild of the body. So this fix simply removes the last two
     * BR elements at the end of the document.
     *
     * Example of what happens: <body>text</body> becomes <body>text<br><br></body>
     */
    function trimTrailingBr(rootNode) {
      var brNode1, brNode2;

      function isBr(node) {
        return node && node.name === 'br';
      }

      brNode1 = rootNode.lastChild;
      if (isBr(brNode1)) {
        brNode2 = brNode1.prev;

        if (isBr(brNode2)) {
          brNode1.remove();
          brNode2.remove();
        }
      }
    }

    /**
     * Constructs a new DOM serializer class.
     *
     * @constructor
     * @method Serializer
     * @param {Object} settings Serializer settings object.
     * @param {tinymce.Editor} editor Optional editor to bind events to and get schema/dom from.
     */
    return function (settings, editor) {
      var dom, schema, htmlParser, tempAttrs = ["data-mce-selected"];

      if (editor) {
        dom = editor.dom;
        schema = editor.schema;
      }

      function trimHtml(html) {
        var trimContentRegExp = new RegExp([
          '<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\\/span>', // Trim bogus spans like caret containers
          '\\s?(' + tempAttrs.join('|') + ')="[^"]+"' // Trim temporaty data-mce prefixed attributes like data-mce-selected
        ].join('|'), 'gi');

        html = Zwsp.trim(html.replace(trimContentRegExp, ''));

        return html;
      }

      function trimContent(html) {
        var content = html;
        var bogusAllRegExp = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;
        var endTagIndex, index, matchLength, matches, shortEndedElements, schema = editor.schema;

        content = trimHtml(content);
        shortEndedElements = schema.getShortEndedElements();

        // Remove all bogus elements marked with "all"
        while ((matches = bogusAllRegExp.exec(content))) {
          index = bogusAllRegExp.lastIndex;
          matchLength = matches[0].length;

          if (shortEndedElements[matches[1]]) {
            endTagIndex = index;
          } else {
            endTagIndex = SaxParser.findEndTag(schema, content, index);
          }

          content = content.substring(0, index - matchLength) + content.substring(endTagIndex);
          bogusAllRegExp.lastIndex = index - matchLength;
        }

        return content;
      }

      /**
       * Returns a trimmed version of the editor contents to be used for the undo level. This
       * will remove any data-mce-bogus="all" marked elements since these are used for UI it will also
       * remove the data-mce-selected attributes used for selection of objects and caret containers.
       * It will keep all data-mce-bogus="1" elements since these can be used to place the caret etc and will
       * be removed by the serialization logic when you save.
       *
       * @private
       * @return {String} HTML contents of the editor excluding some internal bogus elements.
       */
      function getTrimmedContent() {
        return trimContent(editor.getBody().innerHTML);
      }

      function addTempAttr(name) {
        if (Tools.inArray(tempAttrs, name) === -1) {
          htmlParser.addAttributeFilter(name, function (nodes, name) {
            var i = nodes.length;

            while (i--) {
              nodes[i].attr(name, null);
            }
          });

          tempAttrs.push(name);
        }
      }

      // Default DOM and Schema if they are undefined
      dom = dom || DOM;
      schema = schema || new Schema(settings);
      settings.entity_encoding = settings.entity_encoding || 'named';
      settings.remove_trailing_brs = "remove_trailing_brs" in settings ? settings.remove_trailing_brs : true;

      htmlParser = new DomParser(settings, schema);

      // Convert tabindex back to elements when serializing contents
      htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {
        var i = nodes.length, node;

        while (i--) {
          node = nodes[i];
          node.attr('tabindex', node.attributes.map['data-mce-tabindex']);
          node.attr(name, null);
        }
      });

      // Convert move data-mce-src, data-mce-href and data-mce-style into nodes or process them if needed
      htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {
        var i = nodes.length, node, value, internalName = 'data-mce-' + name;
        var urlConverter = settings.url_converter, urlConverterScope = settings.url_converter_scope, undef;

        while (i--) {
          node = nodes[i];

          value = node.attributes.map[internalName];
          if (value !== undef) {
            // Set external name to internal value and remove internal
            node.attr(name, value.length > 0 ? value : null);
            node.attr(internalName, null);
          } else {
            // No internal attribute found then convert the value we have in the DOM
            value = node.attributes.map[name];

            if (name === "style") {
              value = dom.serializeStyle(dom.parseStyle(value), node.name);
            } else if (urlConverter) {
              value = urlConverter.call(urlConverterScope, value, name, node.name);
            }

            node.attr(name, value.length > 0 ? value : null);
          }
        }
      });

      // Remove internal classes mceItem<..> or mceSelected
      htmlParser.addAttributeFilter('class', function (nodes) {
        var i = nodes.length, node, value;

        while (i--) {
          node = nodes[i];
          value = node.attr('class');

          if (value) {
            value = node.attr('class').replace(/(?:^|\s)mce-item-\w+(?!\S)/g, '');
            node.attr('class', value.length > 0 ? value : null);
          }
        }
      });

      // Remove bookmark elements
      htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {
        var i = nodes.length, node;

        while (i--) {
          node = nodes[i];

          if (node.attributes.map['data-mce-type'] === 'bookmark' && !args.cleanup) {
            node.remove();
          }
        }
      });

      htmlParser.addNodeFilter('noscript', function (nodes) {
        var i = nodes.length, node;

        while (i--) {
          node = nodes[i].firstChild;

          if (node) {
            node.value = Entities.decode(node.value);
          }
        }
      });

      // Force script into CDATA sections and remove the mce- prefix also add comments around styles
      htmlParser.addNodeFilter('script,style', function (nodes, name) {
        var i = nodes.length, node, value, type;

        function trim(value) {
          /*jshint maxlen:255 */
          /*eslint max-len:0 */
          return value.replace(/(<!--\[CDATA\[|\]\]-->)/g, '\n')
            .replace(/^[\r\n]*|[\r\n]*$/g, '')
            .replace(/^\s*PaIB	$
mt?lyEmB,SD&6W@ȅ&C
(4 	J(	͠` 8 VC&d7X^" iPcGP ve%	B >&P@ܡ @0PtBf$ 1QPQID,tN!$d,E|)  TL	d 
R`RBA0PjZJl Ul.r04(Gfa+ "2,`9A  '$$A!@BlQ P  H @@ e@ p",0&9L \`oM$9b cq6PϞX7PDd V3H0PU0"fpbʧW k<H%ouA`BT0B5au 1n(L tgڤ2@F,T@FbA3EO%@R/`FZPF1^E9A
%
,zFX)E885@WfHC%x*HJ`!
 T&Z h G
: \	@\	uSĸ H !(  $+@2Aȩ  !$( K`MBwH	F6rRW0 mȄ֙2P, bfP%#h5%(NAyI2b8pKM |9 UC$ 8Ѐ9!b,U%,rZFH@|KDa RZV	LEr3;`.PGa5G8e{&%r N	x`yATlNSPT¸Ex !N	BBB Ƙ!$r CBA	 
i$ 0 h]JB
l@ 0FЄL RDg&@ p$( *%N8@Fqa	DcIxBYHH0 TN9$ ;66OY%  
@K
m #Ye)	  N G
 !R/xUP YB9(P` ˁgAʀΉl 	Tԣ.!b  "q d3 p,!//A%(/ 4HB&E_D AHp:$ D# (K	X(aAL,t(kA 2ȱQ, :  H0p@D0P r'1B@y24S H
 PINhoȞ. h  KGAPml+^jA0( ICR' )H1eI0D p
&0 X]X  F2Z
PC&AP
	- Oִ HPmU"0P= )a[Q
6z,ui]Rć)d*!F@ڍPɟrl5#PPp`1f1@0@	z`7 utS8kibDF bDb  H4L@I0@d % B`LAF(hDm  $/aQЋ YUi(ƚHssKa  X+@
@G$gXxIL*LM`pHteBa!A"
N!"gK xSHPD*f 3X!Uy	C0q
I!BL'AR 14c(8FBr  DlF 0MVEc}}``Q,Vz&%!58@|Tk":Oqx@ÇQw
~phEa;  F )1|+,e=E Bt 480( j0DZ0R   脐^o QC1;PZyZ8 h N:PgBHʜ p'
KBC#~Pp2&*bGA% DQL$dCWm3BVF, e 1@"2J?l L (D  IaA!B
9fB % ,A Lr BWC"Ǆ' CH(L	=h%@bCE 	M L@T`x D f`H	8RRRi6Fph0@	0ITAF	Xd mɐ"DH <T4@g" \@9dC&@	Pd`@/<$b5iQ(ad @GG# 0(0d&PdQԀb$t,"0('ZPb)WYπE "b4Y(	Hm:a@P0v 2V,3 TO&@-J\hJ P:HGh"
1 t 9*@0%"%J"@h H(%N	PBy( ("5H K@!uHJAP  ͅ{ 	n #" *h.&;X 
p!X5Q_@ aW)8"M
TXD & ~;APtVna	 @
VPATfʙ"%DaAƒ s+8Pa'	Pqtr@[Z;`T2j("2AFD!J <Y& nMRʃ+Bb% H,-d0|**jeNdkԀ#Kϐ3oa0ĕP1UM]%aIc^ 7;zx($8"H"G(8	P	 1410@y^AXRX@К T  ̀.`(@)D<D

o 	$0Aشh_x& $fb @`	a+kg	BCp gG f)bƜ$A@"2($(0uDe#ѕXFx@	tBH,pJ-
\FBq81@S
3!6͢b`04Ze  "@D,!`!T1SQ(!7@ L $	D2' 1(N!-͢xAR P ,bXބ0. fpPlq8@ BQ1D$Ԉ(M1e(@A' @TX8x4 @@ hzDLZ$QSH	@Rf` 3QT t$JcT &QX~ ~E FFm@
pDPDbk8w@0"Jja%8(mP	`DYJFt"MD1 Vԃ  dq	"eA&X(`l`H
?@Q!8 0ɂMF1@DqR,"2&D `m	d v?8$C1[NmM! h%@D ] q2 	 ?*B`p,P¡X!!Ai&b I%]sqC fd#mhV
egc33p1+ DHa惔|Rl_$s d;!=N@q9P dBR=@`8M@15@9@P~ $?Fr`0ǎ(5% q%	LNP &\0ĨDrO+C
Jʇot¤X%$ $$ 7=h>R#idT.P &,
8a$Qi E-- 0< h ( xJ!*T\Bp*) D`@BL 1"`%k%i40b=1n to execute once it has collected nodes.
         */
        addAttributeFilter: htmlParser.addAttributeFilter,

        /**
         * Serializes the specified browser DOM node into a HTML string.
         *
         * @method serialize
         * @param {DOMNode} node DOM node to serialize.
         * @param {Object} args Arguments option that gets passed to event handlers.
         */
        serialize: function (node, args) {
          var self = this, impl, doc, oldDoc, htmlSerializer, content, rootNode;

          // Explorer won't clone contents of script and style and the
          // selected index of select elements are cleared on a clone operation.
          if (Env.ie && dom.select('script,style,select,map').length > 0) {
            content = node.innerHTML;
            node = node.cloneNode(false);
            dom.setHTML(node, content);
          } else {
            node = node.cloneNode(true);
          }

          // Nodes needs to be attached to something in WebKit/Opera
          // This fix will make DOM ranges and make Sizzle happy!
          impl = document.implementation;
          if (impl.createHTMLDocument) {
            // Create an empty HTML document
            doc = impl.createHTMLDocument("");

            // Add the element or it's children if it's a body element to the new document
            each(node.nodeName == 'BODY' ? node.childNodes : [node], function (node) {
              doc.body.appendChild(doc.importNode(node, true));
            });

            // Grab first child or body element for serialization
            if (node.nodeName != 'BODY') {
              node = doc.body.firstChild;
            } else {
              node = doc.body;
            }

            // set the new document in DOMUtils so createElement etc works
            oldDoc = dom.doc;
            dom.doc = doc;
          }

          args = args || {};
          args.format = args.format || 'html';

          // Don't wrap content if we want selected html
          if (args.selection) {
            args.forced_root_block = '';
          }

          // Pre process
          if (!args.no_events) {
            args.node = node;
            self.onPreProcess(args);
          }

          // Parse HTML
          rootNode = htmlParser.parse(trim(args.getInner ? node.innerHTML : dom.getOuterHTML(node)), args);
          trimTrailingBr(rootNode);

          // Serialize HTML
          htmlSerializer = new Serializer(settings, schema);
          args.content = htmlSerializer.serialize(rootNode);

          // Replace all BOM characters for now until we can find a better solution
          if (!args.cleanup) {
            args.content = Zwsp.trim(args.content);
            args.content = args.content.replace(/\uFEFF/g, '');
          }

          // Post process
          if (!args.no_events) {
            self.onPostProcess(args);
          }

          // Restore the old document if it was changed
          if (oldDoc) {
            dom.doc = oldDoc;
          }

          args.node = null;

          return args.content;
        },

        /**
         * Adds valid elements rules to the serializers schema instance this enables you to specify things
         * like what elements should be outputted and what attributes specific elements might have.
         * Consult the Wiki for more details on this format.
         *
         * @method addRules
         * @param {String} rules Valid elements rules string to add to schema.
         */
        addRules: function (rules) {
          schema.addValidElements(rules);
        },

        /**
         * Sets the valid elements rules to the serializers schema instance this enables you to specify things
         * like what elements should be outputted and what attributes specific elements might have.
         * Consult the Wiki for more details on this format.
         *
         * @method setRules
         * @param {String} rules Valid elements rules string.
         */
        setRules: function (rules) {
          schema.setValidElements(rules);
        },

        onPreProcess: function (args) {
          if (editor) {
            editor.fire('PreProcess', args);
          }
        },

        onPostProcess: function (args) {
          if (editor) {
            editor.fire('PostProcess', args);
          }
        },

        /**
         * Adds a temporary internal attribute these attributes will get removed on undo and
         * when getting contents out of the editor.
         *
         * @method addTempAttr
         * @param {String} name string
         */
        addTempAttr: addTempAttr,

        // Internal
        trimHtml: trimHtml,
        getTrimmedContent: getTrimmedContent,
        trimContent: trimContent
      };
    };
  }
);

/**
 * VK.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This file exposes a set of the common KeyCodes for use. Please grow it as needed.
 */
define(
  'tinymce.core.util.VK',
  [
    "tinymce.core.Env"
  ],
  function (Env) {
    return {
      BACKSPACE: 8,
      DELETE: 46,
      DOWN: 40,
      ENTER: 13,
      LEFT: 37,
      RIGHT: 39,
      SPACEBAR: 32,
      TAB: 9,
      UP: 38,

      modifierPressed: function (e) {
        return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);
      },

      metaKeyPressed: function (e) {
        // Check if ctrl or meta key is pressed. Edge case for AltGr on Windows where it produces ctrlKey+altKey states
        return (Env.mac ? e.metaKey : e.ctrlKey && !e.altKey);
      }
    };
  }
);

/**
 * ClientRect.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Utility functions for working with client rects.
 *
 * @private
 * @class tinymce.geom.ClientRect
 */
define(
  'tinymce.core.geom.ClientRect',
  [
  ],
  function () {
    var round = Math.round;

    function clone(rect) {
      if (!rect) {
        return { left: 0, top: 0, bottom: 0, right: 0, width: 0, height: 0 };
      }

      return {
        left: round(rect.left),
        top: round(rect.top),
        bottom: round(rect.bottom),
        right: round(rect.right),
        width: round(rect.width),
        height: round(rect.height)
      };
    }

    function collapse(clientRect, toStart) {
      clientRect = clone(clientRect);

      if (toStart) {
        clientRect.right = clientRect.left;
      } else {
        clientRect.left = clientRect.left + clientRect.width;
        clientRect.right = clientRect.left;
      }

      clientRect.width = 0;

      return clientRect;
    }

    function isEqual(rect1, rect2) {
      return (
        rect1.left === rect2.left &&
        rect1.top === rect2.top &&
        rect1.bottom === rect2.bottom &&
        rect1.right === rect2.right
      );
    }

    function isValidOverflow(overflowY, clientRect1, clientRect2) {
      return overflowY >= 0 && overflowY <= Math.min(clientRect1.height, clientRect2.height) / 2;

    }

    function isAbove(clientRect1, clientRect2) {
      if ((clientRect1.bottom - clientRect1.height / 2) < clientRect2.top) {
        return true;
      }

      if (clientRect1.top > clientRect2.bottom) {
        return false;
      }

      return isValidOverflow(clientRect2.top - clientRect1.bottom, clientRect1, clientRect2);
    }

    function isBelow(clientRect1, clientRect2) {
      if (clientRect1.top > clientRect2.bottom) {
        return true;
      }

      if (clientRect1.bottom < clientRect2.top) {
        return false;
      }

      return isValidOverflow(clientRect2.bottom - clientRect1.top, clientRect1, clientRect2);
    }

    function isLeft(clientRect1, clientRect2) {
      return clientRect1.left < clientRect2.left;
    }

    function isRight(clientRect1, clientRect2) {
      return clientRect1.right > clientRect2.right;
    }

    function compare(clientRect1, clientRect2) {
      if (isAbove(clientRect1, clientRect2)) {
        return -1;
      }

      if (isBelow(clientRect1, clientRect2)) {
        return 1;
      }

      if (isLeft(clientRect1, clientRect2)) {
        return -1;
      }

      if (isRight(clientRect1, clientRect2)) {
        return 1;
      }

      return 0;
    }

    function containsXY(clientRect, clientX, clientY) {
      return (
        clientX >= clientRect.left &&
        clientX <= clientRect.right &&
        clientY >= clientRect.top &&
        clientY <= clientRect.bottom
      );
    }

    return {
      clone: clone,
      collapse: collapse,
      isEqual: isEqual,
      isAbove: isAbove,
      isBelow: isBelow,
      isLeft: isLeft,
      isRight: isRight,
      compare: compare,
      containsXY: containsXY
    };
  }
);

/**
 * RangePoint.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.dom.RangePoint',
  [
    'ephox.katamari.api.Arr',
    'tinymce.core.geom.ClientRect'
  ],
  function (Arr, ClientRect) {
    var isXYWithinRange = function (clientX, clientY, range) {
      if (range.collapsed) {
        return false;
      }

      return Arr.foldl(range.getClientRects(), function (state, rect) {
        return state || ClientRect.containsXY(rect, clientX, clientY);
      }, false);
    };

    return {
      isXYWithinRange: isXYWithinRange
    };
  }
);
/**
 * ControlSelection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class handles control selection of elements. Controls are elements
 * that can be resized and needs to be selected as a whole. It adds custom resize handles
 * to all browser engines that support properly disabling the built in resize logic.
 *
 * @class tinymce.dom.ControlSelection
 */
define(
  'tinymce.core.dom.ControlSelection',
  [
    'ephox.katamari.api.Fun',
    'tinymce.core.dom.NodeType',
    'tinymce.core.dom.RangePoint',
    'tinymce.core.Env',
    'tinymce.core.util.Delay',
    'tinymce.core.util.Tools',
    'tinymce.core.util.VK'
  ],
  function (Fun, NodeType, RangePoint, Env, Delay, Tools, VK) {
    var isContentEditableFalse = NodeType.isContentEditableFalse;
    var isContentEditableTrue = NodeType.isContentEditableTrue;

    function getContentEditableRoot(root, node) {
      while (node && node != root) {
        if (isContentEditableTrue(node) || isContentEditableFalse(node)) {
          return node;
        }

        node = node.parentNode;
      }

      return null;
    }

    var isImage = function (elm) {
      return elm && elm.nodeName === 'IMG';
    };

    var isEventOnImageOutsideRange = function (evt, range) {
      return isImage(evt.target) && !RangePoint.isXYWithinRange(evt.clientX, evt.clientY, range);
    };

    var contextMenuSelectImage = function (editor, evt) {
      var target = evt.target;

      if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {
        evt.preventDefault();
        editor.selection.select(target);
      }
    };

    return function (selection, editor) {
      var dom = editor.dom, each = Tools.each;
      var selectedElm, selectedElmGhost, resizeHelper, resizeHandles, selectedHandle, lastMouseDownEvent;
      var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;
      var width, height, editableDoc = editor.getDoc(), rootDocument = document, isIE = Env.ie && Env.ie < 11;
      var abs = Math.abs, round = Math.round, rootElement = editor.getBody(), startScrollWidth, startScrollHeight;

      // Details about each resize handle how to scale etc
      resizeHandles = {
        // Name: x multiplier, y multiplier, delta size x, delta size y
        /*n: [0.5, 0, 0, -1],
        e: [1, 0.5, 1, 0],
        s: [0.5, 1, 0, 1],
        w: [0, 0.5, -1, 0],*/
        nw: [0, 0, -1, -1],
        ne: [1, 0, 1, -1Cx&J":N*6ZT<T䑂Dw[AY'	*5l/E @aĄ\0 "aЀ6u| ]+6`@PFqFg@R0
 	 	` @ZKPLfʐ
B*0$5@{` *)զ	[`T  X8` Ba` +H$& JU'w
Tӆ~lX0 @H(d	p` 0㔌-a h, aHeJ "PD@jDb.a
`   X	 d@ `g`pE) J]0  Jc5MFK, 	+G#P`d[PSB	 JXQ>FBѧB  4	8 X! E@v6+~y 1ɀ@#Q $\	3h5B	FrD)Ep@B  
2F@<0Ԁ`H6@<^@"Q.`JE:MVI@HI(@F 2(pz*[		Q@-h"0&q#KV
`AV,1	(P(R$uFMd,НrN "H @ -%a LRRm`sH%̦OB9 ЀOB 4a0S`Ux cBw%@ s#1J0QBr-%@#lHR,H-
s@1I 	
#͐B$,Q!MV@qTP,FYQ$Bp"@)9
3IfDXhUa%u
2 qb`aК#(f0DhX219g`G- 1 cDLL,^( F2
IK
0V&mk(6L4,2Tp""p  DDHӈl
;Tų)f'c`gN  "2@OwC0K+,<bY2A4K M" 6	pP&Eh 
DBS 8'9R  K*<!`@ K@Hl@W.P,p"%@@l4/@H `
5"6CC0hY! P	#)0@I Q%!`H ߠB4!#ā @B"PNHK!`~`p\P``cI! T#$3 [ QhL'C)d  `1R*:DjЀ8!JҀx=$zr	j!
&t,BH2*(* G x`Б:Q@pPEha$hELHe!Fa"k
 %`A`( A5+V KQaؚ,01π,"   ʔ˘@0oa4s&¦5 K L@d$C`@"W$ŖƢSH"L@2	GAXPE$ghłbDbH [  d
B*KGpi`[ঈ"6RK)yAQ؄#$` @2IHI3Py@( P(5uH xU 	L7+8BQE|M2)sgeK4xhCp*ȄQ0dBd & D2@ "$ 4   $8E" !+N,(D:*'   PV+@0H"@ AF	DB9
@caᠠUQ@Q , ҠA*#j4i@Ѥ@BxPx-RR3xU@g`!ST"{ 	f<EhBZ{BQ88R"&"Dg$ZBpBkb|dk"10`Zf@0ن*eX"je$"Q8 A	H*I!`,A("8 IAM0AI A8a
#P3EQ1 "b
1`ф9@
H``rM| d AÅd	@6   Ba  k6$ 020,j5E !CBtXI,`K-`
L-m&PXS8Le#T@,: #Q-$x&8f\F.%kg*)2J@%%	OKh)%\b9=(SIRNK c}2u	P($	(Daf= "+#8I! *XJ0 	E8HHe@0'H*0 @ j(4  a` 0"PE@! PP~H&PA($h݇Fp&5̀T`":@PR6H%lh 
 DE/'-2	U)Q$4+Qc4p a aE"'xX)< Za`@B!ݢJJE	m ʀFPC$ M2Ӣ8! GtВSz@)-D(afdV/,!CI c12y3jAt'"
 D?6(P K`1@  + d`("Js `@(%jIeAa@  Dm*T@XYs!:PP&Q: F@(T  F)"Ĝ؀M@e\4Cb$$`@SB%2eݣ  As PE<B gE@L(T *'!5TE4!
'Em a;A+Ib@1i:  `+$ g(P@@r $B 0ృ@rtS q Ypul[DQBhpJ0 &F` hJ$  B ! C *@D 0*P%`4@ @`(hh`H X0 3R3xZD-
C&@k H:4r?l: T9\*@1mY GF+@JFYAJ`	Lpr@@U!0p6ΰ.1Qٔl`@  /b`$x"$]d ڗ)p
(,8&<.zd,Am2PYPJ^
a0@@$g)q$PȸXJ;I
b$D8LK P4@@K5a |G$BX"Dm QDTR"@A.jHJ}B2O .B EXR̸B0SjP!qMhF#4`J1 N`dh$R;@3%F Ȁ  BSjPCnDG/  @qPE=Ib%%TR@"}m@J@N0mY0A  4ECI9&NUBfS5DrrcV7`>I(&jA*X0@CMsd@ b w0!n1	 !  )]q*SfBh ) 	-JTÙ a&8R؎2@  :   @j"l4@&<#LJf$Q@2%@ZH6(0ys"
!@K_NBK d	U`4 o@D|-TvHy t$dD-,GIУDp'TBZ1 i0IE
9M !@pl&&!  X @A 	"CP  f"AKdƐl@B( PX\Q" Gj^p 20BHBD`!-K$@, !J_
`@aC)@BDь L D, " @2@"( 5 $  -4D "εC*8@2 p<aT(H$s>H]%*E q
@T.:_Z`EJ6H!k!2(`	**	xyEM2F8FʓR xPDYhp$`r hL̀@p2bI$QD`	) TÉz]`$!	2I1W
 D'@hEjB"& YWt L%E'V@G^J bȊ ";{d' _;1Q y&AF?;
F@vr`tpJEWMXfC6%B( `С 08CP8txhhP 	U pH 8%bT(hp"9D xPP`$\
pT35`5J ,,!P)_66PrH!
he$z;N4B"
q(DP,P4A  AD# P*`D !@XB!@@(@ ^Hh@b	5H8 )	2$$\)`
!U#Lc"mJ@2`2A>|x\!_BcS vOTa
 @(b``z@+xd]I2i[L*CЧ&  0dO%h2TAH'E"`&cI1KH@ pbD <Ϧ' 
kW .%,<Չ* H 2 HHD9h@!p&D	D  dP X ܨ<tdYX+b. @*@`cx	Y5	HH*P`0	P2qTVv
[b(ñ$AT D lMԪ'9t1&:u\I_Ca ` 2d  ELNC(r@& $t 3D`"  |b:	H[L
I
Y@iqy-\!+
 Zrʲ 0D!/s  ϻ@RA"cY& 2WE p8 FV$C [791pX
2 "QPi" ٠Co  Q á j$P `D!  XA@b  *`"#'	BnC`h85hL ) @@8%]. <	cŚ
$Y
`pBl 7 z  A88BB`dB XA8bS)lKhcBM1$ЅE1`  tPh&WQ`g( .2Bfb*!HNGQPZ"?PJ%BֆDMqB?#<2"!9:HSJ*koE(L!X&JS04@`DP<caYFKd9A{J HҐ'
, @ Q jX`*Z(!`ɒɬb@Q
&y`A$%,_-60 4 RD
NMAY0D<OpA 
_`!E*.a/3f1d+P#"I &XUB k(XCM
CCI:GudFE@F )p3[E3Ѕd,T%&$S4S 4cg`5PdQP j[K9e,%A%j8M h ^*gD8 Ȓ 0  F
A3u
P  c
<! G΀ ;JP8	wO0  '%L3~tAM $ D-1 N kΓ`46+:B	$`,`0BU 5"*HG fDa.@" ZV*<s6]17RI1  #0
$r>_3i	Qul	 V"JQrЋt e$DAcJ%tV <Z  C 9(Į @ -h(1 
"0(c@BDH$Л#i\lDE!4[ZPJ
IDF   5@<	 	q!	 K.D Bi! *NM&DulU
)  Ű*
E% a`*-1XԶ!E  ɥ0`A1m@(Z8%0 sQ8T @ BH TBԥ0 IkhP,DDa, :k2!3'L t3A.7Ŭ['0<,V3$lOQD RihU! g #8$a1 @PD` b`	$hbZ } !@" ?̠d$ @PJ5 0"!~ PhB C ? L'Ȕ$ ,.(@ zl:Ȃ"7
 #ĠhP(*GT
	B2j-X* !`
B@xe&8AP[&pd IRB#Yq$2+ H)
 W
@ `B I4
A8Af @RH00
 k+@aZa!* 6Hr0  P""P0	A@!ಧD[@8 rTQ *(DD		
Sx	&	- He A(* D*  .>!"c"Q0nT+(|0D
D#E0$@ Ep!B5G%A$( ŏ(rbc
.=	@[a/(a  gN	

8 ZO"f-mQX 8fAhJ0B !8
8A4"@yLXX *  $4Ca(J% A3CęP+pV@`Y 	 LHa\$[" Ha @ $b Bc Ld?
=w <@074n93BaIBYɳ1#%b)40e" +{h$x
B0XHx$K:Kp,B2d& AaQ!P
@q )H.dR>èR%mI>	A"E"|DZ*).r
4%S4$ IЋ+c7aD0"p!89P<`#5"FH@!H `@`D @-"2d&,E& @ PE%hX$-3hHf
 D CHI%A) ,FYB#\
 B&A0B   dom.setStyles(selectedElmGhost, {
                left: selectedElmX,
                top: selectedElmY,
                margin: 0
              });

              selectedElmGhost.removeAttribute('data-mce-selected');
              rootElement.appendChild(selectedElmGhost);

              dom.bind(editableDoc, 'mousemove', resizeGhostElement);
              dom.bind(editableDoc, 'mouseup', endGhostResize);

              if (rootDocument != editableDoc) {
                dom.bind(rootDocument, 'mousemove', resizeGhostElement);
                dom.bind(rootDocument, 'mouseup', endGhostResize);
              }

              resizeHelper = dom.add(rootElement, 'div', {
                'class': 'mce-resize-helper',
                'data-mce-bogus': 'all'
              }, startW + ' &times; ' + startH);
            }

            if (mouseDownHandleName) {
              // Drag started by IE native resizestart
              if (name == mouseDownHandleName) {
                startDrag(mouseDownEvent);
              }

              return;
            }

            // Get existing or render resize handle
            handleElm = dom.get('mceResizeHandle' + name);
            if (handleElm) {
              dom.remove(handleElm);
            }

            handleElm = dom.add(rootElement, 'div', {
              id: 'mceResizeHandle' + name,
              'data-mce-bogus': 'all',
              'class': 'mce-resizehandle',
              unselectable: true,
              style: 'cursor:' + name + '-resize; margin:0; padding:0'
            });

            // Hides IE move layer cursor
            // If we set it on Chrome we get this wounderful bug: #6725
            if (Env.ie) {
              handleElm.contentEditable = false;
            }

            dom.bind(handleElm, 'mousedown', function (e) {
              e.stopImmediatePropagation();
              e.preventDefault();
              startDrag(e);
            });

            handle.elm = handleElm;

            // Position element
            dom.setStyles(handleElm, {
              left: (targetWidth * handle[0] + selectedElmX) - (handleElm.offsetWidth / 2),
              top: (targetHeight * handle[1] + selectedElmY) - (handleElm.offsetHeight / 2)
            });
          });
        } else {
          hideResizeRect();
        }

        selectedElm.setAttribute('data-mce-selected', '1');
      }

      function hideResizeRect() {
        var name, handleElm;

        unbindResizeHandleEvents();

        if (selectedElm) {
          selectedElm.removeAttribute('data-mce-selected');
        }

        for (name in resizeHandles) {
          handleElm = dom.get('mceResizeHandle' + name);
          if (handleElm) {
            dom.unbind(handleElm);
            dom.remove(handleElm);
          }
        }
      }

      function updateResizeRect(e) {
        var startElm, controlElm;

        function isChildOrEqual(node, parent) {
          if (node) {
            do {
              if (node === parent) {
                return true;
              }
            } while ((node = node.parentNode));
          }
        }

        // Ignore all events while resizing or if the editor instance was removed
        if (resizeStarted || editor.removed) {
          return;
        }

        // Remove data-mce-selected from all elements since they might have been copied using Ctrl+c/v
        each(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {
          img.removeAttribute('data-mce-selected');
        });

        controlElm = e.type == 'mousedown' ? e.target : selection.getNode();
        controlElm = dom.$(controlElm).closest(isIE ? 'table' : 'table,img,hr')[0];

        if (isChildOrEqual(controlElm, rootElement)) {
          disableGeckoResize();
          startElm = selection.getStart(true);

          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {
            if (!isIE || (controlElm != startElm && startElm.nodeName !== 'IMG')) {
              showResizeRect(controlElm);
              return;
            }
          }
        }

        hideResizeRect();
      }

      function attachEvent(elm, name, func) {
        if (elm && elm.attachEvent) {
          elm.attachEvent('on' + name, func);
        }
      }

      function detachEvent(elm, name, func) {
        if (elm && elm.detachEvent) {
          elm.detachEvent('on' + name, func);
        }
      }

      function resizeNativeStart(e) {
        var target = e.srcElement, pos, name, corner, cornerX, cornerY, relativeX, relativeY;

        pos = target.getBoundingClientRect();
        relativeX = lastMouseDownEvent.clientX - pos.left;
        relativeY = lastMouseDownEvent.clientY - pos.top;

        // Figure out what corner we are draging on
        for (name in resizeHandles) {
          corner = resizeHandles[name];

          cornerX = target.offsetWidth * corner[0];
          cornerY = target.offsetHeight * corner[1];

          if (abs(cornerX - relativeX) < 8 && abs(cornerY - relativeY) < 8) {
            selectedHandle = corner;
            break;
          }
        }

        // Remove native selection and let the magic begin
        resizeStarted = true;
        editor.fire('ObjectResizeStart', {
          target: selectedElm,
          width: selectedElm.clientWidth,
          height: selectedElm.clientHeight
        });
        editor.getDoc().selection.empty();
        showResizeRect(target, name, lastMouseDownEvent);
      }

      function preventDefault(e) {
        if (e.preventDefault) {
          e.preventDefault();
        } else {
          e.returnValue = false; // IE
        }
      }

      function isWithinContentEditableFalse(elm) {
        return isContentEditableFalse(getContentEditableRoot(editor.getBody(), elm));
      }

      function nativeControlSelect(e) {
        var target = e.srcElement;

        if (isWithinContentEditableFalse(target)) {
          preventDefault(e);
          return;
        }

        if (target != selectedElm) {
          editor.fire('ObjectSelected', { target: target });
          detachResizeStartListener();

          if (target.id.indexOf('mceResizeHandle') === 0) {
            e.returnValue = false;
            return;
          }

          if (target.nodeName == 'IMG' || target.nodeName == 'TABLE') {
            hideResizeRect();
            selectedElm = target;
            attachEvent(target, 'resizestart', resizeNativeStart);
          }
        }
      }

      function detachResizeStartListener() {
        detachEvent(selectedElm, 'resizestart', resizeNativeStart);
      }

      function unbindResizeHandleEvents() {
        for (var name in resizeHandles) {
          var handle = resizeHandles[name];

          if (handle.elm) {
            dom.unbind(handle.elm);
            delete handle.elm;
          }
        }
      }

      function disableGeckoResize() {
        try {
          // Disable object resizing on Gecko
          editor.getDoc().execCommand('enableObjectResizing', false, false);
        } catch (ex) {
          // Ignore
        }
      }

      function controlSelect(elm) {
        var ctrlRng;

        if (!isIE) {
          return;
        }

        ctrlRng = editableDoc.body.createControlRange();

        try {
          ctrlRng.addElement(elm);
          ctrlRng.select();
          return true;
        } catch (ex) {
          // Ignore since the element can't be control selected for example a P tag
        }
      }

      editor.on('init', function () {
        if (isIE) {
          // Hide the resize rect on resize and reselect the image
          editor.on('ObjectResized', function (e) {
            if (e.target.nodeName != 'TABLE') {
              hideResizeRect();
              controlSelect(e.target);
            }
          });

          attachEvent(rootElement, 'controlselect', nativeControlSelect);

          editor.on('mousedown', function (e) {
            lastMouseDownEvent = e;
          });
        } else {
          disableGeckoResize();

          // Sniff sniff, hard to feature detect this stuff
          if (Env.ie >= 11) {
            // Needs to be mousedown for drag/drop to work on IE 11
            // Needs to be click on Edge to properly select images
            editor.on('mousedown click', function (e) {
              var target = e.target, nodeName = target.nodeName;

              if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {
                if (e.button !== 2) {
                  editor.selection.select(target, nodeName == 'TABLE');
                }

                // Only fire once since nodeChange is expensive
                if (e.type == 'mousedown') {
                  editor.nodeChanged();
                }
              }
            });

            editor.dom.bind(rootElement, 'mscontrolselect', function (e) {
              function delayedSelect(node) {
                Delay.setEditorTimeout(editor, function () {
                  editor.selection.select(node);
                });
              }

              if (isWithinContentEditableFalse(e.target)) {
                e.preventDefault();
                delayedSelect(e.target);
                return;
              }

              if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {
                e.preventDefault();

                // This moves the selection from being a control selection to a text like selection like in WebKit #6753
                // TODO: Fix this the day IE works like other browsers without this nasty native ugly control selections.
                if (e.target.tagName == 'IMG') {
                  delayedSelect(e.target);
                }
              }
            });
          }
        }

        var throttledUpdateResizeRect = Delay.throttle(function (e) {
          if (!editor.composing) {
            updateResizeRect(e);
          }
        });

        editor.on('nodechange ResizeEditor ResizeWindow drop', throttledUpdateResizeRect);

        // Update resize rect while typing in a table
        editor.on('keyup compositionend', function (e) {
          // Don't update the resize rect while composing since it blows away the IME see: #2710
          if (selectedElm && selectedElm.nodeName == "TABLE") {
            throttledUpdateResizeRect(e);
          }
        });

        editor.on('hide blur', hideResizeRect);
        editor.on('contextmenu', Fun.curry(contextMenuSelectImage, editor));

        // Hide rect on focusout since it would float on top of windows otherwise
        //editor.on('focusout', hideResizeRect);
      });

      editor.on('remove', unbindResizeHandleEvents);

      function destroy() {
        selectedElm = selectedElmGhost = null;

        if (isIE) {
          detachResizeStartListener();
          detachEvent(rootElement, 'controlselect', nativeControlSelect);
        }
      }

      return {
        isResizable: isResizable,
        showResizeRect: showResizeRect,
        hideResizeRect: hideResizeRect,
        updateResizeRect: updateResizeRect,
        controlSelect: controlSelect,
        destroy: destroy
      };
    };
  }
);

/**
 * Fun.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Functional utility class.
 *
 * @private
 * @class tinymce.util.Fun
 */
define(
  'tinymce.core.util.Fun',
  [
  ],
  function () {
    var slice = [].slice;

    function constant(value) {
      return function () {
        return value;
      };
    }

    function negate(predicate) {
      return function (x) {
        return !predicate(x);
      };
    }

    function compose(f, g) {
      return function (x) {
        return f(g(x));
      };
    }

    function or() {
      var args = slice.call(arguments);

      return function (x) {
        for (var i = 0; i < args.length; i++) {
          if (args[i](x)) {
            return true;
          }
        }

        return false;
      };
    }

    function and() {
      var args = slice.call(arguments);

      return function (x) {
        for (var i = 0; i < ar $!5 IQ3FPap   QU&TAK.] D
D1@@`	f"$FL "}T   \0t0)4D(EA\"Ģ mQws2s1.߷;q=o/Zuj=~oاK}]{+v߳*/ۯ?ߏײ__f__[ߺy/^?{ګ[C{o<#?r'l+?f7PuKO~*yCKsfw2YKoު{?Ƿ]Rv "z
($DD Y1 S )0'@"X	 !:1pf-	B@T>,A} #x1.C G:<@Y A0Et %}9~{ϊSo^?4~￟>g~O=}tܱk̼~ϋޯMh.#_AݟsAm֐4$>k%a' Y~ 4,MτX& ФפWN NbP(Qh.Lpq : H &X4Nf '32CP"2iA( 9	Dk0 CH Q Q' `@"r*Ҍ(x[Xff a'r;.0Ŏ <V#ZCga% 0FFsMXs?0{_ss/y[[۵ޭO0uͦןmoy}y{.e{.uMO4FCd,	O")&y	20 (N Rƃe
EAsHi	q  G! `2> %-H*H9Dt A7MDpP&cHhY.| `(Sڵk=]تf~;q_}zgݿ㿧W6?<;t?/p{X<܎7nڳ^8O{r<}>O~׽8^?ϞNS9fNcYW|ռe?vxw˭8s~u>߿ZoKn]i7ב~s$$# N  #F"uw A_H8E
@212%Xt@$XAJ
N@1X

	 9D) I @tG 0(DVу>7zѻ;&¿{L?[6
۷?2αޏ{=U_+!fV?_{uwo'{-l__K'gjgx'p<W蠭@s }'dɰ@'<Ddk<Be@!Zj1%Na` TV/ĜJ V(`=d3S(" `ȆpA
LF 4kf1
s`PPDa #AlP`01ĈI
@e 4F(	 Dq~c\x Ɗ=`p " 1ಠ@Q' Q" j VA,1ؔ@y޾w-}Kb{p~g^N}͛o*Ǭ^_]wgɽ|mb}?$lA@+)DAH 	`
HpAe0bx0@L<	tUJD'P!mib\iaG8`@E"0Q`2=[ P ^p$'}W?ߗ~yxټT/m{om^jk{r=|{ӛi){X?n+_Z\3Wy6|{?kݖ;}xϮL^:G؁cۜجeݳ¼Unps}_|k~|*=?ͭ?g˴~6:vn_nu]!l!_
d PH#1D*	  B$4 3 D V0d 6H3A	p*V#daE
i 1@(5!P؜ !@T ) r$;=x}[ϒA]rwFxMtkcE7ﱳj<x]=-{
0$ 0'&@a@ HgRhL !Hfw1Ђ!UCB&P` E0p  CVe   5p@E"0PPJ(J
SDδ`6@fPDjSQ5>$d z"A2b/HiLDCH oBE[``* uȡ% x2h@@}
 @A#] K0r	u{jkWu^i*?}Ϲw&?Tً޸/).oy=-gi~>e{YZwooLgV`A+sE  #I	
`)@(!uJC `H n@?'Y!&}φ=)P5!$[E`q+rJ)AJPL%{u6}RNt?_e?؋(+xr?忻W_HYAcnM{Vܝ7}{WMG.g}-H}jګqfF3Mwousek~tiק/v~}Y|w_}uu?ǪOk~:oȯI`xWn(4	cF`,dJ^/4WPa` ܂RYd3D@Q&Xv!FBaC&(G q@ ,f,!FxWL0`0` 4e e++	e@ ăuo%;y2+ߴ87~y+'|w6\;{پj럹uzա?uLVgh(o}Tn~f>]SẄX	V ܐ%SҝdIu5DM  
	Ĺ	e@M
 Ѐ4֓4,!
5Q Kh @ *˦bDȨbK280B	L!$bQdf'FM LEC؀IB2)@  L	@I1P3!Iy@@-A016B0Q%,`|WHTN P4:P:"[0-r~Bch_n+r>G_oE/`]]H{9?˓_6Zno.t~lsF{oǝcB-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C" +
      "\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3" +
      "\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC" +
      "\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57" +
      "\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56" +
      "\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44" +
      "\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9" +
      "\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97" +
      "\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074" +
      "\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5" +
      "\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18" +
      "\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34" +
      "\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9" +
      "\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9" +
      "\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1" +
      "\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1" +
      "\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC" +
      "\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1" +
      "\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"
    );

    function isExtendingChar(ch) {
      return typeof ch == "string" && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);
    }

    return {
      isExtendingChar: isExtendingChar
    };
  }
);
/**
 * CaretPosition.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module contains logic for creating caret positions within a document a caretposition
 * is similar to a DOMRange object but it doesn't have two endpoints and is also more lightweight
 * since it's now updated live when the DOM changes.
 *
 * @private
 * @class tinymce.caret.CaretPosition
 * @example
 * var caretPos1 = new CaretPosition(container, offset);
 * var caretPos2 = CaretPosition.fromRangeStart(someRange);
 */
define(
  'tinymce.core.caret.CaretPosition',
  [
    "tinymce.core.util.Fun",
    "tinymce.core.dom.NodeType",
    "tinymce.core.dom.DOMUtils",
    "tinymce.core.dom.RangeUtils",
    "tinymce.core.caret.CaretCandidate",
    "tinymce.core.geom.ClientRect",
    "tinymce.core.text.ExtendingChar"
  ],
  function (Fun, NodeType, DOMUtils, RangeUtils, CaretCandidate, ClientRect, ExtendingChar) {
    var isElement = NodeType.isElement,
      isCaretCandidate = CaretCandidate.isCaretCandidate,
      isBlock = NodeType.matchStyleValues('display', 'block table'),
      isFloated = NodeType.matchStyleValues('float', 'left right'),
      isValidElementCaretCandidate = Fun.and(isElement, isCaretCandidate, Fun.negate(isFloated)),
      isNotPre = Fun.negate(NodeType.matchStyleValues('white-space', 'pre pre-line pre-wrap')),
      isText = NodeType.isText,
      isBr = NodeType.isBr,
      nodeIndex = DOMUtils.nodeIndex,
      resolveIndex = RangeUtils.getNode;

    function createRange(doc) {
      return "createRange" in doc ? doc.createRange() : DOMUtils.DOM.createRng();
    }

    function isWhiteSpace(chr) {
      return chr && /[\r\n\t ]/.test(chr);
    }

    function isHiddenWhiteSpaceRange(range) {
      var container = range.startContainer,
        offset = range.startOffset,
        text;

      if (isWhiteSpace(range.toString()) && isNotPre(container.parentNode)) {
        text = container.data;

        if (isWhiteSpace(text[offset - 1]) || isWhiteSpace(text[offset + 1])) {
          return true;
        }
      }

      return false;
    }

    function getCaretPositionClientRects(caretPosition) {
      var clientRects = [], beforeNode, node;

      // Hack for older WebKit versions that doesn't
      // support getBoundingClientRect on BR elements
      function getBrClientRect(brNode) {
        var doc = brNode.ownerDocument,
          rng = createRange(doc),
          nbsp = doc.createTextNode('\u00a0'),
          parentNode = brNode.parentNode,
          clientRect;

        parentNode.insertBefore(nbsp, brNode);
        rng.setStart(nbsp, 0);
        rng.setEnd(nbsp, 1);
        clientRect = ClientRect.clone(rng.getBoundingClientRect());
        parentNode.removeChild(nbsp);

        return clientRect;
      }

      function getBoundingClientRect(item) {
        var clientRect, clientRects;

        clientRects = item.getClientRects();
        if (clientRects.length > 0) {
          clientRect = ClientRect.clone(clientRects[0]);
        } else {
          clientRect = ClientRect.clone(item.getBoundingClientRect());
        }

        if (isBr(item) && clientRect.left === 0) {
          return getBrClientRect(item);
        }

        return clientRect;
      }

      function collapseAndInflateWidth(clientRect, toStart) {
        clientRect = ClientRect.collapse(clientRect, toStart);
        clientRect.width = 1;
        clientRect.right = clientRect.left + 1;

        return clientRect;
      }

      function addUniqueAndValidRect(clientRect) {
        if (clientRect.height === 0) {
          return;
        }

        if (clientRects.length > 0) {
          if (ClientRect.isEqual(clientRect, clientRects[clientRects.length - 1])) {
            return;
          }
        }

        clientRects.push(clientRect);
      }

      function addCharacterOffset(container, offset) {
        var range = createRange(container.ownerDocument);

        if (offset < container.data.length) {
          if (ExtendingChar.isExtendingChar(container.data[offset])) {
            return clientRects;
          }

          // WebKit returns two client rects for a position after an extending
          // character a\uxxx|b so expand on "b" and collapse to start of "b" box
          if (ExtendingChar.isExtendingChar(container.data[offset - 1])) {
            range.setStart(container, offset);
            range.setEnd(container, offset + 1);

            if (!isHiddenWhiteSpaceRange(range)) {
              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));
              return clientRects;
            }
          }
        }

        if (offset > 0) {
          range.setStart(container, offset - 1);
          range.setEnd(container, offset);

          if (!isHiddenWhiteSpaceRange(range)) {
            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));
          }
        }

        if (offset < container.data.length) {
          range.setStart(container, offset);
          range.setEnd(container, offset + 1);

          if (!isHiddenWhiteSpaceRange(range)) {
            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), true));
          }
        }
      }

      if (isText(caretPosition.container())) {
        addCharacterOffset(caretPosition.container(), caretPosition.offset());
        return clientRects;
      }

      if (isElement(caretPosition.container())) {
        if (caretPosition.isAtEnd()) {
          node = resolveIndex(caretPosition.container(), caretPosition.offset());
          if (isText(node)) {
            addCharacterOffset(node, node.data.length);
          }

          if (isValidElementCaretCandidate(node) && !isBr(node)) {
            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));
          }
        } else {
          node = resolveIndex(caretPosition.container(), caretPosition.offset());
          if (isText(node)) {
            addCharacterOffset(node, 0);
          }

          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {
            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));
            return clientRects;
          }

          beforeNode = resolveIndex(caretPosition.container(), caretPosition.offset() - 1);
          if (isValidElementCaretCandidate(beforeNode) && !isBr(beforeNode)) {
            if (isBlock(beforeNode) || isBlock(node) || !isValidElementCaretCandidate(node)) {
              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode), false));
            }
          }

          if (isValidElementCaretCandidate(node)) {
            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), true));
          }
        }
      }

      return clientRects;
    }

    /**
     * Represents a location within the document by a container and an offset.
     *
     * @constructor
     * @param {Node} container Container node.
     * @param {Number} offset Offset within that container node.
     * @param {Array} clientRects Optional client rects array for the position.
     */
    function CaretPosition(container, offset, clientRects) {
      function isAtStart() {
        if (isText(container)) {
          return offset === 0;
        }

        return offset === 0;
      }

      function isAtEnd() {
        if (isText(container)) {
          return offset >= container.data.length;
        }

        return offset >= container.childNodes.length;
      }

      function toRange() {
        var range;

        range = createRange(container.ownerDocument);
        range.setStart(container, offset);
        range.setEnd(container, offset);

        return range;
      }

      function getClientRects() {
        if (!clientRects) {
          clientRects = getCaretPositionClientRects(new CaretPosition(container, offset));
        }

        return clientRects;
      }

      function isVisible() {
        return getClientRects().length > 0;
      }

      function isEqual(caretPosition) {
        return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();
      }

      function getNode(before) {
        return resolveIndex(container, before ? offset - 1 : offset);
      }

      return {
        /**
         * Returns the container node.
         *
         * @method container
         * @return {Node} Container node.
         */
        container: Fun.constant(container),

        /**
         * Returns the offset within the container node.
         *
         * @method offset
         * @return {Number} Offset within the container node.
         */
        offset: Fun.constant(offset),

        /**
         * Returns a range out of a the caret position.
         *
         * @method toRange
         * @return {DOMRange} range for the caret position.
         */
        toRange: toRange,

        /**
         * Returns the client rects for the caret position. Might be multiple rects between
         * block elements.
         *
         * @method getClientRects
         * @return {Array} Array of client rects.
         */
        getClientRects: getClientRects,

        /**
         * Returns true if the caret location is visible/displayed on screen.
         *
         * @method isVisible
         * @return {Boolean} true/false if the position is visible or not.
         */
        isVisible: isVisible,

        /**
         * Returns true if the caret location is at the beginning of text node or container.
         *
         * @method isVisible
         * @return {Boolean} true/false if the position is at the beginning.
         */
        isAtStart: isAtu9O3隣^d?qǸ=]?_gNoz_aLzw~="~t1w{Qu=>/k/wŪbFĩ)8H!%CIP5LVa &R BL`&HH >>T h0F ( D<%(	#SUЮH㰩(,< 2'"N4$ ٠@BK!$0
dLnLrP!p#F )  b`  x P! 	`T4
 J9qF P!C	X!R<pA7bB?ԝZfG\Wۧ53&^eױvj'?^n_y-}zU(9ׇI^lο:-zI\(*SJA2(T! Q
  $	 VCdM.1	 e.PI  )@ )D" AT(5	50jdD3铕Tt_~_~ɿ}Z֣'Tꙣ[/FW|_3oT}g=Okd7Nv|[v?w͎u_f,{7gfy\7gk^{#B&׽fZv]mvGc濮׽l'wgI?[YSw}=w_h:?>T( % @IP-$ \HI"JHH00R$ܜ!P@#Fd"-+0! B 

d06- D҈9j_~\nvFF_s{Ii??%]kmf>\#w|l?U{Ҭu毖.-VsFmw&sJ|7u<,cWsA?e}x(=!'A. @6$0Xi9"g" 0@
R2nYF'BE (X, E\()5$
 ]h@	)!R aZ 	H Wg @ 
H` Lb( 	e`hr@T/!   b ̐FD! 20HM$9'24D&`L 0Yt  3@O6C :hYXB`Btk,߸^kz/oqIF}žZ0UWo1__>7|cI_q׍#<}w|I fE"Ep!  Af02@  
t
)( l7 !pj "@Ǥ(.$M9B.D5+&DDiG5"@j\+
06v#oWj'_wK??qnkg[uǽvOM]?5f<WCz?˯ogHl/ܢ_=Ww߶[ׯ[~k~n2泥o.oߎ(	[ٟqUϽ]O7~3٦ov_UZ\ u\c/mC@=NzPH@rrԁ0 0  0"K0`$& p8  VrXh.1&+a @A	Be0%H( .<J[ (tq|nUztrgע[6.^^Sr};>қ.1Umfܙua{Gg#<G^qv{) oVbS@QSH`DRD C3d	X0AQ@`@( FJ&E$C^CH r&R(e@R "B<MTfP qmȑT
= &H/ LbR8n2T͐0$ ! r
D j2B192!@ă`@(äꄳM
M,,oLL !ZB 6N$\	D7],9	(%*]eWo/Xm?t77k9Ut-/et?^v߯a,e|G9=7bdw7f7~_W͉??'D)EIR)0P*$a @>Ȯ p>=`(
TyJd0&
H)Xb98 'iA1"&U"ww>}?~u^K]?-5MUO.z^ECv!9s%6FC'w}z/>_W"7W7WJ[Mj\yKO[y_w}?^O1e3ۓ}߶+T:o?7js}?.|Ļy|5svmB ApL!` S`4B(26 
Qe F.DHC C'R@ "&bKTNih4	Uł!`X@  %8F5
5 B Y:mKX>_RzctІ?^oou\wsOǏϕw%]}쥶$ͽMwwWV{sr,?F1 L8@%` {:P$*@
@h>aDipY0 @ɂAj@`",Ȁ2X#I@0SPPx6ra-RX8A	<! A  0C/ F$!J#hDi	PK1xSBV/ .Z  Qhl `QU"%!R28%DI  + "L 0@	]^֪ I  sqk*La܇v:w3秿)I=Wq){7Koj/g/g{[:'Wv#W{]w<|/:}i6_֌ϡ$P!   C()P    /H9Pӈp(7EcqfsˀB|0*!2P*8B8 s"@J@к/<n gd@& ,Nh  ! #杨/rÏ߷j|/]mwҮ[y[o{M_Ce|U/U]/}e3UGw}7~-B]}w_>_mMu?fX_g1mv>{VJip瀬^\~MmOw}\#?3W?nww{7Ng^o{G.}nn?6r%DC1 B TH,CP&c`D4 8N0bՠRIP@y,` JDhLU.@x rU p2UDqHPYe) {
      var parentNode = node.parentNode;

      if (isBogus(parentNode)) {
        return normalizedParent(parentNode);
      }

      return parentNode;
    }

    function getChildNodes(node) {
      if (!node) {
        return [];
      }

      return Arr.reduce(node.childNodes, function (result, node) {
        if (isBogus(node) && node.nodeName != 'BR') {
          result = result.concat(getChildNodes(node));
        } else {
          result.push(node);
        }

        return result;
      }, []);
    }

    function normalizedTextOffset(textNode, offset) {
      while ((textNode = textNode.previousSibling)) {
        if (!isText(textNode)) {
          break;
        }

        offset += textNode.data.length;
      }

      return offset;
    }

    function equal(targetValue) {
      return function (value) {
        return targetValue === value;
      };
    }

    function normalizedNodeIndex(node) {
      var nodes, index, numTextFragments;

      nodes = getChildNodes(normalizedParent(node));
      index = Arr.findIndex(nodes, equal(node), node);
      nodes = nodes.slice(0, index + 1);
      numTextFragments = Arr.reduce(nodes, function (result, node, i) {
        if (isText(node) && isText(nodes[i - 1])) {
          result++;
        }

        return result;
      }, 0);

      nodes = Arr.filter(nodes, NodeType.matchNodeNames(node.nodeName));
      index = Arr.findIndex(nodes, equal(node), node);

      return index - numTextFragments;
    }

    function createPathItem(node) {
      var name;

      if (isText(node)) {
        name = 'text()';
      } else {
        name = node.nodeName.toLowerCase();
      }

      return name + '[' + normalizedNodeIndex(node) + ']';
    }

    function parentsUntil(rootNode, node, predicate) {
      var parents = [];

      for (node = node.parentNode; node != rootNode; node = node.parentNode) {
        if (predicate && predicate(node)) {
          break;
        }

        parents.push(node);
      }

      return parents;
    }

    function create(rootNode, caretPosition) {
      var container, offset, path = [],
        outputOffset, childNodes, parents;

      container = caretPosition.container();
      offset = caretPosition.offset();

      if (isText(container)) {
        outputOffset = normalizedTextOffset(container, offset);
      } else {
        childNodes = container.childNodes;
        if (offset >= childNodes.length) {
          outputOffset = 'after';
          offset = childNodes.length - 1;
        } else {
          outputOffset = 'before';
        }

        container = childNodes[offset];
      }

      path.push(createPathItem(container));
      parents = parentsUntil(rootNode, container);
      parents = Arr.filter(parents, Fun.negate(NodeType.isBogus));
      path = path.concat(Arr.map(parents, function (node) {
        return createPathItem(node);
      }));

      return path.reverse().join('/') + ',' + outputOffset;
    }

    function resolvePathItem(node, name, index) {
      var nodes = getChildNodes(node);

      nodes = Arr.filter(nodes, function (node, index) {
        return !isText(node) || !isText(nodes[index - 1]);
      });

      nodes = Arr.filter(nodes, NodeType.matchNodeNames(name));
      return nodes[index];
    }

    function findTextPosition(container, offset) {
      var node = container, targetOffset = 0, dataLen;

      while (isText(node)) {
        dataLen = node.data.length;

        if (offset >= targetOffset && offset <= targetOffset + dataLen) {
          container = node;
          offset = offset - targetOffset;
          break;
        }

        if (!isText(node.nextSibling)) {
          container = node;
          offset = dataLen;
          break;
        }

        targetOffset += dataLen;
        node = node.nextSibling;
      }

      if (offset > container.data.length) {
        offset = container.data.length;
      }

      return new CaretPosition(container, offset);
    }

    function resolve(rootNode, path) {
      var parts, container, offset;

      if (!path) {
        return null;
      }

      parts = path.split(',');
      path = parts[0].split('/');
      offset = parts.length > 1 ? parts[1] : 'before';

      container = Arr.reduce(path, function (result, value) {
        value = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(value);
        if (!value) {
          return null;
        }

        if (value[1] === 'text()') {
          value[1] = '#text';
        }

        return resolvePathItem(result, value[1], parseInt(value[2], 10));
      }, rootNode);

      if (!container) {
        return null;
      }

      if (!isText(container)) {
        if (offset === 'after') {
          offset = nodeIndex(container) + 1;
        } else {
          offset = nodeIndex(container);
        }

        return new CaretPosition(container.parentNode, offset);
      }

      return findTextPosition(container, parseInt(offset, 10));
    }

    return {
      /**
       * Create a xpath bookmark location for the specified caret position.
       *
       * @method create
       * @param {Node} rootNode Root node to create bookmark within.
       * @param {tinymce.caret.CaretPosition} caretPosition Caret position within the root node.
       * @return {String} String xpath like location of caret position.
       */
      create: create,

      /**
       * Resolves a xpath like bookmark location to the a caret position.
       *
       * @method resolve
       * @param {Node} rootNode Root node to resolve xpath bookmark within.
       * @param {String} bookmark Bookmark string to resolve.
       * @return {tinymce.caret.CaretPosition} Caret position resolved from xpath like bookmark.
       */
      resolve: resolve
    };
  }
);
/**
 * BookmarkManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class handles selection bookmarks.
 *
 * @class tinymce.dom.BookmarkManager
 */
define(
  'tinymce.core.dom.BookmarkManager',
  [
    'tinymce.core.caret.CaretBookmark',
    'tinymce.core.caret.CaretContainer',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.dom.NodeType',
    'tinymce.core.dom.RangeUtils',
    'tinymce.core.Env',
    'tinymce.core.text.Zwsp',
    'tinymce.core.util.Tools'
  ],
  function (CaretBookmark, CaretContainer, CaretPosition, NodeType, RangeUtils, Env, Zwsp, Tools) {
    var isContentEditableFalse = NodeType.isContentEditableFalse;

    var getNormalizedTextOffset = function (container, offset) {
      var node, trimmedOffset;

      trimmedOffset = Zwsp.trim(container.data.slice(0, offset)).length;
      for (node = container.previousSibling; node && node.nodeType === 3; node = node.previousSibling) {
        trimmedOffset += Zwsp.trim(node.data).length;
      }

      return trimmedOffset;
    };

    /**
     * Constructs a new BookmarkManager instance for a specific selection instance.
     *
     * @constructor
     * @method BookmarkManager
     * @param {tinymce.dom.Selection} selection Selection instance to handle bookmarks for.
     */
    function BookmarkManager(selection) {
      var dom = selection.dom;

      /**
       * Returns a bookmark location for the current selection. This bookmark object
       * can then be used to restore the selection after some content modification to the document.
       *
       * @method getBookmark
       * @param {Number} type Optional state if the bookmark should be simple or not. Default is complex.
       * @param {Boolean} normalized Optional state that enables you to get a position that it would be after normalization.
       * @return {Object} Bookmark object, use moveToBookmark with this object to restore the selection.
       * @example
       * // Stores a bookmark of the current selection
       * var bm = tinymce.activeEditor.selection.getBookmark();
       *
       * tinymce.activeEditor.setContent(tinymce.activeEditor.getContent() + 'Some new content');
       *
       * // Restore the selection bookmark
       * tinymce.activeEditor.selection.moveToBookmark(bm);
       */
      this.getBookmark = function (type, normalized) {
        var rng, rng2, id, collapsed, name, element, chr = '&#xFEFF;', styles;

        function findIndex(name, element) {
          var count = 0;

          Tools.each(dom.select(name), function (node) {
            if (node.getAttribute('data-mce-bogus') === 'all') {
              return;
            }

            if (node == element) {
              return false;
            }

            count++;
          });

          return count;
        }

        function normalizeTableCellSelection(rng) {
          function moveEndPoint(start) {
            var container, offset, childNodes, prefix = start ? 'start' : 'end';

            container = rng[prefix + 'Container'];
            offset = rng[prefix + 'Offset'];

            if (container.nodeType == 1 && container.nodeName == "TR") {
              childNodes = container.childNodes;
              container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];
              if (container) {
                offset = start ? 0 : container.childNodes.length;
                rng['set' + (start ? 'Start' : 'End')](container, offset);
              }
            }
          }

          moveEndPoint(true);
          moveEndPoint();

          return rng;
        }

        function getLocation(rng) {
          var root = dom.getRoot(), bookmark = {};

          function getPoint(rng, start) {
            var container = rng[start ? 'startContainer' : 'endContainer'],
              offset = rng[start ? 'startOffset' : 'endOffset'], point = [], childNodes, after = 0;

            if (container.nodeType === 3) {
              point.push(normalized ? getNormalizedTextOffset(container, offset) : offset);
            } else {
              childNodes = container.childNodes;

              if (offset >= childNodes.length && childNodes.length) {
                after = 1;
                offset = Math.max(0, childNodes.length - 1);
              }

              point.push(dom.nodeIndex(childNodes[offset], normalized) + after);
            }

            for (; container && container != root; container = container.parentNode) {
              point.push(dom.nodeIndex(container, normalized));
            }

            return point;
          }

          bookmark.start = getPoint(rng, true);

          if (!selection.isCollapsed()) {
            bookmark.end = getPoint(rng);
          }

          return bookmark;
        }

        function findAdjacentContentEditableFalseElm(rng) {
          function findSibling(node, offset) {
            var sibling;

            if (NodeType.isElement(node)) {
              node = RangeUtils.getNode(node, offset);
              if (isContentEditableFalse(node)) {
                return node;
              }
            }

            if (CaretContainer.isCaretContainer(node)) {
              if (NodeType.isText(node) && CaretContainer.isCaretContainerBlock(node)) {
                node = node.parentNode;
              }

              sibling = node.previousSibling;
              if (isContentEditableFalse(sibling)) {
                return sibling;
              }

              sibling = node.nextSibling;
              if (isContentEditableFalse(sibling)) {
                return sibling;
              }
            }
          }

          return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);
        }

        if (type == 2) {
          element = selection.getNode();
          name = element ? element.nodeName : null;
          rng = selection.getRng();

          if (isContentEditableFalse(element) || name == 'IMG') {
            return { name: name, index: findIndex(name, element) };
          }

          if (selection.tridentSel) {
            return selection.tridentSel.getBookmark(type);
          }

          element = findAdjacentContentEditableFalseElm(rng);
          if (element) {
            name = element.tagName;
            return { name: name, index: findIndex(name, element) };
          }

          return getLocation(rng);
        }

        if (type == 3) {
          rng = selection.getRng();

          return {
            start: CaretBookmark.create(dom.getRoot(), CaretPosition.fromRangeStart(rng)),
            end: CaretBookmark.create(dom.getRoot(), CaretPosition.fromRangeEnd(rng))
          };
        }

        // Handle simple range
        if (type) {
          return { rng: selection.getRng() };
        }

        rng = selection.getRng();
        id = dom.uniqueId();
        collapsed = selection.isCollapsed();
        styles = 'overflow:hidden;line-height:0px';

        // Explorer method
        if (rng.duplicate || rng.item) {
          // Text selection
          if (!rng.item) {
            rng2 = rng.duplicate();

            try {
              // Insert start marker
              rng.collapse();
              rng.pasteHTML('<span data-mce-type="bookmark" id="' + id + '_start" style="' + styles + '">' + chr + '</span>');

              // Insert end marker
              if (!collapsed) {
                rng2.collapse(false);

                // Detect the empty space after block elements in IE and move the
                // end back one character <p></p>] becomes <p>]</p>
                rng.moveToElementText(rng2.parentElement());
                if (rng.compareEndPoints('StartToEnd', rng2) === 0) {
                  rng2.move('character', -1);
                }

                rng2.pasteHTML('<span data-mce-type="bookmark" id="' + id + '_end" style="' + styles + '">' + chr + '</span>');
              }
            } catch (ex) {
              // IE might throw unspecified error so lets ignore it
              return null;
            }
          } else {
            // Control selection
            element = rng.item(0);
            name = element.nodeName;

            return { name: name, index: findIndex(name, element) };
          }
        } else {
          element = selection.getNode();
          name = element.nodeName;
          if (name == 'IMG') {
            return { name: name, index: findIndex(name, element) };
          }

          // W3C method
          rng2 = normalizeTableCellSelection(rng.cloneRange());

          // Insert end marker
          if (!collapsed) {
            rng2.collapse(false);
            rng2.insertNode(dom.create('span', { 'data-mce-type': "bookmark", id: id + '_end', style: styles }, chr));
          }

          rng = normalizeTableCellSelection(rng);
          rng.collapse(true);
          rng.insertNode(dom.create('span', { 'data-mce-type': "bookmark", id: id + '_start', style: styles }, chr));
        }

        selection.moveToBookmark({ id: id, keep: 1 });

        return { id: id };
      };

      /**
       * Restores the selection to the specified bookmark.
       *
       * @method moveToBookmark
       * @param {Object} bookmark Bookmark to restore selection from.
       * @return {Boolean} true/false if it was successful or not.
       * @example
       * // Stores a bookmark of the current selection
       * var bm = tinymce.activeEditor.selection.getBookmark();
       *
       * tinymce.activeEditor.setContent(tinymce.activeEditor.getContent() + 'Some new content');
       *
       * // Restore the selection bookmark
       * tinymce.activeEditor.selection.moveToBookmark(bm);
       */
      this.moveToBookmark = function (bookmark) {
        var rng, root, startContainer, endContainer, startOffset, endOffset;

        function setEndPoint(start) {
          var point = bookmark[start ? 'start' : 'end'], i, node, offset, children;

          if (point) {
            offset = point[0];

            // Find container node
            for (node = root, i = point.length - 1; i >= 1; i--) {
              children = node.childNodes;

              if (point[i] > children.length - 1) {
                return;
              }

              node = children[point[i]];
            }

            // Move text offset to best suitable location
            if (node.nodeType === 3) {
              offset = Math.min(point[0], node.nodeValue.lengt apM .(S
	DQjE`̶I&0@@JR3l!tlSJ=H	pS2` H ER-)eD *@L	iIH`  lAB`5R	NHW CBEmPEl/(Ip3Q]DT<D& %o3-00[NC[bYp#$)U:"Nd"YS*   #A)	΀Y.%KӠ@g<aha0[SYTP6.M@wiK"pǈZph	>8P(	gd n  X"!lYԨeM}0.$A	*!2A!@`IdCT0N@>q  $! p	5H H؏# Ci +L !o`!ED8 Bҁeg16ҸF0	"HX ΢kZ['#0` D@R|dG))4	ؖG(,$Qd8'# ǡD_Cn)0E OVFu= Q-YI	 '7 )FAW`AAA#LBCKC9P1PuD*p!BE 0`	Ѣ`j 3"	XeeXAb  )Be	SЌ$U2DWHA(@hYk6G E`
@ Pຝ J	P )(`"ԃPD Bp 40QpTB!) Yq
bBmS
Z	S9FAepO.gU"l{	CD= p֣Vj!8Oo`D I( ` |a >ux-511
Jh'@< ¢!-z
0Rp+`D!F !ːBZ
)t"]%
!c p:)PA1[Ё @!@(QjAIB((R  F$aSBGTCIgNL "  Z(F	`1Ȁ5uV IڊA! Ea<טX\㫡@^Q8p20R/swJ @P*bƉS\ 3qe*"g@LA}X^I #	`UcHX d9
)m$>bЎO
TH-\dhUn$,Dװ!FA؎54Uia8"FC`@0ƈ &p [HcI(^a XD@x#P5 4#2dL2 PuQ*hX L^J P( p4 *BD(9@XiO^SHq K]08
'#jsFmEEp!$CEagl C >ǌT ؓ
V`:y 'AD5  p F)Q1BA !
b$6aĠ!BPBhj3$"08P^ 
$p,I04#> \T-C BH @	 `*BHX #X!H@n
 @Q2 \
,!@4 A/(BR,

(* I +0- @ ]pBbL$LPЂT  48XK*((D ++Pt{]	gĺA,	
R@aD"g`3ͣVǒBÌQ0Ҁ.tX`q t"*=p3*Ŵ@T?T8_PvCD#*wF AF6P 1j*`w`a
 B*% B!	0
L $
3 Dm]l°
XBG0 A@TU.eTdjL yyB78QȇIJȒ/0:6%pb	7R#ӏ<M"P/AaHLC5ǲU1CC G8v%y	 AB  8!3G㴦b]AbjALH9AB Ϡm`-ChIvbkw!ov B	_CK$XHbB?'BdZC$"4 Ңp~` &O8%݀H L p	  ,@ Aa$)DS;3xHƥ(p(H]jpt/_,	A@Fd)E+ 0  %!
t&\t,kDD@ΡP a`;22"f?'S 4&,h,+T4VxS0^Q1)¡22 hJ( A2	#b4n$@ @  A @"H4w
H #lN XY   ^H1!(2
`WP'$	A b	d$AQ  %/  2Idm!* UXP-%P5 B`6 tg]
(ƉC R@"X2A lP1NWSЀz  ͙#+ `  a5Q=43#P08+ UX.pHZMTm'" .^x	@QM4/6QV Qvę7	LEֆ`"VɲGLP6@0('0 XY`T b @Ķp0iH
~Ђ2+݊T@h04 %Ɔ FHK L`Vr&|+]  
%  
1 i(N#fC>xQ^9(:H@VQ|oCD/^7$HoW|,TN+^)r t&70
JHN`K_GAC+2XF(a}yBu@I\1bEihID	PF;P@J   hMFGA/@HY	A7@B".PT
E`@fH3]cFX&C}bG" C ڍB#H҅u BBUa@C{D'`Cp,7A`'D,4l` 12X6 h ƀA +CAqii--E	p%U 	 4
.  C%x !u18b܆w&([e!f+3MFiDq'+D
)(=&40]#W`@6Lle&
/WgD+(<iFDICPʴNA!@
iH8P4BR B& p 2r\TX+@ 3k1 A2 0(A$I) 443F@d¨ $bC .!ֻBDb0 4pZ1&!Ap@ HH 
iD$T  V)0 )L(bJ !0FM@ W$ P  I-R}l
BcAk<g&vQ<i 5.	`pP@Zi/
8zTB0J 0#1e'-8P 
N6 ZvQA`I!3E@. t@       restoreEndPoint('start');
            restoreEndPoint('end');

            if (startContainer) {
              rng = dom.createRng();
              rng.setStart(addBogus(startContainer), startOffset);
              rng.setEnd(addBogus(endContainer), endOffset);
              selection.setRng(rng);
            }
          } else if (bookmark.name) {
            selection.select(dom.select(bookmark.name)[bookmark.index]);
          } else if (bookmark.rng) {
            selection.setRng(bookmark.rng);
          }
        }
      };
    }

    /**
     * Returns true/false if the specified node is a bookmark node or not.
     *
     * @static
     * @method isBookmarkNode
     * @param {DOMNode} node DOM Node to check if it's a bookmark node or not.
     * @return {Boolean} true/false if the node is a bookmark node or not.
     */
    BookmarkManager.isBookmarkNode = function (node) {
      return node && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';
    };

    return BookmarkManager;
  }
);
define(
  'ephox.katamari.api.Global',

  [
  ],

  function () {
    // Use window object as the global if it's available since CSP will block script evals
    if (typeof window !== 'undefined') {
      return window;
    } else {
      return Function('return this;')();
    }
  }
);


define(
  'ephox.katamari.api.Resolve',

  [
    'ephox.katamari.api.Global'
  ],

  function (Global) {
    /** path :: ([String], JsObj?) -> JsObj */
    var path = function (parts, scope) {
      var o = scope !== undefined ? scope : Global;
      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i)
        o = o[parts[i]];
      return o;
    };

    /** resolve :: (String, JsObj?) -> JsObj */
    var resolve = function (p, scope) {
      var parts = p.split('.');
      return path(parts, scope);
    };

    /** step :: (JsObj, String) -> JsObj */
    var step = function (o, part) {
      if (o[part] === undefined || o[part] === null)
        o[part] = {};
      return o[part];
    };

    /** forge :: ([String], JsObj?) -> JsObj */
    var forge = function (parts, target) {
      var o = target !== undefined ? target : Global;      
      for (var i = 0; i < parts.length; ++i)
        o = step(o, parts[i]);
      return o;
    };

    /** namespace :: (String, JsObj?) -> JsObj */
    var namespace = function (name, target) {
      var parts = name.split('.');
      return forge(parts, target);
    };

    return {
      path: path,
      resolve: resolve,
      forge: forge,
      namespace: namespace
    };
  }
);


define(
  'ephox.sand.util.Global',

  [
    'ephox.katamari.api.Resolve'
  ],

  function (Resolve) {
    var unsafe = function (name, scope) {
      return Resolve.resolve(name, scope);
    };

    var getOrDie = function (name, scope) {
      var actual = unsafe(name, scope);

      if (actual === undefined) throw name + ' not available on this browser';
      return actual;
    };

    return {
      getOrDie: getOrDie
    };
  }
);
define(
  'ephox.sand.api.Node',

  [
    'ephox.sand.util.Global'
  ],

  function (Global) {
    /*
     * MDN says (yes) for IE, but it's undefined on IE8
     */
    var node = function () {
      var f = Global.getOrDie('Node');
      return f;
    };

    /*
     * Most of numerosity doesn't alter the methods on the object.
     * We're making an exception for Node, because bitwise and is so easy to get wrong.
     *
     * Might be nice to ADT this at some point instead of having individual methods.
     */

    var compareDocumentPosition = function (a, b, match) {
      // Returns: 0 if e1 and e2 are the same node, or a bitmask comparing the positions
      // of nodes e1 and e2 in their documents. See the URL below for bitmask interpretation
      // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition
      return (a.compareDocumentPosition(b) & match) !== 0;
    };

    var documentPositionPreceding = function (a, b) {
      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);
    };

    var documentPositionContainedBy = function (a, b) {
      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);
    };

    return {
      documentPositionPreceding: documentPositionPreceding,
      documentPositionContainedBy: documentPositionContainedBy
    };
  }
);
define(
  'ephox.katamari.api.Thunk',

  [
  ],

  function () {

    var cached = function (f) {
      var called = false;
      var r;
      return function() {
        if (!called) {
          called = true;
          r = f.apply(null, arguments);
        }
        return r;
      };
    };

    return {
      cached: cached
    };
  }
);

defineGlobal("global!Number", Number);
define(
  'ephox.sand.detect.Version',

  [
    'ephox.katamari.api.Arr',
    'global!Number',
    'global!String'
  ],

  function (Arr, Number, String) {
    var firstMatch = function (regexes, s) {
      for (var i = 0; i < regexes.length; i++) {
        var x = regexes[i];
        if (x.test(s)) return x;
      }
      return undefined;
    };

    var find = function (regexes, agent) {
      var r = firstMatch(regexes, agent);
      if (!r) return { major : 0, minor : 0 };
      var group = function(i) {
        return Number(agent.replace(r, '$' + i));
      };
      return nu(group(1), group(2));
    };

    var detect = function (versionRegexes, agent) {
      var cleanedAgent = String(agent).toLowerCase();

      if (versionRegexes.length === 0) return unknown();
      return find(versionRegexes, cleanedAgent);
    };

    var unknown = function () {
      return nu(0, 0);
    };

    var nu = function (major, minor) {
      return { major: major, minor: minor };
    };

    return {
      nu: nu,
      detect: detect,
      unknown: unknown
    };
  }
);
define(
  'ephox.sand.core.Browser',

  [
    'ephox.katamari.api.Fun',
    'ephox.sand.detect.Version'
  ],

  function (Fun, Version) {
    var edge = 'Edge';
    var chrome = 'Chrome';
    var ie = 'IE';
    var opera = 'Opera';
    var firefox = 'Firefox';
    var safari = 'Safari';

    var isBrowser = function (name, current) {
      return function () {
        return current === name;
      };
    };

    var unknown = function () {
      return nu({
        current: undefined,
        version: Version.unknown()
      });
    };

    var nu = function (info) {
      var current = info.current;
      var version = info.version;

      return {
        current: current,
        version: version,

        // INVESTIGATE: Rename to Edge ?
        isEdge: isBrowser(edge, current),
        isChrome: isBrowser(chrome, current),
        // NOTE: isIe just looks too weird
        isIE: isBrowser(ie, current),
        isOpera: isBrowser(opera, current),
        isFirefox: isBrowser(firefox, current),
        isSafari: isBrowser(safari, current)
      };
    };

    return {
      unknown: unknown,
      nu: nu,
      edge: Fun.constant(edge),
      chrome: Fun.constant(chrome),
      ie: Fun.constant(ie),
      opera: Fun.constant(opera),
      firefox: Fun.constant(firefox),
      safari: Fun.constant(safari)
    };
  }
);
define(
  'ephox.sand.core.OperatingSystem',

  [
    'ephox.katamari.api.Fun',
    'ephox.sand.detect.Version'
  ],

  function (Fun, Version) {
    var windows = 'Windows';
    var ios = 'iOS';
    var android = 'Android';
    var linux = 'Linux';
    var osx = 'OSX';
    var solaris = 'Solaris';
    var freebsd = 'FreeBSD';

    // Though there is a bit of dupe with this and Browser, trying to 
    // reuse code makes it much harder to follow and change.
    var isOS = function (name, current) {
      return function () {
        return current === name;
      };
    };

    var unknown = function () {
      return nu({
        current: undefined,
        version: Version.unknown()
      });
    };

    var nu = function (info) {
      var current = info.current;
      var version = info.version;

      return {
        current: current,
        version: version,

        isWindows: isOS(windows, current),
        // TODO: Fix capitalisation
        isiOS: isOS(ios, current),
        isAndroid: isOS(android, current),
        isOSX: isOS(osx, current),
        isLinux: isOS(linux, current),
        isSolaris: isOS(solaris, current),
        isFreeBSD: isOS(freebsd, current)
      };
    };

    return {
      unknown: unknown,
      nu: nu,

      windows: Fun.constant(windows),
      ios: Fun.constant(ios),
      android: Fun.constant(android),
      linux: Fun.constant(linux),
      osx: Fun.constant(osx),
      solaris: Fun.constant(solaris),
      freebsd: Fun.constant(freebsd)
    };
  }
);
define(
  'ephox.sand.detect.DeviceType',

  [
    'ephox.katamari.api.Fun'
  ],

  function (Fun) {
    return function (os, browser, userAgent) {
      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;
      var isiPhone = os.isiOS() && !isiPad;
      var isAndroid3 = os.isAndroid() && os.version.major === 3;
      var isAndroid4 = os.isAndroid() && os.version.major === 4;
      var isTablet = isiPad || isAndroid3 || ( isAndroid4 && /mobile/i.test(userAgent) === true );
      var isTouch = os.isiOS() || os.isAndroid();
      var isPhone = isTouch && !isTablet;

      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;

      return {
        isiPad : Fun.constant(isiPad),
        isiPhone: Fun.constant(isiPhone),
        isTablet: Fun.constant(isTablet),
        isPhone: Fun.constant(isPhone),
        isTouch: Fun.constant(isTouch),
        isAndroid: os.isAndroid,
        isiOS: os.isiOS,
        isWebView: Fun.constant(iOSwebview)
      };
    };
  }
);
define(
  'ephox.sand.detect.UaString',

  [
    'ephox.katamari.api.Arr',
    'ephox.sand.detect.Version',
    'global!String'
  ],

  function (Arr, Version, String) {
    var detect = function (candidates, userAgent) {
      var agent = String(userAgent).toLowerCase();
      return Arr.find(candidates, function (candidate) {
        return candidate.search(agent);
      });
    };

    // They (browser and os) are the same at the moment, but they might
    // not stay that way.
    var detectBrowser = function (browsers, userAgent) {
      return detect(browsers, userAgent).map(function (browser) {
        var version = Version.detect(browser.versionRegexes, userAgent);
        return {
          current: browser.name,
          version: version
        };
      });
    };

    var detectOs = function (oses, userAgent) {
      return detect(oses, userAgent).map(function (os) {
        var version = Version.detect(os.versionRegexes, userAgent);
        return {
          current: os.name,
          version: version
        };
      });
    };

    return {
      detectBrowser: detectBrowser,
      detectOs: detectOs
    };
  }
);
define(
  'ephox.katamari.str.StrAppend',

  [

  ],

  function () {
    var addToStart = function (str, prefix) {
      return prefix + str;
    };

    var addToEnd = function (str, suffix) {
      return str + suffix;
    };

    var removeFromStart = function (str, numChars) {
      return str.substring(numChars);
    };

    var removeFromEnd = function (str, numChars) {
      return str.substring(0, str.length - numChars);
    };
 
    return {
      addToStart: addToStart,
      addToEnd: addToEnd,
      removeFromStart: removeFromStart,
      removeFromEnd: removeFromEnd
    };
  }
);
define(
  'ephox.katamari.str.StringParts',

  [
    'ephox.katamari.api.Option',
    'global!Error'
  ],

  function (Option, Error) {
    /** Return the first 'count' letters from 'str'.
-     *  e.g. first("abcde", 2) === "ab"
-     */
    var first = function(str, count) {
     return str.substr(0, count);
    };

    /** Return the last 'count' letters from 'str'.
    *  e.g. last("abcde", 2) === "de"
    */
    var last = function(str, count) {
     return str.substr(str.length - count, str.length);
    };

    var head = function(str) {
      return str === '' ? Option.none() : Option.some(str.substr(0, 1));
    };

    var tail = function(str) {
      return str === '' ? Option.none() : Option.some(str.substring(1));
    };

    return {
      first: first,
      last: last,
 eo{tnWT}O[x~_w?=1tSr;>Ve9Lշu>m(Xk}ko߭1-!ޗopݪ֭gMp_߆3VMwW2wNߛd_hL}Y;e]t>^uo]\wsWW]}ĳQ_wu?uVywnV_-w\R|xo8^_\S?^27|}z:s;~'=m5XӢƟϻt}/gm޳>鯟r'<:wy=}͵֝|sw|ߖ6&A0%{j9/S?]\iwG?}y|x^ާqKOզ}SˏOn＿w;A9'}Q%O>QHۗز'9,wCƊoU3oM;k~S.wݯϳor|қySίvח|#_e3^:9>w8/_}wNzzmվ-gɩ~mbaokjwnU_99[?w>o/os_LW׾teVЮy]Xn77s/Pwz 5Q.ko+6973kgg_Օ	4Gٚg{	g`\=o{_'-h4ɷ{yyOǏϻS[z_{Jgw)_[/_w+Kܷ}W껮+w?krF^suysxV~=׫ggs*\=;sr~7򻻽?-@g&ʣ_tl7q<߱cŏ۽5Vg}k.uNtwoxw^_?o?<r?٦ӱAUVT>L~S۷Zq?zRoYs^wׯv:]n?,>sԷ=w_?]Fw٩SF._ʞ~+`[&r,Xٿ[]'?woFfzg_vgݏ_vݛ>ߕWyx(F6^V׼<g{s^W7I}FP{>\+]=R߯ˁ.^ݟ*ݸ33g4?;=m?uoObM~s_{Ym=:O|1׎>)5[ywOw7M5Wg&QUG6y=_Nߕ?8unJ¼-ӻ{w~ϧwvߺLf}Wq':Ͻeɺ˷?I{?ޢ{.lN^ߋN=ݻW?m(k5~nx_SWf{5T}b|o3?5{ jOǧTVٱ{{pw9MNZϝR߮|3{^m[}ϔc~=yݴoh{^Gr럋}_/|%bkZV}mﷷho?;>v}7r`×oܳ?F5W?=p{Sw_]kB^o
~,kEz
;eU}}oc{t_yqq~)`;?}_?moʊ;;_f/]*k=6%gҏϷSl_L{>+G{eQe쾴xr"Ю~]i]Ϳobgs˶m;z.|z}>^wm,λ=՚{z$\Z6kx{v9̩L޵o{0Vis-Y.;ғ[]oUZbWtYO?E~ks=~?ӷYևge)kZ;}OߧK+{vN!-G/͚ǆw\;ݹOBͳ0/KMM:=}wf'_Z}*{e_Yo?/u^rٮ^\{w׽>T{;cs#2>W!-u{v;g>?[p_I~M8SuW?>ݙ[}^n{(l5N+pٍJ5}55]mg~	,u>_o5?7or=#s{K5n?mRUDz6Oo+qwB-#w'O/g_>Ou^~Yw??lo?,Lݯnt}
{շK~}~ݳs~w:Erwټ?m,}}ωۑ~8_##_G,,zQ<4/Ewv_I"rH<tϵ]uwݘ/KקoiUWMfcgύj{F;23ߡw+7ܼ{~}:]ؗS_݈#9qGOpڏϛ>Xfkזnc&?{٠ƥƺe=g||>/x{kzշwGʿ\OJ\?7ֿ[9gvӐl-+}_fmWkJv#]sf,͛ӷn^(Em|3\ZxwōvvN綿_^x^ڼƻϧr}޾x'',}޻YO˙}ۧ_S߯?wx|ק{_q'v=8y߯;Ͼ;zw_bc/~Wŷy{em{AMwݞZ%?}ֿszDy?ܻWuSkr>:ęmt?->ol77˚	,#֎;{=j*e;ǿ=ɟ{Fwg')sն]?=[K'h_nBvi!.Ǐn'=N.ow}e={;{N;lo~󿲟\ku>U}5n}{޼/;~'տz?h]Zۦ?dWɺ+sv/߫Kz[ӕtfE^g׮4ҹ|}YJegw|'7]fӿw=<%J:~g~Ի{_+R'T7ć[_uH9QK_߻Z\vX9$JWn7۟vwwFoVSON|c5W3G#sgn/SHn_Oϧ{^xYWvimw_N}EYA_>&^V\l}ٻ3|xV_{Ș{hoSw1/3E<wlq]~*5_?~!}B{߾Q'7CwlλWo3v[ހ}~_Y@O??q>^[Կm|_}\U>G-=MiMxK}_ݜZdl^>{}C__^}ou{[hз?oiVoM?=J~DW޳?l(>g_ξ5=?[מM[zBoonzqx6~"]ت7Z\lVz췻)+??N1s-|͎XV?~ssϝi_WE^B_,55׵^1TGOߍ,O7{_ouk=w||Wf:GOfWw&on{6M=^ߧڳO.UhﲒixWe@om׾v>׾?8fyvo}{oߺnWzQOrVzgg	_97^w}Z74gdoPy7Xx	I,9r~e7kS-o}n쟵NW?ol|oʅ|<wɲvz-ou}~O$U'Ǒｯ9ef	?#75gJݯ_o?]AZߺcyq}wd'lNumu޳7ovǚpU<=&`{+K׵<oJ?o=ҙֻwY}p.0(fFu}3??[_^53Om?zW³dj~	Yx{]"`Ǽ׻g.{?g[?ku)-}*3~v_oS}m#cS%wm'ql>[_+|yƌ|w\+%)ZsOح>bz3/?tƻ_O<jo+ow^ګx}O{v}xKlwEϙNwg~o}έZ^ok#?PK>Wσ~o9y>h_=%>OG޶mfnz<Qٽy;u3OӏnA_v|B#R}#=oޱ|im|Η7|Pֽ}t>=|Lz֯]W<Omz~~1;ﵞwrg[(?op=W:蟋/ek_m}s/}t7//߼(t	|q᝽b>O\p}̪nڿzz/ϣK}Fìo.5j_?d?V=o!goUSVR<~<)پ{50>\UvD"h|5-\v]}ۼz\oRcޝ9_qz黶z-FyӦ?{}Y}<}׺xO+p?	=vb,{;MkŅt.]}=-D_}~}o_żo.OM}S+ߴ]5͇0~{<e7cQ/g9k:aiğG	"7c%r뙾O_}stk]ʺԯOǿ~0}ܧ8?wx4;ᯓY>g߯mMqo?~LښW}G[}Υ܎߫w_{z?w?Q?}~y9
F['2ڭߵ߾O7{}wnzۓS~Ǜ_q_܇kׄ[]gO^϶7Ls^+9}Vw^w+[Ϲm77>>_?͏s~-?5!Bp}??o~t?|޾woo	2'kgsm4}M:>&u[/yUwO*\w/?Ws.Mu2uwgwdmr|fw{Vp\,;gWxmWg|[Swjþ~i_៊wESʎ4?|.pY{.S.[x_o}4_U3j>ym>#^y짙{lNJ[5uO[#sߺ`D}~cQ5ߣgo5wO~&ʜϸ"/n;K{so[W++3lܿ}W7}`>Vuտ.wPҗ]֩^u?~r_Y?ܻ_\3tf)\}pT|n*	{pf&>GRݺ=tiWWeyy=+=O7w\>]3<twv_N㿥?=w_ڵt9r+sn[]6{{Nor[?_Mi{JڧJcb?sNr{c뽯YݼަǛsquZj[Os{|fcl}o'wڷWqG`ܾvlպrv;7>^vmלKߌ'uu/[X[co(FoI\k1Z]?=vn{Uxh}{]a|o=ʮיM]zi    'global!Error',
    'global!console',
    'global!document'
  ],

  function (Fun, Error, console, document) {
    var fromHtml = function (html, scope) {
      var doc = scope || document;
      var div = doc.createElement('div');
      div.innerHTML = html;
      if (!div.hasChildNodes() || div.childNodes.length > 1) {
        console.error('HTML does not have a single root node', html);
        throw 'HTML must have a single root node';
      }
      return fromDom(div.childNodes[0]);
    };

    var fromTag = function (tag, scope) {
      var doc = scope || document;
      var node = doc.createElement(tag);
      return fromDom(node);
    };

    var fromText = function (text, scope) {
      var doc = scope || document;
      var node = doc.createTextNode(text);
      return fromDom(node);
    };

    var fromDom = function (node) {
      if (node === null || node === undefined) throw new Error('Node cannot be null or undefined');
      return {
        dom: Fun.constant(node)
      };
    };

    return {
      fromHtml: fromHtml,
      fromTag: fromTag,
      fromText: fromText,
      fromDom: fromDom
    };
  }
);

define(
  'ephox.sugar.api.node.NodeTypes',

  [

  ],

  function () {
    return {
      ATTRIBUTE:              2,
      CDATA_SECTION:          4,
      COMMENT:                8,
      DOCUMENT:               9,
      DOCUMENT_TYPE:          10,
      DOCUMENT_FRAGMENT:      11,
      ELEMENT:                1,
      TEXT:                   3,
      PROCESSING_INSTRUCTION: 7,
      ENTITY_REFERENCE:       5,
      ENTITY:                 6,
      NOTATION:               12
    };
  }
);
define(
  'ephox.sugar.api.search.Selectors',

  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Option',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.node.NodeTypes',
    'global!Error',
    'global!document'
  ],

  function (Arr, Option, Element, NodeTypes, Error, document) {
    /*
     * There's a lot of code here; the aim is to allow the browser to optimise constant comparisons,
     * instead of doing object lookup feature detection on every call
     */
    var STANDARD = 0;
    var MSSTANDARD = 1;
    var WEBKITSTANDARD = 2;
    var FIREFOXSTANDARD = 3;

    var selectorType = (function () {
      var test = document.createElement('span');
      // As of Chrome 34 / Safari 7.1 / FireFox 34, everyone except IE has the unprefixed function.
      // Still check for the others, but do it last.
      return test.matches !== undefined ? STANDARD :
             test.msMatchesSelector !== undefined ? MSSTANDARD :
             test.webkitMatchesSelector !== undefined ? WEBKITSTANDARD :
             test.mozMatchesSelector !== undefined ? FIREFOXSTANDARD :
             -1;
    })();


    var ELEMENT = NodeTypes.ELEMENT;
    var DOCUMENT = NodeTypes.DOCUMENT;

    var is = function (element, selector) {
      var elem = element.dom();
      if (elem.nodeType !== ELEMENT) return false; // documents have querySelector but not matches

      // As of Chrome 34 / Safari 7.1 / FireFox 34, everyone except IE has the unprefixed function.
      // Still check for the others, but do it last.
      else if (selectorType === STANDARD) return elem.matches(selector);
      else if (selectorType === MSSTANDARD) return elem.msMatchesSelector(selector);
      else if (selectorType === WEBKITSTANDARD) return elem.webkitMatchesSelector(selector);
      else if (selectorType === FIREFOXSTANDARD) return elem.mozMatchesSelector(selector);
      else throw new Error('Browser lacks native selectors'); // unfortunately we can't throw this on startup :(
    };

    var bypassSelector = function (dom) {
      // Only elements and documents support querySelector
      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT ||
              // IE fix for complex queries on empty nodes: http://jsfiddle.net/spyder/fv9ptr5L/
              dom.childElementCount === 0;
    };

    var all = function (selector, scope) {
      var base = scope === undefined ? document : scope.dom();
      return bypassSelector(base) ? [] : Arr.map(base.querySelectorAll(selector), Element.fromDom);
    };

    var one = function (selector, scope) {
      var base = scope === undefined ? document : scope.dom();
      return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);
    };

    return {
      all: all,
      is: is,
      one: one
    };
  }
);

define(
  'ephox.sugar.api.dom.Compare',

  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Fun',
    'ephox.sand.api.Node',
    'ephox.sand.api.PlatformDetection',
    'ephox.sugar.api.search.Selectors'
  ],

  function (Arr, Fun, Node, PlatformDetection, Selectors) {

    var eq = function (e1, e2) {
      return e1.dom() === e2.dom();
    };

    var isEqualNode = function (e1, e2) {
      return e1.dom().isEqualNode(e2.dom());
    };

    var member = function (element, elements) {
      return Arr.exists(elements, Fun.curry(eq, element));
    };

    // DOM contains() method returns true if e1===e2, we define our contains() to return false (a node does not contain itself).
    var regularContains = function (e1, e2) {
      var d1 = e1.dom(), d2 = e2.dom();
      return d1 === d2 ? false : d1.contains(d2);
    };

    var ieContains = function (e1, e2) {
      // IE only implements the contains() method for Element nodes.
      // It fails for Text nodes, so implement it using compareDocumentPosition()
      // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect
      // Note that compareDocumentPosition returns CONTAINED_BY if 'e2 *is_contained_by* e1':
      // Also, compareDocumentPosition defines a node containing itself as false.
      return Node.documentPositionContainedBy(e1.dom(), e2.dom());
    };

    var browser = PlatformDetection.detect().browser;

    // Returns: true if node e1 contains e2, otherwise false.
    // (returns false if e1===e2: A node does not contain itself).
    var contains = browser.isIE() ? ieContains : regularContains;

    return {
      eq: eq,
      isEqualNode: isEqualNode,
      member: member,
      contains: contains,

      // Only used by DomUniverse. Remove (or should Selectors.is move here?)
      is: Selectors.is
    };
  }
);

/**
 * ScrollIntoView.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.dom.ScrollIntoView',
  [
    'tinymce.core.dom.NodeType'
  ],
  function (NodeType) {
    var getPos = function (elm) {
      var x = 0, y = 0;

      var offsetParent = elm;
      while (offsetParent && offsetParent.nodeType) {
        x += offsetParent.offsetLeft || 0;
        y += offsetParent.offsetTop || 0;
        offsetParent = offsetParent.offsetParent;
      }

      return { x: x, y: y };
    };

    var fireScrollIntoViewEvent = function (editor, elm, alignToTop) {
      var scrollEvent = { elm: elm, alignToTop: alignToTop };
      editor.fire('scrollIntoView', scrollEvent);
      return scrollEvent.isDefaultPrevented();
    };

    var scrollIntoView = function (editor, elm, alignToTop) {
      var y, viewPort, dom = editor.dom, root = dom.getRoot(), viewPortY, viewPortH, offsetY = 0;

      if (fireScrollIntoViewEvent(editor, elm, alignToTop)) {
        return;
      }

      if (!NodeType.isElement(elm)) {
        return;
      }

      if (alignToTop === false) {
        offsetY = elm.offsetHeight;
      }

      if (root.nodeName !== 'BODY') {
        var scrollContainer = editor.selection.getScrollContainer();
        if (scrollContainer) {
          y = getPos(elm).y - getPos(scrollContainer).y + offsetY;
          viewPortH = scrollContainer.clientHeight;
          viewPortY = scrollContainer.scrollTop;
          if (y < viewPortY || y + 25 > viewPortY + viewPortH) {
            scrollContainer.scrollTop = y < viewPortY ? y : y - viewPortH + 25;
          }

          return;
        }
      }

      viewPort = dom.getViewPort(editor.getWin());
      y = dom.getPos(elm).y + offsetY;
      viewPortY = viewPort.y;
      viewPortH = viewPort.h;
      if (y < viewPort.y || y + 25 > viewPortY + viewPortH) {
        editor.getWin().scrollTo(0, y < viewPortY ? y : y - viewPortH + 25);
      }
    };

    return {
      scrollIntoView: scrollIntoView
    };
  }
);

/**
 * TridentSelection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Selection class for old explorer versions. This one fakes the
 * native selection object available on modern browsers.
 *
 * @private
 * @class tinymce.dom.TridentSelection
 */
define(
  'tinymce.core.dom.TridentSelection',
  [
  ],
  function () {
    function Selection(selection) {
      var self = this, dom = selection.dom, FALSE = false;

      function getPosition(rng, start) {
        var checkRng, startIndex = 0, endIndex, inside,
          children, child, offset, index, position = -1, parent;

        // Setup test range, collapse it and get the parent
        checkRng = rng.duplicate();
        checkRng.collapse(start);
        parent = checkRng.parentElement();

        // Check if the selection is within the right document
        if (parent.ownerDocument !== selection.dom.doc) {
          return;
        }

        // IE will report non editable elements as it's parent so look for an editable one
        while (parent.contentEditable === "false") {
          parent = parent.parentNode;
        }

        // If parent doesn't have any children then return that we are inside the element
        if (!parent.hasChildNodes()) {
          return { node: parent, inside: 1 };
        }

        // Setup node list and endIndex
        children = parent.children;
        endIndex = children.length - 1;

        // Perform a binary search for the position
        while (startIndex <= endIndex) {
          index = Math.floor((startIndex + endIndex) / 2);

          // Move selection to node and compare the ranges
          child = children[index];
          checkRng.moveToElementText(child);
          position = checkRng.compareEndPoints(start ? 'StartToStart' : 'EndToEnd', rng);

          // Before/after or an exact match
          if (position > 0) {
            endIndex = index - 1;
          } else if (position < 0) {
            startIndex = index + 1;
          } else {
            return { node: child };
          }
        }

        // Check if child position is before or we didn't find a position
        if (position < 0) {
          // No element child was found use the parent element and the offset inside that
          if (!child) {
            checkRng.moveToElementText(parent);
            checkRng.collapse(true);
            child = parent;
            inside = true;
          } else {
            checkRng.collapse(false);
          }

          // Walk character by character in text node until we hit the selected range endpoint,
          // hit the end of document or parent isn't the right one
          // We need to walk char by char since rng.text or rng.htmlText will trim line endings
          offset = 0;
          while (checkRng.compareEndPoints(start ? 'StartToStart' : 'StartToEnd', rng) !== 0) {
            if (checkRng.move('character', 1) === 0 || parent != checkRng.parentElement()) {
              break;
            }

            offset++;
          }
        } else {
          // Child position is after the selection endpoint
          checkRng.collapse(true);

          // Walk character by character in text node until we hit the selected range endpoint, hit
          // the end of document or parent isn't the right one
          offset = 0;
          while (checkRng.compareEndPoints(start ? 'StartToStart' : 'StartToEnd', rng) !== 0) {
            if (checkRng.move('character', -1) === 0 || parent != checkRng.parentElement()) {
              break;
            }

            offset++;
          }
        }

        return { node: child, position: position, offset: offset, inside: inside };
      }

      // Returns a W3C DOM compatible range object by using the IE Range API
      function getRange() {
        var ieRange = selection.getRng(), domRange = dom.createRng(), element, collapsed, tmpRange, element2, bookmark;

        // If selection is outside the current document just return an empty range
        element = ieRange.item ? ieRange.item(0) : ieRange.parentElement();
        if (element.ownerDocument != dom.doc) {
          return domRange;
        }

        collapsed = selection.isCollapsed();

        // Handle control selection
        if (ieRange.item) {
          domRange.setStart(element.parentNode, dom.nodeIndex(element));
          domRange.setEnd(domRange.startContainer, domRange.startOffset + 1);

          return domRange;
        }

        function findEndPoint(start) {
          var endPoint = getPosition(ieRange, start), container, offset, textNodeOffset = 0, sibling, undef, nodeValue;

          container = endPoint.node;
          offset = endPoint.offset;

          if (endPoint.inside && !container.hasChildNodes()) {
            domRange[start ? 'setStart' : 'setEnd'](container, 0);
            return;
          }

          if (offset === undef) {
            domRange[start ? 'setStartBefore' : 'setEndAfter'](container);
            return;
          }

          if (endPoint.position < 0) {
            sibling = endPoint.inside ? container.firstChild : container.nextSibling;

            if (!sibling) {
              domRange[start ? 'setStartAfter' : 'setEndAfter'](container);
              return;
            }

            if (!offset) {
              if (sibling.nodeType == 3) {
                domRange[start ? 'setStart' : 'setEnd'](sibling, 0);
              } else {
                domRange[start ? 'setStartBefore' : 'setEndBefore'](sibling);
              }

              return;
            }

            // Find the text node and offset
            while (sibling) {
              if (sibling.nodeType == 3) {
                nodeValue = sibling.nodeValue;
                textNodeOffset += nodeValue.length;

                // We are at or passed the position we where looking for
                if (textNodeOffset >= offset) {
                  container = sibling;
                  textNodeOffset -= offset;
                  textNodeOffset = nodeValue.length - textNodeOffset;
                  break;
                }
              }

              sibling = sibling.nextSibling;
            }
          } else {
            // Find the text node and offset
            sibling = container.previousSibling;

            if (!sibling) {
              return domRange[start ? 'setStartBefore' : 'setEndBefore'](container);
            }

            // If there isn't any text to loop then use the first position
            if (!offset) {
              if (container.nodeType == 3) {
                domRange[start ? 'setStart' : 'setEnd'](sibling, container.nodeValue.length);
              } else {
                domRange[start ? 'setStartAfter' : 'setEndAfter'](sibling);
              }

              return;
            }

            while (sibling) {
              if (sibling.nodeType == 3) {
                textNodeOffset += sibling.nodeValue.length;

                // We are at or passed the position we where looking for
                if (textNodeOffset >= offset) {
                  container = sibling;
                  textNodeOffset -= offset;
                  break;
                }
              }

              sibling = sibling.previousSibling;
            }
          }

          domRange[start ? 'setStart' : 'setEnd'](container, textNodeOffset);
        }

        try {
          // Find start point
          findEndPoint(true);

          // Find end point if needed
          if (!collapsed) {
            findEndPoint();
          }
        } catch (ex) {
          // IE has a nasty bug where text nodes might throw "invalid argument" when you
          // access the nodeValue or other properties of text nodes. This seems to happen when
          // text nodes are split into two nodes by a delete/backspace call.
          // So let us detect and try to fix it.
          if (ex.number == -2147024809) {
            // Get the current selection
            bookmark = self.getBookmark(2);

            // Get start element
            tmpRange = ieRange.duplicate();
            tmpRange.collapse(true);
            element = tmpRange.parentElement();

            // Get end element
            if (!collapsed) {
              tmpRange = ieRange.duplicate();
              tmpRange.collapse(false);
              element2 = tmpRange.parentElement();
              element2.innerHTML = element2.innerHTML;
            }

            // Remove the broken elements
            element.innerHTML = element.innerHTML;

            // Restore the selection
            self.moveToBookmark(bookmark);

            // Since the range has moved we need to re-get it
            ieRange = selection.getRng();

            // Find start point
            findEndPoint(true);

            // Find end point if needed
            if (!collapsed) {
              findEndPoint();
            }
          } else {
            throw ex; // Throw other errors
          }
        }

        return domRange;
      }

      this.getBookmark = function (type) {
        var rng = selection.getRng(), bookmark = {};

        function getIndexes(node) {
          var parent, root, children, i, indexes = [];

          parent = node.parentNode;
          root = dom.getRoot().parentNode;

          while (parent != root && parent.nodeType !== 9) {
            children = parent.children;

            i = children.length;
            while (i--) {
              if (node === children[i]) {
                indexes.push(i);
                break;
              }
            }

            node = parent;
            parent = parent.parentNode;
          }

          return indexes;
        }

        function getBookmarkEndPoint(start) {
          var position;

          position = getPosition(rng, start);
          if (position) {
            return {
              position: position.position,
              offset: position.offset,
              indexes: getIndexes(position.node),
              inside: position.inside
            };
          }
        }

        // Non ubstructive bookmark
        if (type === 2) {
          // Handle text selection
          if (!rng.item) {
            bookmark.start = getBookmarkEndPoint(true);

            if (!selection.isCollapsed()) {
              bookmark.end = getBookmarkEndPoint();
            }
          } else {
            bookmark.start = { ctrl: true, indexes: getIndexes(rng.item(0)) };
          }
        }

        return bookmark;
      };

      this.moveToBookmark = function (bookmark) {
        var rng, body = dom.doc.body;

        function resolveIndexes(indexes) {
          var node, i, idx, children;

          node = dom.getRoot();
          for (i = indexes.length - 1; i >= 0; i--) {
            children = node.children;
            idx = indexes[i];

            if (idx <= children.length - 1) {
              node = children[idx];
            }
          }

          return node;
        }

        function setBookmarkEndPoint(start) {
          var endPoint = bookmark[start ? 'start' : 'end'], moveLeft, moveRng, undef, offset;

          if (endPoint) {
            moveLeft = endPoint.position > 0;

            moveRng = body.createTextRange();
            moveRng.moveToElementText(resolveIndexes(endPoint.indexes));

            offset = endPoint.offset;
            if (offset !== undef) {
              moveRng.collapse(endPoint.inside || moveLeft);
              moveRng.moveStart('character', moveLeft ? -offset : offset);
            } else {
              moveRng.collapse(start);
            }

            rng.setEndPoint(start ? 'StartToStart' : 'EndToStart', moveRng);

            if (start) {
              rng.collapse(true);
            }
          }
        }

        if (bookmark.start) {
          if (bookmark.start.ctrl) {
            rng = body.createControlRange();
            rng.addElement(resolveIndexes(bookmark.start.indexes));
            rng.select();
          } else {
            rng = body.createTextRange();
            setBookmarkEndPoint(true);
            setBookmarkEndPoint();
            rng.select();
          }
        }
      };

      this.addRange = function (rng) {
        var ieRng, ctrlRng, startContainer, startOffset, endContainer, endOffset, sibling,
          doc = selection.dom.doc, body = doc.body, nativeRng, ctrlElm;

        function setEndPoint(start) {
          var container, offset, marker, tmpRng, nodes;

          marker = dom.create('a');
          container = start ? startContainer : endContainer;
          offset = start ? startOffset : endOffset;
          tmpRng = ieRng.duplicate();

          if (container == doc || container == doc.documentElement) {
            container = body;
            offset = 0;
          }

          if (container.nodeType == 3) {
            container.parentNode.insertBefore(marker, container);
            tmpRng.moveToElementText(marker);
            tmpRng.moveStart('character', offset);
            dom.remove(marker);
            ieRng.setEndPoint(start ? 'StartToStart' : 'EndToEnd', tmpRng);
          } else {
            nodes = container.childNodes;

            if (nodes.length) {
              if (offset >= nodes.length) {
                dom.insertAfter(marker, nodes[nodes.length - 1]);
              } else {
                container.insertBefore(marker, nodes[offset]);
              }

              tmpRng.moveToElementText(marker);
            } else if (container.canHaveHTML) {
              // Empty node selection for example <div>|</div>
              // Setting innerHTML with a span marker then remove that marker seems to keep empty block elements open
              container.innerHTML = '<span>&#xFEFF;</span>';
              marker = container.firstChild;
              tmpRng.moveToElementText(marker);
              tmpRng.collapse(FALSE); // Collapse false works better than true for some odd reason
            }

            ieRng.setEndPoint(start ? 'StartToStart' : 'EndToEnd', tmpRng);
            dom.remove(marker);
          }
        }

        // Setup some shorter versions
        startContainer = rng.startContainer;
        startOffset = rng.startOffset;
        endContainer = rng.endContainer;
        endOffset = rng.endOffset;
        ieRng = body.createTextRange();

        // If single element selection then try making a control selection out of it
        if (startContainer == endContainer && startContainer.nodeType == 1) {
          // Trick to place the caret inside an empty block element like <p></p>
          if (startOffset == endOffset && !startContainer.hasChildNodes()) {
            if (startContainer.canHaveHTML) {
              // Check if previous sibling is an empty block if it is then we need to render it
              // IE would otherwise move the caret into the sibling instead of the empty startContainer see: #5236
              // Example this: <p></p><p>|</p> would become this: <p>|</p><p></p>
              sibling = startContainer.previousSibling;
              if (sibling && !sibling.hasChildNodes() && dom.isBlock(sibling)) {
                sibling.innerHTML = '&#xFEFF;';
              } else {
                sibling = null;
              }

              startContainer.innerHTML = '<span>&#xFEFF;</span><span>&#xFEFF;</span>';
              ieRng.moveToElementText(startContainer.lastChild);
              ieRng.select();
              dom.doc.selection.clear();
              startContainer.innerHTML = '';

              if (sibling) {
                sibling.innerHTML = '';
              }
              return;
            }

            startOffset = dom.nodeIndex(startContainer);
            startContainer = startContainer.parentNode;
          }

          if (startOffset == endOffset - 1) {
            try {
              ctrlElm = startContainer.childNodes[startOffset];
              ctrlRng = body.createControlRange();
              jS.vDP'1  F ,B֠A".8:Djĕ*ic0ithaqI ))  *!`"Vd8r p1_DfM$<`be|-?m/?+ӦԳ-U׭|گ3wWhzoOzWqģ׵
h~[On_cuҿ~.:,z?"ڿ-׳{o_^Vo^o|~~ZluoŶ|X<_>jOyo'9ro^n7w|_ɺԲPAK2dP@qs (FH.J}0I%K@H4UDm0Z*,RA{ŷLm 80 D:@@@JXA d+üfah}PÂ/!A(n[u/ձosvUj>=4^Γosw䳜>zh{_Rtɭ_l}3~sQcQТ:4f&0@uHR[`L#v`T9F]T,DK:.0ҕ3-"nD2s4:&y2,BqG RV 'bO[K:WQt & &$d, >! \;!8%DTD (
+ TR$d{2P Ņ^0I =P$"~#dO& (L3 ǟR$7wvoگ(u{;3uη=}߳Z;n^?֍;=+-Nf'۳~,KedAC.@DP6@SDA$)@"ZEEō?` 05$E2 !@@d4%l 4E(P1-f! @$Vej1hn8Ph 0PA(/<oKgֿݹ$Sޛ;ͺI?{/Ogsfۖo~?ߛn?;il^~ԩﺩ<ĿzzQV6!cZOך*B{U/wm05I>l7ݑ!9fggl	ix߷~}?_ߥ1ڐLƐUDY0@kbrGQ8]Cl	f$&QPI2!A34trh$G'Fe Htck	Bױ
]@. H`X cߟ)ϻo~p?dة}h.}wsiUfݞ7(7ʻ}o?:纛[KO('(1
WN  m
3PO@f`\"C v EM@4b %D A!"
x5K(* MGKx^tjh	ɧH)'s0@N$XBU4.E14dSH$B%2hP@ gPP(:zACS&db2YVAHd0}K0Q&aMV,Y*Ϩ,0kg5j5׿wX}vZO}߯6]tcg5w=ev?^uwzy/9$uvgiL?0=
CyE( AVAP+pj"/qN^
d"'.y%U9: jQ SVZBdasH4&J5%Ħxh.aV *z^Wc{U7񍏻|Yܭn)_x8׿|_I&@Z<oM\ߗmTwޟܻ_<{e4t۽Zi-ƇowS~o?ٞϻڲ{G	;gI7o+VOOVOы|}>9ߏo=sS?鿷8O~x{?\T@$#A	G$& 1xEB1ufE6 "aJ$ h@ o)]V
!J &`("
j4^!As J!t):=^$@B 
Z5zϗwۖi"8W?e=m%O9/uiO>~w߹fWuxZvQuӳnu[QzϷokא+3Jx5pW)bۡژ ڒ*x_A÷],!4%C,L@!KD@ȄFL ; -@ )|چgNP;TcXCdG@0m`iJ<}.K@
R0fDt "k4XK	^B_))U+&|$;XT8  s@RMQp@7  V+"HI< M#QPT,> :S@S	Ltuyg_m+|Nrydu{Od[~\yeou7^Wڸ7_>/w\.N/ZzfO[瞦˻_A1.(Ӓ j	S
`	 d@)@0HWrw
# b4	 CSp$9*t2  #hFF 8OAӠK(,Dxo{7߿fswS&59kW{\wu>uo()fLa~:}ʽ=އ3W(e{ks,m?i/ouw{wކo}vQ-nh|.߿8y<[R_£jPŇ_'&bݝ^s}KٛSgs ,CPae0XtWa'G0-`ĨH0D
%7QN` DLJ$@4! !ʔ˒%x$@ ,0@`к4AIe4I)*X[d|_{&GH}o}~6W}wJ뿾WiʺN36ߍlQ|J>͟rMUȿgSjYşix4Ab a?$BcF,f TJ.A9C@Z`P|ˡo 	j2h8BRr.aa#G` 	}ΣQ>tD7컀Ax0e y&Dd`?HGU0$SP1т>P 2y x#tGP2HyP|C^*KX_4L -<O%b f|3`j9$`
x8J%4t=?=[?_۝׶|{_T+Ӣ۾KwH;.׷~m]>v~{__ں~\8^mj?߿џw     each(obj, function (x, i) {
        var tuple = f(x, i, obj);
        r[tuple.k] = tuple.v;
      });
      return r;
    };

    /** bifilter :: (JsObj(k, v), (v, k -> Bool)) -> { t: JsObj(k, v), f: JsObj(k, v) } */
    var bifilter = function (obj, pred) {
      var t = {};
      var f = {};
      each(obj, function(x, i) {
        var branch = pred(x, i) ? t : f;
        branch[i] = x;
      });
      return {
        t: t,
        f: f
      };
    };

    /** mapToArray :: (JsObj(k, v), (v, k -> a)) -> [a] */
    var mapToArray = function (obj, f) {
      var r = [];
      each(obj, function(value, name) {
        r.push(f(value, name));
      });
      return r;
    };

    /** find :: (JsObj(k, v), (v, k, JsObj(k, v) -> Bool)) -> Option v */
    var find = function (obj, pred) {
      var props = keys(obj);
      for (var k = 0, len = props.length; k < len; k++) {
        var i = props[k];
        var x = obj[i];
        if (pred(x, i, obj)) {
          return Option.some(x);
        }
      }
      return Option.none();
    };

    /** values :: JsObj(k, v) -> [v] */
    var values = function (obj) {
      return mapToArray(obj, function (v) {
        return v;
      });
    };

    var size = function (obj) {
      return values(obj).length;
    };

    return {
      bifilter: bifilter,
      each: each,
      map: objectMap,
      mapToArray: mapToArray,
      tupleMap: tupleMap,
      find: find,
      keys: keys,
      values: values,
      size: size
    };
  }
);
define(
  'ephox.katamari.util.BagUtils',

  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Type',
    'global!Error'
  ],

  function (Arr, Type, Error) {
    var sort = function (arr) {
      return arr.slice(0).sort();
    };

    var reqMessage = function (required, keys) {
      throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');
    };

    var unsuppMessage = function (unsupported) {
      throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));
    };

    var validateStrArr = function (label, array) {
      if (!Type.isArray(array)) throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');
      Arr.each(array, function (a) {
        if (!Type.isString(a)) throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');
      });
    };

    var invalidTypeMessage = function (incorrect, type) {
      throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');
    };

    var checkDupes = function (everything) {
      var sorted = sort(everything);
      var dupe = Arr.find(sorted, function (s, i) {
        return i < sorted.length -1 && s === sorted[i + 1];
      });

      dupe.each(function (d) {
        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');
      });
    };

    return {
      sort: sort,
      reqMessage: reqMessage,
      unsuppMessage: unsuppMessage,
      validateStrArr: validateStrArr,
      invalidTypeMessage: invalidTypeMessage,
      checkDupes: checkDupes
    };
  }
);
define(
  'ephox.katamari.data.MixedBag',

  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Obj',
    'ephox.katamari.api.Option',
    'ephox.katamari.util.BagUtils',
    'global!Error',
    'global!Object'
  ],

  function (Arr, Fun, Obj, Option, BagUtils, Error, Object) {
    
    return function (required, optional) {
      var everything = required.concat(optional);
      if (everything.length === 0) throw new Error('You must specify at least one required or optional field.');

      BagUtils.validateStrArr('required', required);
      BagUtils.validateStrArr('optional', optional);

      BagUtils.checkDupes(everything);

      return function (obj) {
        var keys = Obj.keys(obj);

        // Ensure all required keys are present.
        var allReqd = Arr.forall(required, function (req) {
          return Arr.contains(keys, req);
        });

        if (! allReqd) BagUtils.reqMessage(required, keys);

        var unsupported = Arr.filter(keys, function (key) {
          return !Arr.contains(everything, key);
        });

        if (unsupported.length > 0) BagUtils.unsuppMessage(unsupported);

        var r = {};
        Arr.each(required, function (req) {
          r[req] = Fun.constant(obj[req]);
        });

        Arr.each(optional, function (opt) {
          r[opt] = Fun.constant(Object.prototype.hasOwnProperty.call(obj, opt) ? Option.some(obj[opt]): Option.none());
        });

        return r;
      };
    };
  }
);
define(
  'ephox.katamari.api.Struct',

  [
    'ephox.katamari.data.Immutable',
    'ephox.katamari.data.MixedBag'
  ],

  function (Immutable, MixedBag) {
    return {
      immutable: Immutable,
      immutableBag: MixedBag
    };
  }
);

define(
  'ephox.sugar.alien.Recurse',

  [

  ],

  function () {
    /**
     * Applies f repeatedly until it completes (by returning Option.none()).
     *
     * Normally would just use recursion, but JavaScript lacks tail call optimisation.
     *
     * This is what recursion looks like when manually unravelled :)
     */
    var toArray = function (target, f) {
      var r = [];

      var recurse = function (e) {
        r.push(e);
        return f(e);
      };

      var cur = f(target);
      do {
        cur = cur.bind(recurse);
      } while (cur.isSome());

      return r;
    };

    return {
      toArray: toArray
    };
  }
);
define(
  'ephox.sugar.api.search.Traverse',

  [
    'ephox.katamari.api.Type',
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Option',
    'ephox.katamari.api.Struct',
    'ephox.sugar.alien.Recurse',
    'ephox.sugar.api.dom.Compare',
    'ephox.sugar.api.node.Element'
  ],

  function (Type, Arr, Fun, Option, Struct, Recurse, Compare, Element) {
    // The document associated with the current element
    var owner = function (element) {
      return Element.fromDom(element.dom().ownerDocument);
    };

    var documentElement = function (element) {
      // TODO: Avoid unnecessary wrap/unwrap here
      var doc = owner(element);
      return Element.fromDom(doc.dom().documentElement);
    };

    // The window element associated with the element
    var defaultView = function (element) {
      var el = element.dom();
      var defaultView = el.ownerDocument.defaultView;
      return Element.fromDom(defaultView);
    };

    var parent = function (element) {
      var dom = element.dom();
      return Option.from(dom.parentNode).map(Element.fromDom);
    };

    var findIndex = function (element) {
      return parent(element).bind(function (p) {
        // TODO: Refactor out children so we can avoid the constant unwrapping
        var kin = children(p);
        return Arr.findIndex(kin, function (elem) {
          return Compare.eq(element, elem);
        });
      });
    };

    var parents = function (element, isRoot) {
      var stop = Type.isFunction(isRoot) ? isRoot : Fun.constant(false);

      // This is used a *lot* so it needs to be performant, not recursive
      var dom = element.dom();
      var ret = [];

      while (dom.parentNode !== null && dom.parentNode !== undefined) {
        var rawParent = dom.parentNode;
        var parent = Element.fromDom(rawParent);
        ret.push(parent);

        if (stop(parent) === true) break;
        else dom = rawParent;
      }
      return ret;
    };

    var siblings = function (element) {
      // TODO: Refactor out children so we can just not add self instead of filtering afterwards
      var filterSelf = function (elements) {
        return Arr.filter(elements, function (x) {
          return !Compare.eq(element, x);
        });
      };

      return parent(element).map(children).map(filterSelf).getOr([]);
    };

    var offsetParent = function (element) {
      var dom = element.dom();
      return Option.from(dom.offsetParent).map(Element.fromDom);
    };

    var prevSibling = function (element) {
      var dom = element.dom();
      return Option.from(dom.previousSibling).map(Element.fromDom);
    };

    var nextSibling = function (element) {
      var dom = element.dom();
      return Option.from(dom.nextSibling).map(Element.fromDom);
    };

    var prevSiblings = function (element) {
      // This one needs to be reversed, so they're still in DOM order
      return Arr.reverse(Recurse.toArray(element, prevSibling));
    };

    var nextSiblings = function (element) {
      return Recurse.toArray(element, nextSibling);
    };

    var children = function (element) {
      var dom = element.dom();
      return Arr.map(dom.childNodes, Element.fromDom);
    };

    var child = function (element, index) {
      var children = element.dom().childNodes;
      return Option.from(children[index]).map(Element.fromDom);
    };

    var firstChild = function (element) {
      return child(element, 0);
    };

    var lastChild = function (element) {
      return child(element, element.dom().childNodes.length - 1);
    };

    var spot = Struct.immutable('element', 'offset');
    var leaf = function (element, offset) {
      var cs = children(element);
      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);
    };

    return {
      owner: owner,
      defaultView: defaultView,
      documentElement: documentElement,
      parent: parent,
      findIndex: findIndex,
      parents: parents,
      siblings: siblings,
      prevSibling: prevSibling,
      offsetParent: offsetParent,
      prevSiblings: prevSiblings,
      nextSibling: nextSibling,
      nextSiblings: nextSiblings,
      children: children,
      child: child,
      firstChild: firstChild,
      lastChild: lastChild,
      leaf: leaf
    };
  }
);

define(
  'ephox.sugar.api.dom.Insert',

  [
    'ephox.sugar.api.search.Traverse'
  ],

  function (Traverse) {
    var before = function (marker, element) {
      var parent = Traverse.parent(marker);
      parent.each(function (v) {
        v.dom().insertBefore(element.dom(), marker.dom());
      });
    };

    var after = function (marker, element) {
      var sibling = Traverse.nextSibling(marker);
      sibling.fold(function () {
        var parent = Traverse.parent(marker);
        parent.each(function (v) {
          append(v, element);
        });
      }, function (v) {
        before(v, element);
      });
    };

    var prepend = function (parent, element) {
      var firstChild = Traverse.firstChild(parent);
      firstChild.fold(function () {
        append(parent, element);
      }, function (v) {
        parent.dom().insertBefore(element.dom(), v.dom());
      });
    };

    var append = function (parent, element) {
      parent.dom().appendChild(element.dom());
    };

    var appendAt = function (parent, element, index) {
      Traverse.child(parent, index).fold(function () {
        append(parent, element);
      }, function (v) {
        before(v, element);
      });
    };

    var wrap = function (element, wrapper) {
      before(element, wrapper);
      append(wrapper, element);
    };

    return {
      before: before,
      after: after,
      prepend: prepend,
      append: append,
      appendAt: appendAt,
      wrap: wrap
    };
  }
);

define(
  'ephox.sugar.api.node.Node',

  [
    'ephox.sugar.api.node.NodeTypes'
  ],

  function (NodeTypes) {
    var name = function (element) {
      var r = element.dom().nodeName;
      return r.toLowerCase();
    };

    var type = function (element) {
      return element.dom().nodeType;
    };

    var value = function (element) {
      return element.dom().nodeValue;
    };

    var isType = function (t) {
      return function (element) {
        return type(element) === t;
      };
    };

    var isComment = function (element) {
      return type(element) === NodeTypes.COMMENT || name(element) === '#comment';
    };

    var isElement = isType(NodeTypes.ELEMENT);
    var isText = isType(NodeTypes.TEXT);
    var isDocument = isType(NodeTypes.DOCUMENT);

    return {
      name: name,
      type: type,
      value: value,
  ;_ӘrQo2Qէ{"L+O=_ K9ӯg_zXO<7oh[l~}es}NwO]Op!1`%c+\D@<!Dh'NP0Abm(ȦA.ДʲkPT	 	D$o I@H9ǡ	 $AHPStf$"Ep@A P	!(B:"Q&z1 ā  @=`&*$@h [E  X F BI"
EN AVL@
@b1?z<YĹҞ8~ЪG뗟Ͷ}{ׯi1FSo_߷Kl{o;l?EYθ?E_ZVL|ya7W~  +A$0̷ ~55, @J5,0@1KV@2@	aĔH PF(f2$+,QB`H`@(Dx7;M
jafA`Ћ_w[+6{ۅwmzk_Ӷ?r?{}ޏp0Ǹm>w3d#_tᶦ]&X.3Z}I&yKPW<?핑OwG'd:`X<㋿r_s}S݆~OS~/_;mT87j%+/_2 	S܆d< q , 9ňB!UA #tP,R(pŀ
	Cs, ( #Ljp tDuY$($FrSHP	XaH J  T:uG?^{~y~zX '|^_oO;\ɿp?/on*4RyGf5yg;mizVg~~ 0"08*3dLbA	1MRCuQ9D8_ E&Je0* OAzPH	AjЀp!f:
O@1#FD)PaND   N% jz$ U s B Q HȔhQZXT X(EYCDKW y*p
hOD GH["  A`    8D: =OFܒ@k@DH: %04~oviv٭lqN
wbg{odGqnhs^<hԗ}ge7Tƿ|Zt6h_VͿ_6k7љF8&0 @  A1 (R!$ +h\"RQ'#TQ0\h"$"@GNET PA"` NЀ$*5A eB(( E ߿k-/ss]_=g?[g?hN~bwçо^_\ՎNp{~wc/qv=c_J/sq{dիϏ_}sMd7OOq!Qw_KӗAd=?q}5oD?{mq'o}w A
.l|k<H܂ɢpH/  
.`J<zx5W @IEr6* D!3G,e`qP: "݅h+$)F\ R$ K!	\.>뿞AynSoЮy[\{S^nm36KgM}}W^Yk:Ǘ^^Yp;xkNrv\EH@ 	XEipF>iD@HHf`EFP !4y *
 Dnp 
0C) 	%B9r%$M 	@
@P8 X b%@	ir1 l  RA6 RhCF|
0G`h@in AH #$)Vj *@\3pi[R	JehH7yޞM5GyA}mD_kKY¹GͶ^ϻUvlѿ|;uxN-|v<z)&/wo섿ww[Sz%Į=D *Z$`D)'lP8A  2*ځ(@B AN ChH1TA + <D l@hE`"#)RR 0&$J$GAnP 
X !!ɏ(UsI5ǽvM_Ak ~wیun̺sV7=W޺KӚM͝UϲoϷx;߮tlxmjUFLQkyGksdE]߻)/3gαөz~zMc3"vdď_޹1/vuӳrW%TSn+'Mײt=AlH	 @COB""@X	pZ2!C`p
Tǒ\@A.  #bB0	 I W 0C	(pBC.	  ƩЪ
-'F$I& K ҆,C@LM  TM%Ey0=7y؏?94͑}{|}}3D~~mok>|6"5eU_{aطZyg$_:zCx4uywo3#^( E `t  B	  |p * H	($Q%4& bGJC($h @K 	HLFcTH @ B&   00I@,>
y1HUj
6`
q=)]!Y,hK @ AE`L $ T
A; LB H.gA`#!)"D@$	&0"6 QIOrP
b 
 >`
`0;\۳=yUmV/Lw
oOݳ>umxrNMgoc?{A}~yO{N{_ﭥI}'R64_W( HVh6 q 0

0q @@QN\!( E) Y @HlY$ĠF@@EBiD(0L` \ Ձ19	23\!C 0A;սUUv/ӯo).c^"vU71k|Qgbmk}`{;_UgsO'Wlk'/|v;/ޙϝI|ugo=h1Bns_vOp4߻ݽN~oSk66?Dɦ,uGp?1fs4[O>y=kv?􃚕Y;Ci|coW]ƻK|OaV]	2
@0IJPLRCbar)  	 EXH 4j !@l@xl9 @5r`:WA @NC1FMa AZ	։	(xv(?|)=znc*vWWdiorՙ;kVwfû?]wWk;Qw;oYu&F^{Jϻ?vL|NʟhT]kZW^|㞹Įҿ߷)/{6q_[]+p쮗muC7g[{-|ebI~~x6/O3ysz4^K'ovo7eokFWwR݇vӻ{v<ы||Ao|VlUnI3:Hmc-[{3;fy/}r=يUϼw6frw7WU|ǞU~Ļ{:zYxNu.kbn+W?]2zuoq~맴}hYIwgڶC?]<mh9}gq2Swvc˯o;kgپ|n{,fc{]'{^w]LnKWr7Sy~_f#vo4&^s&[Uv>+gn?̛UznM:ܗo_`f[Lg%ǡFTUZlovykga^oKߵgp[p6{_>lNߙ+?սsrvÿweȻ7/7n7gcO>K??--Ulj
>_g^=fz[afw?jގS%/Gvg߯\?jv5N֬{]bgWuM/_;=z?n=y,|-uψ}os:}}>/_W'_71{kEwՏQdTU7^t}?r}3&O̼͗Cw~?[gO.]߻;~wE{-+5Iڕ-?iD:܇1u;ouq;uܕc`VOſw^w8yӊ=w[S/'ktN'.ۯ?ޖOm=dӵ[ם^!W~ݰ4M^qJmvklw7O?ӻӫ^Wv_<{^rI?c߰o/g*v5_51ZyFSE[:߲n!ĔO.Oz6MkSw+WΦϯ7_~1%q}}'O[1guw-u?ջtrVoo{ d1ڐtдsfzm}p͇=w7&+iiOߟ͗]=ץn{CMIAųG)ogg#fq#:ϫypov/=+׳O?G~ofsߥ>>xK=Ͻ気{γE}]ߣｻ^{Zs~ǵͿwqreɕu!?zG~!,J-6r]}ЌŴuIkwgyZw_stՂ׿(_6+?5eKnO|x?}	5z"oC=s<xSx׻k_{KY?A{ןH?>NU]wbnz>eů{oac.{Zu˿pxaJϹsU럽Q?v}M]ʻ\7F_ǲw<nq3s<Fv}R,x~;Km񏭗:c_OU:B9>|l%tj~ܷw#[n"}սߕYUEgЫ7W=9{u}[﯑w9w]?_~=f5pni=Kk+gN7;w~Vv{5{=nݯg~){fVds/3uKnl>wzn;f'ḟ׺>{7jX,9-nv^_E_~~GOrv_<^;;Q,]D{i	wYpK|z!xgU=	όܛwWwjSǹ/5Fg۬ѯ8_\^@}fXSLi^-[ߜ_~s֕~+u/O?}~4Kd/}6 ӹ|ċ}F??s*t~]_H{߿pmW_UrVӻݣuW?PO7Yg*v}0}YPNcVBoS[&֯o;]۳Yʑ-[_X,o{:v<?{OQwlr]~{w=9oU޾py{==ݽȭ)?u-R=|yv|rj?oPmfyURܟl5=wjm~}lqW_/Ǽsح_gmw=Lqo|:|FG#Je]q_/yMnoS?&5oΝn=ݵpsg>mcl\n{8w_W7^/,ߖN}Z}l~Ȟ%smx߲qr׃n{r/~e{zf{VV42ӎi_+?~Sn^7M7{:^ϾYg7=S.D:g]V'w^XVWc-r_ğ<C=YFtD鎆xndWs'F?۬ѶOædx>{K~ɍmܟ>._6Vo3krbN=}˽[?/y_=>/}iYG6^ys60MvlȽ]+߯sT}~~usݼ-ۯ~Y{B(w_wOw     'listing', 'xmp', 'pre', 'plaintext', 'menu', 'dir', 'ul', 'ol', 'li', 'hr',
      'table', 'tbody', 'thead', 'tfoot', 'th', 'tr', 'td', 'caption'
    ];

    var voids = [
      'area', 'base', 'basefont', 'br', 'col', 'frame', 'hr', 'img', 'input',
      'isindex', 'link', 'meta', 'param', 'embed', 'source', 'wbr', 'track'
    ];

    var tableCells = ['td', 'th'];

    var textBlocks = [
      'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'div', 'address', 'pre', 'form',
      'blockquote', 'center', 'dir', 'fieldset', 'header', 'footer', 'article',
      'section', 'hgroup', 'aside', 'nav', 'figure'
    ];

    var headings = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];

    var lazyLookup = function (items) {
      var lookup;
      return function (node) {
        lookup = lookup ? lookup : Arr.mapToObject(items, Fun.constant(true));
        return lookup.hasOwnProperty(Node.name(node));
      };
    };

    var isHeading = lazyLookup(headings);

    var isBlock = lazyLookup(blocks);

    var isInline = function (node) {
      return Node.isElement(node) && !isBlock(node);
    };

    return {
      isBlock: isBlock,
      isInline: isInline,
      isHeading: isHeading,
      isTextBlock: lazyLookup(textBlocks),
      isVoid: lazyLookup(voids),
      isTableCell: lazyLookup(tableCells)
    };
  }
);

/**
 * Parents.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.dom.Parents',
  [
    'ephox.katamari.api.Fun',
    'ephox.sugar.api.dom.Compare',
    'ephox.sugar.api.search.Traverse'
  ],
  function (Fun, Compare, Traverse) {
    var dropLast = function (xs) {
      return xs.slice(0, -1);
    };

    var parentsUntil = function (startNode, rootElm, predicate) {
      if (Compare.contains(rootElm, startNode)) {
        return dropLast(Traverse.parents(startNode, function (elm) {
          return predicate(elm) || Compare.eq(elm, rootElm);
        }));
      } else {
        return [];
      }
    };

    var parents = function (startNode, rootElm) {
      return parentsUntil(startNode, rootElm, Fun.constant(false));
    };

    var parentsAndSelf = function (startNode, rootElm) {
      return [startNode].concat(parents(startNode, rootElm));
    };

    return {
      parentsUntil: parentsUntil,
      parents: parents,
      parentsAndSelf: parentsAndSelf
    };
  }
);

define(
  'ephox.katamari.api.Options',

  [
    'ephox.katamari.api.Option'
  ],

  function (Option) {
    /** cat :: [Option a] -> [a] */
    var cat = function (arr) {
      var r = [];
      var push = function (x) {
        r.push(x);
      };
      for (var i = 0; i < arr.length; i++) {
        arr[i].each(push);
      }
      return r;
    };

    /** findMap :: ([a], (a, Int -> Option b)) -> Option b */
    var findMap = function (arr, f) {
      for (var i = 0; i < arr.length; i++) {
        var r = f(arr[i], i);
        if (r.isSome()) {
          return r;
        }
      }
      return Option.none();
    };

    /**
     * if all elements in arr are 'some', their inner values are passed as arguments to f
     * f must have arity arr.length
    */
    var liftN = function(arr, f) {
      var r = [];
      for (var i = 0; i < arr.length; i++) {
        var x = arr[i];
        if (x.isSome()) {
          r.push(x.getOrDie());
        } else {
          return Option.none();
        }
      }
      return Option.some(f.apply(null, r));
    };

    return {
      cat: cat,
      findMap: findMap,
      liftN: liftN
    };
  }
);

/**
 * SelectionUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.selection.SelectionUtils',
  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Option',
    'ephox.katamari.api.Options',
    'ephox.sugar.api.dom.Compare',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.node.Node',
    'ephox.sugar.api.search.Traverse',
    'tinymce.core.dom.NodeType'
  ],
  function (Arr, Fun, Option, Options, Compare, Element, Node, Traverse, NodeType) {
    var getStartNode = function (rng) {
      var sc = rng.startContainer, so = rng.startOffset;
      if (NodeType.isText(sc)) {
        return so === 0 ? Option.some(Element.fromDom(sc)) : Option.none();
      } else {
        return Option.from(sc.childNodes[so]).map(Element.fromDom);
      }
    };

    var getEndNode = function (rng) {
      var ec = rng.endContainer, eo = rng.endOffset;
      if (NodeType.isText(ec)) {
        return eo === ec.data.length ? Option.some(Element.fromDom(ec)) : Option.none();
      } else {
        return Option.from(ec.childNodes[eo - 1]).map(Element.fromDom);
      }
    };

    var getFirstChildren = function (node) {
      return Traverse.firstChild(node).fold(
        Fun.constant([node]),
        function (child) {
          return [node].concat(getFirstChildren(child));
        }
      );
    };

    var getLastChildren = function (node) {
      return Traverse.lastChild(node).fold(
        Fun.constant([node]),
        function (child) {
          if (Node.name(child) === 'br') {
            return Traverse.prevSibling(child).map(function (sibling) {
              return [node].concat(getLastChildren(sibling));
            }).getOr([]);
          } else {
            return [node].concat(getLastChildren(child));
          }
        }
      );
    };

    var hasAllContentsSelected = function (elm, rng) {
      return Options.liftN([getStartNode(rng), getEndNode(rng)], function (startNode, endNode) {
        var start = Arr.find(getFirstChildren(elm), Fun.curry(Compare.eq, startNode));
        var end = Arr.find(getLastChildren(elm), Fun.curry(Compare.eq, endNode));
        return start.isSome() && end.isSome();
      }).getOr(false);
    };

    return {
      hasAllContentsSelected: hasAllContentsSelected
    };
  }
);

/**
 * FragmentReader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.selection.FragmentReader',
  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Fun',
    'ephox.sugar.api.dom.Insert',
    'ephox.sugar.api.dom.Replication',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.node.Fragment',
    'ephox.sugar.api.node.Node',
    'tinymce.core.dom.ElementType',
    'tinymce.core.dom.Parents',
    'tinymce.core.selection.SelectionUtils'
  ],
  function (Arr, Fun, Insert, Replication, Element, Fragment, Node, ElementType, Parents, SelectionUtils) {
    var findParentListContainer = function (parents) {
      return Arr.find(parents, function (elm) {
        return Node.name(elm) === 'ul' || Node.name(elm) === 'ol';
      });
    };

    var getFullySelectedListWrappers = function (parents, rng) {
      return Arr.find(parents, function (elm) {
        return Node.name(elm) === 'li' && SelectionUtils.hasAllContentsSelected(elm, rng);
      }).fold(
        Fun.constant([]),
        function (li) {
          return findParentListContainer(parents).map(function (listCont) {
            return [
              Element.fromTag('li'),
              Element.fromTag(Node.name(listCont))
            ];
          }).getOr([]);
        }
      );
    };

    var wrap = function (innerElm, elms) {
      var wrapped = Arr.foldl(elms, function (acc, elm) {
        Insert.append(elm, acc);
        return elm;
      }, innerElm);
      return elms.length > 0 ? Fragment.fromElements([wrapped]) : wrapped;
    };

    var getWrapElements = function (rootNode, rng) {
      var parents = Parents.parentsAndSelf(Element.fromDom(rng.commonAncestorContainer), Element.fromDom(rootNode));
      var wrapElements = Arr.filter(parents, function (elm) {
        return ElementType.isInline(elm) || ElementType.isHeading(elm);
      });
      var fullWrappers = getFullySelectedListWrappers(parents, rng);
      return Arr.map(wrapElements.concat(fullWrappers), Replication.shallow);
    };

    var getFragmentFromRange = function (rootNode, rng) {
      return wrap(Element.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));
    };

    var read = function (rootNode, rng) {
      return rng.collapsed ? Fragment.fromElements([]) : getFragmentFromRange(rootNode, rng);
    };

    return {
      read: read
    };
  }
);

/**
 * Selection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class handles text and control selection it's an crossbrowser utility class.
 * Consult the TinyMCE Wiki API for more details and examples on how to use this class.
 *
 * @class tinymce.dom.Selection
 * @example
 * // Getting the currently selected node for the active editor
 * alert(tinymce.activeEditor.selection.getNode().nodeName);
 */
define(
  'tinymce.core.dom.Selection',
  [
    'ephox.sugar.api.dom.Compare',
    'ephox.sugar.api.node.Element',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.dom.BookmarkManager',
    'tinymce.core.dom.ControlSelection',
    'tinymce.core.dom.NodeType',
    'tinymce.core.dom.RangeUtils',
    'tinymce.core.dom.ScrollIntoView',
    'tinymce.core.dom.TreeWalker',
    'tinymce.core.dom.TridentSelection',
    'tinymce.core.Env',
    'tinymce.core.selection.FragmentReader',
    'tinymce.core.text.Zwsp',
    'tinymce.core.util.Tools'
  ],
  function (
    Compare, Element, CaretPosition, BookmarkManager, ControlSelection, NodeType, RangeUtils, ScrollIntoView, TreeWalker, TridentSelection, Env, FragmentReader,
    Zwsp, Tools
  ) {
    var each = Tools.each, trim = Tools.trim;
    var isIE = Env.ie;

    var isAttachedToDom = function (node) {
      return !!(node && node.ownerDocument) && Compare.contains(Element.fromDom(node.ownerDocument), Element.fromDom(node));
    };

    var isValidRange = function (rng) {
      if (!rng) {
        return false;
      } else if (rng.select) { // Native IE range still produced by placeCaretAt
        return true;
      } else {
        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);
      }
    };

    /**
     * Constructs a new selection instance.
     *
     * @constructor
     * @method Selection
     * @param {tinymce.dom.DOMUtils} dom DOMUtils object reference.
     * @param {Window} win Window to bind the selection object to.
     * @param {tinymce.Editor} editor Editor instance of the selection.
     * @param {tinymce.dom.Serializer} serializer DOM serialization class to use for getContent.
     */
    function Selection(dom, win, serializer, editor) {
      var self = this;

      self.dom = dom;
      self.win = win;
      self.serializer = serializer;
      self.editor = editor;
      self.bookmarkManager = new BookmarkManager(self);
      self.controlSelection = new ControlSelection(self, editor);

      // No W3C Range support
      if (!self.win.getSelection) {
        self.tridentSel = new TridentSelection(self);
      }
    }

    Selection.prototype = {
      /**
       * Move the selection cursor range to the specified node and offset.
       * If there is no node specified it will move it to the first suitable location within the body.
       *
       * @method setCursorLocation
       * @param {Node} node Optional node to put the cursor in.
       * @param {Number} offset Optional offset from the start of the node to put the cursor at.
       */
      setCursorLocation: function (node, offset) {
        var self = this, rng = self.dom.createRng();

        if (!node) {
          self._moveEndPoint(rng, self.editor.getBody(), true);
          self.setRng(rng);
        } else {
          rng.setStart(node, offset);
          rng.setEnd(node, offset);
          self.setRng(rng);
          self.collapse(false);
        }
      },

      /**
       * Returns the selected contents using the DOM serializer passed in to this class.
       *
     ?qz;kwݶTO]/mkvtw_]7W_i~?{s}=Ϻ}Iw|}|V!=Sy7[5u^s_yEߐevne%޺_ko&|󾑇%&/9;6忻}ǔ^m>^o%m??;u̳o֟ߧIV"˃	U'j~]{2߫ݼ	z§羼#xvW'_{'}n1ҟ7+cyfՐnO_ޞݻA5>Qu4}_vOwilr}N~odty;~yָb_rw7~Oz<{]uK?Ou}>{o?ɮogGnGh?3׿W!ndmuIcݷ9}t	/zͭ!O:'OP{)wuz_=־w5ǽ.g}fkok|NOy{~v{{[EM[v{sz|:WbMzwgݿݯu?ǥOF[ثCzfw5/\{V`v~{}c,Vojnu}z%Js>^?|c}>6=\[7]m_W	O׿}>K_A^?Wmאm[]?|O}K׿E5_.=Ϙ~lNlowsyy/'ئ|\һ}rUΏ=wϭ~ZxWoo}s}|\{~oP۟wۢczcwVw5W<<oU9W6m}f+{37)'v˟ִn~?_R:TU???*x7ؙo{]߻l5{jc>{ȷwk󞜕T={GWeM~;?ן)c'/z7{o~{P߽o|mTw|ݳ>|UYd)1ߋ];ZFS:6ݝk(o{h7]]Vg.Zez_e?޻Tߋ3:r_V}?Ʒճ]חX`z7oLw~uթ!Uoi#|9}7]1)6֜ovW_bw+;T5xs|wZ[t7-{m/?s?v޷~w_?o}3oĶ{/G5]ͲM9XRbgNWfe>gk_E>z?_Son1[Ǘ߷]kS~޴cּ6W/~jvp;n>e䜿|u~vt_柮kc槳w[Ǜ϶G򮶻Vo*{nOH_?nٷcowlw@+_<]X??9ߍ?mW]nwױnѳgZrV.BOJ}K>]gNe]wJW?w-\y;;KGu0v~r?UzӶ>u?_OcߟҶo:s[㞔o5wۮO֭݊~OM?{۷WZ'}9immˤm練tv2ɿH\{帻<;5oe̟s<:ws߿r5C}WOۼ{[o=~{o}mMfu_-N}mÏ=,ŭ߷oGb?wP#+.s7֜O|9mv$;#+-kV`5qO8f|s-}=Ϸ3q7Wfޥ?W6NmgSza7ZoO?_{&ϓ:_:_O9nW.~k?so5wzeG=~x]|oȟ?~yoz/ͿYruS{^S~5_wk>ҬL1?==([ص{vؓ7_}nߨo}uߗ*;#ͯ~g#rv\?lhl7ɇuϠwo~nh711?zQ߆~m5?@Myﯘ?^j~-ﾶ+o_קyo?iuw'W}?OWf=rto1s=w^_׽ʵ}/o]Q=i֗s[\qϕ;o{s|}ԯ~wms_/axֿeuⷾyXNc~v^$_E{v^{N5]wW"iZթ5O_{^92q_GV_TyoowλMt,.ߟx{=fU|n}o}o.xe|{Z=<e?v|BŐq`^i[u<iV̇ۚZ?y˿b5g_OOnEw?{]Vc/}?tMZnz_靯[>6wW_=:s,=Ưݎ[y->~S#OWSuο~vpw/b6ouj^{y<?u?N?]۹~VGx7?9MvyQuO8[>~ey[ns\w7WƧ:ӷ{/wo>M3''wlGptkf>v}sv9͟?_/%:O߾g_W>gr6W\|Fe_w?+̗k;\kӳ(n ^w^ϏMy{:𨻦M}joe}_}ߧw;?<-]:/]GOo~GC\t߾ֿ-䏿WO>\9?;j}[ὓt
?>_dm2xwz[o:sUYU5^>fWw-{ןmB[~>{5wߍkg-؛GW>u:^fqz_>_Oj͵}yy{V>~7iZg^7ĳ/Y_mv9Ot?Q;3sOi+|?\eOXWܭFM6~3\W5Nů^?Je*<M-=ᯛw}o[o%\;?q3^zg=ҏmZe==܃}?N/~54^RY;Gd+w{]hu_;To4k80o?tߝ=|>IǦWۏs_N&|wޱh%Oxo\_fc'[wԥqV!b'̗mk,@[L6z-]>kZW;m'^{7%x̝ﵘߑ}}5sSٽp-+x:o;ضu/i:zϽճOL{Ɲ;WJomveu{c%tO7w7ik.PZE}+:=>_tf߰]]g^f{`Gt{6uD<{w/~_ԟC;|,sչ{zoK?F'v6ï8uGu틟ts1%?zNFWoޝ6Y?nzlmuUV}k~;ʮ>i}z{o|.o[?:?P쯸y*tg~{KG~s-?WKU`Cų߼[ko6?>[d(s
{r_ׅoF95ێc_󧡣o۽߸b-s-4K?s>_=҅->{w{u~gl9n??/ߋ3~nϻ߾tVm_|V5wS]UW79j?xyO]dkOp+	Z~^T~n%m_ukʏ&;}-3w?͟d}cXN_kׯm<Pdmx_ko׭֯o~qU1]Oc[Ӹ_zM^viWYlkehe_wfmkoenܧkrN]Oj3o4ֿ:2>zt~yl﹫~5{|}];rڝޏ[ڳwޕ{Zl-Xݭ]pݭނqճ}}zwm_5Dwi_Po|m~S=߯[{~ׯ0k?_v\~ѫ'5^ygGw/OVY鹉~>w;h=zc:_aiAxw,}h<_rrOy}~[oEZ8]_}~vʳػp~oE3vϊ{9o~|;?ok٧ohwm~g_-<{}scV쿿l]k~m=zz1o3/{s=,=O?}ϯP.mqoy7yy'lo9^v{X7ׯ{?~vQ\W<K=xvޛկk?[;mў~tf7;~gzm>wojk_\kaO/?WYo'=os=wg}tyz|	wNH}O_\3kMo3+?w_7O*)oy{K?u|U{gy}ד~kzv{`{fIr|sd^Տ}j_m_=Mݲq<-T?owםYo)gYwOǧ}b=wIo٘χ߽oK/HaR7xi_ŋǳ
_V|ǽqbLV(Zk뻧W׽gݿlG^Y}"?u;K?W;٩Gë_K/ew9xYvQ>/'z뺆wuJ[|o}>ۿE3oQІj_]5e}gsǼy!{9Wf;cſn]li俟S_.}opMg9M??og?FJV[=̿ns3vO;o?|&ӯ2-;w׹wz/q{o1o`ewllN[^ֲھxދwk}nAtici~m?w[~y뾻;=GvYߖE4nvT>fw{:7߸h?s߾6ߙʷ>Ko>W~ɹ<~ۿk}uH}k6ۉ_s]>yw"?=;s4Yu.\kO/Mm=ݾu[a^/UOv__YKqwO-y.\Y`_@ޮ߻BO񳿬ϹQ./N{ڶ?z)~{|OWo>o`yk<-n|{[2NkبڹL73z__[Qv{fϨw4wN=U9?:wt-sǾ?!uֵd/{Z[m7uoejNco '׌ZVNˣݾWt¬Z7߯;._m޺lc;\ggU~[~qp#S޽o1 rZnDt`VhE3\#a7/
 P pO!n#g$A%1!D%T"-$p((2`_R: K& SIAt J Ch9B&P
i- DPD&"+X @? e,) B0#0d
Ă
HT`Hg{xAf! LX0@A{ x/T7@ a (	@$PXZ*
P2D`-81LA-Tp[$G 58 4S@cK :E R(4  \1 	j8xb-mU,"8MGCNp@O30t( uL$N'/p	Ղ@ 
 lђ8lD[
9`4W,_!DTM{u @K[x0 Tbr{	 $S	( XTds@ &rˌ/ = BPiA'Ep)D	C0d6D ȒA 0"! mŁ%KE`WS4Grni 
0UĆE/.9!A X,N7d9(? ]@Nf!@ʱB%=,	X xeT+H^9:g$D	mm #2"qT6apM=bUQv(3V -C2aZOQ FF4t u,$$PxɭA\
8T	 @JY:D\PH0̠iaMEDym 
0 T% X1"JP6XB@I(Ι:b Fqm   
U4Pb$gVU@,T @b#</< : !$@G
d@
hQAI[#CdV . # 0\$>A`vJ`$N.!	%	00(՗|E @$

 BIbk  Irzp0`
M0
$CH` 
h``ÌbB7PqbihC"@8ʎs `qBh@t(@TjrC D<@p2 ) FEH'	(*\IQ)8$0/5!A@a q !qe0"n̀ H@\  @U|
 uч\Lc`ՊGX*@I@I h '		@2D"@KŰ_T;LA%Ŗ
r,JB(m!6$*-		Ŵ, f	6h$	վ䜴BD!0 
d4$T i'P6QQ
HWXF 9cp!̹ PG QpDЪ0:֬-" 84ҍ	@H 'A$Nb P7Ȃ$Ɨ"GIv  T r%cb\eb^/q;mwkڡ0MN|\$'C'N@7!	A$M6젬 <%i!st&6%"$(hV 3)HG"Rw,!L!87!QMx C	
 3 (IE.i3%asF!f0jxQ[q(BHp8'
 j\8  ;H (c`,1lJvEFl8$`` ,` 	| "aaII( `SH  $uȰaL$ RI1 .PA$h[A%gQACA.PHTːLav!2j+:*  Ԁ%tcD+@ȅ
ɰIe$7ۓep3P%@k'z\ \W4it%S1AnC5	PBtd7#W6
"V
*B3 "B0DA ƑxRaD5Z` 3
 4}&!"4 $U@U0rA%B*`4$zEL!lD WTJ D2V=g 0IJ TX,!kR\bBFt+ @;>8L LȈ
5;@ A%0}E#' &`{B!O`콃&wa'S
Њ'ȌF"x
^b$b(NX#OA: cnL*")Ap5.EF@=1EF)` F0.@aVL,RB $D
+l0P$!2;CX8)	HD
DDCM-@`ňh 0"|`G@t@H!
\(Y	`B ak%f> "!P81b`N0ivR FhwR
 @E 4$dȬ@B C`dCޖ3b	0g(C$Pm@Y N+eh\Wb|DD՚ l:9	!E!ff)6`|XBqjfZV!ߖ;p> >8)Pj9} D( a8K8X,2d W!4 .p% `X96AP 4ob21O0DjA`8( )ѩ+!2" *hŮ"B @O`YF] vhٍ@6fFSM&<E h^@<Ey:G"%KgIPDvсIrC N< 6"CHQvcT*)ѠЄKKb4 AMH
%E2fPb 1T@
H%#M#J%]-BPIBFDr#!H#;J)@0 Dr! ( L$"C	 ! ( qbDs  a	
fL&Ϳ;F1P.r	@hUG(
~E Aa 8Kn@bI(yN J@ 0 ai (CT`2' M@8lrGx2HVNYd{rA #
DJwqU* # frf`b)@.5&R
2q(gpcq,@l+a/vG-`atJ  *T N1p < `TllHPɀTj.l2@@ Q< o,( +*\p(|D@&I&F`A`  BDUfz!B$6 &A9aeq#XT9hBX@i`B`O
*G`'$v e)-p:)%J@)ˍR&RNUDG7	y2	)101@CYt&}tDh	'H U@'Z0%B%@'!Ha"Y05hYi)1CD	$WCar"`
OEl!&(%T.(1``0(DZ(BEdibSNhG- J kZ@NfPIP"8PH %U  I	CA"  @#I&$VH`Gh%0
       *
       * @method isCollapsed
       * @return {Boolean} true/false state if the selection range is collapsed or not.
       * Collapsed means if it's a caret or a larger selection.
       */
      isCollapsed: function () {
        var self = this, rng = self.getRng(), sel = self.getSel();

        if (!rng || rng.item) {
          return false;
        }

        if (rng.compareEndPoints) {
          return rng.compareEndPoints('StartToEnd', rng) === 0;
        }

        return !sel || rng.collapsed;
      },

      /**
       * Collapse the selection to start or end of range.
       *
       * @method collapse
       * @param {Boolean} toStart Optional boolean state if to collapse to end or not. Defaults to false.
       */
      collapse: function (toStart) {
        var self = this, rng = self.getRng(), node;

        // Control range on IE
        if (rng.item) {
          node = rng.item(0);
          rng = self.win.document.body.createTextRange();
          rng.moveToElementText(node);
        }

        rng.collapse(!!toStart);
        self.setRng(rng);
      },

      /**
       * Returns the browsers internal selection object.
       *
       * @method getSel
       * @return {Selection} Internal browser selection object.
       */
      getSel: function () {
        var win = this.win;

        return win.getSelection ? win.getSelection() : win.document.selection;
      },

      /**
       * Returns the browsers internal range object.
       *
       * @method getRng
       * @param {Boolean} w3c Forces a compatible W3C range on IE.
       * @return {Range} Internal browser range object.
       * @see http://www.quirksmode.org/dom/range_intro.html
       * @see http://www.dotvoid.com/2001/03/using-the-range-object-in-mozilla/
       */
      getRng: function (w3c) {
        var self = this, selection, rng, elm, doc, ieRng, evt;

        function tryCompareBoundaryPoints(how, sourceRange, destinationRange) {
          try {
            return sourceRange.compareBoundaryPoints(how, destinationRange);
          } catch (ex) {
            // Gecko throws wrong document exception if the range points
            // to nodes that where removed from the dom #6690
            // Browsers should mutate existing DOMRange instances so that they always point
            // to something in the document this is not the case in Gecko works fine in IE/WebKit/Blink
            // For performance reasons just return -1
            return -1;
          }
        }

        if (!self.win) {
          return null;
        }

        doc = self.win.document;

        if (typeof doc === 'undefined' || doc === null) {
          return null;
        }

        // Use last rng passed from FocusManager if it's available this enables
        // calls to editor.selection.getStart() to work when caret focus is lost on IE
        if (!w3c && self.lastFocusBookmark) {
          var bookmark = self.lastFocusBookmark;

          // Convert bookmark to range IE 11 fix
          if (bookmark.startContainer) {
            rng = doc.createRange();
            rng.setStart(bookmark.startContainer, bookmark.startOffset);
            rng.setEnd(bookmark.endContainer, bookmark.endOffset);
          } else {
            rng = bookmark;
          }

          return rng;
        }

        // Found tridentSel object then we need to use that one
        if (w3c && self.tridentSel) {
          return self.tridentSel.getRangeAt(0);
        }

        try {
          if ((selection = self.getSel())) {
            if (selection.rangeCount > 0) {
              rng = selection.getRangeAt(0);
            } else {
              rng = selection.createRange ? selection.createRange() : doc.createRange();
            }
          }
        } catch (ex) {
          // IE throws unspecified error here if TinyMCE is placed in a frame/iframe
        }

        evt = self.editor.fire('GetSelectionRange', { range: rng });
        if (evt.range !== rng) {
          return evt.range;
        }

        // We have W3C ranges and it's IE then fake control selection since IE9 doesn't handle that correctly yet
        // IE 11 doesn't support the selection object so we check for that as well
        if (isIE && rng && rng.setStart && doc.selection) {
          try {
            // IE will sometimes throw an exception here
            ieRng = doc.selection.createRange();
          } catch (ex) {
            // Ignore
          }

          if (ieRng && ieRng.item) {
            elm = ieRng.item(0);
            rng = doc.createRange();
            rng.setStartBefore(elm);
            rng.setEndAfter(elm);
          }
        }

        // No range found then create an empty one
        // This can occur when the editor is placed in a hidden container element on Gecko
        // Or on IE when there was an exception
        if (!rng) {
          rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();
        }

        // If range is at start of document then move it to start of body
        if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {
          elm = self.dom.getRoot();
          rng.setStart(elm, 0);
          rng.setEnd(elm, 0);
        }

        if (self.selectedRange && self.explicitRange) {
          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, self.selectedRange) === 0 &&
            tryCompareBoundaryPoints(rng.END_TO_END, rng, self.selectedRange) === 0) {
            // Safari, Opera and Chrome only ever select text which causes the range to change.
            // This lets us use the originally set range if the selection hasn't been changed by the user.
            rng = self.explicitRange;
          } else {
            self.selectedRange = null;
            self.explicitRange = null;
          }
        }

        return rng;
      },

      /**
       * Changes the selection to the specified DOM range.
       *
       * @method setRng
       * @param {Range} rng Range to select.
       * @param {Boolean} forward Optional boolean if the selection is forwards or backwards.
       */
      setRng: function (rng, forward) {
        var self = this, sel, node, evt;

        if (!isValidRange(rng)) {
          return;
        }

        // Is IE specific range
        if (rng.select) {
          self.explicitRange = null;

          try {
            rng.select();
          } catch (ex) {
            // Needed for some odd IE bug #1843306
          }

          return;
        }

        if (!self.tridentSel) {
          sel = self.getSel();

          evt = self.editor.fire('SetSelectionRange', { range: rng, forward: forward });
          rng = evt.range;

          if (sel) {
            self.explicitRange = rng;

            try {
              sel.removeAllRanges();
              sel.addRange(rng);
            } catch (ex) {
              // IE might throw errors here if the editor is within a hidden container and selection is changed
            }

            // Forward is set to false and we have an extend function
            if (forward === false && sel.extend) {
              sel.collapse(rng.endContainer, rng.endOffset);
              sel.extend(rng.startContainer, rng.startOffset);
            }

            // adding range isn't always successful so we need to check range count otherwise an exception can occur
            self.selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;
          }

          // WebKit egde case selecting images works better using setBaseAndExtent when the image is floated
          if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !Env.ie) {
            if (rng.endOffset - rng.startOffset < 2) {
              if (rng.startContainer.hasChildNodes()) {
                node = rng.startContainer.childNodes[rng.startOffset];
                if (node && node.tagName === 'IMG') {
                  sel.setBaseAndExtent(
                    rng.startContainer,
                    rng.startOffset,
                    rng.endContainer,
                    rng.endOffset
                  );

                  // Since the setBaseAndExtent is fixed in on-zE&|;ˮmkMC*vYNڢ_mot_0Φɻ;_~שҼn_}v6_Y_?ZǟSglhڵKkOOWS9N7Ui\$osݣGe8_(P;<>|לVN;_3:6c*|7OZO{vϟ,u'xr\oX}_u_:į_Oa?}o*WE7p'&{?܏O՟+yGްfZP7nz6_=|:Tw_~6o_p!Awq7[nnj}]kg<KӮ{Rcq?[Cwn;i݊L^߶o6~x^}}nO[^6rT7W;6w_wc,mϕwU}/]?Di㘿?װ'O^~jW}_|sk|oky6uA}]fs?o=}g~)Vg7?rKm}YzZ/\=*׭;}-γyz>=35͖{JWwoo}Ƶmݻu\W5_c`ofUk;{Tjelw<ޝ%c<ݐJo7my{y55p?1p&'\ \HM675G\1Qgk/UOY^w͟a/9Bw_U/7}<)y\;)Ǵ~پ)KGn_6c{u~}wӞ*'
{ϛp+?b.ߓi=h?w%&#Rn;_ٷnFڷ?mWr,cqR=PY}}|wعnS98Ԓ;o_e,{G~oR;E߅~x+ww'hW^Ob}.dڥٱ}w'?Zai*odOoyh5ۼY{)@?^9YY}WxkMV5߶?MgW}lF=ifwGyos,Bɽoȱ-e,߼T6=vS{oTؾ65NeO.J9s-tc7u/wמn_Sov`s_ͷM6ۛ~bڗuyߟ|{8}73\m'kOoz|Zc;ջʍ}_߽ߟA\w7moɔK>ۑm[.~'6y[Nǟonࡻ ֣ת蝝wc4cKG}ĭϕ20m:Znv/>¯t~1oJ7-|s=cÏ{}O{oq޻lAܻQ߽S_$=>lo;y5c<>׿<Wz}urO۹S?#|w&sЇ_gw~݊yo׋Qk]nrwL;Ǘxwﭤ*:F<Mf=)V_&zwcyߑ^w' xC/#ͭqn7${ߞ{z+|w&]wS&}ϻ[_,n_>&0uyܯ{|R͕w\+w¹GNG쯤	俜^5y{/׷_۽cL?Ü<6\)7ok}NuHff՘ǝoXݿ"~%߳`;۴{}eY?s<7?3oak@ݿz>Hg׽'9\էk͛ewϷ<{WR+roT[9N>Dg.;1ϺOW_󬭝v񲯾r˻oC7ԯ˯{=N1wy}hտ޼]&9䕧ba⪴b2_M_4{S[o;]{^]5=+~W}ǃ>߯{vy'}oP}~~xmjG2nx:u{~΂d	b޵F⃼ֿa9O}O0__}m-Fuor>>;=[5ut4Ziۏeo瞷^m^|c+vv~{+h_{n1gSet/G~즿٥o_=Js[y=~Yß}O}WRAnVgXWww`vʵM]wQ?.ݳ|?_gpj]nm=Tg[fOX[wk_/_WJn\k=_y}_97SλiE#{WG>Ƕ;ZװMEf?uv+.җo5ꌖ6/&%\w<^_G}Jvז>|l{׽$}G?;85ֿ:Q+ѿQ*R=zNnw^wj/ߙxs5!޻6m^u=yЀcGٓk2fLk߼>vXW'{?-~?ë?Z~k[#*=#du71:$1~j/QQyI	w=.w֮ڽgQ^{=zgy_}RVۼ߁͠?rs߷G_߯u~yh71_~zϞ_ڙ_nO|>NzQm{FMu}Ϧ7{_^}ܞ,-~s{תswv7<<֟m_㷃5ĿU-4\y%ݟ~EmppG.ncz[37\]׶] tr=\Qv:mv[fP~n_#sUM7V endContainer = endContainer.parentNode;
              }

              if (startContainer && startContainer === endContainer) {
                return startContainer;
              }
            }
          }

          if (elm && elm.nodeType == 3) {
            return elm.parentNode;
          }

          return elm;
        }

        elm = rng.item ? rng.item(0) : rng.parentElement();

        // IE 7 might return elements outside the iframe
        if (elm.ownerDocument !== self.win.document) {
          elm = root;
        }

        return elm;
      },

      getSelectedBlocks: function (startElm, endElm) {
        var self = this, dom = self.dom, node, root, selectedBlocks = [];

        root = dom.getRoot();
        startElm = dom.getParent(startElm || self.getStart(), dom.isBlock);
        endElm = dom.getParent(endElm || self.getEnd(), dom.isBlock);

        if (startElm && startElm != root) {
          selectedBlocks.push(startElm);
        }

        if (startElm && endElm && startElm != endElm) {
          node = startElm;

          var walker = new TreeWalker(startElm, root);
          while ((node = walker.next()) && node != endElm) {
            if (dom.isBlock(node)) {
              selectedBlocks.push(node);
            }
          }
        }

        if (endElm && startElm != endElm && endElm != root) {
          selectedBlocks.push(endElm);
        }

        return selectedBlocks;
      },

      isForward: function () {
        var dom = this.dom, sel = this.getSel(), anchorRange, focusRange;

        // No support for selection direction then always return true
        if (!sel || !sel.anchorNode || !sel.focusNode) {
          return true;
        }

        anchorRange = dom.createRng();
        anchorRange.setStart(sel.anchorNode, sel.anchorOffset);
        anchorRange.collapse(true);

        focusRange = dom.createRng();
        focusRange.setStart(sel.focusNode, sel.focusOffset);
        focusRange.collapse(true);

        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;
      },

      normalize: function () {
        var self = this, rng = self.getRng();

        if (Env.range && new RangeUtils(self.dom).normalize(rng)) {
          self.setRng(rng, self.isForward());
        }

        return rng;
      },

      /**
       * Executes callback when the current selection starts/stops matching the specified selector. The current
       * state will be passed to the callback as it's first argument.
       *
       * @method selectorChanged
       * @param {String} selector CSS selector to check for.
       * @param {function} callback Callback with state and args when the selector is matches or not.
       */
      selectorChanged: function (selector, callback) {
        var self = this, currentSelectors;

        if (!self.selectorChangedData) {
          self.selectorChangedData = {};
          currentSelectors = {};

          self.editor.on('NodeChange', function (e) {
            var node = e.element, dom = self.dom, parents = dom.getParents(node, null, dom.getRoot()), matchedSelectors = {};

            // Check for new matching selectors
            each(self.selectorChangedData, function (callbacks, selector) {
              each(parents, function (node) {
                if (dom.is(node, selector)) {
                  if (!currentSelectors[selector]) {
                    // Execute callbacks
                    each(callbacks, function (callback) {
                      callback(true, { node: node, selector: selector, parents: parents });
                    });

                    currentSelectors[selector] = callbacks;
                  }

                  matchedSelectors[selector] = callbacks;
                  return false;
                }
              });
            });

            // Check if current selectors still match
            each(currentSelectors, function (callbacks, selector) {
              if (!matchedSelectors[selector]) {
                delete currentSelectors[selector];

                each(callbacks, function (callback) {
                  callback(false, { node: node, selector: selector, parents: parents });
                });
              }
            });
          });
        }

        // Add selector listeners
        if (!self.selectorChangedData[selector]) {
          self.selectorChangedData[selector] = [];
        }

        self.selectorChangedData[selector].push(callback);

        return self;
      },

      getScrollContainer: function () {
        var scrollContainer, node = this.dom.getRoot();

        while (node && node.nodeName != 'BODY') {
          if (node.scrollHeight > node.clientHeight) {
            scrollContainer = node;
            break;
          }

          node = node.parentNode;
        }

        return scrollContainer;
      },

      scrollIntoView: function (elm, alignToTop) {
        ScrollIntoView.scrollIntoView(this.editor, elm, alignToTop);
      },

      placeCaretAt: function (clientX, clientY) {
        this.setRng(RangeUtils.getCaretRangeFromPoint(clientX, clientY, this.editor.getDoc()));
      },

      _moveEndPoint: function (rng, node, start) {
        var root = node, walker = new TreeWalker(node, root);
        var nonEmptyElementsMap = this.dom.schema.getNonEmptyElements();

        do {
          // Text node
          if (node.nodeType == 3 && trim(node.nodeValue).length !== 0) {
            if (start) {
              rng.setStart(node, 0);
            } else {
              rng.setEnd(node, node.nodeValue.length);
            }

            return;
          }

          // BR/IMG/INPUT elements but not table cells
          if (nonEmptyElementsMap[node.nodeName] && !/^(TD|TH)$/.test(node.nodeName)) {
            if (start) {
              rng.setStartBefore(node);
            } else {
              if (node.nodeName == 'BR') {
                rng.setEndBefore(node);
              } else {
                rng.setEndAfter(node);
              }
            }

            return;
          }

          // Found empty text block old IE can place the selection inside those
          if (Env.ie && Env.ie < 11 && this.dom.isBlock(node) && this.dom.isEmpty(node)) {
            if (start) {
              rng.setStart(node, 0);
            } else {
              rng.setEnd(node, 0);
            }

            return;
          }
        } while ((node = (start ? walker.next() : walker.prev())));

        // Failed to find any text node or other suitable location then move to the root of body
        if (root.nodeName == 'BODY') {
          if (start) {
            rng.setStart(root, 0);
          } else {
            rng.setEnd(root, root.childNodes.length);
          }
        }
      },

      getBoundingClientRect: function () {
        var rng = this.getRng();
        return rng.collapsed ? CaretPosition.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();
      },

      destroy: function () {
        this.win = null;
        this.controlSelection.destroy();
      }
    };

    return Selection;
  }
);

/**
 * ElementUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Utility class for various element specific functions.
 *
 * @private
 * @class tinymce.dom.ElementUtils
 */
define(
  'tinymce.core.dom.ElementUtils',
  [
    "tinymce.core.dom.BookmarkManager",
    "tinymce.core.util.Tools"
  ],
  function (BookmarkManager, Tools) {
    var each = Tools.each;

    function ElementUtils(dom) {
      /**
       * Compares two nodes and checks if it's attributes and styles matches.
       * This doesn't compare classes as items since their order is significant.
       *
       * @method compare
       * @param {Node} node1 First node to compare with.
       * @param {Node} node2 Second node to compare with.
       * @return {boolean} True/false if the nodes are the same or not.
       */
      this.compare = function (node1, node2) {
        // Not the same name
        if (node1.nodeName != node2.nodeName) {
          return false;
        }

        /**
         * Returns all the nodes attributes excluding internal ones, styles and classes.
         *
         * @private
         * @param {Node} node Node to get attributes from.
         * @return {Object} Name/value object with attributes and attribute values.
         */
        function getAttribs(node) {
          var attribs = {};

          each(dom.getAttribs(node), function (attr) {
            var name = attr.nodeName.toLowerCase();

            // Don't compare internal attributes or style
            if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {
              attribs[name] = dom.getAttrib(node, name);
            }
          });

          return attribs;
        }

        /**
         * Compares two objects checks if it's key + value exists in the other one.
         *
         * @private
         * @param {Object} obj1 First object to compare.
         * @param {Object} obj2 Second object to compare.
         * @return {boolean} True/false if the objects matches or not.
         */
        function compareObjects(obj1, obj2) {
          var value, name;

          for (name in obj1) {
            // Obj1 has item obj2 doesn't have
            if (obj1.hasOwnProperty(name)) {
              value = obj2[name];

              // Obj2 doesn't have obj1 item
              if (typeof value == "undefined") {
                return false;
              }

              // Obj2 item has a different value
              if (obj1[name] != value) {
                return false;
              }

              // Delete similar value
              delete obj2[name];
            }
          }

          // Check if obj 2 has something obj 1 doesn't have
          for (name in obj2) {
            // Obj2 has item obj1 doesn't have
            if (obj2.hasOwnProperty(name)) {
              return false;
            }
          }

          return true;
        }

        // Attribs are not the same
        if (!compareObjects(getAttribs(node1), getAttribs(node2))) {
          return false;
        }

        // Styles are not the same
        if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {
          return false;
        }

        return !BookmarkManager.isBookmarkNode(node1) && !BookmarkManager.isBookmarkNode(node2);
      };
    }

    return ElementUtils;
  }
);

/**
 * Preview.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Internal class for generating previews styles for formats.
 *
 * Example:
 *  Preview.getCssText(editor, 'bold');
 *
 * @private
 * @class tinymce.fmt.Preview
 */
define(
  'tinymce.core.fmt.Preview',
  [
    "tinymce.core.dom.DOMUtils",
    "tinymce.core.util.Tools",
    "tinymce.core.html.Schema"
  ],
  function (DOMUtils, Tools, Schema) {
    var each = Tools.each;
    var dom = DOMUtils.DOM;

    function parsedSelectorToHtml(ancestry, editor) {
      var elm, item, fragment;
      var schema = editor && editor.schema || new Schema({});

      function decorate(elm, item) {
        if (item.classes.length) {
          dom.addClass(elm, item.classes.join(' '));
        }
        dom.setAttribs(elm, item.attrs);
      }

      function createElement(sItem) {
        var elm;

        item = typeof sItem === 'string' ? {
          name: sItem,
          classes: [],
          attrs: {}
        } : sItem;

        elm = dom.create(item.name);
        decorate(elm, item);
        return elm;
      }

      function getRequiredParent(elm, candidate) {
        var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;
        var elmRule = schema.getElementRule(name);
        var parentsRequired = elmRule && elmRule.parentsRequired;

        if (parentsRequired && parentsRequired.length) {
          return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? cawF)$
00@ _`C2ZA-` 0%*$(BlD@+0  !.XGZp !7  cT 1"%= H	 RT$VeHeH	D([ X  7 ,M&H `Id2X  Ä9GTE 4WBVA(bA 	)@	 PJҰ BEF|qBڐi@P!W4@ň eHFi08@@BA 쑠!*@$X,.`,2D¬  Ic
5
P()봐@"PID	&@CwjatGd!
	#@QfGU+	(DD (-'U& 1ucyFED+Uq<$
8C%$Њ!a/?04EcP @QUa fB%(HIR&*bBʸ@F(`EhPGD49
 %&  !A H G3"C@@Q06Oeo ˠDP6
'Ea0PR ˂o L
BR99!C) 	1U&)@4D
(i
cq*BJ "z:g.(
 -fA8BUH`p4X 2@`+@ WB @a ƨ@"`	#%`Q&2L`` \,B&R2c dJa"e&B?`@7 pZ|!- rYA' "KJá!P@@ AB M  %`E 0zB4b0f# )	"
	d/	-`8A=BM @,@ 4 
II[ @P h9TBMkiZGP$øfL
1r$<  2+fW0"V&pX @x9ŅXLZjAD0AP8dXl[ZŘoH@ƾXd(1	 @,;	0Oj	1P	*C  #J1t$E!` 
E H h@2H
"X03	(F YPRAxf 4	b0IbQ8.8$Et!]!FAV(ʞ`8@B xHnRFB'6 .e F@`Vd8	UȜJH\paER T`PB]x@IE	#1M\c GM@  i	@ChwdCp@ϔU(fԿt PF8T 9 b܅E@P0hG%iÊ(@#̑!p AG6ՊA TB!I8(K!P P@X$`b@`A"v`C0 T0zD ĥB PZ`Hb@Ea2h`i4 KXAH#,T0 4"pȂlfIV@% ctL(00%9B	&1 @hJ 2CBB pA@#
$&p!Fd,bPE %iFl4 	
4- &AN8	Hpb( Eq@
bM z`
UD  bMQAkD c%"B]BUa?-' Q"F!@*h/ "BEDF@a+
f(@ oY!H1 &0.Q&5 F`B^O0 B N d2*d     Hf& :AkU p&  p$ @BqR%u$Z> AC-rb$wItHY{h`ʔ	@h Fhʁ !@3
0`pE	4A 84!`c"- Z
JD "AK"X@+ZQIAd$ 9%y\+3m! Ў*b9PA"Tl  @bDQaX3B,bX d$Qȁ1 0A*@)gR!@c-ǫ&Fb"`eD1D#
3v 1V E*@qJ0!!.H !$d\!$ z',C Sj,Knj! UCh:ɨqSlQMsX>mDz PV @ʄ 1	\a+K`+µb,?&yzp g(%B2Ze D@
VpG4(=e+   A `R{) JP+z H$`!ENR , HA		21<@@ ` jRb  >LD@f!k  G5dP.\jx,RAY.Pp 8]FA,,DPb0HN	WZY 	 % -|LȚցKibfsU9v*$ "s-@IM g'(X0jbE /F'Y~XQH 0F )! @pXc La&2U}C	tH0
5%eb|H4cc+q%1T0ŁZ(r, a<@Ib9Q
 t3!@)f%P  !T
 6!X"@1bQd0B  D%A	N( ;1c;Z [Pka	0	LFM[<a	7B s
Rl8
t
Thl&!IsN@. 0JRa>p22 `#  `@*H	4@8F9P, E
C&K!NFBI(CF\ ѥp6 64Ƞ=$B!
 6%=WC$ !\ 0 %h)@@';<T	` A!d !    2e Lᘇ	  $Jz`(P16PE$pє @ kYpXRH7.b`܄ZnU(4aHl _R
*`e }Q4|8T@K)`PID
@sb#	 	1B"k+ QTR HAA 1@òL t$(Bpt<K>#P)P	4V 18 <D  5
N
+"Q&Fr) \٩-VKR7@@B`qC"`O%{ŭ%(\U(RVT-iԂN@P$E$H5GRL@"I9iM2@cur% !O!BdxG%(B(V8LT I =XDBn )

2DE$7
& @&,ф!DX&D< (BR![$T( N161#  D0q+c0T6 #(X̠ >XI(I]0jBh #A (:L ,$J#"` $2a  KLNx,R@-?	-decoration ' +
          'text-transform color background-color border border-radius outline text-shadow';
      }

      // Removes any variables since these can't be previewed
      function removeVars(val) {
        return val.replace(/%(\w+)/g, '');
      }

      // Create block/inline element to use for preview
      if (typeof format == "string") {
        format = editor.formatter.get(format);
        if (!format) {
          return;
        }

        format = format[0];
      }

      // Format specific preview override
      // TODO: This should probably be further reduced by the previewStyles option
      if ('preview' in format) {
        previewStyles = format.preview;
        if (previewStyles === false) {
          return '';
        }
      }

      name = format.block || format.inline || 'span';

      items = parseSelector(format.selector);
      if (items.length) {
        if (!items[0].name) { // e.g. something like ul > .someClass was provided
          items[0].name = name;
        }
        name = format.selector;
        previewFrag = parsedSelectorToHtml(items, editor);
      } else {
        previewFrag = parsedSelectorToHtml([name], editor);
      }

      previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;

      // Add format styles to preview element
      each(format.styles, function (value, name) {
        value = removeVars(value);

        if (value) {
          dom.setStyle(previewElm, name, value);
        }
      });

      // Add attributes to preview element
      each(format.attributes, function (value, name) {
        value = removeVars(value);

        if (value) {
          dom.setAttrib(previewElm, name, value);
        }
      });

      // Add classes to preview element
      each(format.classes, function (value) {
        value = removeVars(value);

        if (!dom.hasClass(previewElm, value)) {
          dom.addClass(previewElm, value);
        }
      });

      editor.fire('PreviewFormats');

      // Add the previewElm outside the visual area
      dom.setStyles(previewFrag, { position: 'absolute', left: -0xFFFF });
      editor.getBody().appendChild(previewFrag);

      // Get parent container font size so we can compute px values out of em/% for older IE:s
      parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);
      parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;

      each(previewStyles.split(' '), function (name) {
        var value = dom.getStyle(previewElm, name, true);

        // If background is transparent then check if the body has a background color we can use
        if (name == 'background-color' && /transparent|rgba\s*\([^)]+,\s*0\)/.test(value)) {
          value = dom.getStyle(editor.getBody(), name, true);

          // Ignore white since it's the default color, not the nicest fix
          // TODO: Fix this by detecting runtime style
          if (dom.toHex(value).toLowerCase() == '#ffffff') {
            return;
          }
        }

        if (name == 'color') {
          // Ignore black since it's the default color, not the nicest fix
          // TODO: Fix this by detecting runtime style
          if (dom.toHex(value).toLowerCase() == '#000000') {
            return;
          }
        }

        // Old IE won't calculate the font size so we need to do that manually
        if (name == 'font-size') {
          if (/em|%$/.test(value)) {
            if (parentFontSize === 0) {
              return;
            }

            // Convert font size from em/% to px
            value = parseFloat(value, 10) / (/%$/.test(value) ? 100 : 1);
            value = (value * parentFontSize) + 'px';
          }
        }

        if (name == "border" && value) {
          previewCss += 'padding:0 2px;';
        }

        previewCss += name + ':' + value + ';';
      });

      editor.fire('AfterPreviewFormats');

      //previewCss += 'line-height:normal';

      dom.remove(previewFrag);

      return previewCss;
    }

    return {
      getCssText: getCssText,
      parseSelector: parseSelector,
      selectorToHtml: selectorToHtml
    };
  }
);

/**
 * Hooks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Internal class for overriding formatting.
 *
 * @private
 * @class tinymce.fmt.Hooks
 */
define(
  'tinymce.core.fmt.Hooks',
  [
    "tinymce.core.util.Arr",
    "tinymce.core.dom.NodeType",
    "tinymce.core.dom.DomQuery"
  ],
  function (Arr, NodeType, $) {
    var postProcessHooks = {}, filter = Arr.filter, each = Arr.each;

    function addPostProcessHook(name, hook) {
      var hooks = postProcessHooks[name];

      if (!hooks) {
        postProcessHooks[name] = hooks = [];
      }

      postProcessHooks[name].push(hook);
    }

    function postProcess(name, editor) {
      each(postProcessHooks[name], function (hook) {
        hook(editor);
      });
    }

    addPostProcessHook("pre", function (editor) {
      var rng = editor.selection.getRng(), isPre, blocks;

      function hasPreSibling(pre) {
        return isPre(pre.previousSibling) && Arr.indexOf(blocks, pre.previousSibling) != -1;
      }

      function joinPre(pre1, pre2) {
        $(pre2).remove();
        $(pre1).append('<br><br>').append(pre2.childNodes);
      }

      isPre = NodeType.matchNodeNames('pre');

      if (!rng.collapsed) {
        blocks = editor.selection.getSelectedBlocks();

        each(filter(filter(blocks, isPre), hasPreSibling), function (pre) {
          joinPre(pre.previousSibling, pre);
        });
      }
    });

    return {
      postProcess: postProcess
    };
  }
);

/**
 * Formatter.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Text formatter engine class. This class is used to apply formats like bold, italic, font size
 * etc to the current selection or specific nodes. This engine was built to replace the browser's
 * default formatting logic for execCommand due to its inconsistent and buggy behavior.
 *
 * @class tinymce.Formatter
 * @example
 *  tinymce.activeEditor.formatter.register('mycustomformat', {
 *    inline: 'span',
 *    styles: {color: '#ff0000'}
 *  });
 *
 *  tinymce.activeEditor.formatter.apply('mycustomformat');
 */
define(
  'tinymce.core.Formatter',
  [
    "tinymce.core.dom.TreeWalker",
    "tinymce.core.dom.RangeUtils",
    "tinymce.core.dom.BookmarkManager",
    "tinymce.core.dom.ElementUtils",
    "tinymce.core.dom.NodeType",
    "tinymce.core.util.Fun",
    "tinymce.core.util.Tools",
    "tinymce.core.fmt.Preview",
    "tinymce.core.fmt.Hooks"
  ],
  function (TreeWalker, RangeUtils, BookmarkManager, ElementUtils, NodeType, Fun, Tools, Preview, Hooks) {
    /**
     * Constructs a new formatter instance.
     *
     * @constructor Formatter
     * @param {tinymce.Editor} ed Editor instance to construct the formatter engine to.
     */
    return function (ed) {
      var formats = {},
        dom = ed.dom,
        selection = ed.selection,
        rangeUtils = new RangeUtils(dom),
        isValid = ed.schema.isValidChild,
        isBlock = dom.isBlock,
        forcedRootBlock = ed.settings.forced_root_block,
        nodeIndex = dom.nodeIndex,
        INVISIBLE_CHAR = '\uFEFF',
        MCE_ATTR_RE = /^(src|href|style)$/,
        FALSE = false,
        TRUE = true,
        formatChangeData,
        undef,
        getContentEditable = dom.getContentEditable,
        disableCaretContainer,
        markCaretContainersBogus,
        isBookmarkNode = BookmarkManager.isBookmarkNode;

      var each = Tools.each,
        grep = Tools.grep,
        walk = Tools.walk,
        extend = Tools.extend;

      function isTextBlock(name) {
        if (name.nodeType) {
          name = name.nodeName;
        }

        return !!ed.schema.getTextBlockElements()[name.toLowerCase()];
      }

      function isTableCell(node) {
        return /^(TH|TD)$/.test(node.nodeName);
      }

      function isInlineBlock(node) {
        return node && /^(IMG)$/.test(node.nodeName);
      }

      function getParents(node, selector) {
        return dom.getParents(node, selector, dom.getRoot());
      }

      function isCaretNode(node) {
        return node.nodeType === 1 && node.id === '_mce_caret';
      }

      function defaultFormats() {
        register({
          valigntop: [
            { selector: 'td,th', styles: { 'verticalAlign': 'top' } }
          ],

          valignmiddle: [
            { selector: 'td,th', styles: { 'verticalAlign': 'middle' } }
          ],

          valignbottom: [
            { selector: 'td,th', styles: { 'verticalAlign': 'bottom' } }
          ],

          alignleft: [
            {
              selector: 'figure.image',
              collapsed: false,
              classes: 'align-left',
              ceFalseOverride: true,
              preview: 'font-family font-size'
            },
            {
              selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',
              styles: {
                textAlign: 'left'
              },
              inherit: false,
              preview: false,
              defaultBlock: 'div'
            },
            { selector: 'img,table', collapsed: false, styles: { 'float': 'left' }, preview: 'font-family font-size' }
          ],

          aligncenter: [
            {
              selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',
              styles: {
                textAlign: 'center'
              },
              inherit: false,
              preview: false,
              defaultBlock: 'div'
            },
            {
              selector: 'figure.image',
              collapsed: false,
              classes: 'align-center',
              ceFalseOverride: true,
              preview: 'font-family font-size'
            },
            {
              selector: 'img',
              collapsed: false,
              styles: {
                display: 'block',
                marginLeft: 'auto',
                marginRight: 'auto'
              },
              preview: false
            },
            {
              selector: 'table',
              collapsed: false,
              styles: {
                marginLeft: 'auto',
                marginRight: 'auto'
              },
              preview: 'font-family font-size'
            }
          ],

          alignright: [
            {
              selector: 'figure.image',
              collapsed: false,
              classes: 'align-right',
              ceFalseOverride: true,
              preview: 'font-family font-size'
            },
            {
              selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',
              styles: {
                textAlign: 'right'
              },
              inherit: false,
              preview: 'font-family font-size',
              defaultBlock: 'div'
            },
            {
              selector: 'img,table',
              collapsed: false,
              styles: {
                'float': 'right'
              },
              preview: 'font-family font-size'
            }
          ],

          alignjustify: [
            {
              selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',
              styles: {
                textAlign: 'justify'
              },
              inherit: false,
              defaultBlock: 'div',
              preview: 'font-family font-size'
            }
          ],

          bold: [
            { inline: 'strong', remove: 'all' },
            { inline: 'span', styles: { fontWeight: 'bold' } },
            { inline: 'b', remove: 'all' }
          ],

          italic: [
            { inline: 'em', remove: 'all' },
            { inline: 'span', styles: { fontStyle: 'italic' } },
            { inline: 'i', remove: 'all' }
          ],

          underline: [
            { inline: 'span', styles: { textDecoration: 'underline' }, exact: true },
            { inline: 'u', remove: 'all' }
          ],

          strikethrough: [
            { inline: 'span', styles: { textDecoration: 'line-through' }, exact: true },
            { inline: 'strike', remove: 'all' }
          ],

          forecolor: { inline: 'span', styles: { color: '%value' }, links: true, remove_similar: true, clear_child_styles: true },
          hilitecolor: { inline: 'span', styles: { backgroundColor: '%value' }, links: true, remove_similar: true, clear_child_styles: true },
          fontname: { inline: 'span', styles: { fontFamily: '%value' }, clear_child_styles: true },
          fontsize: { inline: 'span', styles: { fontSize: '%value' }, clear_child_styles: true },
          fontsize_class: { inline: 'span', attributes: { 'class': '%value' } },
          blockquote: { block: 'blockquote', wrapper: 1, remove: 'all' },
          subscript: { inline: 'sub' },
          superscript: { inline: 'sup' },
          code: { inline: 'code' },

          link: {
            inline: 'a', selector: 'a', remove: 'all', split: true, deep: true,
            onmatch: function () {
              return true;
            },

            onformat: function (elm, fmt, vars) {
              each(vars, function (value, key) {
                dom.setAttrib(elm, key, value);
              });
            }
          },

          removeformat: [
            {
              selector: 'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',
              remove: 'all',
              split: true,
              expand: false,
              block_expand: true,
              deep: true
            },
            { selector: 'span', attributes: ['style', 'class'], remove: 'empty', split: true, expand: false, deep: true },
            { selector: '*', attributes: ['style', 'class'], split: false, expand: false, deep: true }
          ]
        });

        // Register default block formats
        each('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\s/), function (name) {
          register(name, { block: name, remove: 'all' });
        });

        // Register user defined formats
        register(ed.settings.formats);
      }

      var clearChildStyles = function (format, node) {
        if (format.clear_child_styles) {
          each(dom.select('*', node), function (node) {
            each(format.styles, function (value, name) {
              dom.setStyle(node, name, '');
            });
          });
        }
      };

      function addKeyboardShortcuts() {
        // Add some inline shortcuts
        ed.addShortcut('meta+b', 'bold_desc', 'Bold');
        ed.addShortcut('meta+i', 'italic_desc', 'Italic');
        ed.addShortcut('meta+u', 'underline_desc', 'Underline');

        // BlockFormat shortcuts keys
        for (var i = 1; i <= 6; i++) {
          ed.addShortcut('access+' + i, '', ['FormatBlock', false, 'h' + i]);
        }

        ed.addShortcut('access+7', '', ['FormatBlock', false, 'p']);
        ed.addShortcut('access+8', '', ['FormatBlock', false, 'div']);
        ed.addShortcut('access+9', '', ['FormatBlock', false, 'address']);
      }

      // Public functions

      /**
       * Returns the format by name or all formats if no name is specified.
       *
       * @method get
       * @param {String} name Optional name to retrieve by.
       * @return {Array/Object} Array/Object with all registered formats or a specific format.
       */
      function get(name) {
        return name ? formats[name] : formats;
      }

      /**
       * Registers a specific format by name.
       *
       * @method register
       * @param {Object/String} name Name of the format for example "bold".
       * @param {Object/Array} format Optional format object or array of format variants
       * can only be omitted if the first arg is an object.
       */
      function register(name, format) {
        if (name) {
          if (typeof name !== 'string') {
            each(name, function (format, name) {
              register(name, format);
            });
          } else {
            // Force format into array and add it to internal collection
  Zmr[`-?տ~(EYvmƬھ;+"ؾm5F_ߩGPnﴝՃeh/M|o6O'u
Wx<$ 2%>Puh+!1T! gDСv0P4*B͘H iBDI 	F1bPIfT"@å`ЎvAmeB|^ iEP/8$C0Rqh)& -ewr%V`ah%
QHe

' V(A8@PE5#G.	I  "I9Xنߵ nA:#/_~<0og&5] ؤ~ ?Iӌ{_δSwg+e/v6 yʿ,.)}i<a,$ TQ 1U *$A* a WFÖ @+lU̒h3B Ֆ,0|M1T8Ra}"k(k☒G0eO	O֔)61|DNh?ݦ&>ur{ 0#*Y'g'ۃw^X!koo-=iot5_k1?zו3\n|`ywvO^n +?%]״˻yK?y@$7z\|[wueaN}|/ZTO֯n sWݝk{O`~"v R
2⇀rvTFMlxdAްv
@@	
P#@FB q?D
! 1/C#)"P k; ?TêrebHP9_Gu&گy=_n?7s+ȕRwm~߰eWۥ{ 巯~To}W ڏo߽o6׽w[T_᭺LIfB F %
L20` 
@!8
d
1@m%GIdy@] Ս Ge0M12AQb))JLpC
q0/	cc@7SLC0`D`4.@V6;:CefR$</;`*>$""ߐ)<L,5Fq0'֬'!ԄgFA18jQ3ĂQBٿ ϑ{:O$<_CP\ym^e?_*݋__o)_=ψ<~:J/n*=	W08  `HL`qQ Tܨz!ѵ#s42FõȩP,1"2A5(+aa	FC~HFc3BnC"-0ʈ_)Slgg??z皿Z7o<ֵ ;oDg۳C{m.`|6ߣ'Λr?|	®~4s߫"xkw~=e2Z>}_loOe쿿=ǷS?[c-}?X~z=?Kľ_{==YomYX	 && L}(L2\
@6
+  p蠂I2٢Ԇdc #AՔB^8ag 3BaA$  #Lg<+B($an68jv.0$h>߀=)?y?ߟk%&ߙAuio0צv^~yG~/s?޿|pu[ݽÞ
[_{'(P
a\PK@-F8Y
RHL 5A04Ё`	gc(q$!GVfc&!R V}#jX PD
EY8ZVGX5BNfKVB" EH(w87
p	Vc# I`dҀP8)F.5Q	Wd
0(pBp`	QxX2DG[9pZiF*Ĥ7v	u:ֽfjtn~_
|<~^Ի}տVm,r\gsؿ<ZF[Wޟ˷i/C#{#	[E f1 @b!L@]t+ ڨ@ABTHāI7\  |q 5!<% ( R] @B301   DH0J.P<H`Q,Q(ȏp 0dnc"tWۥ qRjuo`tOvk]g7˘^~N~0E\޻T:Ofw4{k{ǻ6z!:_Ns;-\o@^׶Z__u4~{~s$`&24@ Pi6@tܜ 
%/P9Ӥ	 ,RJHrH*Ќ'c<0u=߁Pd`E)4CN>XXc}A[9"pFt7HM[Cv~~Gxu'gWΝ;gEwwM$eWӻ߼L{ngӅ^>;u^߿~!/]߿o '$F"͂4@.Dl` 3`M¨Np "
x!$522R!a a[@ 0<2
t
!e1r@Pr@
  {.d,P1M '!BI@40'@b.1kB-8
bZLIL	X% h

J  W*v^9 
Nf X^>N HF@ʄ$ Gww v6=:,wZoc{?/oݞ_w jE-{ߨ~q?~ج
0Aw-7ۙۊ_iL 6"A!4L@z&SIz p8| b!'B^uтa@ʒM `# AnW b	FJ22pJ Xh:#DB#tC l_^fzuO/{0s_Rמ9@:in? Ӻ{-kOou;0]l><I?[o!{[[Ln~~}Z"]}s ;(Wol;y@ޏ}{xrzǒ|(]ʄ=i{kޟdgJ=:}*><rF*Xӆ,"@ߝ
*)[-LbbBZ{HK	1ALTА"gC-0@`I]+b0"rBEi+aD	vrP ā?CexD ,L P$ 	`0 Q2HI:&֨pZ$#H.4' B!Q"HD&@CDP	  +4H/mal˵Dm6n˞S@ۿ3/sE9OVWY/-=rM.3>;~߷kuD?Zot^hr?t9٫˵QU-}~'M-<kgC_f?~^FORKtqG[Rc/;nwYNӷ'2c|p|hB BaLA   $Id	`b $8i@B(1  \h9AM$09R@ )@ׂi2,d0@"(B(C0`!U2I" A@DW3wQknܣ+{u_M{cf="wȿ?NOWW=<.;MMkݷo?)1dT%l6Zb
ba@"I$U* &DB+O&yd]IeXPA D.!B 2'R(bbDH &&6MQ  2	RNA  <Khb`Ȭ(BC)S`0 XeD"$ G p!d MQ  C /ÈX" (8@?D `0|d PB% 2,6%  d4	U@VgIbu־})Ϥ7=?-kB/2;Mn_o{G_6&uw?qaW;~}Wy4?Szv}U=3摺{*I??s38l 4 Uo,)Z!\Y kJ(`0D,@r9
(	t  Dp	0`sd@( P` ,6rdgBѣPHPQaNPӥ	D$Cio/ִH4?봡{?!=}v_rscMjb<+?g~7yoq_Ee;/{Gq)ILq8Q5O\7v~Ov:;/ǣ^}zη׍bڸw}6kk߿O[ŏs֯xe`ꉵʝR}}?^-BH 	R t	ݢ zҧ0 k H "!OĜ	@"*oEL@88P P A0<g2'0I_5k	mzq{Ͽ#\WQ~ݨcۦuz'4CNN{R^}1me1q-Vw/Gߠu/Ww7LR!\Bi`Ā
d* хtC) d⥨@
U7hp)(ErL#^)@+D@F qDd[CH RDO`0u	5F'l i8A@UPK@)Ӊ$# @1!IA$ Pp:1[ D[)fBDhX74UCk@ G@򝦨ȄLJE
=A#fԽ[wߧ?^_4e`?K}{V?+q?[.q޶J1mϿ;`^jSmoqWFu4$P!&A^  %

=I`	#@(
L-/B0  E1H IBA[D  @'	2&	D{?/eKV9+ŷ|s3Y/[2;C~zC[[p&g]\/?$ӻ+=}3Mǽg{mv\tjޮmkΦ۟LSw__v?%_`7{my׻}vO#vvQ߻w!xr#*lv
*"DZ4a@L,p :*7"C*P
QH@i00B@i40T I& R!* Q",`	I c Iw$z4MQq^6*ݾg~o7w?_*?gjW<yJo6}=ԑg{cMW߿n%3WqA! b ZR9a@Q"@?" ; )CdPA9D P`E 	h
Eǂ>@D3*s2 NJ: 
	Z @AĘ,H"0HjIL%R SE   I H Hn
Xf bH.PtGB#Ix[P!B 0B%	 Ùi!1	F`,O%C1DADO# Xu{TF5/َrtsdw۬M}>b^n%_=^`^C/ִoV7h*߿Gǁw2͎ﯝRK}ZFK4mvL,qRb
`!P "̅6DB2`*L  &,#"4 y K0 0 ! L3?PD:@@`lx2Q4* %&!0:>@l 7"5lfc˚GgwoóGCtێ_x%}%vhu^w-oIso4UN_E/{\;WosWc~񑓷~˱-{TOۻ[VOrGɃgWfbo;uo/>{~uM9;ݝ[{/
{owA\kz3U|_nߩ BΪa0;FP phQ@2H $L8D\
_)# .a d+ B0A&ː&HN!pK 5/O3;o{No@?QUOw7Iu2w^r?oT{WXh۹ssWր~[U'J߹wP࿿X6reB 8B`Bk `  $Y'8H 0	0" "T  
a*HC	,RX%!GPdLpB pZN R`N"  6|QX
]'3`  PALA@ *QCJe\[@"d 2BX] ҄@ `QB@a& (@# *$HI%L x`	jd/{>S6թ\;ٿQٟ휬wO_??|{dg~}N.x^|:SOwwue58uѺ  }

              // Handle selector patterns
              if (format.selector) {
                var found = applyNodeStyle(formatList, node);

                // Continue processing if a selector match wasn't found and a inline element is defined
                if (!format.inline || found) {
                  currentWrapElm = 0;
                  return;
                }
              }

              // Is it valid to wrap this item
              // TODO: Break this if up, too complex
              if (contentEditable && !hasContentEditableState && isValid(wrapName, nodeName) && isValid(parentName, wrapName) &&
                !(!nodeSpecific && node.nodeType === 3 &&
                  node.nodeValue.length === 1 &&
                  node.nodeValue.charCodeAt(0) === 65279) &&
                !isCaretNode(node) &&
                (!format.inline || !isBlock(node))) {
                // Start wrapping
                if (!currentWrapElm) {
                  // Wrap the node
                  currentWrapElm = dom.clone(wrapElm, FALSE);
                  node.parentNode.insertBefore(currentWrapElm, node);
                  newWrappers.push(currentWrapElm);
                }

                currentWrapElm.appendChild(node);
              } else {
                // Start a new wrapper for possible children
                currentWrapElm = 0;

                each(grep(node.childNodes), process);

                if (hasContentEditableState) {
                  contentEditable = lastContentEditable; // Restore last contentEditable state from stack
                }

                // End the last wrapper
                currentWrapElm = 0;
              }
            }

            // Process siblings from range
            each(nodes, process);
          });

          // Apply formats to links as well to get the color of the underline to change as well
          if (format.links === true) {
            each(newWrappers, function (node) {
              function process(node) {
                if (node.nodeName === 'A') {
                  setElementFormat(node, format);
                }

                each(grep(node.childNodes), process);
              }

              process(node);
            });
          }

          // Cleanup
          each(newWrappers, function (node) {
            var childCount;

            function getChildCount(node) {
              var count = 0;

              each(node.childNodes, function (node) {
                if (!isWhiteSpaceNode(node) && !isBookmarkNode(node)) {
                  count++;
                }
              });

              return count;
            }

            function getChildElementNode(root) {
              var child = false;
              each(root.childNodes, function (node) {
                if (isElementNode(node)) {
                  child = node;
                  return false; // break loop
                }
              });
              return child;
            }

            function matchNestedWrapper(node, filter) {
              do {
                if (getChildCount(node) !== 1) {
                  break;
                }

                node = getChildElementNode(node);
                if (!node) {
                  break;
                } else if (filter(node)) {
                  return node;
                }
              } while (node);

              return null;
            }

            function mergeStyles(node) {
              var child, clone;

              child = getChildElementNode(node);

              // If child was found and of the same type as the current node
              if (child && !isBookmarkNode(child) && matchName(child, format)) {
                clone = dom.clone(child, FALSE);
                setElementFormat(clone);

                dom.replace(clone, node, TRUE);
                dom.remove(child, 1);
              }

              return clone || node;
            }

            childCount = getChildCount(node);

            // Remove empty nodes but only if there is multiple wrappers and they are noPA,8dЍDY	LŨ$A` O
P5'| _qDma :PB\A   Rd@Zf&DDba`F`$,Hnqv м$#Б?*" &d-)ƜC$@ $ 1Ml"P4a #ȒHJtK̧5h%aF0hLNr#|pj 1@q,
BB0$ѯ I3U Թ DT l4 }39B @4p	  p0( !`{iã䢁T 7_(9C5 rbXS%0z,LD,FO ؎K@לhH(B/`2 44ģ'P #0hTAFLL AHQ!
.Dj:hĀ"7 X B `̅@+\%"@*<`A8|U检T= HDK҉s]N '4*Xt-B ``$(cFWPR &ʀP8 #'LjAWh(Ixpn  Aa_H 
 G
 J
D$ S6m mP0T@<  BRBcJqG D-H2(pA@`  @CY H @H>9
$@sJFOňehƠ$b	KR43>1K p @ !@Z Y' Rء! `a1 )})d$XR Q$ !hZ AVP8 
|:F`Eq@CG@VKȐq
DsU+fĘlٟ bϔE$0V hLp TGE 0gP  G!P+FU/0DRRDAzzJ$<BLL( CAɠP*B/hJ a(@Ĝ 	92&BT  @&% 0l I2X	KJe`( 0;U3 <@}*	B0!hkP PAJKa'l> A}XCpAqL.4^F
2\m$UP2Ą*AMvx!T uf A-Yx& T4F V3}b+'#)2h  Д3@QJE`,	p"	P$4 $O֑Ւ&v'6v,2aVP(&X(
r] @9$ $@F4 RPVZA mEu8X""E 

H"HD "&i01$b@@
>C  rP6WA@ H F(0C$vA-1 F	N'J%DR 4L"@U Q06BDQrȟPt `k(NGƂ EE,eāp/ dEUch8gR) J !T54P<Q AEq HI*d	 %NXQ!i [J@O92tw=IDc
FIMVJAN`F8hN  PC(1q	!j *Hd . 9E 䡓ȥ FXb$DIH 4I]I` F B<  `S
B9 1 @Pe 9 B BJ0t0E Ls= °v',lc@03AQz!ԭڰ'AR# da 2;dV [e*$ð*BBY+R8!&I*HʘROBA4 `+8	4+` ! 	`QB\7IWbI	hPd0#j h-34@i.`0'g
 	lIhrA%4	1(
@# `T*%Ѕ! (:Vm-	YPeL
b,J3l()sM>Nȥ	pyF PgT͋P D S	#ገgp)`N
X,MEH@QHp3 @h"DT
GH*@QEkbETʼbIlmJph
\B>c pU^hA@G*1  f@qaF-)LBFB!d-Iox D\@
XTQA	 d"'8 $ YC B  Z2 %6@ , "\F4#!'T$G SGca 	gX ~	1& x4űj+*+)* g8=`Up$U
Xi[XwBZx	:K w3v M'"+ %Ť
ѕۂpW38 P d#8DJL
bQ"[UqP1)'%lv,n4D@(4JQ#QAl$q.XȈ*ƈP>A @I`@  d	  5h+ HAg '	PMC P*c1/h-@pC.0
I@P	ME b`(g j D&UC !!F$
,Up<ZPÎpB~4BE	rH1"Dd21r QT*Z ry	f 	i $hD'\@vY'B%D  Hp"V-  k
@U8@a T$7JF+ ZA@!< 2N ͈Xl 8@m  - X4|@ T` H9#E\ +%,1jhIA HLd -7@F^zKQ})>@ FѤ221,@<B, U#C8и'ҡ ,*z h`KQw
tW>j(~ R;8D_& .dY00N=HVLb^h
%	H"`T|&
OC;īBXׁ*1QppjX&fшpA@xDV(<0c"A``ZJ *H"!`,TFD h#R	@B `
$R $HN`0 P DBI"!	$n.@*XPx2VX
< ыpAj((# @B 0,H!9<DOA3!(tb,QEXF ؖ%i!B 0) 	,SJZ )h$P+X@X$  De "ti@T4L4P(S !8  @"") @ qd Hmbdb kD2F`.FVPXDqxAyc4?QcքAFJd0 !800:ɥdHh4!L@{( %`QE#
 l"!DA IV`
E0p		,!d $I:&d7eg0bl, Q!$0PDBF8fgd S Bp,C2KgxĀRV>"P" 7FT)YP!ARՕ lTT  V*dI)j>a@WFDHGfaPS@#;29Q  H /@Ѩ$$AB.(\EQLP%PS ma`!1g J4P( # 1)(! Ō( !H(I
"㙀# *`BrBũ"p)#Q c% S|%`p.9Q0XAdpa4pQ60BOV`]
2"	 1Z>H(N!Z&dsp0 	9IHQ3Z%Q\  	%Na	3FF*Jt&2Da&`C=`f${ź"0D@Y+ ZTzAxT$rFY9cq`EA9   8P2  hS"	FtZhX@BNKJ*g &Q `FQ@ 9`@$ # a p     	- .Gh	 J`" ,	ԕ4Yq % &	K9	  `2 FBu	Ё щ @UT@@` `ᖷ0Ջ@*;d `%%jEam3* *8@d\g'Eu. (} &Q7Cţ4(Հ'IC@7jQDXgn`pLFqARUS ' Xt1Oj"Y  D!Q zPt[hOA!H; H#adTJl8T p :B@&t @BBB` U#q $!$	IPc ,1   
j K    F)c;3D0(,0B D}W䰈p`= 8	n ID̎(vB܉,&EIUMi %c"$0fҐR6(PDPdl'TD Pm" - 4F|{C B'#F ]
`DDPO9@p	QBhe*UaH$:0Bc]er  7wAarCCF,z("` G
"t pdI1>f%xi@ v *)=@iLY
 @!"B #,K 7PH$@ I p@xģDdv<v4Ѐp cl.-@uC!0	 +o%t  %,J

" d62&r L+![ &5Y)G   H7`@ O8Tf#@z!C BP A($p )bB`P [*A,X@#8 B; 
03lA f
#A	B 8lI021A<ZZ i4!$ 0F1ƀlbb^@(!#R ag[	 	Vb 	$Ԧ`iQUJ
zhb`EҔI2pb)A\C>?~D++B"9B݀BB-&FKr:0pzDM& D5$$	̐,`cR+L#EAfEnԄTDBVE@xǋ	( dbV@\  !B1r	e +Ё , d D& nLL@AE e;FT"Fc 
1^0 I4B8!ai rM0$b*̪yF)G&,	 "aH00e"$J  Z5V҉$"Db `p٢GrM0" /.@	D;C, 0@̨D+TaHB  6"
/`'!rB %HAzqID 8T At+   
gؕXa&ɒh 0l"P     0	0,`@(AdhDtA.w2@F {A eq B`	 @8 4&pMo$	B H RGo	Q d8H~$p"H瘓 M P	q,6Mn7B!`J
"h$Hk&BNn<@ ]CLO_!(aY
 'Ngzh@AKB[IDApj%ABR¼ZO :t`	B$`  $rE C"p8aЊ , &7  0he L7H "i < (K 	D T|(25В2}>$bp !A( '`# @P$_Xñ(! R AaIʂ.3a
h(@hh"i* ;cQ%	j^(hvQ4	WK
 D  @H N.gDHZHG)nf r&@E HO m,!+D
!0@[h  	#'hi!)t2hq	e5U <"DD* WsaoDH$T0CA6@+DJ"_D0 -ň$!(T(0PBpƋ!hj~< H3|T*L*4Il,1wp$>2Mda!>AL$@9"s?8@Y#@ p W	O!9#qDH3B_0!`؀"D`(W)jP,@VRbY կb$A]0^"! bHy}YH#BHi0A$&03a\A  0CRc)8`PQp&*AA)0LQ2V	 e da2@	)@h AaaC*la    
ЁH1BDl
%f DM!"(ƐD%#O R82"(7@)l2Rؕ	 8@Gģ` 
K@Ė 2$b⪎`vp#ៀg:4@`}$%&Fq  J\VQc P@ aPZ.F0
>]" f g!l ,Ia@q^FKXaFFFC"2T)؄X("dYh7AB2 4P!mpAwR(P\ F@ 6B#0V(API+</ՂBP `ĆE0A" 0`. bbE 6\	+Q]ȥ t_#8SI]H!0 	a0x, qyrX!$s8ߨ	J Ppl8!G!J5c&EM(
CGDP(3v DՒ(M,X(% KyG h&Y5ѥQDmId@`,Oj9	S%4bCv-	T@k\vf*F	+)<@SJ@	@S
TBQXBAL$!hE)("rbau	- &  X-łR`PYD\n(A`60DO T%*`x!%@Z?}W-t]߿߿wgּ]~;7Ϫgw]dm͟y?{}ֻ5ݴ;O5R  d4`2`m|0ŧK$hU_
SU1bH"@I5B8Bń$ $s*2-e$v)@'dǀC 3/I	 8ɲ#Bp($X(^B- 
`#JM+}eV  3cHO!%H0J#J"q@g@Tn\&bRPpD4yg5fO/Xݾ^?{7u_3{vkx뛟{sWۓ؍|tÌǎݴ_km/[f;|?+|D;ED1vg @ :&!7A R:(	1~A[5 ! Z!ȳD4(8Wbqp#ѸBK`4Xb"oP>2w>	PDq hs`$k}[{{׿_D_?u]86gvk&Nzxc}/XjɪٿJy_g.w}	ۼv~޿}owv5:_mg5W?߽u|t߽w9U?kc؟]Na@q"-P: I$TX'9Lr B(LYTl(CY: 6r*q
	+&IvAzN0P !QE9Lp%rk] qަugx;vomg宝__ϱgc{3G+{ѻwk_ߏ}Tpǳn~ݯoz'L#jArB1KfnP*% @sߡU
R"r`)tCL-@x qR^F0]%8+P
E=ERHRJ5q47`Bz<b!YG@okX)sD`(Qh8 L{!H
  A@Dz@\!(20qDmX*6c֡t "B1+I4{_}߷{~ϸ?wqD{q=~;uxw}e}#}_{={-7wM9_)o*L0U*a8B*O^ ĕ|zYI#(5p(Z>pO `+b" PF`D`Q!%+@ B :.DCdb
Dyf(FU.0hM#	IA)+sor_k/wi~iws7tʲ{e+Iy^?ʴ7o~3u_~_TMBJS?mMKf9r\zM7׿?=ϼ>Ҟ݃yQwqbީò\MSwx/OｮѷOG
}:8_{~w/OldRa
+I!6ș3r.%`d  %(BP2SF13HcC0
+(ҏ"5 /0@@Ch0NJ;
v==YG܃a/s_?{ӿ_N'k
#u^sYS6uwگoo_ݝt~nȶ_}}~A e.RI@£4A"	( '@1 -4D
GԕZ!6(@ ì A HY-UcF h,!?z@X l % 
PZ>"` 4dGk!\P* 
`CF( Rο0$:o	E`PPfD JA9(h6(o~>?g}~^GnEޟ_MWkw_Vyu~m~{z˟ٮ>f2?*e/ TDa a+B 3-B0HADSCi)fB.@Lx  $hgP([@QV\L(jO
Z\d-8+Y_׻[_[^y{&w՝m3kk]{ߞ_~<k7g}?͢6P>~#>_t^	~y _,ҙÿw־[lyw\>?7?Sj?a_1 :!؉e7t8`t69"p0 `aGOF<P
@	Jp!\ @U?ɼ$De 扃%fqhl^^P
/K4;! b%ABLp9}~?_YWYd>/]_Y֭{_2<W~D6[z}I7?wz\>Fz14q`(PUX2M 1BWLNԷEnJM!)=QrL$dmUB&0h7(`_N&	B'HDXQ
'5IB\eJ+v `BKT $Dp)( A@
{N+"*t MQXp" SB ZG@ƢF'P-mHw}uw@ZվP/K=~#F7u_7ߜ۠NWIo_/ǳڳO|>:{='Je{	 p( 60Q ፿IAi@Q5HSB$T !J!G5åi2@$Pჺ_T h
J`T Fe	PU	@(w_V~	'wAo}澯;}W@pgnɝz{Z<}۟Xie#3ohp+;}tJߜqQ?^9]|=Ϟt[ggd~ k}no<Um{;/#z-޵8)]"ifu=(U,h ,0u9.V@"sxF1 J`IWsS(	Us <!TBMp@Rg DB/{F @pH0PBhtainer) && !isTableCell(endContainer)) {
                startContainer = wrap(startContainer, 'span', { id: '_start', 'data-mce-type': 'bookmark' });
                splitToFormatRoot(startContainer);
                startContainer = unwrap(TRUE);
                return;
              }

              // Wrap start/end nodes in span element since these might be cloned/moved
              startContainer = wrap(startContainer, 'span', { id: '_start', 'data-mce-type': 'bookmark' });
              endContainer = wrap(endContainer, 'span', { id: '_end', 'data-mce-type': 'bookmark' });

              // Split start/end
              splitToFormatRoot(startContainer);
              splitToFormatRoot(endContainer);

              // Unwrap start/end to get real elements again
              startContainer = unwrap(TRUE);
              endContainer = unwrap();
            } else {
              startContainer = endContainer = splitToFormatRoot(startContainer);
            }

            // Update range positions since they might have changed after the split operations
            rng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;
            rng.startOffset = nodeIndex(startContainer);
            rng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;
            rng.endOffset = nodeIndex(endContainer) + 1;
          }

          // Remove items between start/end
          rangeUtils.walk(rng, function (nodes) {
            each(nodes, function (node) {
              process(node);

              // Remove parent span if it only contains text-decoration: underline, yet a parent node is also underlined.
              if (node.nodeType === 1 && ed.dom.getStyle(node, 'text-decoration') === 'underline' &&
                node.parentNode && getTextDecoration(node.parentNode) === 'underline') {
                removeFormat({
                  'deep': false,
                  'exact': true,
                  'inline': 'span',
                  'styles': {
                    'textDecoration': 'underline'
                  }
                }, null, node);
              }
            });
          });
        }

        // Handle node
        if (node) {
          if (node.nodeType) {
            rng = dom.createRng();
            rng.setStartBefore(node);
            rng.setEndAfter(node);
            removeRngStyle(rng);
          } else {
            removeRngStyle(node);
          }

          return;
        }

        if (getContentEditable(selection.getNode()) === "false") {
          node = selection.getNode();
          for (var i = 0, l = formatList.length; i < l; i++) {
            if (formatList[i].ceFalseOverride) {
              if (removeFormat(formatList[i], vars, node, node)) {
                break;
              }
            }
          }

          return;
        }

        if (!selection.isCollapsed() || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {
          bookmark = selection.getBookmark();
          removeRngStyle(selection.getRng(TRUE));
          selection.moveToBookmark(bookmark);

          // Check if start element still has formatting then we are at: "<b>text|</b>text"
          // and need to move the start into the next text node
          if (format.inline && match(name, vars, selection.getStart())) {
            moveStart(selection.getRng(true));
          }

          ed.nodeChanged();
        } else {
          performCaretAction('remove', name, vars, similar);
        }
      }

      /**
       * Toggles the specified format on/off.
       *
       * @method toggle
       * @param {String} name Name of format to apply/remove.
       * @param {Object} vars Optional list of variables to replace within format before applying/removing it.
       * @param {Node} node Optional node to apply the format to or remove from. Defaults to current selection.
       */
      function toggle(name, vars, node) {
        var fmt = get(name);

        if (match(name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {
          remove(name, vars, node);
        } else {
          apply(name, vars, node);
        }
      }

      /**
       * Return true/false if the specified node has the specified format.
       *
       * @method matchNode
       * @param {Node} node Node to check the format on.
       * @param {String} name Format name to check.
       * @param {Object} vars Optional list of variables to replace before checking it.
       * @param {Boolean} similar Match format that has similar properties.
       * @return {Object} Returns the format object it matches or undefined if it doesn't match.
       */
      function matchNode(node, name, vars, similar) {
        var formatList = get(name), format, i, classes;

        function matchItems(node, format, itemName) {
          var key, value, items = format[itemName], i;

          // Custom match
          if (format.onmatch) {
            return format.onmatch(node, format, itemName);
          }

          // Check all items
          if (items) {
            // Non indexed object
            if (items.length === undef) {
              for (key in items) {
                if (items.hasOwnProperty(key)) {
                  if (itemName === 'attributes') {
                    value = dom.getAttrib(node, key);
                  } else {
                    value = getStyle(node, key);
                  }

                  if (similar && !value && !format.exact) {
                    return;
                  }

                  if ((!similar || format.exact) && !isEq(value, normalizeStyleValue(replaceVars(items[key], vars), key))) {
                    return;
                  }
                }
              }
            } else {
              // Only one match needed for indexed arrays
              for (i = 0; i < items.length; i++) {
                if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : getStyle(node, items[i])) {
                  return format;
                }
              }
            }
          }

          return format;
        }

        if (formatList && node) {
          // Check each format in list
          for (i = 0; i < formatList.length; i++) {
            format = formatList[i];

            // Name name, attributes, styles and classes
            if (matchName(node, format) && matchItems(node, format, 'attributes') && matchItems(node, format, 'styles')) {
              // Match classes
              if ((classes = format.classes)) {
                for (i = 0; i < classes.length; i++) {
                  if (!dom.hasClass(node, classes[i])) {
                    return;
                  }
                }
              }

              return format;
            }
          }
        }
      }

      /**
       * Matches the current selection or specified node against the specified format name.
       *
       * @method match
       * @param {String} name Name of format to match.
       * @param {Object} vars Optional list of variables to replace before checking it.
       * @param {Node} node Optional node to check.
       * @return {boolean} true/false if the specified selection/node matches the format.
       */
      function match(name, vars, node) {
        var startNode;

        function matchParents(node) {
          var root = dom.getRoot();

          if (node === root) {
            return false;
          }

          // Find first node with similar format settings
          node = dom.getParent(node, function (node) {
            if (matchesUnInheritedFormatSelector(node, name)) {
              return true;
            }

            return node.parentNode === root || !!matchNode(node, name, vars, true);
          });

          // Do an exact check on the similar format element
          return matchNode(node, name, vars);
        }

        // Check specified node
        if (node) {
          return matchParents(node);
        }

        // Check selected node
        node = selection.getNode();
        if (matchParents(node)) {
          return TRUE;
        }

        // Check sܭܯwgg[-
wso~{
nz7y[~-th#	X[yp{,{cJrzeKB	ڐgǊ*1@(D4K0 =|.@ C(4ӈ	
!  0B˄D   ɰEPBDBD $UQ)'* P3p $BRLcG!l 	 PZ>{pR( #@Z^0# @EqT-D"D   Ѐ$6H(   l"B0Le2Ψ0$Q
 ie#<rbޛ${A<}[W)y}ɐx"RZl7>j9g>KoK>|g~y?2{n<<_x˵  Xd` HUN#PHQ!'	]#H A@!:!D	2@]MH ,   < A3L  ^( CB)$( 
aQ9$11vղq8LIџ}c~̱ϫ߻$6\RAvo{}Fj׬wLOʻO^5WRNϻy=4)_wo߷[׶;vٕ~?O{HUgͬ7n^ǰk)Ӈv{5/>F㷞ks?z={.B,TH1ǎ aPҋh$pQ	$B`80!`Bp1N 0%BP)	5 S%X\0 :
[#R 0AJc,#"  1"\z%?wo)׷Ol5Z]{SsTwr~	ӂKu_rg]DgQ'IA7w}a;}-cǽm g   N:cL R؂֒V	M b  L1		,Zӌ	C  Y `(#hAI0x	($H$@$ \"ՅAAE4m2<4K,x0`b (  	g $)A Ɋh
Df Kx@ LFX@mH 	B DLB9@e@ H,;EH-LaAP &́*GmwN%Sn_\?}aﷺ:]}3{{L?mv~w'~_HWV_'?or;k{
 *  8Bh"N""Q(D @KtqDMIslec$@vJDT(YMЁ' =v#)e!+D:u!pEDAC ZwoקkN~sϼ}H_={irwRcl͖Okrb[no2p}ٔw~]5ev~BY68wsN;wV9_ַ'O_B|qQ#MvyYqM|_/̍_]{D}^7ܽt.kם7~8^ſ.T5.?+(k8YdAtFDBL)! I]+ PnH
a0 H
 	( 1a5j#%%O `@" @J(DQQ VBdE@d `#IG@D`l[ǅׇΧ2??]o~.ί;㿩{%?Ռ/~[M=Kg?_LC373co]l~E0#ʽJJ!D,x@(K  Ӥ'D%8A"$ r@Tb$Q@A"#F$H$& 10@
Ŝ ZJF$`1E)@H6 &3"L3A"nD"AF$Y kd&P@
a
CA$` 
$ xA @"@I  Fa#b@P)p਄!B~9:/}CGsCkWWq~{>dw>D)WmW6+1cw>ܓPj>t>Zzsz,?;Ӭ?+:eg8(ЪI3P48T NR  $ ZHFE!@X1_ +k4$m@x$# @̈NHE@*P  `1P@$AQ b^ e\_+qar6;嗞ۿ~MsgѼ߷(wW;M/_WE_sOvzo?Ӻu?ӧS|t?c4_~G3s[7ߟYcVgAA߹gcӻȿ۾OߖVv}Y]8_V|ow:^uޛ7wfV{vu}acſ/?q);RT2ENe`( F  X ů}hDD !0Z H@`I< @RC )"
9V(a+`$ B!*Y(P0 QTig0ͫw-K{~џ璶ӿKo/4Z5Poߵ%{bu?{:>Ihﳥw_?{gE8oO*~{rq?w*Nb{ T-aAwX H A@j@\B($`ph8D]C(!(8^c, Dh!
bT	@$8,	h@tbDYFx22[qj(40v 1P LW j0JH  .Bh`Q4LFf  0 K$ :L" ih0"aB "K2ЁCz!D jg;f_%\-2{Nyos]GzzAb9&voo+wN{%yovߞ,ďʸgtz{t~nאkR`$4a
P*e  f฀6AoH@v!%p'pm +V0Α!RAA
	b [0*ǌZ xQ܀Bbܠ`"byUׯU?ݷн)n.d?7׻S^)^sԷ[{_.~ΕJk?k7ϹW{О_Ww]|,;H_Qx+{=1on+Rm4\>߼ >yu|mW~t$Sh	D&]10-8DJF$U`P*	 $XKi2jBL G% R$GDfr
 40
X@$(3 T%.`+T2(               return false;
                }

                if (matchesUnInheritedFormatSelector(node, format)) {
                  return false;
                }
              });
            });

            // Check if current formats still match
            each(currentFormats, function (callbacks, format) {
              if (!matchedFormats[format]) {
                delete currentFormats[format];

                each(callbacks, function (callback) {
                  callback(false, { node: e.element, format: format, parents: parents });
                });
              }
            });
          });
        }

        // Add format listeners
        each(formats.split(','), function (format) {
          if (!formatChangeData[format]) {
            formatChangeData[format] = [];
            formatChangeData[format].similar = similar;
          }

          formatChangeData[format].push(callback);
        });

        return this;
      }

      /**
       * Returns a preview css text for the specified format.
       *
       * @method getCssText
       * @param {String/Object} format Format to generate preview css text for.
       * @return {String} Css text for the specified format.
       * @example
       * var cssText1 = editor.formatter.getCssText('bold');
       * var cssText2 = editor.formatter.getCssText({inline: 'b'});
       */
      function getCssText(format) {
        return Preview.getCssText(ed, format);
      }

      // Expose to public
      extend(this, {
        get: get,
        register: register,
        unregister: unregister,
        apply: apply,
        remove: remove,
        toggle: toggle,
        match: match,
        matchAll: matchAll,
        matchNode: matchNode,
        canApply: canApply,
        formatChanged: formatChanged,
        getCssText: getCssText
      });

      // Initialize
      defaultFormats();
      addKeyboardShortcuts();
      ed.on('BeforeGetContent', function (e) {
        if (markCaretContainersBogus && e.format != 'raw') {
          markCaretContainersBogus();
        }
      });
      ed.on('mouseup keydown', function (e) {
        if (disableCaretContainer) {
          disableCaretContainer(e);
        }
      });

      // Private functions

      /**
       * Checks if the specified nodes name matches the format inline/block or selector.
       *
       * @private
       * @param {Node} node Node to match against the specified format.
       * @param {Object} format Format object o match with.
       * @return {boolean} true/false if the format matches.
       */
      function matchName(node, format) {
        // Check for inline match
        if (isEq(node, format.inline)) {
          return TRUE;
        }

        // Check for block match
        if (isEq(node, format.block)) {
          return TRUE;
        }

        // Check for selector match
        if (format.selector) {
          return node.nodeType == 1 && dom.is(node, format.selector);
        }
      }

      /**
       * Compares two string/nodes regardless of their case.
       *
       * @private
       * @param {String/Node} str1 Node or string to compare.
       * @param {String/Node} str2 Node or string to compare.
       * @return {boolean} True/false if they match.
       */
      function isEq(str1, str2) {
        str1 = str1 || '';
        str2 = str2 || '';

        str1 = '' + (str1.nodeName || str1);
        str2 = '' + (str2.nodeName || str2);

        return str1.toLowerCase() == str2.toLowerCase();
      }

      function processChildElements(node, filter, process) {
        each(node.childNodes, function (node) {
          if (isElementNode(node)) {
            if (filter(node)) {
              process(node);
            }
            if (node.hasChildNodes()) {
              processChildElements(node, filter, process);
            }
          }
        });
      }

      function isElementNode(node) {
        return node && node.nodeType === 1 && !isBookmarkNode(node) && !isCaretNode(node) && !NodeType.isBogus(node);
      }

      function hasStyle(name) {
        return Fun.curry(function (name, node) {
          return !!(node && getStyle(node, name));
        }, name);
      }

      function applyStyle(name, value) {
        return Fun.curry(function (name, value, node) {
          dom.setStyle(node, name, value);
        }, name, value);
      }

      /**
       * Returns the style by name on the specified node. This method modifies the style
       * contents to make it more easy to match. This will resolve a few browser issues.
       *
       * @private
       * @param {Node} node to get style from.
       * @param {String} name Style name to get.
       * @return {String} Style item value.
       */
      function getStyle(node, name) {
        return normalizeStyleValue(dom.getStyle(node, name), name);
      }

      /**
       * Normalize style value by name. This method modifies the style contents
       * to make it more easy to match. This will resolve a few browser issues.
       *
       * @private
       * @param {String} value Value to get style from.
       * @param {String} name Style name to get.
       * @return {String} Style item value.
       */
      function normalizeStyleValue(value, name) {
        // Force the format to hex
        if (name == 'color' || name == 'backgroundColor') {
          value = dom.toHex(value);
        }

        // Opera will return bold as 700
        if (name == 'fontWeight' && value == 700) {
          value = 'bold';
        }

        // Normalize fontFamily so "'Font name', Font" becomes: "Font name,Font"
        if (name == 'fontFamily') {
          value = value.replace(/[\'\"]/g, '').replace(/,\s+/g, ',');
        }

        return '' + value;
      }

      /**
       * Replaces variables in the value. The variable format is %var.
       *
       * @private
       * @param {String} value Value to replace variables in.
       * @param {Object} vars Name/value array with variables to replace.
       * @return {String} New value with replaced variables.
       */
      function replaceVars(value, vars) {
        if (typeof value != "string") {
          value = value(vars);
        } else if (vars) {
          value = value.replace(/%(\w+)/g, function (str, name) {
            return vars[name] || str;
          });
        }

        return value;
      }

      function isWhiteSpaceNode(node) {
        return node && node.nodeType === 3 && /^([\t \r\n]+|)$/.test(node.nodeValue);
      }

      function wrap(node, name, attrs) {
        var wrapper = dom.create(name, attrs);

        node.parentNode.insertBefore(wrapper, node);
        wrapper.appendChild(node);

        return wrapper;
      }

      /**
       * Expands the specified range like object to depending on format.
       *
       * For example on block formats it will move the start/end position
       * to the beginning of the current block.
       *
       * @private
       * @param {Object} rng Range like object.
       * @param {Array} format Array with formats to expand by.
       * @param {Boolean} remove
       * @return {Object} Expanded range like object.
       */
      function expandRng(rng, format, remove) {
        var lastIdx, leaf, endPoint,
          startContainer = rng.startContainer,
          startOffset = rng.startOffset,
          endContainer = rng.endContainer,
          endOffset = rng.endOffset;

        // This function walks up the tree if there is no siblings before/after the node
        function findParentContainer(start) {
          var container, parent, sibling, siblingName, root;

          container = parent = start ? startContainer : endContainer;
          siblingName = start ? 'previousSibling' : 'nextSibling';
          root = dom.getRoot();

          function isBogusBr(node) {
            return node.nodeName == "BR" && node.getAttribute('data-mce-bogus') && !node.nextSibling;
          }

          // If it's a text node and the offset is inside the text
          if (container.nodeType == 3 && !isWhiteSpaceNode(container)) {
            if (start ? startOffset > 0 : endOffset < container.nodeValue.length) {
              return container;
            }
          }

          /*eslint no-constant-condition:0 */
          while (true) {
            // Stop expanding on block elements
            if (!format[0].block_expand && isBlock(parent)) {
              return parent;
            }

            // Walk left/right
            for (sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {
              if (!isBookmarkNode(sibling) && !isWhiteSpaceNode(sibling) && !isBogusBr(sibling)) {
                return parent;
              }
            }

            // Check if we can move up are we at root level or body level
            if (parent == root || parent.parentNode == root) {
              container = parent;
              break;
            }

            parent = parent.parentNode;
          }

          return container;
        }

        // This function walks down the tree to find the leaf at the selection.
        // The offset is also returned as if node initially a leaf, the offset may be in the middle of the text node.
        function findLeaf(node, offset) {
          if (offset === undef) {
            offset = node.nodeType === 3 ? node.length : node.childNodes.length;
          }

          while (node && node.hasChildNodes()) {
            node = node.childNodes[offset];
            if (node) {
              offset = node.nodeType === 3 ? node.length : node.childNodes.length;
            }
          }
          return { node: node, offset: offset };
        }

        // If index based start position then resolve it
        if (startContainer.nodeType == 1 && startContainer.hasChildNodes()) {
          lastIdx = startContainer.childNodes.length - 1;
          startContainer = startContainer.childNodes[startOffset > lastIdx ? lastIdx : startOffset];

          if (startContainer.nodeType == 3) {
            startOffset = 0;
          }
        }

        // If index based end position then resolve it
        if (endContainer.nodeType == 1 && endContainer.hasChildNodes()) {
          lastIdx = endContainer.childNodes.length - 1;
          endContainer = endContainer.childNodes[endOffset > lastIdx ? lastIdx : endOffset - 1];

          if (endContainer.nodeType == 3) {
            endOffset = endContainer.nodeValue.length;
          }
        }

        // Expands the node to the closes contentEditable false element if it exists
        function findParentContentEditable(node) {
          var parent = node;

          while (parent) {
            if (parent.nodeType === 1 && getContentEditable(parent)) {
              return getContentEditable(parent) === "false" ? parent : node;
            }

            parent = parent.parentNode;
          }

          return node;
        }

        function findWordEndPoint(container, offset, start) {
          var walker, node, pos, lastTextNode;

          function findSpace(node, offset) {
            var pos, pos2, str = node.nodeValue;

            if (typeof offset == "undefined") {
              offset = start ? str.length : 0;
            }

            if (start) {
              pos = str.lastIndexOf(' ', offset);
              pos2 = str.lastIndexOf('\u00a0', offset);
              pos = pos > pos2 ? pos : pos2;

              // Include the space on remove to avoid tag soup
              if (pos !== -1 && !remove) {
                pos++;
              }
            } else {
              pos = str.indexOf(' ', offset);
              pos2 = str.indexOf('\u00a0', offset);
              pos = pos !== -1 && (pos2 === -1 || pos < pos2) ? pos : pos2;
            }

            return pos;
          }

          if (container.nodeType === 3) {
            pos = findSpace(container, offset);

            if (pos !== -1) {
              return { container: container, offset: pos };
            }

            lastTextNode = container;
          }

          // Walk the nodes inside the block
          walker = new TreeWalker(container, dom.getParent(container, isBlock) || ed.getBody());
          while ((node = walker[start ? 'prev' : 'next']()))Ngש~Q|K_7޶~fWM1'<ﾫ*qmcM鶹8;᝿s]g?BZ7c	~|;-}?9?nQZ'_Ww;[[wGS87ߟ~O=}Rm	tK3t;N_ng_{}_zЌxM2mMnӞޟ ;w*(8Þπxof9N{9VݬjPh>FO]IZov6v7]h7UO2~[^ݱ&?gx\}ڏt*k{w+v~wFz_j&νO[{sxyKXknzn\>siyRg~<쥾Zoߖwqۻ޻u߭\6Z\+;9wq@Uj5,ʍQ~N-)o?E}ЭtV^9K}܉kw͖ھQ|_g8ؿ߮_n~b'MS_=_4__y~mU~~ؗͻ_^9m>˯j~g/ߠo_\W?>_{磶n^ry><{޳ߖ׵_[w˫k?wo^(v{f%7gMۯq-۽Q('vvvx?fC{/'_U<Wܫ{_n+n鿔6*[wO;k~݃"ĵ{Ogŏ>{６۸~<~,vO]_mVo;|k$?_sE^o޿).ʳ7xԷK9U<4?eɏҾ׉_wۯRߍ(yu~#5koq7nUe;_]Ӟ擓Cg7v(˗%su p Si@?wso<[O;__yLqϘyq}gͷxi,ooWN,~bozϳz2;[?{ﳹ/y7//n{ly߀~o.6'/?!P.޺Ho~s*ݹS{mco	\q/Ә^]s^9VG]ߵNxlZT/`yo:ong;?ow]Apͳ~v{
?>_K#^KMt}?{^\yWW?_V8owؿ\o-+ɽ.};q5_ޯ齦Gn2K-</ս}ןmuϼ}syV6g?zӬ?z1-pwwu?׽w}WY[ZO§뻇]@_7og)|9/y},Ag}]v|eg,kAWSXY>qՙ/jgg]o_4O_mɼvmo߯]wzw]oɟQ}߶5?]sޟ:gr~C<roƞvڽuZ{)~{ϖuJlŽ16u7;z?u֏?U[kfߧf?Tx;??S{=k<F8x>է44w_/k>yW)ݻkN-Ը}o{5~YT_nrvC1͝~?ߜ̛#t{EݿƳk*vμ?/6]y>_!\}g˿΢yGYۺ-'8OxS_}MA\5_8z[gU۝Yw-V7]fw㖾N}Unּ	E=;~»_wy/^}{jzs[fk}{潫i[/W~EOKoߒ>}y_?~o{}-sMo0W$ocW?aP=S[Kr7۫oԳ:N#~O7U0Gwڨ\y6;ʧ瓋ֺ»]wN:!нeuXz4ϗx7[)cw/Vˮ!/C}W&䃧?iο
mI#xƷ37}ǯ;v9'?p޶_߿9ƾ6=սߏou7?{~=.kst?=5O/Ru]n^ίZw=o{wc~UZҞ^)m3ߏ?fo{07LMv??4OW\}Qjrx_tkcoOBs8?"~&n\]^|ץ9-{_럹7&o.^^v~P@ջosm?ݜ[pV~%OLH}om}9tG?/hmyG}Nmq&'"ݵO}oosm__{n}_uw^_u9wN?^2?\Ⱦ~68u??T~9{>sw?K"UxEjGpݮf~HNl{%vSx<w{-FMm< _JVK+]3i~W>u:iT]-]`~ەyr}5g}~f9w2i~wqR=^޿]ts;t~{k}}n{~f?ݟO[÷k?ֽoo˲;K;nv?o߿]N}[gz/yt/_o+3n{=OMu:s63Wu-߼Eruӟ %Iߝ%|v>k=G6SMy?֫7eOSJ~>x}lXm:貖c9?Fe(A%5PODQ\2@b%PՍ `Tix ) A0bDuϖdO8T!P
 "蒛 % C8c $C 1>I!"b5P9νg;OA_[}`OZeگ1庻Yήf>⯽;׿rww뽬?~s'[ϑӿ?w튟Ow}9%.ޫz[Wx\kƶ;g͝gKR~ُ/*Oy]һݗ+^G6ns}>}^[js"?RnO@(I9RL R5AC'   g! 2Ib$qO"N) "z  @dFihv" a(<I!P"  lXf&P (d l^|~kJg]طsp`\Lkf0)ٔ;=ΎSٙ_(eJ6^״GKܦړnw홾Ŀ{ByARh1P &C @FFC!.P[2$SPv*h0CCER bC(@Sրࡰ" A
(
B
 %Mf ` 
qbPR%BHXEn-kHDA 9	D04' "'<*,	  JHb1!A 0	@*JVaDA
ƀ#=p2DvyٻռfMl%ƪYif5goClvݻi?3yfuҾ1>{Y]>yz{w;z7OӾfeзmo0C 0   @KŮI6U ,DBeY@@&R1% l; @j<dᴁ "xD#FD0  2T"B 8%S
 `DAlwuj)V%w?MPߓmTnål}OxEm#^n5M~0oƴB.~ݿ^Yoݞ;'m?b_Cw>L&&!ywwK㛖zj}+Qohn~Q[3n]컱iC럧tuV}Wt>ݛŖ7n_qvV 0 D*97bIN  U  
a@EpTAjC$ҤxF'!H		$@@A2@x5tTdPm7.KGM Y^.6'W}
-wg=w߭N=]}޷:|w.Ul!W:w#0W<4[% "{J H#E@$4%<AQ,!9Pa)`*F$ 	JHd0``0,qQqM 0P:q &*`4P4p`/ *J@ ( JoȔ  Fe.K`q
T0 (g&4 K&	P) @d<* 1fZTlKH: P(na0 J.Dz|qtSM#:=]oQ~&/ܷAeXP{_.Xt~%Zfѯwyٵ)뾁ww#|5_K U+WF E]F$Xp" & !aT FX*!ĠLANe0M0؅8'!$ (@#AV BAF	̰A RA"0	zkTEש[;NZaVѣIey/K'Kb^7i^~.o5z1c`rY|g{IvwٜwwݢoŻ˿Ϟ|֮W{kzҥzٷQogu6=wnt?{mZmßgcoOv?"ܵЗnmT ) `	
hc84 :Ah8mEl H \XFJIjC$@Bt	 )X(@@8&$xV]6Umd=}~_o~qd{^%+Y|O<q_>6WT}߯e^W"gj,w_}gΟOE-p '{ dM$5q A0%%Bp@UP	0A Ђ :@@ !RXxA4@``! ZLefD @
- p" $ Dd B? 
 c)  E    WkX04EA3BF,HT> 6`8QrъPD	@dX!D	 ",`AEC!h(!B"2 LA<%O=}Cӟ~^'7>߿yomᲟBJo{o?.TzdN?3q<ϻY;_כ6[g{po+y#Y1@pb< 0n" ) lLQaJR5DUĐQ-дA  B
@&t@`P@ @@A=(@"T8@V^   J gJ(Aײ&{zckQv7wR%}/t=oxO}s9\LyqƷ~Sesm"[~m%MY:$F_VKO~'/{,`?=ʝ{qڥ{;qr?.q_uׇk7nvY\~+O/Rm! 14"Zf )h"#` H9$Ā q@L 	 ՐY"(j 2H !h2p H 
ABs@S"@aNy0J0HGf˖S+:oxo357S_~O;7reZ|ZݷO =追ηŲWv1v0[yx @8  cLb[ B$ZABMr$h@J@ A R T@
e0  I(:t dT
 	`( @A0JLq*0h
)c
5mZAr)B!2 XA*C	fq$@048
 A B	"ɅH@bR'380@8TD X})"BpB<V5Qw972cJ	w_w0~=GZKI?pٮ}՜=۷4ל$O;?;:䕊_]A]KOi, attrs, stylesModified;

        // Check if node matches format
        if (!matchName(node, format) && !isColorFormatAndAnchor(node, format)) {
          return FALSE;
        }

        // Should we compare with format attribs and styles
        if (format.remove != 'all') {
          // Remove styles
          each(format.styles, function (value, name) {
            value = normalizeStyleValue(replaceVars(value, vars), name);

            // Indexed array
            if (typeof name === 'number') {
              name = value;
              compareNode = 0;
            }

            if (format.remove_similar || (!compareNode || isEq(getStyle(compareNode, name), value))) {
              dom.setStyle(node, name, '');
            }

            stylesModified = 1;
          });

          // Remove style attribute if it's empty
          if (stylesModified && dom.getAttrib(node, 'style') === '') {
            node.removeAttribute('style');
            node.removeAttribute('data-mce-style');
          }

          // Remove attributes
          each(format.attributes, function (value, name) {
            var valueOut;

            value = replaceVars(value, vars);

            // Indexed array
            if (typeof name === 'number') {
              name = value;
              compareNode = 0;
            }

            if (!compareNode || isEq(dom.getAttrib(compareNode, name), value)) {
              // Keep internal classes
              if (name == 'class') {
                value = dom.getAttrib(node, name);
                if (value) {
                  // Build new class value where everything is removed except the internal prefixed classes
                  valueOut = '';
                  each(value.split(/\s+/), function (cls) {
                    if (/mce\-\w+/.test(cls)) {
                      valueOut += (valueOut ? ' ' : '') + cls;
                    }
                  });

                  // We got some internal classes left
                  if (valueOut) {
                    dom.setAttrib(node, name, valueOut);
                    return;
                  }
                }
              }

              // IE6 has a bug where the attribute doesn't get removed correctly
              if (name == "class") {
                node.removeAttribute('className');
              }

              // Remove mce prefixed attributes
              if (MCE_ATTR_RE.test(name)) {
                node.removeAttribute('data-mce-' + name);
              }

              node.removeAttribute(name);
            }
          });

          // Remove classes
          each(format.classes, function (value) {
            value = replaceVars(value, vars);

            if (!compareNode || dom.hasClass(compareNode, value)) {
              dom.removeClass(node, value);
            }
          });

          // Check for non internal attributes
          attrs = dom.getAttribs(node);
          for (i = 0; i < attrs.length; i++) {
            var attrName = attrs[i].nodeName;
            if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {
              return FALSE;
            }
          }
        }

        // Remove the inline child if it's empty for example <b> or <span>
        if (format.remove != 'none') {
          removeNode(node, format);
          return TRUE;
        }
      }

      /**
       * Removes the node and wrap it's children in paragraphs before doing so or
       * appends BR elements to the beginning/end of the block element if forcedRootBlocks is disabled.
       *
       * If the div in the node below gets removed:
       *  text<div>text</div>text
       *
       * Output becomes:
       *  text<div><br />text<br /></div>text
       *
       * So when the div is removed the result is:
       *  text<br />text<br />text
       *
       * @private
       * @param {Node} node Node to remove + apply BR/P elements to.
       * @param {Object} format Format rule.
       * @return {Node} Input node.
       */
      function removeNode(node, format) {
        var parentNode = node.parentNode, rootBlockElm;

        function find(node, next, inc) {
          node = getNonWhiteSpaceSibling(node, next, inc);

          return !node || (node.nodeName == 'BR' || isBlock(node));
        }

        if (format.block) {
          if (!forcedRootBlock) {
            // Append BR elements if needed before we remove the block
            if (isBlock(node) && !isBlock(parentNode)) {
              if (!find(node, FALSE) && !find(node.firstChild, TRUE, 1)) {
                node.insertBefore(dom.create('br'), node.firstChild);
              }

              if (!find(node, TRUE) && !find(node.lastChild, FALSE, 1)) {
                node.appendChild(dom.create('br'));
              }
            }
          } else {
            // Wrap the block in a forcedRootBlock if we are at the root of document
            if (parentNode == dom.getRoot()) {
              if (!format.list_block || !isEq(node, format.list_block)) {
                each(grep(node.childNodes), function (node) {
                  if (isValid(forcedRootBlock, node.nodeName.toLowerCase())) {
                    if (!rootBlockElm) {
                      rootBlockElm = wrap(node, forcedRootBlock);
                      dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);
                    } else {
                      rootBlockElm.appendChild(node);
                    }
                  } else {
                    rootBlockElm = 0;
                  }
                });
              }
            }
          }
        }

        // Never remove nodes that isn't the specified inline element if a selector is specified too
        if (format.selector && format.inline && !isEq(format.inline, node)) {
          return;
        }

        dom.remove(node, 1);
      }

      /**
       * Returns the next/previous non whitespace node.
       *
       * @private
       * @param {Node} node Node to start at.
       * @param {boolean} next (Optional) Include next or previous node defaults to previous.
       * @param {boolean} inc (Optional) Include the current node in checking. Defaults to false.
       * @return {Node} Next or previous node or undefined if it wasn't found.
       */
      function getNonWhiteSpaceSibling(node, next, inc) {
        if (node) {
          next = next ? 'nextSibling' : 'previousSibling';

          for (node = inc ? node : node[next]; node; node = node[next]) {
            if (node.nodeType == 1 || !isWhiteSpaceNode(node)) {
              return node;
            }
          }
        }
      }

      /**
       * Merges the next/previous sibling element if they match.
       *
       * @private
       * @param {Node} prev Previous node to compare/merge.
       * @param {Node} next Next node to compare/merge.
       * @return {Node} Next node if we didn't merge and prev node if we did.
       */
      function mergeSiblings(prev, next) {
        var sibling, tmpSibling, elementUtils = new ElementUtils(dom);

        function findElementSibling(node, siblingName) {
          for (sibling = node; sibling; sibling = sibling[siblingName]) {
            if (sibling.nodeType == 3 && sibling.nodeValue.length !== 0) {
              return node;
            }

            if (sibling.nodeType == 1 && !isBookmarkNode(sibling)) {
              return sibling;
            }
          }

          return node;
        }

        // Check if next/prev exists and that they are elements
        if (prev && next) {
          // If previous sibling is empty then jump over it
          prev = findElementSibling(prev, 'previousSibling');
          next = findElementSibling(next, 'nextSibling');

          // Compare next and previous nodes
          if (elementUtils.compare(prev, next)) {
            // Append nodes between
            for (sibling = prev.nextSibling; sibling && sibling != next;) {
              tmpSibling = sibling;
              sibling = sibling.nextSibling;
              prev.appendChild(tmpSibling);
            }

            // Remove next node
            dom.remove(next);

            // Move children into prev node
            each(grep(next.childNodes), function (node) {
              prev.appendChild(node);
            });

            return prev;
          }
        }

        return next;
      }

      function getContainer(rng, start) {
        var container, offset, lastIdx;

        container = rng[start ? 'startContainer' : 'endContainer'];
        offset = rng[start ? 'startOffset' : 'endOffset'];

        if (container.nodeType == 1) {
          lastIdx = container.childNodes.length - 1;

          if (!start && offset) {
            offset--;
          }

          container = container.childNodes[offset > lastIdx ? lastIdx : offset];
        }

        // If start text node is excluded then walk to the next node
        if (container.nodeType === 3 && start && offset >= container.nodeValue.length) {
          container = new TreeWalker(container, ed.getBody()).next() || container;
        }

        // If end text node is excluded then walk to the previous node
        if (container.nodeType === 3 && !start && offset === 0) {
          container = new TreeWalker(container, ed.getBody()).prev() || container;
        }

        return container;
      }

      function performCaretAction(type, name, vars, similar) {
        var caretContainerId = '_mce_caret', debug = ed.settings.caret_debug;

        // Creates a caret container bogus element
        function createCaretContainer(fill) {
          var caretContainer = dom.create('span', { id: caretContainerId, 'data-mce-bogus': true, style: debug ? 'color:red' : '' });

          if (fill) {
            caretContainer.appendChild(ed.getDoc().createTextNode(INVISIBLE_CHAR));
          }

          return caretContainer;
        }

        function isCaretContainerEmpty(node, nodes) {
          while (node) {
            if ((node.nodeType === 3 && node.nodeValue !== INVISIBLE_CHAR) || node.childNodes.length > 1) {
              return false;
            }

            // Collect nodes
            if (nodes && node.nodeType === 1) {
              nodes.push(node);
            }

            node = node.firstChild;
          }

          return true;
        }

        // Returns any parent caret container element
        function getParentCaretContainer(node) {
          while (node) {
            if (node.id === caretContainerId) {
              return node;
            }

            node = node.parentNode;
          }
        }

        // Finds the first text node in the specified node
        function findFirstTextNode(node) {
          var walker;

          if (node) {
            walker = new TreeWalker(node, node);

            for (node = walker.current(); node; node = walker.next()) {
              if (node.nodeType === 3) {
                return node;
              }
            }
          }
        }

        // Removes the caret container for the specified node or all on the current document
        function removeCaretContainer(node, moveCaret) {
          var child, rng;

          if (!node) {
            node = getParentCaretContainer(selection.getStart());

            if (!node) {
              while ((node = dom.get(caretContainerId))) {
                removeCaretContainer(node, false);
              }
            }
          } else {
            rng = selection.getRng(true);

            if (isCaretContainerEmpty(node)) {
              if (moveCaret !== false) {
                rng.setStartBefore(node);
                rng.setEndBefore(node);
              }

              dom.remove(node);
            } else {
              child = findFirstTextNode(node);

              if (child.nodeValue.charAt(0) === INVISIBLE_CHAR) {
                child.deleteData(0, 1);

                // Fix for bug #6976
                if (rng.startContainer == child && rng.startOffset > 0) {
                  rng.setStart(child, rng.startOffset - 1);
                }

                if (rng.endContainer == child && rng.endOffset > 0) {
                  rng.setEnd(child, rng.endOffset - 1);
                }
              }

              dom.remove(node,Ed@5G )S6S8#J TN'w捃 R(\d.1`@pq hȗcI 8 ¨0 pQ,!pIkHs"6'À6;1 (H]B	^
圀4Ht靤DQT{ ]a0c f*HD$ڪ
6+a	P <H'YmM}u{)&|{}vog{?|}ϼݻ3/Ϝ}Kwn;jkuwL~wnX_zw9w~]/{7u    , S  (  K  ,(,
  @    	 j,CJ("   8   DBC[ A  <Z!B2 8*
  T   V0@  @j2=<(4 
J  p?   @"04 d F,((
  @ 

   n j,CJ("   xC0J`#M 7$     J DF{mk [\@>E81Jʭ   !IJ  W?a  %[+   ^^Я22 :0    xC3JCG 7$     J DF{m[\>E(4Jʭ   !PEJ-  a  %[+   ^^Я22 :0    X; 7$     J DF{m[\q>Eʭ   !IJ     %[+   ^^Я22P :0    xCt9JL 7$     J DF{myk [\>E:Jʭ   !I؞J  2W?%[+   ^^/d&1d&z    :0    xCd<J8G 7$     J DF{mxk [\s>E<J=Jʭ   !0vIJ&  %[+   ^^Я22p	 u] :0    xCT?JyG 7$     J DF{m[\@v>E?J   [  n, ^     C 8 8? 8 Ç1(8E>O78 8`?@? x8a_ C?@? w9?? %4 S
  '  M  К0   h&2=<($ J  p?   @"04 d E,(,  @    n	 n,CJ("   8   DCk A  <Z!2 8*
  T   Y0@  @j2=<(4 
J  p?   @"0x(  E   !pIXJʭ   JW?7  k %[+      ^^   F^K :0 a     xC!JlL 7$     J DF{m[\>Eʭ   !`IJ  %[+   ^^Я22.-2j :0    $JM 7$     J DF{mk [\>Ex%Jʭ   !%IJ%  a  %[+   ^^2v) :0    xC'Jx0M 7$     J DF{m[\ >Eh(Jʭ   ! IIJ   W?   %[+   ^^Яu&u&̂ :0    xC*J/M 7$     J DF{m[\>Eʭ   !cIJW?   a  %[+   ^^Я22 :0    xC-JM 7$     J DF{mk [\ >Eʭ   !PIJ   a  %[+   ^^Я22] :0      .  nn, n.   ~     @  ?? 	b? 8 8!?K ^"8 80?>O088 8c6^  9?? 1Hb?+T+9?       S\   h   j                     
 
                                                           
                                          
                              ::: Q8Ӽ6@666 :6:@r7@: ;>::e78 KDcf:_)L:V)L                     X       
      S          S*O]S1 T{@ =R QA'0 &_ҧtS`Oj@J}/6L{ef %<J D`ŰQeJP ky@a`')AlO?钯IWr߳ͱכS=oɻ~|׹{aj0c2W{&ߖGݟ/Kڭ3vk{|}>oWߏg>տ;Ξ_}\ݽz<~Y/wiwv<߼ۛ3_WܟKGWןYuɣ_7?d6d iH0@8A 'I%Ё
ʖ"V`	, ER$* %+)@$h	 B% Y`*B*`5  RqS%	O (G W"a۶~Z3}=| |?o~'s{??X{ޥuD?9,y}W\;_y kdh+QTJ(( @H 
 (m	*PB-D%B, 2 @X>  9 `0(@,) %`$\u* dW>&	-i>5$dp$F4TLH
2UZf6	*@PQ#Ex Tv@B\HPN*
ZC1%G8EFF	bT1k2u	XEZA6Z[ KcDzxMj@AE pŌk' 1FP~ήK!SDA!r=D5F >|@tF)ұAh" dP9n2 0
 f
ēu ł8$!tW&
pdO4 ! @("- @ äPzX8"	b]H !@$
T@pAyI
"$#&CRbb9#@.)Z 
j8@&BH%x`N	gE0g
 GhQh3`Ip@@ (9'݋ -}*0T7X5!tBZAB#  ,C@X#"x<C0 EA#-J  B\@ aC 2= 0B á2 P QHE2у`D
hQtA@ p_O@D$@<b Md @{ 0	(B؄@PW`J
T(D@E
9
S휶(DxXЍiB;cĄu_PD$%&PRIPg `C,t;z$U 
T h$tu0Uu|0.Jd`2V3,1X{cYa" 4 BI,P	 ĂDd0@hb_$	K(2#	 a6 e=䪼!3LNgʜ 0$F6
LPRil: 0`TE׀"t[b8LB"EC@["r`4!sD ahjE^R@E $$i=:&p,`<"B!
ATK	Dm0	 $"F<k Gp
FHFF@p+`B`d%iLYDU^ B9CtL d 6a 3^^!  '#蓗2C<7ో
(AӊJ G?ACpQÀ,hP1s@A#  {2
 FH ()a ,XMqE B0@ (N@l N0 X%   <QXK[@H?[+"n|8T<V9vPDg#P` 
CX⑄@n)
FťTU  	xW7V/DR LZP@ѩV @ha`j#P` !DJ
yA-$P4 b,C`PWh  @i	@DU3,|  BHE
  p  @1 H  `-G(p  %ߠh`qE{eD	q ^p 	$"\x`TTP LHDv 6b#( ֆB|p,' +#PIb	 RP   DSTfRd#G()\R۰&rN %RK 2q(P2$#1e8%5%8!I ÓT"Z4T=M!&+p2J'D@`2 4hIU \@U,h h epNdE"2 @]@f 5cޠlK㰌q")@e1#` 7D(D11=#!]'_D1X3sAVZRhh ?}40ae"|
jF^)P  }tp\y2F :&ˋ
vKw\J
 SX &QHh-?䇉	x2`E&?<{G	r  2f4 `+LL "$P".@F"FBFB $9a@a`>6ZH(A4`6a@z@
|4a A  8@EU P:nP !) 	MԅH@. @tN4 UȒ1 8`  ",B`҈(+`
Sxf `9d،f]n҃
T F0O\oB*T7>@ %+!0G
DRf$=quA QOB(X$&1L0hb9h`M A0XЀJ`V Z=6¥r  $2% H0p ;B@"X(`@$ (` b@*@X$dy8E!! \\X YCPa?VՄQqy@0Q$QT+#	,GdA\!
CpBxPt A)$+8sqK
-2@%a@6a/	R'!ffJF jk Ay!a$V;iE<h0uöU_6 E>*d)'0F$
Q5@;@b2LZ1"3@Jp!kP
z0hJ$@EB!iIA^d:@*!C!@kI 31 cf֏T 0*E<6# RH[!0	HM"H "b~(1gPԷ2`<[(QHBL! f+$L	$F47
Q9ф 8:$eDdلJKp 9ÉR3T D)Q3ZDضHLdA'b_DSA^1!A"KhʕQTtM:9@ITĎD@YNTcā)nHsY8E )_%  MS  N0bW).)DdG<AA>QU 1YTj	p!Yx1@@X oOvm(Y PMH
`0;&$K1lR@W0/q8_J\Ԭ@ qT$/"%J1)-PA*3: ÀA	M,#!BC ŒhB `hh`@	$XD SI(#תܻP h\ B.B)Q4h	&P$A  ,pD  (@@t
 CAc H3Y);!i(H!;!* A %HT1G*vh D`4 $ H +"AP}(IEy"'ɽ"
Ecb'^@IlZp3p9H*)[HBZ P3Bp	?8Sdop~jC682jpr#@ 
1 e Tpil0Ides[nodes.length - 1];
            walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));
            walker.next(true);
          }

          for (node = walker.current(); node; node = walker.next()) {
            if (node.nodeType == 3 && !isWhiteSpaceNode(node)) {
              rng.setStart(node, 0);
              selection.setRng(rng);

              return;
            }
          }
        }
      }
    };
  }
);

/**
 * Diff.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * JS Implementation of the O(ND) Difference Algorithm by Eugene W. Myers.
 *
 * @class tinymce.undo.Diff
 * @private
 */
define(
  'tinymce.core.undo.Diff',
  [
  ],
  function () {
    var KEEP = 0, INSERT = 1, DELETE = 2;

    var diff = function (left, right) {
      var size = left.length + right.length + 2;
      var vDown = new Array(size);
      var vUp = new Array(size);

      var snake = function (start, end, diag) {
        return {
          start: start,
          end: end,
          diag: diag
        };
      };

      var buildScript = function (start1, end1, start2, end2, script) {
        var middle = getMiddleSnake(start1, end1, start2, end2);

        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 ||
          middle.end === start1 && middle.diag === start1 - start2) {
          var i = start1;
          var j = start2;
          while (i < end1 || j < end2) {
            if (i < end1 && j < end2 && left[i] === right[j]) {
              script.push([KEEP, left[i]]);
              ++i;
              ++j;
            } else {
              if (end1 - start1 > end2 - start2) {
                script.push([DELETE, left[i]]);
                ++i;
              } else {
                script.push([INSERT, right[j]]);
                ++j;
              }
            }
          }
        } else {
          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);
          for (var i2 = middle.start; i2 < middle.end; ++i2) {
            script.push([KEEP, left[i2]]);
          }
          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);
        }
      };

      var buildSnake = function (start, diag, end1, end2) {
        var end = start;
        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {
          ++end;
        }
        return snake(start, end, diag);
      };

      var getMiddleSnake = function (start1, end1, start2, end2) {
        // Myers Algorithm
        // Initialisations
        var m = end1 - start1;
        var n = end2 - start2;
        if (m === 0 || n === 0) {
          return null;
        }

        var delta = m - n;
        var sum = n + m;
        var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;
        vDown[1 + offset] = start1;
        vUp[1 + offset] = end1 + 1;

        for (var d = 0; d <= offset; ++d) {
          // Down
          for (var k = -d; k <= d; k += 2) {
            // First step

            var i = k + offset;
            if (k === -d || k != d && vDown[i - 1] < vDown[i + 1]) {
              vDown[i] = vDown[i + 1];
            } else {
              vDown[i] = vDown[i - 1] + 1;
            }

            var x = vDown[i];
            var y = x - start1 + start2 - k;

            while (x < end1 && y < end2 && left[x] === right[y]) {
              vDown[i] = ++x;
              ++y;
            }
            // Second step
            if (delta % 2 != 0 && delta - d <= k && k <= delta + d) {
              if (vUp[i - delta] <= vDown[i]) {
                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);
              }
            }
          }

          // Up
          for (k = delta - d; k <= delta + d; k += 2) {
            // First step
            i = k + offset - delta;
            if (k === delta - d || k != delta + d && vUp[i + 1] <= vUp[i - 1]) {
              vUp[i] = vUp[i + 1] - 1;
            } else {
              vUp[i] = vUp[i - 1];
            }

            x = vUp[i] - 1;
            y = x - start1 + start2 - k;
            while (x >= start1 && y >= start2 && left[x] === right[y]) {
              vUp[i] = x--;
              y--;
            }
            // Second step
            if (delta % 2 === 0 && -d <= k && k <= d) {
              if (vUp[i] <= vDown[i + delta]) {
                return buildSnake(vUp[i], k + start1 - start2, end1, end2);
              }
            }
          }
        }
      };

      var script = [];
      buildScript(0, left.length, 0, right.length, script);
      return script;
    };

    return {
      KEEP: KEEP,
      DELETE: DELETE,
      INSERT: INSERT,
      diff: diff
    };
  }
);
/**
 * Fragments.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module reads and applies html fragments from/to dom nodes.
 *
 * @class tinymce.undo.Fragments
 * @private
 */
define(
  'tinymce.core.undo.Fragments',
  [
    "tinymce.core.util.Arr",
    "tinymce.core.html.Entities",
    "tinymce.core.undo.Diff"
  ],
  function (Arr, Entities, Diff) {
    var getOuterHtml = function (elm) {
      if (elm.nodeType === 1) {
        return elm.outerHTML;
      } else if (elm.nodeType === 3) {
        return Entities.encodeRaw(elm.data, false);
      } else if (elm.nodeType === 8) {
        return '<!--' + elm.data + '-->';
      }

      return '';
    };

    var createFragment = function (html) {
      var frag, node, container;

      container = document.createElement("div");
      frag = document.createDocumentFragment();

      if (html) {
        container.innerHTML = html;
      }

      while ((node = container.firstChild)) {
        frag.appendChild(node);
      }

      return frag;
    };

    var insertAt = function (elm, html, index) {
      var fragment = createFragment(html);
      if (elm.hasChildNodes() && index < elm.childNodes.length) {
        var target = elm.childNodes[index];
        target.parentNode.insertBefore(fragment, target);
      } else {
        elm.appendChild(fragment);
      }
    };

    var removeAt = function (elm, index) {
      if (elm.hasChildNodes() && index < elm.childNodes.length) {
        var target = elm.childNodes[index];
        target.parentNode.removeChild(target);
      }
    };

    var applyDiff = function (diff, elm) {
      var index = 0;
      Arr.each(diff, function (action) {
        if (action[0] === Diff.KEEP) {
          index++;
        } else if (action[0] === Diff.INSERT) {
          insertAt(elm, action[1], index);
          index++;
        } else if (action[0] === Diff.DELETE) {
          removeAt(elm, index);
        }
      });
    };

    var read = function (elm) {
      return Arr.filter(Arr.map(elm.childNodes, getOuterHtml), function (item) {
        return item.length > 0;
      });
    };

    var write = function (fragments, elm) {
      var currentFragments = Arr.map(elm.childNodes, getOuterHtml);
      applyDiff(Diff.diff(currentFragments, fragments), elm);
      return elm;
    };

    return {
      read: read,
      write: write
    };
  }
);
/**
 * Levels.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module handles getting/setting undo levels to/from editor instances.
 *
 * @class tinymce.undo.Levels
 * @private
 */
define(
  'tinymce.core.undo.Levels',
  [
    "tinymce.core.util.Arr",
    "tinymce.core.undo.Fragments"
  ],
  function (Arr, Fragments) {
    var hasIframes = function (html) {
      return html.indexOf('</iframe>') !== -1;
    };

    var createFragmentedLevel = function (fragments) {
      return {
        type: 'fragmented',
        fragments: fragments,
        content: '',
        bookmark: null,
        beforeBookmark: null
      };
    };

    var createCompleteLevel = function (content) {
      return {
        type: 'complete',
        fragments: null,
        content: content,
        bookmark: null,
        beforeBookmark: null
      };
    };

    var createFromEditor = function (editor) {
      var fragments, content, trimmedFragments;

      fragments = Fragments.read(editor.getBody());
      trimmedFragments = Arr.map(fragments, function (html) {
        return editor.serializer.trimContent(html);
      });
      content = trimmedFragments.join('');

      return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);
    };

    var applyToEditor = function (editor, level, before) {
      if (level.type === 'fragmented') {
        Fragments.write(level.fragments, editor.getBody());
      } else {
        editor.setContent(level.content, { format: 'raw' });
      }

      editor.selection.moveToBookmark(before ? level.beforeBookmark : level.bookmark);
    };

    var getLevelContent = function (level) {
      return level.type === 'fragmented' ? level.fragments.join('') : level.content;
    };

    var isEq = function (level1, level2) {
      return getLevelContent(level1) === getLevelContent(level2);
    };

    return {
      createFragmentedLevel: createFragmentedLevel,
      createCompleteLevel: createCompleteLevel,
      createFromEditor: createFromEditor,
      applyToEditor: applyToEditor,
      isEq: isEq
    };
  }
);
/**
 * UndoManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class handles the undo/redo history levels for the editor. Since the built-in undo/redo has major drawbacks a custom one was needed.
 *
 * @class tinymce.UndoManager
 */
define(
  'tinymce.core.UndoManager',
  [
    "tinymce.core.util.VK",
    "tinymce.core.util.Tools",
    "tinymce.core.undo.Levels"
  ],
  function (VK, Tools, Levels) {
    return function (editor) {
      var self = this, index = 0, data = [], beforeBookmark, isFirstTypedCharacter, locks = 0;

      var isUnlocked = function () {
        return locks === 0;
      };

      var setTyping = function (typing) {
        if (isUnlocked()) {
          self.typing = typing;
        }
      };

      function setDirty(state) {
        editor.setDirty(state);
      }

      function addNonTypingUndoLevel(e) {
        setTyping(false);
        self.add({}, e);
      }

      function endTyping() {
        if (self.typing) {
          setTyping(false);
          self.add();
        }
      }

      // Add initial undo level when the editor is initialized
      editor.on('init', function () {
        self.add();
      });

      // Get position before an execCommand is processed
      editor.on('BeforeExecCommand', function (e) {
        var cmd = e.command;

        if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {
          endTyping();
          self.beforeChange();
        }
      });

      // Add undo level after an execCommand call was made
      editor.on('ExecCommand', function (e) {
        var cmd = e.command;

        if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {
          addNonTypingUndoLevel(e);
        }
      });

      editor.on('ObjectResizeStart Cut', function () {
        self.beforeChange();
      });

      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);
      editor.on('DragEnd', addNonTypingUndoLevel);

      editor.on('KeyUp', function (e) {
        var keyCode = e.keyCode;

        // If key is prevented then don't add undo level
        // This would happen on keyboard shortcuts for example
        if (e.isDefaultPrevented()) {
          return;
        }

        if ((keyCode >= 33 && keyCode <= 36) || (keyCode >= 37 && keyCode <= 40) || keyCode === 45 || e.ctrlKey) {
          addNonTypingUndoLevel();
          editor.nodeChanged();
        }

        if (keyCode === 46 || keyCode === 8) {
          editor.nodeChanged();
        }

        // Fire a TypingUndo/Change event on the first character entered
        if (isFirstTypedCharacter && self.typing && Levels.isEq(Levels.createFromEditor(editor), data[0]) === false) {
          if (editor.isDirty() === false) {
            setDirty(true);
            editor.fire('change', { level: data[0], lastLevel: null });
          }

          editor.fire('TypingUndo');
          isFirstTypedCharacter = false;
          editor.nodeChanged();
        }
      });

      editor.on('KeyDown', function (e) {
        var keyCode = e.keyCode;

        // If key is prevented then don't add undo level
        // This would happen on keyboard shortcuts for example
        if (e.isDefaultPrevented()) {
          return;
        }

        // Is character position keys left,right,up,down,home,end,pgdown,pgup,enter
        if ((keyCode >= 33 && keyCode <= 36) || (keyCode >= 37 && keyCode <= 40) || keyCode === 45) {
          if (self.typing) {
            addNonTypingUndoLevel(e);
          }

          return;
        }

        // If key isn't Ctrl+Alt/AltGr
        var modKey = (e.ctrlKey && !e.altKey) || e.metaKey;
        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !self.typing && !modKey) {
          self.beforeChange();
          setTyping(true);
          self.add({}, e);
          isFirstTypedCharacter = true;
        }
      });

      editor.on('MouseDown', function (e) {
        if (self.typing) {
          addNonTypingUndoLevel(e);
        }
      });

      // Add keyboard shortcuts for undo/redo keys
      editor.addShortcut('meta+z', '', 'Undo');
      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');

      editor.on('AddUndo Undo Redo ClearUndos', function (e) {
        if (!e.isDefaultPrevented()) {
          editor.nodeChanged();
        }
      });

      /*eslint consistent-this:0 */
      self = {
        // Explode for debugging reasons
        data: data,

        /**
         * State if the user is currently typing or not. This will add a typing operation into one undo
         * level instead of one new level for each keystroke.
         *
         * @field {Boolean} typing
         */
        typing: false,

        /**
         * Stores away a bookmark to be used when performing an undo action so that the selection is before
         * the change has been made.
         *
         * @method beforeChange
         */
        beforeChange: function () {
          if (isUnlocked()) {
            beforeBookmark = editor.selection.getBookmark(2, true);
          }
        },

        /**
         * Adds a new undo level/snapshot to the undo list.
         *
         * @method add
         * @param {Object} level Optional undo level object to add.
         * @param {DOMEvent} event Optional event responsible for the creation of the undo level.
         * @return {Object} Undo level that got added or null it a level wasn't needed.
         */
        add: function (level, event) {
          var i, settings = editor.settings, lastLevel, currentLevel;

          currentLevel = Levels.createFromEditor(editor);
          level = level || {};
          level = Tools.extend(level, currentLevel);

          if (isUnlocked() === false || editor.removed) {
            return null;
          }

          lastLevel = data[index];
          if (editor.fire('BeforeAddUndo', { level: level, lastLevel: lastLevel, originalEvent: event }).isDefaultPrevented()) {
            return null;
          }

          // Add undo level if needed
          if (lastLevel && Levels.isEq(lastLevel, level)) {
            return null;
          }

          // Set before bookmark on previous level
          if (data[index]) {
            data[index].beforeBookmark = beforeBookmark;
          }

          // Time to compress
          if (settings.custom_undo_redo_levels) {
            if (data.length > settings.custom_undo_redo_levels) {
              for (i = 0; i < data.length - 1; i++) {
                data[i] = data[i + 1];
              }

              data.length--;
              index = data.length;
            }
          }

          // Get a non intrusive normalized bookmark
          level.bookmark = editor.selection.getBookmark(2, true);

          // Crop array if needed
          if (index < data.length - 1) {
            data.length = index + 1;
          }

          data.push(level);
          index = data.length - 1;

          var args = { level: level, lastLevel: lastLevel, originalEvent: event };

          editor.fire('AddUndo', args);

          if (index > 0) {
            setDirty(true);
            editor.fire('change', args);
          }

          return level;
        },

        /**
         * Undoes the last action.
         *
         * @method undo
         * @return {Object} Undo level or null if no undo was performed.
         */
        undo: function () {
          var level;

          if (self.typing) {
            self.add();
            self.typing = false;
            setTyping(false);
          }

          if (index > 0) {
            level = data[--index];
            Levels.applyToEditor(editor, level, true);
            setDirty(true);
            editor.fire('undo', { level: level });
          }

          return level;
        },

        /**
         * Redoes the last action.
         *
         * @method redo
         * @return {Object} Redo level or null if no redo was performed.
         */
        redo: function () {
          var level;

          if (index < data.length - 1) {
            level = data[++index];
            Levels.applyToEditor(editor, level, false);
            setDirty(true);
            editor.fire('redo', { level: level });
          }

          return level;
        },

        /**
         * Removes all undo levels.
         *
         * @method clear
         */
        clear: function () {
          data = [];
          index = 0;
          self.typing = false;
          self.data = data;
          editor.fire('ClearUndos');
        },

        /**
         * Returns true/false if the undo manager has any undo levels.
         *
         * @method hasUndo
         * @return {Boolean} true/false if the undo manager has any undo levels.
         */
        hasUndo: function () {
          // Has undo levels or typing and content isn't the same as the initial level
          return index > 0 || (self.typing && data[0] && !Levels.isEq(Levels.createFromEditor(editor), data[0]));
        },

        /**
         * Returns true/false if the undo manager has any redo levels.
         *
         * @method hasRedo
         * @return {Boolean} true/false if the undo manager has any redo levels.
         */
        hasRedo: function () {
          return index < data.length - 1 && !self.typing;
        },

        /**
         * Executes the specified mutator function as an undo transaction. The selection
         * before the modification will be stored to the undo stack and if the DOM changes
         * it will add a new undo level. Any logic within the translation that adds undo levels will
         * be ignored. So a translation can include calls to execCommand or editor.insertContent.
         *
         * @method transact
         * @param {function} callback Function that gets executed and has dom manipulation logic in it.
         * @return {Object} Undo level that got added or null it a level wasn't needed.
         */
        transact: function (callback) {
          endTyping();
          self.beforeChange();
          self.ignore(callback);
          return self.add();
        },

        /**
         * Executes the specified mutator function as an undo transaction. But without adding an undo level.
         * Any logic within the translation that adds undo levels will be ignored. So a translation can
         * include calls to execCommand or editor.insertContent.
         *
         * @method ignore
         * @param {function} callback Function that gets executed and has dom manipulation logic in it.
         * @return {Object} Undo level that got added or null it a level wasn't needed.
         */
        ignore: function (callback) {
          try {
            locks++;
            callback();
          } finally {
            locks--;
          }
        },

        /**
         * Adds an extra "hidden" undo level by first applying the first mutation and store that to the undo stack
         * then roll back that change and do the second mutation on top of the stack. This will produce an extra
         * undo level that the user doesn't see until they undo.
         *
         * @method extra
         * @param {function} callback1 Function that does mutation but gets stored as a "hidden" extra undo level.
         * @param {function} callback2 Function that does mutation but gets displayed to the user.
         */
        extra: function (callback1, callback2) {
          var lastLevel, bookmark;

          if (self.transact(callback1)) {
            bookmark = data[index].bookmark;
            lastLevel = data[index - 1];
            Levels.applyToEditor(editor, lastLevel, true);

            if (self.transact(callback2)) {
              data[index - 1].beforeBookmark = bookmark;
            }
          }
        }
      };

      return self;
    };
  }
);

define(
  'ephox.sugar.api.node.Body',

  [
    'ephox.katamari.api.Thunk',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.node.Node',
    'global!document'
  ],

  function (Thunk, Element, Node, document) {

    // Node.contains() is very, very, very good performance
    // http://jsperf.com/closest-vs-contains/5
    var inBody = function (element) {
      // Technically this is only required on IE, where contains() returns false for text nodes.
      // But it's cheap enough to run everywhere and Sugar doesn't have platform detection (yet).
      var dom = Node.isText(element) ? element.dom().parentNode : element.dom();

      // use ownerDocument.body to ensure this works inside iframes.
      // Normally contains is bad because an element "contains" itself, but here we want that.
      return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);
    };

    var body = Thunk.cached(function() {
      return getBody(Element.fromDom(document));
    });

    var getBody = function (doc) {
      var body = doc.dom().body;
      if (body === null || body === undefined) throw 'Body is not available yet';
      return Element.fromDom(body);
    };

    return {
      body: body,
      getBody: getBody,
      inBody: inBody
    };
  }
);

define(
  'ephox.sugar.impl.ClosestOrAncestor',

  [
    'ephox.katamari.api.Type',
    'ephox.katamari.api.Option'
  ],

  function (Type, Option) {
    return function (is, ancestor, scope, a, isRoot) {
      return is(scope, a) ?
              Option.some(scope) :
              Type.isFunction(isRoot) && isRoot(scope) ?
                  Option.none() :
                  ancestor(scope, a, isRoot);
    };
  }
);
define(
  'ephox.sugar.api.search.PredicateFind',

  [
    'ephox.katamari.api.Type',
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Option',
    'ephox.sugar.api.node.Body',
    'ephox.sugar.api.dom.Compare',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.impl.ClosestOrAncestor'
  ],

  function (Type, Arr, Fun, Option, Body, Compare, Element, ClosestOrAncestor) {
    var first = function (predicate) {
      return descendant(Body.body(), predicate);
    };

    var ancestor = function (scope, predicate, isRoot) {
      var element = scope.dom();
      var stop = Type.isFunction(isRoot) ? isRoot : Fun.constant(false);

      while (element.parentNode) {
        element = element.parentNode;
        var el = Element.fromDom(element);

        if (predicate(el)) return Option.some(el);
        else if (stop(el)) break;
      }
      return Option.none();
    };

    var closest = function (scope, predicate, isRoot) {
      // This is required to avoid ClosestOrAncestor passing the predicate to itself
      var is = function (scope) {
        return predicate(scope);
      };
      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);
    };

    var sibling = function (scope, predicate) {
      var element = scope.dom();
      if (!element.parentNode) return Option.none();

      return child(Element.fromDom(element.parentNode), function (x) {
        return !Compare.eq(scope, x) && predicate(x);
      });
    };

    var child = function (scope, predicate) {
      var result = Arr.find(scope.dom().childNodes,
        Fun.compose(predicate, Element.fromDom));
      return result.map(Element.fromDom);
    };

    var descendant = function (scope, predicate) {
      var descend = function (element) {
        for (var i = 0; i < element.childNodes.length; i++) {
          if (predicate(Element.fromDom(element.childNodes[i])))
            return Option.some(Element.fromDom(element.childNodes[i]));

          var res = descend(element.childNodes[i]);
          if (res.isSome())
            return res;
        }

        return Option.none();
      };

      return descend(scope.dom());
    };

    return {
      first: first,
      ancestor: ancestor,
      closest: closest,
      sibling: sibling,
      child: child,
      descendant: descendant
    };
  }
);

/**
 * CaretUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Utility functions shared by the caret logic.
 *
 * @private
 * @class tinymce.caret.CaretUtils
 */
define(
  'tinymce.core.caret.CaretUtils',
  [
    "tinymce.core.util.Fun",
    "tinymce.core.dom.TreeWalker",
    "tinymce.core.dom.NodeType",
    "tinymce.core.caret.CaretPosition",
    "tinymce.core.caret.CaretContainer",
    "tinymce.core.caret.CaretCandidate"
  ],
  function (Fun, TreeWalker, NodeType, CaretPosition, CaretContainer, CaretCandidate) {
    var isContentEditableTrue = NodeType.isContentEditableTrue,
      isContentEditableFalse = NodeType.isContentEditableFalse,
      isBlockLike = NodeType.matchStyleValues('display', 'block table table-cell table-caption list-item'),
      isCaretContainer = CaretContainer.isCaretContainer,
      isCaretContainerBlock = CaretContainer.isCaretContainerBlock,
      curry = Fun.curry,
      isElement = NodeType.isElement,
      isCaretCandidate = CaretCandidate.isCaretCandidate;

    function isForwards(direction) {
      return direction > 0;
    }

    function isBackwards(direction) {
      return direction < 0;
    }

    function skipCaretContainers(walk, shallow) {
      var node;

      while ((node = walk(shallow))) {
        if (!isCaretContainerBlock(node)) {
          return node;
        }
      }

      return null;
    }

    function findNode(node, direction, predicateFn, rootNode, shallow) {
      var walker = new TreeWalker(node, rootNode);

      if (isBackwards(direction)) {
        if (isContentEditableFalse(node) || isCaretContainerBlock(node)) {
          node = skipCaretContainers(walker.prev, true);
          if (predicateFn(node)) {
            return node;
          }
        }

        while ((node = skipCaretContainers(walker.prev, shallow))) {
          if (predicateFn(node)) {
            return node;
          }
        }
      }

      if (isForwards(direction)) {
        if (isContentEditableFalse(node) || isCaretContainerBlock(node)) {
          node = skipCaretContainers(walker.next, true);
          if (predicateFn(node)) {
            return node;
          }
        }

        while ((node = skipCaretContainers(walker.next, shallow))) {
          if (predicateFn(node)) {
            return node;
          }
        }
      }

      return null;
    }

    function getEditingHost(node, rootNode) {
      for (node = node.parentNode; node && node != rootNode; node = node.parentNode) {
        if (isContentEditableTrue(node)) {
          return node;
        }
      }

      return rootNode;
    }

    function getParentBlock(node, rootNode) {
      while (node && node != rootNode) {
        if (isBlockLike(node)) {
          return node;
        }

        node = node.parentNode;
      }

      return null;
    }

    function isInSameBlock(caretPosition1, caretPosition2, rootNode) {
      return getParentBlock(caretPosition1.container(), rootNode) == getParentBlock(caretPosition2.container(), rootNode);
    }

    function isInSameEditingHost(caretPosition1, caretPosition2, rootNode) {
      return getEditingHost(caretPosition1.container(), rootNode) == getEditingHost(caretPosition2.container(), rootNode);
    }

    function getChildNodeAtRelativeOffset(relativeOffset, caretPosition) {
      var container, offset;

      if (!caretPosition) {
        return null;
      }

      container = caretPosition.container();
      offset = caretPosition.offset();

      if (!isElement(container)) {
        return null;
      }

      return container.childNodes[offset + relativeOffset];
    }

    function beforeAfter(before, node) {
      var range = node.ownerDocument.createRange();

      if (before) {
        range.setStartBefore(node);
        range.setEndBefore(node);
      } else {
        range.setStartAfter(node);
        range.setEndAfter(node);
      }

      return range;
    }

    function isNodesInSameBlock(rootNode, node1, node2) {
      return getParentBlock(node1, rootNode) == getParentBlock(node2, rootNode);
    }

    function lean(left, rootNode, node) {
      var sibling, siblingName;

      if (left) {
        siblingName = 'previousSibling';
      } else {
        siblingName = 'nextSibling';
      }

      while (node && node != rootNode) {
        sibling = node[siblingName];

        if (isCaretContainer(sibling)) {
          sibling = sibling[siblingName];
        }

        if (isContentEditableFalse(sibling)) {
          if (isNodesInSameBlock(rootNode, sibling, node)) {
            return sibling;
          }

          break;
        }

        if (isCaretCandidate(sibling)) {
          break;
        }

        node = node.parentNode;
      }

      return null;
    }

    var before = curry(beforeAfter, true);
    var after = curry(beforeAfter, false);

    function normalizeRange(direction, rootNode, range) {
      var node, container, offset, location;
      var leanLeft = curry(lean, true, rootNode);
      var leanRight = curry(lean, false, rootNode);

      container = range.startContainer;
      offset = range.startOffset;

      if (CaretContainer.isCaretContainerBlock(container)) {
        if (!isElement(container)) {
          container = container.parentNode;
        }

        location = container.getAttribute('data-mce-caret');

        if (location == 'before') {
          node = container.nextSibling;
          if (isContentEditableFalse(node)) {
            return before(node);
          }
        }

        if (location == 'after') {
          node = container.previousSibling;
          if (isContentEditableFalse(node)) {
            return after(node);
          }
        }
      }

      if (!range.collapsed) {
        return range;
      }

      if (NodeType.isText(container)) {
        if (isCaretContainer(container)) {
          if (direction === 1) {
            node = leanRight(container);
            if (node) {
              return before(node);
            }

            node = leanLeft(container);
            if (node) {
              return after(node);
            }
          }

          if (direction === -1) {
            node = leanLeft(container);
            if (node) {
              return after(node);
            }

            node = leanRight(container);
            if (node) {
              return before(node);
            }
          }

          return range;
        }

        if (CaretContainer.endsWithCaretContainer(container) && offset >= container.data.length - 1) {
          if (direction === 1) {
            node = leanRight(container);
            if (node) {
              return before(node);
            }
          }

          return range;
        }

        if (CaretContainer.startsWithCaretContainer(container) && offset <= 1) {
          if (direction === -1) {
            node = leanLeft(container);
            if (node) {
              return after(node);
            }
          }

          return range;
        }

        if (offset === container.data.length) {
          node = leanRight(container);
          if (node) {
            return before(node);
          }

          return range;
        }

        if (offset === 0) {
          node = leanLeft(container);
          if (node) {
            return after(node);
          }

          return range;
        }
      }

      return range;
    }

    function isNextToContentEditableFalse(relativeOffset, caretPosition) {
      return isContentEditableFalse(getChildNodeAtRelativeOffset(relativeOffset, caretPosition));
    }

    return {
      isForwards: isForwards,
      isBackwards: isBackwards,
      findNode: findNode,
      getEditingHost: getEditingHost,
      getParentBlock: getParentBlock,
      isInSameBlock: isInSameBlock,
      isInSameEditingHost: isInSameEditingHost,
      isBeforeContentEditableFalse: curry(isNextToContentEditableFalse, 0),
      isAfterContentEditableFalse: curry(isNextToContentEditableFalse, -1),
      normalizeRange: normalizeRange
    };
  }
);

/**
 * CaretWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module contains logic for moving around a virtual caret in logical order within a DOM element.
 *
 * It ignores the most obvious invalid caret locations such as within a script element or within a
 * contentEditable=false element but it will return locations that isn't possible to render visually.
 *
 * @private
 * @class tinymce.caret.CaretWalker
 * @example
 * var caretWalker = new CaretWalker(rootElm);
 *
 * var prevLogicalCaretPosition = caretWalker.prev(CaretPosition.fromRangeStart(range));
 * var nextLogicalCaretPosition = caretWalker.next(CaretPosition.fromRangeEnd(range));
 */
define(
  'tinymce.core.caret.CaretWalker',
  [
    "tinymce.core.dom.NodeType",
    "tinymce.core.caret.CaretCandidate",
    "tinymce.core.caret.CaretPosition",
    "tinymce.core.caret.CaretUtils",
    "tinymce.core.util.Arr",
    "tinymce.core.util.Fun"
  ],
  function (NodeType, CaretCandidate, CaretPosition, CaretUtils, Arr, Fun) {
    var isContentEditableFalse = NodeType.isContentEditableFalse,
      isText = NodeType.isText,
      isElement = NodeType.isElement,
      isBr = NodeType.isBr,
      isForwards = CaretUtils.isForwards,
      isBackwards = CaretUtils.isBackwards,
      isCaretCandidate = CaretCandidate.isCaretCandidate,
      isAtomic = CaretCandidate.isAtomic,
      isEditableCaretCandidate = CaretCandidate.isEditableCaretCandidate;

    function getParents(node, rootNode) {
      var parents = [];

      while (node && node != rootNode) {
        parents.push(node);
        node = node.parentNode;
      }

      return parents;
    }

    function nodeAtIndex(container, offset) {
      if (container.hasChildNodes() && offset < container.childNodes.length) {
        return container.childNodes[offset];
      }

      return null;
    }

    function getCaretCandidatePosition(direction, node) {
      if (isForwards(direction)) {
        if (isCaretCandidate(node.previousSibling) && !isText(node.previousSibling)) {
          return CaretPosition.before(node);
        }

        if (isText(node)) {
          return CaretPosition(node, 0);
        }
      }

      if (isBackwards(direction)) {
        if (isCaretCandidate(node.nextSibling) && !isText(node.nextSibling)) {
          return CaretPosition.after(node);
        }

        if (isText(node)) {
          return CaretPosition(node, node.data.length);
        }
      }

      if (isBackwards(direction)) {
        if (isBr(node)) {
          return CaretPosition.before(node);
        }

        return CaretPosition.after(node);
      }

      return CaretPosition.before(node);
    }

    // Jumps over BR elements <p>|<br></p><p>a</p> -> <p><br></p><p>|a</p>
    function isBrBeforeBlock(node, rootNode) {
      var next;

      if (!NodeType.isBr(node)) {
        return false;
      }

      next = findCaretPosition(1, CaretPosition.after(node), rootNode);
      if (!next) {
        return false;
      }

      return !CaretUtils.isInSameBlock(CaretPosition.before(node), CaretPosition.before(next), rootNode);
    }

    function findCaretPosition(direction, startCaretPosition, rootNode) {
      var container, offset, node, nextNode, innerNode,
        rootContentEditableFalseElm, caretPosition;

      if (!isElement(rootNode) || !startCaretPosition) {
        return null;
      }

      if (startCaretPosition.isEqual(CaretPosition.after(rootNode)) && rootNode.lastChild) {
        caretPosition = CaretPosition.after(rootNode.lastChild);
        if (isBackwards(direction) && isCaretCandidate(rootNode.lastChild) && isElement(rootNode.lastChild)) {
          return isBr(rootNode.lastChild) ? CaretPosition.before(rootNode.lastChild) : caretPosition;
        }
      } else {
        caretPosition = startCaretPosition;
      }

      container = caretPosition.container();
      offset = caretPosition.offset();

      if (isText(container)) {
        if (isBackwards(direction) && offset > 0) {
          return CaretPosition(container, --offset);
        }

        if (isForwards(direction) && offset < container.length) {
          return CaretPosition(container, ++offset);
        }

        node = container;
      } else {
        if (isBackwards(direction) && offset > 0) {
          nextNode = nodeAtIndex(container, offset - 1);
          if (isCaretCandidate(nextNode)) {
            if (!isAtomic(nextNode)) {
              innerNode = CaretUtils.findNode(nextNode, direction, isEditableCaretCandidate, nextNode);
              if (innerNode) {
                if (isText(innerNode)) {
                  return CaretPosition(innerNode, innerNode.data.length);
                }

                return CaretPosition.after(innerNode);
              }
            }

            if (isText(nextNode)) {
              return CaretPosition(nextNode, nextNode.data.length);
            }

            return CaretPosition.before(nextNode);
          }
        }

        if (isForwards(direction) && offset < container.childNodes.length) {
          nextNode = nodeAtIndex(container, offset);
          if (isCaretCandidate(nextNode)) {
            if (isBrBeforeBlock(nextNode, rootNode)) {
              return findCaretPosition(direction, CaretPosition.after(nextNode), rootNode);
            }

            if (!isAtomic(nextNode)) {
              innerNode = CaretUtils.findNode(nextNode, direction, isEditableCaretCandidate, nextNode);
              if (innerNode) {
                if (isText(innerNode)) {
                  return CaretPosition(innerNode, 0);
                }

                return CaretPosition.before(innerNode);
              }
            }

            if (isText(nextNode)) {
              return CaretPosition(nextNode, 0);
            }

            return CaretPosition.after(nextNode);
          }
        }

        node = caretPosition.getNode();
      }

      if ((isForwards(direction) && caretPosition.isAtEnd()) || (isBackwards(direction) && caretPosition.isAtStart())) {
        node = CaretUtils.findNode(node, direction, Fun.constant(true), rootNode, true);
        if (isEditableCaretCandidate(node)) {
          return getCaretCandidatePosition(direction, node);
        }
      }

      nextNode = CaretUtils.findNode(node, direction, isEditableCaretCandidate, rootNode);

      rootContentEditableFalseElm = Arr.last(Arr.filter(getParents(container, rootNode), isContentEditableFalse));
      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {
        if (isForwards(direction)) {
          caretPosition = CaretPosition.after(rootContentEditableFalseElm);
        } else {
          caretPosition = CaretPosition.before(rootContentEditableFalseElm);
        }

        return caretPosition;
      }

      if (nextNode) {
        return getCaretCandidatePosition(direction, nextNode);
      }

      return null;
    }

    return function (rootNode) {
      return {
        /**
         * Returns the next logical caret position from the specificed input
         * caretPoisiton or null if there isn't any more positions left for example
         * at the end specified root element.
         *
         * @method next
         * @param {tinymce.caret.CaretPosition} caretPosition Caret position to start from.
         * @return {tinymce.caret.CaretPosition} CaretPosition or null if no position was found.
         */
        next: function (caretPosition) {
          return findCaretPosition(1, caretPosition, rootNode);
        },

        /**
         * Returns the previous logical caret position from the specificed input
         * caretPoisiton or null if there isn't any more positions left for example
         * at the end specified root element.
         *
         * @method prev
         * @param {tinymce.caret.CaretPosition} caretPosition Caret position to start from.
         * @return {tinymce.caret.CaretPosition} CaretPosition or null if no position was found.
         */
        prev: function (caretPosition) {
          return findCaretPosition(-1, caretPosition, rootNode);
        }
      };
    };
  }
);
/**
 * CaretFinder.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.caret.CaretFinder',
  [
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Option',
    'tinymce.core.caret.CaretCandidate',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretUtils',
    'tinymce.core.caret.CaretWalker',
    'tinymce.core.dom.NodeType'
  ],
  function (Fun, Option, CaretCandidate, CaretPosition, CaretUtils, CaretWalker, NodeType) {
    var walkToPositionIn = function (forward, rootNode, startNode) {
      var position = forward ? CaretPosition.before(startNode) : CaretPosition.after(startNode);
      return fromPosition(forward, rootNode, position);
    };

    var afterElement = function (node) {
      return NodeType.isBr(node) ? CaretPosition.before(node) : CaretPosition.after(node);
    };

    var isBeforeOrStart = function (position) {
      if (CaretPosition.isTextPosition(position)) {
        return position.offset() === 0;
      } else {
        return CaretCandidate.isCaretCandidate(position.getNode());
      }
    };

    var isAfterOrEnd = function (position) {
      if (CaretPosition.isTextPosition(position)) {
        return position.offset() === position.container().data.length;
      } else {
        return CaretCandidate.isCaretCandidate(position.getNode(true));
      }
    };

    var isBeforeAfterSameElement = function (from, to) {
      return !CaretPosition.isTextPosition(from) && !CaretPosition.isTextPosition(to) && from.getNode() === to.getNode(true);
    };

    var isAtBr = function (position) {
      return !CaretPosition.isTextPosition(position) && NodeType.isBr(position.getNode());
    };

    var shouldSkipPosition = function (forward, from, to) {
      if (forward) {
        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);
      } else {
        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);
      }
    };

    // Finds: <p>a|<b>b</b></p> -> <p>a<b>|b</b></p>
    var fromPosition = function (forward, rootNode, position) {
      var walker = new CaretWalker(rootNode);
      return Option.from(forward ? walker.next(position) : walker.prev(position));
    };

    // Finds: <p>a|<b>b</b></p> -> <p>a<b>b|</b></p>
    var navigate = function (forward, rootNode, from) {
      return fromPosition(forward, rootNode, from).bind(function (to) {
        if (CaretUtils.isInSameBlock(from, to, rootNode) && shouldSkipPosition(forward, from, to)) {
          return fromPosition(forward, rootNode, to);
        } else {
          return Option.some(to);
        }
      });
    };

    var positionIn = function (forward, element) {
      var startNode = forward ? element.firstChild : element.lastChild;
      if (NodeType.isText(startNode)) {
        return Option.some(new CaretPosition(startNode, forward ? 0 : startNode.data.length));
      } else if (startNode) {
        if (CaretCandidate.isCaretCandidate(startNode)) {
          return Option.some(forward ? CaretPosition.before(startNode) : afterElement(startNode));
        } else {
          return walkToPositionIn(forward, element, startNode);
        }
      } else {
        return Option.none();
      }
    };

    return {
      fromPosition: fromPosition,
      navigate: navigate,
      positionIn: positionIn
    };
  }
);

/**
 * DeleteUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.DeleteUtils',
  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Option',
    'ephox.sugar.api.dom.Compare',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.node.Node',
    'ephox.sugar.api.search.PredicateFind'
  ],
  function (Arr, Option, Compare, Element, Node, PredicateFind) {
    var toLookup = function (names) {
      var lookup = Arr.foldl(names, function (acc, name) {
        acc[name] = true;
        return acc;
      }, { });

      return function (elm) {
        return lookup[Node.name(elm)] === true;
      };
    };

    var isTextBlock = toLookup([
      'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'div', 'address', 'pre', 'form', 'blockquote', 'center',
      'dir', 'fieldset', 'header', 'footer', 'article', 'section', 'hgroup', 'aside', 'nav', 'figure'
    ]);

    var isBeforeRoot = function (rootNode) {
      return function (elm) {
        return Compare.eq(rootNode, Element.fromDom(elm.dom().parentNode));
      };
    };

    var getParentTextBlock = function (rootNode, elm) {
      return Compare.contains(rootNode, elm) ? PredicateFind.closest(elm, isTextBlock, isBeforeRoot(rootNode)) : Option.none();
    };

    return {
      getParentTextBlock: getParentTextBlock
    };
  }
);

define(
  'ephox.sugar.api.search.SelectorFind',

  [
    'ephox.sugar.api.search.PredicateFind',
    'ephox.sugar.api.search.Selectors',
    'ephox.sugar.impl.ClosestOrAncestor'
  ],

  function (PredicateFind, Selectors, ClosestOrAncestor) {
    // TODO: An internal SelectorFilter module that doesn't Element.fromDom() everything

    var first = function (selector) {
      return Selectors.one(selector);
    };

    var ancestor = function (scope, selector, isRoot) {
      return PredicateFind.ancestor(scope, function (e) {
        return Selectors.is(e, selector);
      }, isRoot);
    };

    var sibling = function (scope, selector) {
      return PredicateFind.sibling(scope, function (e) {
        return Selectors.is(e, selector);
      });
    };

    var child = function (scope, selector) {
      return PredicateFind.child(scope, function (e) {
        return Selectors.is(e, selector);
      });
    };

    var descendant = function (scope, selector) {
      return Selectors.one(selector, scope);
    };

    var closest = function (scope, selector, isRoot) {
      return ClosestOrAncestor(Selectors.is, ancestor, scope, selector, isRoot);
    };

    return {
      first: first,
      ancestor: ancestor,
      sibling: sibling,
      child: child,
      descendant: descendant,
      closest: closest
    };
  }
);

define(
  'ephox.sugar.api.search.SelectorExists',

  [
    'ephox.sugar.api.search.SelectorFind'
  ],

  function (SelectorFind) {
    var any = function (selector) {
      return SelectorFind.first(selector).isSome();
    };

    var ancestor = function (scope, selector, isRoot) {
      return SelectorFind.ancestor(scope, selector, isRoot).isSome();
    };

    var sibling = function (scope, selector) {
      return SelectorFind.sibling(scope, selector).isSome();
    };

    var child = function (scope, selector) {
      return SelectorFind.child(scope, selector).isSome();
    };

    var descendant = function (scope, selector) {
      return SelectorFind.descendant(scope, selector).isSome();
    };

    var closest = function (scope, selector, isRoot) {
      return SelectorFind.closest(scope, selector, isRoot).isSome();
    };

    return {
      any: any,
      ancestor: ancestor,
      sibling: sibling,
      child: child,
      descendant: descendant,
      closest: closest
    };
  }
);

/**
 * Empty.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.dom.Empty',
  [
    'ephox.katamari.api.Fun',
    'ephox.sugar.api.dom.Compare',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.search.SelectorExists',
    'tinymce.core.caret.CaretCandidate',
    'tinymce.core.dom.NodeType',
    'tinymce.core.dom.TreeWalker'
  ],
  function (Fun, Compare, Element, SelectorExists, CaretCandidate, NodeType, TreeWalker) {
    var hasWhitespacePreserveParent = function (rootNode, node) {
      var rootElement = Element.fromDom(rootNode);
      var startNode = Element.fromDom(node);
      return SelectorExists.ancestor(startNode, 'pre,code', Fun.curry(Compare.eq, rootElement));
    };

    var isWhitespace = function (rootNode, node) {
      return NodeType.isText(node) && /^[ \t\r\n]*$/.test(node.data) && hasWhitespacePreserveParent(rootNode, node) === false;
    };

    var isNamedAnchor = function (node) {
      return NodeType.isElement(node) && node.nodeName === 'A' && node.hasAttribute('name');
    };

    var isContent = function (rootNode, node) {
      return (CaretCandidate.isCaretCandidate(node) && isWhitespace(rootNode, node) === false) || isNamedAnchor(node) || isBookmark(node);
    };

    var isBookmark = NodeType.hasAttribute('data-mce-bookmark');
    var isBogus = NodeType.hasAttribute('data-mce-bogus');
    var isBogusAll = NodeType.hasAttributeValue('data-mce-bogus', 'all');

    var isEmptyNode = function (targetNode) {
      var walker, node, brCount = 0;

      if (isContent(targetNode, targetNode)) {
        return false;
      } else {
        node = targetNode.firstChild;
        if (!node) {
          return true;
        }

        walker = new TreeWalker(node, targetNode);
        do {
          if (isBogusAll(node)) {
            node = walker.next(true);
            continue;
          }

          if (isBogus(node)) {
            node = walker.next();
            continue;
          }

          if (NodeType.isBr(node)) {
            brCount++;
            node = walker.next();
            continue;
          }

          if (isContent(targetNode, node)) {
            return false;
          }

          node = walker.next();
        } while (node);

        return brCount <= 1;
      }
    };

    var isEmpty = function (elm) {
      return isEmptyNode(elm.dom());
    };

    return {
      isEmpty: isEmpty
    };
  }
);

/**
 * BlockBoundary.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.BlockBoundary',
  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Option',
    'ephox.katamari.api.Options',
    'ephox.katamari.api.Struct',
    'ephox.sugar.api.dom.Compare',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.node.Node',
    'ephox.sugar.api.search.PredicateFind',
    'ephox.sugar.api.search.Traverse',
    'tinymce.core.caret.CaretFinder',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.delete.DeleteUtils',
    'tinymce.core.dom.Empty',
    'tinymce.core.dom.NodeType'
  ],
  function (Arr, Fun, Option, Options, Struct, Compare, Element, Node, PredicateFind, Traverse, CaretFinder, CaretPosition, DeleteUtils, Empty, NodeType) {
    var BlockPosition = Struct.immutable('block', 'position');
    var BlockBoundary = Struct.immutable('from', 'to');

    var getBlockPosition = function (rootNode, pos) {
      var rootElm = Element.fromDom(rootNode);
      var containerElm = Element.fromDom(pos.container());
      return DeleteUtils.getParentTextBlock(rootElm, containerElm).map(function (block) {
        return BlockPosition(block, pos);
      });
    };

    var isDifferentBlocks = function (blockBoundary) {
      return Compare.eq(blockBoundary.from().block(), blockBoundary.to().block()) === false;
    };

    var hasSameParent = function (blockBoundary) {
      return Traverse.parent(blockBoundary.from().block()).bind(function (parent1) {
        return Traverse.parent(blockBoundary.to().block()).filter(function (parent2) {
          return Compare.eq(parent1, parent2);
        });
      }).isSome();
    };

    var isEditable = function (blockBoundary) {
      return NodeType.isContentEditableFalse(blockBoundary.from().block()) === false && NodeType.isContentEditableFalse(blockBoundary.to().block()) === false;
    };

    var skipLastBr = function (rootNode, forward, blockPosition) {
      if (NodeType.isBr(blockPosition.position().getNode()) && Empty.isEmpty(blockPosition.block()) === false) {
        return CaretFinder.positionIn(false, blockPosition.block().dom()).bind(function (lastPositionInBlock) {
          if (lastPositionInBlock.isEqual(blockPosition.position())) {
            return CaretFinder.fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {
              return getBlockPosition(rootNode, to);
            });
          } else {
            return Option.some(blockPosition);
          }
        }).getOr(blockPosition);
      } else {
        return blockPosition;
      }
    };

    var readFromRange = function (rootNode, forward, rng) {
      var fromBlockPos = getBlockPosition(rootNode, CaretPosition.fromRangeStart(rng));
      var toBlockPos = fromBlockPos.bind(function (blockPos) {
        return CaretFinder.fromPosition(forward, rootNode, blockPos.position()).bind(function (to) {
          return getBlockPosition(rootNode, to).map(function (blockPos) {
            return skipLastBr(rootNode, forward, blockPos);
          });
        });
      });

      return Options.liftN([fromBlockPos, toBlockPos], BlockBoundary).filter(function (blockBoundary) {
        return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable(blockBoundary);
      });
    };

    var read = function (rootNode, forward, rng) {
      return rng.collapsed ? readFromRange(rootNode, forward, rng) : Option.none();
    };

    return {
      read: read
    };
  }
);

/**
 * MergeBlocks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.MergeBlocks',
  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Option',
    'ephox.sugar.api.dom.Insert',
    'ephox.sugar.api.dom.Remove',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.search.Traverse',
    'tinymce.core.caret.CaretFinder',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.dom.Empty',
    'tinymce.core.dom.NodeType'
  ],
  function (Arr, Option, Insert, Remove, Element, Traverse, CaretFinder, CaretPosition, Empty, NodeType) {
    var mergeBlocksAndReposition = function (forward, fromBlock, toBlock, toPosition) {
      var children = Traverse.children(fromBlock);

      if (NodeType.isBr(toPosition.getNode())) {
        Remove.remove(Element.fromDom(toPosition.getNode()));
        toPosition = CaretFinder.positionIn(false, toBlock.dom()).getOr(toPosition);
      }

      if (Empty.isEmpty(fromBlock) === false) {
        Arr.each(children, function (node) {
          Insert.append(toBlock, node);
        });
      }

      if (Empty.isEmpty(fromBlock)) {
        Remove.remove(fromBlock);
      }

      return children.length > 0 ? Option.from(toPosition) : Option.none();
    };

    var mergeBlocks = function (forward, block1, block2) {
      if (forward) {
        if (Empty.isEmpty(block1)) {
          Remove.remove(block1);
          return CaretFinder.positionIn(true, block2.dom());
        } else {
          return CaretFinder.positionIn(false, block1.dom()).bind(function (toPosition) {
            return mergeBlocksAndReposition(forward, block2, block1, toPosition);
          });
        }
      } else {
        if (Empty.isEmpty(block2)) {
          Remove.remove(block2);
          return CaretFinder.positionIn(true, block1.dom());
        } else {
          return CaretFinder.positionIn(false, block2.dom()).bind(function (toPosition) {
            return mergeBlocksAndReposition(forward, block1, block2, toPosition);
          });
        }
      }
    };

    return {
      mergeBlocks: mergeBlocks
    };
  }
);

/**
 * BlockBoundaryDelete.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.BlockBoundaryDelete',
  [
    'tinymce.core.delete.BlockBoundary',
    'tinymce.core.delete.MergeBlocks'
  ],
  function (BlockBoundary, MergeBlocks) {
    var backspaceDelete = function (editor, forward) {
      var position;

      position = BlockBoundary.read(editor.getBody(), forward, editor.selection.getRng()).bind(function (blockBoundary) {
        return MergeBlocks.mergeBlocks(forward, blockBoundary.from().block(), blockBoundary.to().block());
      });

      position.each(function (pos) {
        editor.selection.setRng(pos.toRange());
      });

      return position.isSome();
    };

    return {
      backspaceDelete: backspaceDelete
    };
  }
);

/**
 * BlockRangeDelete.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.BlockRangeDelete',
  [
    'ephox.katamari.api.Options',
    'ephox.sugar.api.dom.Compare',
    'ephox.sugar.api.node.Element',
    'tinymce.core.delete.DeleteUtils',
    'tinymce.core.delete.MergeBlocks'
  ],
  function (Options, Compare, Element, DeleteUtils, MergeBlocks) {
    var deleteRange = function (rootNode, selection) {
      var rng = selection.getRng();

      return Options.liftN([
        DeleteUtils.getParentTextBlock(rootNode, Element.fromDom(rng.startContainer)),
        DeleteUtils.getParentTextBlock(rootNode, Element.fromDom(rng.endContainer))
      ], function (block1, block2) {
        if (Compare.eq(block1, block2) === false) {
          rng.deleteContents();

          MergeBlocks.mergeBlocks(true, block1, block2).each(function (pos) {
            selection.setRng(pos.toRange());
          });

          return true;
        } else {
          return false;
        }
      }).getOr(false);
    };

    var backspaceDelete = function (editor, forward) {
      var rootNode = Element.fromDom(editor.getBody());

      if (editor.selection.isCollapsed() === false) {
        return deleteRange(rootNode, editor.selection);
      } else {
        return false;
      }
    };

    return {
      backspaceDelete: backspaceDelete
    };
  }
);

define(
  'ephox.katamari.api.Adt',

  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Obj',
    'ephox.katamari.api.Type',
    'global!Array',
    'global!Error',
    'global!console'
  ],

  function (Arr, Obj, Type, Array, Error, console) {
    /*
     * Generates a church encoded ADT (https://en.wikipedia.org/wiki/Church_encoding)
     * For syntax and use, look at the test code.
     */
    var generate = function (cases) {
      // validation
      if (!Type.isArray(cases)) {
        throw new Error('cases must be an array');
      }
      if (cases.length === 0) {
        throw new Error('there must be at least one case');
      }

      var constructors = [ ];

      // adt is mutated to add the individual cases
      var adt = {};
      Arr.each(cases, function (acase, count) {
        var keys = Obj.keys(acase);

        // validation
        if (keys.length !== 1) {
          throw new Error('one and only one name per case');
        }

        var key = keys[0];
        var value = acase[key];

        // validation
        if (adt[key] !== undefined) {
          throw new Error('duplicate key detected:' + key);
        } else if (key === 'cata') {
          throw new Error('cannot have a case named cata (sorry)');
        } else if (!Type.isArray(value)) {
          // this implicitly checks if acase is an object
          throw new Error('case arguments must be an array');
        }

        constructors.push(key);
        //
        // constructor for key
        //
        adt[key] = function () {
          var argLength = arguments.length;

          // validation
          if (argLength !== value.length) {
            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);
          }

          // Don't use array slice(arguments), makes the whole function unoptimisable on Chrome
          var args = new Array(argLength);
          for (var i = 0; i < args.length; i++) args[i] = arguments[i];


          var match = function (branches) {
            var branchKeys = Obj.keys(branches);
            if (constructors.length !== branchKeys.length) {
              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\nActual: ' + branchKeys.join(','));
            }

            var allReqd = Arr.forall(constructors, function (reqKey) {
              return Arr.contains(branchKeys, reqKey);
            });

            if (!allReqd) throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\nRequired: ' + constructors.join(', '));

            return branches[key].apply(null, args);
          };

          //
          // the fold function for key
          //
          return {
            fold: function (/* arguments */) {
              // runtime validation
              if (arguments.length !== cases.length) {
                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);
              }
              var target = arguments[count];
              return target.apply(null, args);
            },
            match: match,

            // NOTE: Only for debugging.
            log: function (label) {
              console.log(label, {
                constructors: constructors,
                constructor: key,
                params: args
              });
            }
          };
        };
      });

      return adt;
    };
    return {
      generate: generate
    };
  }
);
/**
 * CefDeleteAction.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.CefDeleteAction',
  [
    'ephox.katamari.api.Adt',
    'ephox.katamari.api.Option',
    'ephox.sugar.api.node.Element',
    'tinymce.core.caret.CaretFinder',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretUtils',
    'tinymce.core.delete.DeleteUtils',
    'tinymce.core.dom.Empty',
    'tinymce.core.dom.NodeType'
  ],
  function (Adt, Option, Element, CaretFinder, CaretPosition, CaretUtils, DeleteUtils, Empty, NodeType) {
    var DeleteAction = Adt.generate([
      { remove: [ 'element' ] },
      { moveToElement: [ 'element' ] },
      { moveToPosition: [ 'position' ] }
    ]);

    var isAtContentEditableBlockCaret = function (forward, from) {
      var elm = from.getNode(forward === false);
      var caretLocation = forward ? 'after' : 'before';
      return NodeType.isElement(elm) && elm.getAttribute('data-mce-caret') === caretLocation;
    };

    var deleteEmptyBlockOrMoveToCef = function (rootNode, forward, from, to) {
      var toCefElm = to.getNode(forward === false);
      return DeleteUtils.getParentTextBlock(Element.fromDom(rootNode), Element.fromDom(from.getNode())).map(function (blockElm) {
        return Empty.isEmpty(blockElm) ? DeleteAction.remove(blockElm.dom()) : DeleteAction.moveToElement(toCefElm);
      }).orThunk(function () {
        return Option.some(DeleteAction.moveToElement(toCefElm));
      });
    };

    var findCefPosition = function (rootNode, forward, from) {
      return CaretFinder.fromPosition(forward, rootNode, from).bind(function (to) {
        if (forward && NodeType.isContentEditableFalse(to.getNode())) {
          return deleteEmptyBlockOrMoveToCef(rootNode, forward, from, to);
        } else if (forward === false && NodeType.isContentEditableFalse(to.getNode(true))) {
          return deleteEmptyBlockOrMoveToCef(rootNode, forward, from, to);
        } else if (forward && CaretUtils.isAfterContentEditableFalse(from)) {
          return Option.some(DeleteAction.moveToPosition(to));
        } else if (forward === false && CaretUtils.isBeforeContentEditableFalse(from)) {
          return Option.some(DeleteAction.moveToPosition(to));
        } else {
          return Option.none();
        }
      });
    };

    var getContentEditableBlockAction = function (forward, elm) {
      if (forward && NodeType.isContentEditableFalse(elm.nextSibling)) {
        return Option.some(DeleteAction.moveToElement(elm.nextSibling));
      } else if (forward === false && NodeType.isContentEditableFalse(elm.previousSibling)) {
        return Option.some(DeleteAction.moveToElement(elm.previousSibling));
      } else {
        return Option.none();
      }
    };

    var getContentEditableAction = function (rootNode, forward, from) {
      if (isAtContentEditableBlockCaret(forward, from)) {
        return getContentEditableBlockAction(forward, from.getNode(forward === false))
          .fold(
            function () {
              return findCefPosition(rootNode, forward, from);
            },
            Option.some
          );
      } else {
        return findCefPosition(rootNode, forward, from);
      }
    };

    var read = function (rootNode, forward, rng) {
      var normalizedRange = CaretUtils.normalizeRange(forward ? 1 : -1, rootNode, rng);
      var from = CaretPosition.fromRangeStart(normalizedRange);

      if (forward === false && CaretUtils.isAfterContentEditableFalse(from)) {
        return Option.some(DeleteAction.remove(from.getNode(true)));
      } else if (forward && CaretUtils.isBeforeContentEditableFalse(from)) {
        return Option.some(DeleteAction.remove(from.getNode()));
      } else {
        return getContentEditableAction(rootNode, forward, from);
      }
    };

    return {
      read: read
    };
  }
);

/**
 * Bidi.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.text.Bidi',
  [
  ],
  function () {
    var strongRtl = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;

    var hasStrongRtl = function (text) {
      return strongRtl.test(text);
    };

    return {
      hasStrongRtl: hasStrongRtl
    };
  }
);
/**
 * InlineUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.keyboard.InlineUtils',
  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Option',
    'ephox.katamari.api.Options',
    'tinymce.core.caret.CaretContainer',
    'tinymce.core.caret.CaretFinder',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretUtils',
    'tinymce.core.caret.CaretWalker',
    'tinymce.core.dom.DOMUtils',
    'tinymce.core.dom.NodeType',
    'tinymce.core.text.Bidi'
  ],
  function (Arr, Fun, Option, Options, CaretContainer, CaretFinder, CaretPosition, CaretUtils, CaretWalker, DOMUtils, NodeType, Bidi) {
    var isInlineTarget = function (elm) {
      return DOMUtils.DOM.is(elm, 'a[href],code');
    };

    var isRtl = function (element) {
      return DOMUtils.DOM.getStyle(element, 'direction', true) === 'rtl' || Bidi.hasStrongRtl(element.textContent);
    };

    var findInlineParents = function (rootNode, pos) {
      return Arr.filter(DOMUtils.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);
    };

    var findInline = function (rootNode, pos) {
      var parents = findInlineParents(rootNode, pos);
      return Option.from(parents[0]);
    };

    var findRootInline = function (rootNode, pos) {
      var parents = findInlineParents(rootNode, pos);
      return Option.from(parents[parents.length - 1]);
    };

    var hasSameParentBlock = function (rootNode, node1, node2) {
      var block1 = CaretUtils.getParentBlock(node1, rootNode);
      var block2 = CaretUtils.getParentBlock(node2, rootNode);
      return block1 && block1 === block2;
    };

    var isInInline = function (rootNode, pos) {
      return pos ? findRootInline(rootNode, pos).isSome() : false;
    };

    var isAtInlineEndPoint = function (rootNode, pos) {
      return findRootInline(rootNode, pos).map(function (inline) {
        return findCaretPosition(inline, false, pos).isNone() || findCaretPosition(inline, true, pos).isNone();
      }).getOr(false);
    };

    var isAtZwsp = function (pos) {
      return CaretContainer.isBeforeInline(pos) || CaretContainer.isAfterInline(pos);
    };

    var findCaretPositionIn = function (node, forward) {
      return CaretFinder.positionIn(forward, node);
    };

    var findCaretPosition = function (rootNode, forward, from) {
      return CaretFinder.fromPosition(forward, rootNode, from);
    };

    var normalizePosition = function (forward, pos) {
      var container = pos.container(), offset = pos.offset();

      if (forward) {
        if (CaretContainer.isCaretContainerInline(container)) {
          if (NodeType.isText(container.nextSibling)) {
            return new CaretPosition(container.nextSibling, 0);
          } else {
            return CaretPosition.after(container);
          }
        } else {
          return CaretContainer.isBeforeInline(pos) ? new CaretPosition(container, offset + 1) : pos;
        }
      } else {
        if (CaretContainer.isCaretContainerInline(container)) {
          if (NodeType.isText(container.previousSibling)) {
            return new CaretPosition(container.previousSibling, container.previousSibling.data.length);
          } else {
            return CaretPosition.before(container);
          }
        } else {
          return CaretContainer.isAfterInline(pos) ? new CaretPosition(container, offset - 1) : pos;
        }
      }
    };

    var normalizeForwards = Fun.curry(normalizePosition, true);
    var normalizeBackwards = Fun.curry(normalizePosition, false);

    return {
      isInlineTarget: isInlineTarget,
      findInline: findInline,
      findRootInline: findRootInline,
      isInInline: isInInline,
      isRtl: isRtl,
      isAtInlineEndPoint: isAtInlineEndPoint,
      isAtZwsp: isAtZwsp,
      findCaretPositionIn: findCaretPositionIn,
      findCaretPosition: findCaretPosition,
      normalizePosition: normalizePosition,
      normalizeForwards: normalizeForwards,
      normalizeBackwards: normalizeBackwards,
      hasSameParentBlock: hasSameParentBlock
    };
  }
);
/**
 * DeleteElement.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.DeleteElement',
  [
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Option',
    'ephox.katamari.api.Options',
    'ephox.sugar.api.dom.Insert',
    'ephox.sugar.api.dom.Remove',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.node.Node',
    'ephox.sugar.api.search.PredicateFind',
    'ephox.sugar.api.search.Traverse',
    'tinymce.core.caret.CaretCandidate',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.dom.Empty',
    'tinymce.core.dom.NodeType',
    'tinymce.core.keyboard.InlineUtils'
  ],
  function (Fun, Option, Options, Insert, Remove, Element, Node, PredicateFind, Traverse, CaretCandidate, CaretPosition, Empty, NodeType, InlineUtils) {
    var needsReposition = function (pos, elm) {
      var container = pos.container();
      var offset = pos.offset();
      return CaretPosition.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition.before(elm).offset();
    };

    var reposition = function (elm, pos) {
      return needsReposition(pos, elm) ? new CaretPosition(pos.container(), pos.offset() - 1) : pos;
    };

    var beforeOrStartOf = function (node) {
      return NodeType.isText(node) ? new CaretPosition(node, 0) : CaretPosition.before(node);
    };

    var afterOrEndOf = function (node) {
      return NodeType.isText(node) ? new CaretPosition(node, node.data.length) : CaretPosition.after(node);
    };

    var getPreviousSiblingCaretPosition = function (elm) {
      if (CaretCandidate.isCaretCandidate(elm.previousSibling)) {
        return Option.some(afterOrEndOf(elm.previousSibling));
      } else {
        return elm.previousSibling ? InlineUtils.findCaretPositionIn(elm.previousSibling, false) : Option.none();
      }
    };

    var getNextSiblingCaretPosition = function (elm) {
      if (CaretCandidate.isCaretCandidate(elm.nextSibling)) {
        return Option.some(beforeOrStartOf(elm.nextSibling));
      } else {
        return elm.nextSibling ? InlineUtils.findCaretPositionIn(elm.nextSibling, true) : Option.none();
      }
    };

    var findCaretPositionBackwardsFromElm = function (rootElement, elm) {
      var startPosition = CaretPosition.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);
      return InlineUtils.findCaretPosition(rootElement, false, startPosition).fold(
        function () {
          return InlineUtils.findCaretPosition(rootElement, true, CaretPosition.after(elm));
        },
        Option.some
      );
    };

    var findCaretPositionForwardsFromElm = function (rootElement, elm) {
      return InlineUtils.findCaretPosition(rootElement, true, CaretPosition.after(elm)).fold(
        function () {
          return InlineUtils.findCaretPosition(rootElement, false, CaretPosition.before(elm));
        },
        Option.some
      );
    };

    var findCaretPositionBackwards = function (rootElement, elm) {
      return getPreviousSiblingCaretPosition(elm).orThunk(function () {
        return getNextSiblingCaretPosition(elm);
      }).orThunk(function () {
        return findCaretPositionBackwardsFromElm(rootElement, elm);
      });
    };

    var findCaretPositionForward = function (rootElement, elm) {
      return getNextSiblingCaretPosition(elm).orThunk(function () {
        return getPreviousSiblingCaretPosition(elm);
      }).orThunk(function () {
        return findCaretPositionForwardsFromElm(rootElement, elm);
      });
    };

    var findCaretPosition = function (forward, rootElement, elm) {
      return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);
    };

    var findCaretPosOutsideElmAfterDelete = function (forward, rootElement, elm) {
      return findCaretPosition(forward, rootElement, elm).map(Fun.curry(reposition, elm));
    };

    var setSelection = function (editor, forward, pos) {
      pos.fold(
        function () {
          editor.focus();
        },
        function (pos) {
          editor.selection.setRng(pos.toRange(), forward);
        }
      );
    };

    var eqRawNode = function (rawNode) {
      return function (elm) {
        return elm.dom() === rawNode;
      };
    };

    var isBlock = function (editor, elm) {
      return elm && editor.schema.getBlockElements().hasOwnProperty(Node.name(elm));
    };

    var paddEmptyBlock = function (elm) {
      if (Empty.isEmpty(elm)) {
        var br = Element.fromHtml('<br data-mce-bogus="1">');
        Remove.empty(elm);
        Insert.append(elm, br);
        return Option.some(CaretPosition.before(br.dom()));
      } else {
        return Option.none();
      }
    };

    // When deleting an element between two text nodes IE 11 doesn't automatically merge the adjacent text nodes
    var deleteNormalized = function (elm, afterDeletePosOpt) {
      return Options.liftN([Traverse.prevSibling(elm), Traverse.nextSibling(elm), afterDeletePosOpt], function (prev, next, afterDeletePos) {
        var offset, prevNode = prev.dom(), nextNode = next.dom();

        if (NodeType.isText(prevNode) && NodeType.isText(nextNode)) {
          offset = prevNode.data.length;
          prevNode.appendData(nextNode.data);
          Remove.remove(next);
          Remove.remove(elm);
          if (afterDeletePos.container() === nextNode) {
            return new CaretPosition(prevNode, offset);
          } else {
            return afterDeletePos;
          }
        } else {
          Remove.remove(elm);
          return afterDeletePos;
        }
      }).orThunk(function () {
        Remove.remove(elm);
        return afterDeletePosOpt;
      });
    };

    var deleteElement = function (editor, forward, elm) {
      var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom());
      var parentBlock = PredicateFind.ancestor(elm, Fun.curry(isBlock, editor), eqRawNode(editor.getBody()));
      var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos);

      parentBlock.bind(paddEmptyBlock).fold(
        function () {
          setSelection(editor, forward, normalizedAfterDeletePos);
        },
        function (paddPos) {
          setSelection(editor, forward, Option.some(paddPos));
        }
      );
    };

    return {
      deleteElement: deleteElement
    };
  }
);
/**
 * CefDelete.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.CefDelete',
  [
    'ephox.sugar.api.node.Element',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretUtils',
    'tinymce.core.delete.BlockBoundary',
    'tinymce.core.delete.CefDeleteAction',
    'tinymce.core.delete.DeleteElement',
    'tinymce.core.delete.MergeBlocks',
    'tinymce.core.dom.NodeType'
  ],
  function (Element, CaretPosition, CaretUtils, BlockBoundary, CefDeleteAction, DeleteElement, MergeBlocks, NodeType) {
    var deleteElement = function (editor, forward) {
      return function (element) {
        DeleteElement.deleteElement(editor, forward, Element.fromDom(element));
        return true;
      };
    };

    var moveToElement = function (editor, forward) {
      return function (element) {
        var pos = forward ? CaretPosition.before(element) : CaretPosition.after(element);
        editor.selection.setRng(pos.toRange());
        return true;
      };
    };

    var moveToPosition = function (editor) {
      return function (pos) {
        editor.selection.setRng(pos.toRange());
        return true;
      };
    };

    var backspaceDeleteCaret = function (editor, forward) {
      var result = CefDeleteAction.read(editor.getBody(), forward, editor.selection.getRng()).map(function (deleteAction) {
        return deleteAction.fold(
          deleteElement(editor, forward),
          moveToElement(editor, forward),
          moveToPosition(editor)
        );
      });

      return result.getOr(false);
    };

    var backspaceDeleteRange = function (editor, forward) {
      var selectedElement = editor.selection.getNode();
      if (NodeType.isContentEditableFalse(selectedElement)) {
        DeleteElement.deleteElement(editor, forward, Element.fromDom(editor.selection.getNode()));
        return true;
      } else {
        return false;
      }
    };

    var getContentEditableRoot = function (root, node) {
      while (node && node !== root) {
        if (NodeType.isContentEditableTrue(node) || NodeType.isContentEditableFalse(node)) {
          return node;
        }

        node = node.parentNode;
      }

      return null;
    };

    var paddEmptyElement = function (editor) {
      var br, ceRoot = getContentEditableRoot(editor.getBody(), editor.selection.getNode());

      if (NodeType.isContentEditableTrue(ceRoot) && editor.dom.isBlock(ceRoot) && editor.dom.isEmpty(ceRoot)) {
        br = editor.dom.create('br', { "data-mce-bogus": "1" });
        editor.dom.setHTML(ceRoot, '');
        ceRoot.appendChild(br);
        editor.selection.setRng(CaretPosition.before(br).toRange());
      }

      return true;
    };

    var backspaceDelete = function (editor, forward) {
      if (editor.selection.isCollapsed()) {
        return backspaceDeleteCaret(editor, forward);
      } else {
        return backspaceDeleteRange(editor, forward);
      }
    };

    return {
      backspaceDelete: backspaceDelete,
      paddEmptyElement: paddEmptyElement
    };
  }
);

/**
 * CaretContainerInline.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.caret.CaretContainerInline',
  [
    'ephox.katamari.api.Fun',
    'tinymce.core.dom.NodeType',
    'tinymce.core.text.Zwsp'
  ],
  function (Fun, NodeType, Zwsp) {
    var isText = NodeType.isText;

    var startsWithCaretContainer = function (node) {
      return isText(node) && node.data[0] === Zwsp.ZWSP;
    };

    var endsWithCaretContainer = function (node) {
      return isText(node) && node.data[node.data.length - 1] === Zwsp.ZWSP;
    };

    var createZwsp = function (node) {
      return node.ownerDocument.createTextNode(Zwsp.ZWSP);
    };

    var insertBefore = function (node) {
      if (isText(node.previousSibling)) {
        if (endsWithCaretContainer(node.previousSibling)) {
          return node.previousSibling;
        } else {
          node.previousSibling.appendData(Zwsp.ZWSP);
          return node.previousSibling;
        }
      } else if (isText(node)) {
        if (startsWithCaretContainer(node)) {
          return node;
        } else {
          node.insertData(0, Zwsp.ZWSP);
          return node;
        }
      } else {
        var newNode = createZwsp(node);
        node.parentNode.insertBefore(newNode, node);
        return newNode;
      }
    };

    var insertAfter = function (node) {
      if (isText(node.nextSibling)) {
        if (startsWithCaretContainer(node.nextSibling)) {
          return node.nextSibling;
        } else {
          node.nextSibling.insertData(0, Zwsp.ZWSP);
          return node.nextSibling;
        }
      } else if (isText(node)) {
        if (endsWithCaretContainer(node)) {
          return node;
        } else {
          node.appendData(Zwsp.ZWSP);
          return node;
        }
      } else {
        var newNode = createZwsp(node);
        if (node.nextSibling) {
          node.parentNode.insertBefore(newNode, node.nextSibling);
        } else {
          node.parentNode.appendChild(newNode);
        }
        return newNode;
      }
    };

    var insertInline = function (before, node) {
      return before ? insertBefore(node) : insertAfter(node);
    };

    return {
      insertInline: insertInline,
      insertInlineBefore: Fun.curry(insertInline, true),
      insertInlineAfter: Fun.curry(insertInline, false)
    };
  }
);
/**
 * CaretContainerRemove.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.caret.CaretContainerRemove',
  [
    'ephox.katamari.api.Arr',
    'tinymce.core.caret.CaretContainer',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.dom.NodeType',
    'tinymce.core.text.Zwsp',
    'tinymce.core.util.Tools'
  ],
  function (Arr, CaretContainer, CaretPosition, NodeType, Zwsp, Tools) {
    var isElement = NodeType.isElement;
    var isText = NodeType.isText;

    var removeNode = function (node) {
      var parentNode = node.parentNode;
      if (parentNode) {
        parentNode.removeChild(node);
      }
    };

    var getNodeValue = function (node) {
      try {
        return node.nodeValue;
      } catch (ex) {
        // IE sometimes produces "Invalid argument" on nodes
        return "";
      }
    };

    var setNodeValue = function (node, text) {
      if (text.length === 0) {
        removeNode(node);
      } else {
        node.nodeValue = text;
      }
    };

    var trimCount = function (text) {
      var trimmedText = Zwsp.trim(text);
      return { count: text.length - trimmedText.length, text: trimmedText };
    };

    var removeUnchanged = function (caretContainer, pos) {
      remove(caretContainer);
      return pos;
    };

    var removeTextAndReposition = function (caretContainer, pos) {
      var before = trimCount(caretContainer.data.substr(0, pos.offset()));
      var after = trimCount(caretContainer.data.substr(pos.offset()));
      var text = before.text + after.text;

      if (text.length > 0) {
        setNodeValue(caretContainer, text);
        return new CaretPosition(caretContainer, pos.offset() - before.count);
      } else {
        return pos;
      }
    };

    var removeElementAndReposition = function (caretContainer, pos) {
      var parentNode = pos.container();
      var newPosition = Arr.indexOf(parentNode.childNodes, caretContainer).map(function (index) {
        return index < pos.offset() ? new CaretPosition(parentNode, pos.offset() - 1) : pos;
      }).getOr(pos);
      remove(caretContainer);
      return newPosition;
    };

    var removeTextCaretContainer = function (caretContainer, pos) {
      return pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);
    };

    var removeElementCaretContainer = function (caretContainer, pos) {
      return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);
    };

    var removeAndReposition = function (container, pos) {
      return CaretPosition.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);
    };

    var remove = function (caretContainerNode) {
      if (isElement(caretContainerNode) && CaretContainer.isCaretContainer(caretContainerNode)) {
        if (CaretContainer.hasContent(caretContainerNode)) {
          caretContainerNode.removeAttribute('data-mce-caret');
        } else {
          removeNode(caretContainerNode);
        }
      }

      if (isText(caretContainerNode)) {
        var text = Zwsp.trim(getNodeValue(caretContainerNode));
        setNodeValue(caretContainerNode, text);
      }
    };

    return {
      removeAndReposition: removeAndReposition,
      remove: remove
    };
  }
);
/**
 * BoundaryCaret.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.keyboard.BoundaryCaret',
  [
    'ephox.katamari.api.Option',
    'tinymce.core.caret.CaretContainer',
    'tinymce.core.caret.CaretContainerInline',
    'tinymce.core.caret.CaretContainerRemove',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.dom.NodeType',
    'tinymce.core.keyboard.InlineUtils'
  ],
  function (Option, CaretContainer, CaretContainerInline, CaretContainerRemove, CaretPosition, NodeType, InlineUtils) {
    var insertInlinePos = function (pos, before) {
      if (NodeType.isText(pos.container())) {
        return CaretContainerInline.insertInline(before, pos.container());
      } else {
        return CaretContainerInline.insertInline(before, pos.getNode());
      }
    };

    var isPosCaretContainer = function (pos, caret) {
      var caretNode = caret.get();
      return caretNode && pos.container() === caretNode && CaretContainer.isCaretContainerInline(caretNode);
    };

    var renderCaret = function (caret, location) {
      return location.fold(
        function (element) { // Before
          CaretContainerRemove.remove(caret.get());
          var text = CaretContainerInline.insertInlineBefore(element);
          caret.set(text);
          return Option.some(new CaretPosition(text, text.length - 1));
        },
        function (element) { // Start
          return InlineUtils.findCaretPositionIn(element, true).map(function (pos) {
            if (!isPosCaretContainer(pos, caret)) {
              CaretContainerRemove.remove(caret.get());
              var text = insertInlinePos(pos, true);
              caret.set(text);
              return new CaretPosition(text, 1);
            } else {
              return new CaretPosition(caret.get(), 1);
            }
          });
        },
        function (element) { // End
          return InlineUtils.findCaretPositionIn(element, false).map(function (pos) {
            if (!isPosCaretContainer(pos, caret)) {
              CaretContainerRemove.remove(caret.get());
              var text = insertInlinePos(pos, false);
              caret.set(text);
              return new CaretPosition(text, text.length - 1);
            } else {
              return new CaretPosition(caret.get(), caret.get().length - 1);
            }
          });
        },
        function (element) { // After
          CaretContainerRemove.remove(caret.get());
          var text = CaretContainerInline.insertInlineAfter(element);
          caret.set(text);
          return Option.some(new CaretPosition(text, 1));
        }
      );
    };

    return {
      renderCaret: renderCaret
    };
  }
);
/**
 * LazyEvaluator.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.util.LazyEvaluator',
  [
    'ephox.katamari.api.Option'
  ],
  function (Option) {
    var evaluateUntil = function (fns, args) {
      for (var i = 0; i < fns.length; i++) {
        var result = fns[i].apply(null, args);
        if (result.isSome()) {
          return result;
        }
      }

      return Option.none();
    };

    return {
      evaluateUntil: evaluateUntil
    };
  }
);
/**
 * BoundaryLocation.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.keyboard.BoundaryLocation',
  [
    'ephox.katamari.api.Adt',
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Option',
    'ephox.katamari.api.Options',
    'tinymce.core.caret.CaretContainer',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretUtils',
    'tinymce.core.dom.NodeType',
    'tinymce.core.keyboard.InlineUtils',
    'tinymce.core.util.LazyEvaluator'
  ],
  function (Adt, Fun, Option, Options, CaretContainer, CaretPosition, CaretUtils, NodeType, InlineUtils, LazyEvaluator) {
    var Location = Adt.generate([
      { before: [ 'element' ] },
      { start: [ 'element' ] },
      { end: [ 'element' ] },
      { after: [ 'element' ] }
    ]);

    var rescope = function (rootNode, node) {
      var parentBlock = CaretUtils.getParentBlock(node, rootNode);
      return parentBlock ? parentBlock : rootNode;
    };

    var before = function (rootNode, pos) {
      var nPos = InlineUtils.normalizeForwards(pos);
      var scope = rescope(rootNode, nPos.container());
      return InlineUtils.findRootInline(scope, nPos).fold(
        function () {
          return InlineUtils.findCaretPosition(scope, true, nPos)
            .bind(Fun.curry(InlineUtils.findRootInline, scope))
            .map(function (inline) {
              return Location.before(inline);
            });
        },
        Option.none
      );
    };

    var start = function (rootNode, pos) {
      var nPos = InlineUtils.normalizeBackwards(pos);
      return InlineUtils.findRootInline(rootNode, nPos).bind(function (inline) {
        var prevPos = InlineUtils.findCaretPosition(inline, false, nPos);
        return prevPos.isNone() ? Option.some(Location.start(inline)) : Option.none();
      });
    };

    var end = function (rootNode, pos) {
      var nPos = InlineUtils.normalizeForwards(pos);
      return InlineUtils.findRootInline(rootNode, nPos).bind(function (inline) {
        var nextPos = InlineUtils.findCaretPosition(inline, true, nPos);
        return nextPos.isNone() ? Option.some(Location.end(inline)) : Option.none();
      });
    };

    var after = function (rootNode, pos) {
      var nPos = InlineUtils.normalizeBackwards(pos);
      var scope = rescope(rootNode, nPos.container());
      return InlineUtils.findRootInline(scope, nPos).fold(
        function () {
          return InlineUtils.findCaretPosition(scope, false, nPos)
            .bind(Fun.curry(InlineUtils.findRootInline, scope))
            .map(function (inline) {
              return Location.after(inline);
            });
        },
        Option.none
      );
    };

    var isValidLocation = function (location) {
      return InlineUtils.isRtl(getElement(location)) === false;
    };

    var readLocation = function (rootNode, pos) {
      var location = LazyEvaluator.evaluateUntil([
        before,
        start,
        end,
        after
      ], [rootNode, pos]);

      return location.filter(isValidLocation);
    };

    var getElement = function (location) {
      return location.fold(
        Fun.identity, // Before
        Fun.identity, // Start
        Fun.identity, // End
        Fun.identity  // After
      );
    };

    var getName = function (location) {
      return location.fold(
        Fun.constant('before'), // Before
        Fun.constant('start'),  // Start
        Fun.constant('end'),    // End
        Fun.constant('after')   // After
      );
    };

    var outside = function (location) {
      return location.fold(
        Location.before, // Before
        Location.before, // Start
        Location.after,  // End
        Location.after   // After
      );
    };

    var inside = function (location) {
      return location.fold(
        Location.start, // Before
        Location.start, // Start
        Location.end,   // End
        Location.end    // After
      );
    };

    var isEq = function (location1, location2) {
      return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);
    };

    var betweenInlines = function (forward, rootNode, from, to, location) {
      return Options.liftN([
        InlineUtils.findRootInline(rootNode, from),
        InlineUtils.findRootInline(rootNode, to)
      ], function (fromInline, toInline) {
        if (fromInline !== toInline && InlineUtils.hasSameParentBlock(rootNode, fromInline, toInline)) {
          // Force after since some browsers normalize and lean left into the closest inline
          return Location.after(forward ? fromInline : toInline);
        } else {
          return location;
        }
      }).getOr(location);
    };

    var skipNoMovement = function (fromLocation, toLocation) {
      return fromLocation.fold(
        Fun.constant(true),
        function (fromLocation) {
          return !isEq(fromLocation, toLocation);
        }
      );
    };

    var findLocationTraverse = function (forward, rootNode, fromLocation, pos) {
      var from = InlineUtils.normalizePosition(forward, pos);
      var to = InlineUtils.findCaretPosition(rootNode, forward, from).map(Fun.curry(InlineUtils.normalizePosition, forward));

      var location = to.fold(
        function () {
          return fromLocation.map(outside);
        },
        function (to) {
          return readLocation(rootNode, to)
            .map(Fun.curry(betweenInlines, forward, rootNode, from, to))
            .filter(Fun.curry(skipNoMovement, fromLocation));
        }
      );

      return location.filter(isValidLocation);
    };

    var findLocationSimple = function (forward, location) {
      if (forward) {
        return location.fold(
          Fun.compose(Option.some, Location.start), // Before -> Start
          Option.none,
          Fun.compose(Option.some, Location.after), // End -> After
          Option.none
        );
      } else {
        return location.fold(
          Option.none,
          Fun.compose(Option.some, Location.before), // Before <- Start
          Option.none,
          Fun.compose(Option.some, Location.end) // End <- After
        );
      }
    };

    var findLocation = function (forward, rootNode, pos) {
      var from = InlineUtils.normalizePosition(forward, pos);
      var fromLocation = readLocation(rootNode, from);

      return readLocation(rootNode, from).bind(Fun.curry(findLocationSimple, forward)).orThunk(function () {
        return findLocationTraverse(forward, rootNode, fromLocation, pos);
      });
    };

    return {
      readLocation: readLocation,
      prevLocation: Fun.curry(findLocation, false),
      nextLocation: Fun.curry(findLocation, true),
      getElement: getElement,
      outside: outside,
      inside: inside
    };
  }
);
define(
  'ephox.katamari.api.Cell',

  [
  ],

  function () {
    var Cell = function (initial) {
      var value = initial;

      var get = function () {
        return value;
      };

      var set = function (v) {
        value = v;
      };

      var clone = function () {
        return Cell(get());
      };

      return {
        get: get,
        set: set,
        clone: clone
      };
    };

    return Cell;
  }
);

/**
 * BoundarySelection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.keyboard.BoundarySelection',
  [
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Cell',
    'ephox.katamari.api.Fun',
    'tinymce.core.caret.CaretContainerRemove',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.keyboard.BoundaryCaret',
    'tinymce.core.keyboard.BoundaryLocation',
    'tinymce.core.keyboard.InlineUtils'
  ],
  function (Arr, Cell, Fun, CaretContainerRemove, CaretPosition, BoundaryCaret, BoundaryLocation, InlineUtils) {
    var setCaretPosition = function (editor, pos) {
      var rng = editor.dom.createRng();
      rng.setStart(pos.container(), pos.offset());
      rng.setEnd(pos.container(), pos.offset());
      editor.selection.setRng(rng);
    };

    var isFeatureEnabled = function (editor) {
      return editor.settings.inline_boundaries !== false;
    };

    var setSelected = function (state, elm) {
      if (state) {
        elm.setAttribute('data-mce-selected', '1');
      } else {
        elm.removeAttribute('data-mce-selected', '1');
      }
    };

    var renderCaretLocation = function (editor, caret, location) {
      return BoundaryCaret.renderCaret(caret, location).map(function (pos) {
        setCaretPosition(editor, pos);
        return location;
      });
    };

    var findLocation = function (editor, caret, forward) {
      var rootNode = editor.getBody();
      var from = CaretPosition.fromRangeStart(editor.selection.getRng());
      var location = forward ? BoundaryLocation.nextLocation(rootNode, from) : BoundaryLocation.prevLocation(rootNode, from);
      return location.bind(function (location) {
        return renderCaretLocation(editor, caret, location);
      });
    };

    var toggleInlines = function (dom, elms) {
      var selectedInlines = dom.select('a[href][data-mce-selected],code[data-mce-selected]');
      var targetInlines = Arr.filter(elms, InlineUtils.isInlineTarget);
      Arr.each(Arr.difference(selectedInlines, targetInlines), Fun.curry(setSelected, false));
      Arr.each(Arr.difference(targetInlines, selectedInlines), Fun.curry(setSelected, true));
    };

    var safeRemoveCaretContainer = function (editor, caret) {
      if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {
        var pos = CaretPosition.fromRangeStart(editor.selection.getRng());
        if (CaretPosition.isTextPosition(pos) && InlineUtils.isAtZwsp(pos) === false) {
          setCaretPosition(editor, CaretContainerRemove.removeAndReposition(caret.get(), pos));
          caret.set(null);
        }
      }
    };

    var renderInsideInlineCaret = function (editor, caret, elms) {
      if (editor.selection.isCollapsed()) {
        var inlines = Arr.filter(elms, InlineUtils.isInlineTarget);
        Arr.each(inlines, function (inline) {
          var pos = CaretPosition.fromRangeStart(editor.selection.getRng());
          BoundaryLocation.readLocation(editor.getBody(), pos).bind(function (location) {
            return renderCaretLocation(editor, caret, location);
          });
        });
      }
    };

    var move = function (editor, caret, forward) {
      return function () {
        return isFeatureEnabled(editor) ? findLocation(editor, caret, forward).isSome() : false;
      };
    };

    var setupSelectedState = function (editor) {
      var caret = new Cell(null);

      editor.on('NodeChange', function (e) {
        if (isFeatureEnabled(editor)) {
          toggleInlines(editor.dom, e.parents);
          safeRemoveCaretContainer(editor, caret);
          renderInsideInlineCaret(editor, caret, e.parents);
        }
      });

      return caret;
    };

    return {
      move: move,
      setupSelectedState: setupSelectedState,
      setCaretPosition: setCaretPosition
    };
  }
);
/**
 * InlineBoundaryDelete.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.InlineBoundaryDelete',
  [
    'ephox.katamari.api.Fun',
    'ephox.katamari.api.Option',
    'ephox.katamari.api.Options',
    'ephox.sugar.api.node.Element',
    'tinymce.core.caret.CaretContainer',
    'tinymce.core.caret.CaretFinder',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretUtils',
    'tinymce.core.delete.DeleteElement',
    'tinymce.core.keyboard.BoundaryCaret',
    'tinymce.core.keyboard.BoundaryLocation',
    'tinymce.core.keyboard.BoundarySelection',
    'tinymce.core.keyboard.InlineUtils'
  ],
  function (
    Fun, Option, Options, Element, CaretContainer, CaretFinder, CaretPosition, CaretUtils, DeleteElement, BoundaryCaret, BoundaryLocation, BoundarySelection,
    InlineUtils
  ) {
    var isFeatureEnabled = function (editor) {
      return editor.settings.inline_boundaries !== false;
    };

    var rangeFromPositions = function (from, to) {
      var range = document.createRange();

      range.setStart(from.container(), from.offset());
      range.setEnd(to.container(), to.offset());

      return range;
    };

    // Checks for delete at <code>|a</code> when there is only one item left except the zwsp caret container nodes
    var hasOnlyTwoOrLessPositionsLeft = function (elm) {
      return Options.liftN([
        InlineUtils.findCaretPositionIn(elm, true),
        InlineUtils.findCaretPositionIn(elm, false)
      ], function (firstPos, lastPos) {
        var normalizedFirstPos = InlineUtils.normalizePosition(true, firstPos);
        var normalizedLastPos = InlineUtils.normalizePosition(false, lastPos);

        return InlineUtils.findCaretPosition(elm, true, normalizedFirstPos).map(function (pos) {
          return pos.isEqual(normalizedLastPos);
        }).getOr(true);
      }).getOr(true);
    };

    var setCaretLocation = function (editor, caret) {
      return function (location) {
        return BoundaryCaret.renderCaret(caret, location).map(function (pos) {
          BoundarySelection.setCaretPosition(editor, pos);
          return true;
        }).getOr(false);
      };
    };

    var deleteFromTo = function (editor, caret, from, to) {
      var rootNode = editor.getBody();

      editor.undoManager.ignore(function () {
        editor.selection.setRng(rangeFromPositions(from, to));
        editor.execCommand('Delete');

        BoundaryLocation.readLocation(rootNode, CaretPosition.fromRangeStart(editor.selection.getRng()))
          .map(BoundaryLocation.inside)
          .map(setCaretLocation(editor, caret));
      });

      editor.nodeChanged();
    };

    var rescope = function (rootNode, node) {
      var parentBlock = CaretUtils.getParentBlock(node, rootNode);
      return parentBlock ? parentBlock : rootNode;
    };

    var backspaceDeleteCollapsed = function (editor, caret, forward, from) {
      var rootNode = rescope(editor.getBody(), from.container());
      var fromLocation = BoundaryLocation.readLocation(rootNode, from);

      return fromLocation.bind(function (location) {
        if (forward) {
          return location.fold(
            Fun.constant(Option.some(BoundaryLocation.inside(location))), // Before
            Option.none, // Start
            Fun.constant(Option.some(BoundaryLocation.outside(location))), // End
            Option.none  // After
          );
        } else {
          return location.fold(
            Option.none, // Before
            Fun.constant(Option.some(BoundaryLocation.outside(location))), // Start
            Option.none, // End
            Fun.constant(Option.some(BoundaryLocation.inside(location)))  // After
          );
        }
      })
      .map(setCaretLocation(editor, caret))
      .getOrThunk(function () {
        var toPosition = CaretFinder.navigate(forward, rootNode, from);
        var toLocation = toPosition.bind(function (pos) {
          return BoundaryLocation.readLocation(rootNode, pos);
        });

        if (fromLocation.isSome() && toLocation.isSome()) {
          return InlineUtils.findRootInline(rootNode, from).map(function (elm) {
            if (hasOnlyTwoOrLessPositionsLeft(elm)) {
              DeleteElement.deleteElement(editor, forward, Element.fromDom(elm));
              return true;
            } else {
              return false;
            }
          }).getOr(false);
        } else {
          return toLocation.bind(function (_) {
            return toPosition.map(function (to) {
              if (forward) {
                deleteFromTo(editor, caret, from, to);
              } else {
                deleteFromTo(editor, caret, to, from);
              }

              return true;
            });
          }).getOr(false);
        }
      });
    };

    var backspaceDelete = function (editor, caret, forward) {
      if (editor.selection.isCollapsed() && isFeatureEnabled(editor)) {
        var from = CaretPosition.fromRangeStart(editor.selection.getRng());
        return backspaceDeleteCollapsed(editor, caret, forward, from);
      }

      return false;
    };

    return {
      backspaceDelete: backspaceDelete
    };
  }
);
/**
 * Commands.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.delete.DeleteCommands',
  [
    'tinymce.core.delete.BlockBoundaryDelete',
    'tinymce.core.delete.BlockRangeDelete',
    'tinymce.core.delete.CefDelete',
    'tinymce.core.delete.InlineBoundaryDelete'
  ],
  function (BlockBoundaryDelete, BlockRangeDelete, CefDelete, BoundaryDelete) {
    var nativeCommand = function (editor, command) {
      editor.getDoc().execCommand(command, false, null);
    };

    var paddEmptyBody = function (editor) {
      var dom = editor.dom;

      // Check if body is empty after the delete call if so then set the contents
      // to an empty string and move the caret to any block produced by that operation
      // this fixes the issue with root blocks not being properly produced after a delete call on IE
      var body = editor.getBody();

      if (dom.isEmpty(body)) {
        editor.setContent('');

        if (body.firstChild && dom.isBlock(body.firstChild)) {
          editor.selection.setCursorLocation(body.firstChild, 0);
        } else {
          editor.selection.setCursorLocation(body, 0);
        }
      }
    };

    var deleteCommand = function (editor) {
      if (CefDelete.backspaceDelete(editor, false)) {
        return;
      } else if (BoundaryDelete.backspaceDelete(editor, false)) {
        return;
      } else if (BlockBoundaryDelete.backspaceDelete(editor, false)) {
        return;
      } else if (BlockRangeDelete.backspaceDelete(editor, false)) {
        return;
      } else {
        nativeCommand(editor, 'Delete');
        paddEmptyBody(editor);
      }
    };

    var forwardDeleteCommand = function (editor) {
      if (CefDelete.backspaceDelete(editor, true)) {
        return;
      } else if (BoundaryDelete.backspaceDelete(editor, true)) {
        return;
      } else if (BlockBoundaryDelete.backspaceDelete(editor, true)) {
        return;
      } else if (BlockRangeDelete.backspaceDelete(editor, true)) {
        return;
      } else {
        nativeCommand(editor, 'ForwardDelete');
      }
    };

    return {
      deleteCommand: deleteCommand,
      forwardDeleteCommand: forwardDeleteCommand
    };
  }
);
/**
 * RangeNormalizer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.dom.RangeNormalizer',
  [
    'tinymce.core.caret.CaretFinder',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretUtils',
    'tinymce.core.dom.NodeType'
  ],
  function (CaretFinder, CaretPosition, CaretUtils, NodeType) {
    var isTextBlock = function (elm) {
      return NodeType.isElement(elm) && /^(P|H[1-6]|DIV)$/.test(elm.nodeName);
    };

    var matchEndContainer = function (rng, predicate) {
      return predicate(rng.endContainer);
    };

    var createRange = function (sc, so, ec, eo) {
      var rng = document.createRange();
      rng.setStart(sc, so);
      rng.setEnd(ec, eo);
      return rng;
    };

    // If you tripple click a paragraph in this case:
    //   <blockquote><p>a</p></blockquote><p>b</p>
    // It would become this range in webkit:
    //   <blockquote><p>[a</p></blockquote><p>]b</p>
    // We would want it to be:
    //   <blockquote><p>[a]</p></blockquote><p>b</p>
    // Since it would otherwise produces spans out of thin air on insertContent for example.
    var normalizeBlockSelection = function (rng) {
      var startPos = CaretPosition.fromRangeStart(rng);
      var endPos = CaretPosition.fromRangeEnd(rng);
      var rootNode = rng.commonAncestorContainer;

      if (rng.collapsed === false && matchEndContainer(rng, isTextBlock) && rng.endOffset === 0) {
        return CaretFinder.fromPosition(false, rootNode, endPos)
          .map(function (newEndPos) {
            if (!CaretUtils.isInSameBlock(startPos, endPos, rootNode) && CaretUtils.isInSameBlock(startPos, newEndPos, rootNode)) {
              return createRange(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());
            } else {
              return rng;
            }
          }).getOr(rng);
      } else {
        return rng;
      }
    };

    var normalize = function (rng) {
      return normalizeBlockSelection(rng);
    };

    return {
      normalize: normalize
    };
  }
);
/**
 * InsertList.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Handles inserts of lists into the editor instance.
 *
 * @class tinymce.InsertList
 * @private
 */
define(
  'tinymce.core.InsertList',
  [
    "tinymce.core.util.Tools",
    "tinymce.core.caret.CaretWalker",
    "tinymce.core.caret.CaretPosition"
  ],
  function (Tools, CaretWalker, CaretPosition) {
    var isListFragment = function (fragment) {
      var firstChild = fragment.firstChild;
      var lastChild = fragment.lastChild;

      // Skip meta since it's likely <meta><ul>..</ul>
      if (firstChild && firstChild.name === 'meta') {
        firstChild = firstChild.next;
      }

      // Skip mce_marker since it's likely <ul>..</ul><span id="mce_marker"></span>
      if (lastChild && lastChild.attr('id') === 'mce_marker') {
        lastChild = lastChild.prev;
      }

      if (!firstChild || firstChild !== lastChild) {
        return false;
      }

      return firstChild.name === 'ul' || firstChild.name === 'ol';
    };

    var cleanupDomFragment = function (domFragment) {
      var firstChild = domFragment.firstChild;
      var lastChild = domFragment.lastChild;

      // TODO: remove the meta tag from paste logic
      if (firstChild && firstChild.nodeName === 'META') {
        firstChild.parentNode.removeChild(firstChild);
      }

      if (lastChild && lastChild.id === 'mce_marker') {
        lastChild.parentNode.removeChild(lastChild);
      }

      return domFragment;
    };

    var toDomFragment = function (dom, serializer, fragment) {
      var html = serializer.serialize(fragment);
      var domFragment = dom.createFragment(html);

      return cleanupDomFragment(domFragment);
    };

    var listItems = function (elm) {
      return Tools.grep(elm.childNodes, function (child) {
        return child.nodeName === 'LI';
      });
    };

    var isEmpty = function (elm) {
      return !elm.firstChild;
    };

    var trimListItems = function (elms) {
      return elms.length > 0 && isEmpty(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;
    };

    var getParentLi = function (dom, node) {
      var parentBlock = dom.getParent(node, dom.isBlock);
      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;
    };

    var isParentBlockLi = function (dom, node) {
      return !!getParentLi(dom, node);
    };

    var getSplit = function (parentNode, rng) {
      var beforeRng = rng.cloneRange();
      var afterRng = rng.cloneRange();

      beforeRng.setStartBefore(parentNode);
      afterRng.setEndAfter(parentNode);

      return [
        beforeRng.cloneContents(),
        afterRng.cloneContents()
      ];
    };

    var findFirstIn = function (node, rootNode) {
      var caretPos = CaretPosition.before(node);
      var caretWalker = new CaretWalker(rootNode);
      var newCaretPos = caretWalker.next(caretPos);

      return newCaretPos ? newCaretPos.toRange() : null;
    };

    var findLastOf = function (node, rootNode) {
      var caretPos = CaretPosition.after(node);
      var caretWalker = new CaretWalker(rootNode);
      var newCaretPos = caretWalker.prev(caretPos);

      return newCaretPos ? newCaretPos.toRange() : null;
    };

    var insertMiddle = function (target, elms, rootNode, rng) {
      var parts = getSplit(target, rng);
      var parentElm = target.parentNode;

      parentElm.insertBefore(parts[0], target);
      Tools.each(elms, function (li) {
        parentElm.insertBefore(li, target);
      });
      parentElm.insertBefore(parts[1], target);
      parentElm.removeChild(target);

      return findLastOf(elms[elms.length - 1], rootNode);
    };

    var insertBefore = function (target, elms, rootNode) {
      var parentElm = target.parentNode;

      Tools.each(elms, function (elm) {
        parentElm.insertBefore(elm, target);
      });

      return findFirstIn(target, rootNode);
    };

    var insertAfter = function (target, elms, rootNode, dom) {
      dom.insertAfter(elms.reverse(), target);
      return findLastOf(elms[0], rootNode);
    };

    var insertAtCaret = function (serializer, dom, rng, fragment) {
      var domFragment = toDomFragment(dom, serializer, fragment);
      var liTarget = getParentLi(dom, rng.startContainer);
      var liElms = trimListItems(listItems(domFragment.firstChild));
      var BEGINNING = 1, END = 2;
      var rootNode = dom.getRoot();

      var isAt = function (location) {
        var caretPos = CaretPosition.fromRangeStart(rng);
        var caretWalker = new CaretWalker(dom.getRoot());
        var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);

        return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;
      };

      if (isAt(BEGINNING)) {
        return insertBefore(liTarget, liElms, rootNode);
      } else if (isAt(END)) {
        return insertAfter(liTarget, liElms, rootNode, dom);
      }

      return insertMiddle(liTarget, liElms, rootNode, rng);
    };

    return {
      isListFragment: isListFragment,
      insertAtCaret: insertAtCaret,
      isParentBlockLi: isParentBlockLi,
      trimListItems: trimListItems,
      listItems: listItems
    };
  }
);
/**
 * InsertContent.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Handles inserts of contents into the editor instance.
 *
 * @class tinymce.InsertContent
 * @private
 */
define(
  'tinymce.core.InsertContent',
  [
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretWalker',
    'tinymce.core.dom.ElementUtils',
    'tinymce.core.dom.NodeType',
    'tinymce.core.dom.RangeNormalizer',
    'tinymce.core.Env',
    'tinymce.core.html.Serializer',
    'tinymce.core.InsertList',
    'tinymce.core.util.Tools'
  ],
  function (CaretPosition, CaretWalker, ElementUtils, NodeType, RangeNormalizer, Env, Serializer, InsertList, Tools) {
    var isTableCell = NodeType.matchNodeNames('td th');

    var validInsertion = function (editor, value, parentNode) {
      // Should never insert content into bogus elements, since these can
      // be resize handles or similar
      if (parentNode.getAttribute('data-mce-bogus') === 'all') {
        parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);
      } else {
        // Check if parent is empty or only has one BR element then set the innerHTML of that parent
        var node = parentNode.firstChild;
        var node2 = parentNode.lastChild;
        if (!node || (node === node2 && node.nodeName === 'BR')) {///
          editor.dom.setHTML(parentNode, value);
        } else {
          editor.selection.setContent(value);
        }
      }
    };

    var insertHtmlAtCaret = function (editor, value, details) {
      var parser, serializer, parentNode, rootNode, fragment, args;
      var marker, rng, node, node2, bookmarkHtml, merge;
      var textInlineElements = editor.schema.getTextInlineElements();
      var selection = editor.selection, dom = editor.dom;

      function trimOrPaddLeftRight(html) {
        var rng, container, offset;

        rng = selection.getRng(true);
        container = rng.startContainer;
        offset = rng.startOffset;

        function hasSiblingText(siblingName) {
          return container[siblingName] && container[siblingName].nodeType == 3;
        }

        if (container.nodeType == 3) {
          if (offset > 0) {
            html = html.replace(/^&nbsp;/, ' ');
          } else if (!hasSiblingText('previousSibling')) {
            html = html.replace(/^ /, '&nbsp;');
          }

          if (offset < container.length) {
            html = html.replace(/&nbsp;(<br>|)$/, ' ');
          } else if (!hasSiblingText('nextSibling')) {
            html = html.replace(/(&nbsp;| )(<br>|)$/, '&nbsp;');
          }
        }

        return html;
      }

      // Removes &nbsp; from a [b] c -> a &nbsp;c -> a c
      function trimNbspAfterDeleteAndPaddValue() {
        var rng, container, offset;

        rng = selection.getRng(true);
        container = rng.startContainer;
        offset = rng.startOffset;

        if (container.nodeType == 3 && rng.collapsed) {
          if (container.data[offset] === '\u00a0') {
            container.deleteData(offset, 1);

            if (!/[\u00a0| ]$/.test(value)) {
              value += ' ';
            }
          } else if (container.data[offset - 1] === '\u00a0') {
            container.deleteData(offset - 1, 1);

            if (!/[\u00a0| ]$/.test(value)) {
              value = ' ' + value;
            }
          }
        }
      }

      function reduceInlineTextElements() {
        if (merge) {
          var root = editor.getBody(), elementUtils = new ElementUtils(dom);

          Tools.each(dom.select('*[data-mce-fragment]'), function (node) {
            for (var testNode = node.parentNode; testNode && testNode != root; testNode = testNode.parentNode) {
              if (textInlineElements[node.nodeName.toLowerCase()] && elementUtils.compare(testNode, node)) {
                dom.remove(node, true);
              }
            }
          });
        }
      }

      function markFragmentElements(fragment) {
        var node = fragment;

        while ((node = node.walk())) {
          if (node.type === 1) {
            node.attr('data-mce-fragment', '1');
          }
        }
      }

      function umarkFragmentElements(elm) {
        Tools.each(elm.getElementsByTagName('*'), function (elm) {
          elm.removeAttribute('data-mce-fragment');
        });
      }

      function isPartOfFragment(node) {
        return !!node.getAttribute('data-mce-fragment');
      }

      function canHaveChildren(node) {
        return node && !editor.schema.getShortEndedElements()[node.nodeName];
      }

      function moveSelectionToMarker(marker) {
        var parentEditableFalseElm, parentBlock, nextRng;

        function getContentEditableFalseParent(node) {
          var root = editor.getBody();

          for (; node && node !== root; node = node.parentNode) {
            if (editor.dom.getContentEditable(node) === 'false') {
              return node;
            }
          }

          return null;
        }

        if (!marker) {
          return;
        }

        selection.scrollIntoView(marker);

        // If marker is in cE=false then move selection to that element instead
        parentEditableFalseElm = getContentEditableFalseParent(marker);
        if (parentEditableFalseElm) {
          dom.remove(marker);
          selection.select(parentEditableFalseElm);
          return;
        }

        // Move selection before marker and remove it
        rng = dom.createRng();

        // If previous sibling is a text node set the selection to the end of that node
        node = marker.previousSibling;
        if (node && node.nodeType == 3) {
          rng.setStart(node, node.nodeValue.length);

          // TODO: Why can't we normalize on IE
          if (!Env.ie) {
            node2 = marker.nextSibling;
            if (node2 && node2.nodeType == 3) {
              node.appendData(node2.data);
              node2.parentNode.removeChild(node2);
            }
          }
        } else {
          // If the previous sibling isn't a text node or doesn't exist set the selection before the marker node
          rng.setStartBefore(marker);
          rng.setEndBefore(marker);
        }

        function findNextCaretRng(rng) {
          var caretPos = CaretPosition.fromRangeStart(rng);
          var caretWalker = new CaretWalker(editor.getBody());

          caretPos = caretWalker.next(caretPos);
          if (caretPos) {
            return caretPos.toRange();
          }
        }

        // Remove the marker node and set the new range
        parentBlock = dom.getParent(marker, dom.isBlock);
        dom.remove(marker);

        if (parentBlock && dom.isEmpty(parentBlock)) {
          editor.$(parentBlock).empty();

          rng.setStart(parentBlock, 0);
          rng.setEnd(parentBlock, 0);

          if (!isTableCell(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {
            rng = nextRng;
            dom.remove(parentBlock);
          } else {
            dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));
          }
        }

        selection.setRng(rng);
      }

      // Check for whitespace before/after value
      if (/^ | $/.test(value)) {
        value = trimOrPaddLeftRight(value);
      }

      // Setup parser and serializer
      parser = editor.parser;
      merge = details.merge;

      serializer = new Serializer({
        validate: editor.settings.validate
      }, editor.schema);
      bookmarkHtml = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';

      // Run beforeSetContent handlers on the HTML to be inserted
      args = { content: value, format: 'html', selection: true };
      editor.fire('BeforeSetContent', args);
      value = args.content;

      // Add caret at end of contents if it's missing
      if (value.indexOf('{$caret}') == -1) {
        value += '{$caret}';
      }

      // Replace the caret marker with a span bookmark element
      value = value.replace(/\{\$caret\}/, bookmarkHtml);

      // If selection is at <body>|<p></p> then move it into <body><p>|</p>
      rng = selection.getRng();
      var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);
      var body = editor.getBody();
      if (caretElement === body && selection.isCollapsed()) {
        if (dom.isBlock(body.firstChild) && canHaveChildren(body.firstChild) && dom.isEmpty(body.firstChild)) {
          rng = dom.createRng();
          rng.setStart(body.firstChild, 0);
          rng.setEnd(body.firstChild, 0);
          selection.setRng(rng);
        }
      }

      // Insert node maker where we will insert the new HTML and get it's parent
      if (!selection.isCollapsed()) {
        // Fix for #2595 seems that delete removes one extra character on
        // WebKit for some odd reason if you double click select a word
        editor.selection.setRng(RangeNormalizer.normalize(editor.selection.getRng()));
        editor.getDoc().execCommand('Delete', false, null);
        trimNbspAfterDeleteAndPaddValue();
      }

      parentNode = selection.getNode();

      // Parse the fragment within the context of the parent node
      var parserArgs = { context: parentNode.nodeName.toLowerCase(), data: details.data };
      fragment = parser.parse(value, parserArgs);

      // Custom handling of lists
      if (details.paste === true && InsertList.isListFragment(fragment) && InsertList.isParentBlockLi(dom, parentNode)) {
        rng = InsertList.insertAtCaret(serializer, dom, editor.selection.getRng(true), fragment);
        editor.selection.setRng(rng);
        editor.fire('SetContent', args);
        return;
      }

      markFragmentElements(fragment);

      // Move the caret to a more suitable location
      node = fragment.lastChild;
      if (node.attr('id') == 'mce_marker') {
        marker = node;

        for (node = node.prev; node; node = node.walk(true)) {
          if (node.type == 3 || !dom.isBlock(node.name)) {
            if (editor.schema.isValidChild(node.parent.name, 'span')) {
              node.parent.insert(marker, node, node.name === 'br');
            }
            break;
          }
        }
      }

      editor._selectionOverrides.showBlockCaretContainer(parentNode);

      // If parser says valid we can insert the contents into that parent
      if (!parserArgs.invalid) {
        value = serializer.serialize(fragment);
        validInsertion(editor, value, parentNode);
      } else {
        // If the fragment was invalid within that context then we need
        // to parse and process the parent it's inserted into

        // Insert bookmark node and get the parent
        selection.setContent(bookmarkHtml);
        parentNode = selection.getNode();
        rootNode = editor.getBody();

        // Opera will return the document node when selection is in root
        if (parentNode.nodeType == 9) {
          parentNode = node = rootNode;
        } else {
          node = parentNode;
        }

        // Find the ancestor just before the root element
        while (node !== rootNode) {
          parentNode = node;
          node = node.parentNode;
        }

        // Get the outer/inner HTML depending on if we are in the root and parser and serialize that
        value = parentNode == rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);
        value = serializer.serialize(
          parser.parse(
            // Need to replace by using a function since $ in the contents would otherwise be a problem
            value.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function () {
              return serializer.serialize(fragment);
            })
          )
        );

        // Set the inner/outer HTML depending on if we are in the root or not
        if (parentNode == rootNode) {
          dom.setHTML(rootNode, value);
        } else {
          dom.setOuterHTML(parentNode, value);
        }
      }

      reduceInlineTextElements();
      moveSelectionToMarker(dom.get('mce_marker'));
      umarkFragmentElements(editor.getBody());
      editor.fire('SetContent', args);
      editor.addVisual();
    };

    var processValue = function (value) {
      var details;

      if (typeof value !== 'string') {
        details = Tools.extend({
          paste: value.paste,
          data: {
            paste: value.paste
          }
        }, value);

        return {
          content: value.content,
          details: details
        };
      }

      return {
        content: value,
        details: {}
      };
    };

    var insertAtCaret = function (editor, value) {
      var result = processValue(value);
      insertHtmlAtCaret(editor, result.content, result.details);
    };

    return {
      insertAtCaret: insertAtCaret
    };
  }
);
/**
 * EditorCommands.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class enables you to add custom editor commands and it contains
 * overrides for native browser commands to address various bugs and issues.
 *
 * @class tinymce.EditorCommands
 */
define(
  'tinymce.core.EditorCommands',
  [
    'tinymce.core.delete.DeleteCommands',
    'tinymce.core.dom.NodeType',
    'tinymce.core.dom.RangeUtils',
    'tinymce.core.dom.TreeWalker',
    'tinymce.core.Env',
    'tinymce.core.InsertContent',
    'tinymce.core.util.Tools'
  ],
  function (DeleteCommands, NodeType, RangeUtils, TreeWalker, Env, InsertContent, Tools) {
    // Added for compression purposes
    var each = Tools.each, extend = Tools.extend;
    var map = Tools.map, inArray = Tools.inArray, explode = Tools.explode;
    var isOldIE = Env.ie && Env.ie < 11;
    var TRUE = true, FALSE = false;

    return function (editor) {
      var dom, selection, formatter,
        commands = { state: {}, exec: {}, value: {} },
        settings = editor.settings,
        bookmark;

      editor.on('PreInit', function () {
        dom = editor.dom;
        selection = editor.selection;
        settings = editor.settings;
        formatter = editor.formatter;
      });

      /**
       * Executes the specified command.
       *
       * @method execCommand
       * @param {String} command Command to execute.
       * @param {Boolean} ui Optional user interface state.
       * @param {Object} value Optional value for command.
       * @param {Object} args Optional extra arguments to the execCommand.
       * @return {Boolean} true/false if the command was found or not.
       */
      function execCommand(command, ui, value, args) {
        var func, customCommand, state = 0;

        if (editor.removed) {
          return;
        }

        if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {
          editor.focus();
        }

        args = editor.fire('BeforeExecCommand', { command: command, ui: ui, value: value });
        if (args.isDefaultPrevented()) {
          return false;
        }

        customCommand = command.toLowerCase();
        if ((func = commands.exec[customCommand])) {
          func(customCommand, ui, value);
          editor.fire('ExecCommand', { command: command, ui: ui, value: value });
          return true;
        }

        // Plugin commands
        each(editor.plugins, function (p) {
          if (p.execCommand && p.execCommand(command, ui, value)) {
            editor.fire('ExecCommand', { command: command, ui: ui, value: value });
            state = true;
            return false;
          }
        });

        if (state) {
          return state;
        }

        // Theme commands
        if (editor.theme && editor.theme.execCommand && editor.theme.execCommand(command, ui, value)) {
          editor.fire('ExecCommand', { command: command, ui: ui, value: value });
          return true;
        }

        // Browser commands
        try {
          state = editor.getDoc().execCommand(command, ui, value);
        } catch (ex) {
          // Ignore old IE errors
        }

        if (state) {
          editor.fire('ExecCommand', { command: command, ui: ui, value: value });
          return true;
        }

        return false;
      }

      /**
       * Queries the current state for a command for example if the current selection is "bold".
       *
       * @method queryCommandState
       * @param {String} command Command to check the state of.
       * @return {Boolean/Number} true/false if the selected contents is bold or not, -1 if it's not found.
       */
      function queryCommandState(command) {
        var func;

        if (editor.quirks.isHidden() || editor.removed) {
          return;
        }

        command = command.toLowerCase();
        if ((func = commands.state[command])) {
          return func(command);
        }

        // Browser commands
        try {
          return editor.getDoc().queryCommandState(command);
        } catch (ex) {
          // Fails sometimes see bug: 1896577
        }

        return false;
      }

      /**
       * Queries the command value for example the current fontsize.
       *
       * @method queryCommandValue
       * @param {String} command Command to check the value of.
       * @return {Object} Command value of false if it's not found.
       */
      function queryCommandValue(command) {
        var func;

        if (editor.quirks.isHidden() || editor.removed) {
          return;
        }

        command = command.toLowerCase();
        if ((func = commands.value[command])) {
          return func(command);
        }

        // Browser commands
        try {
          return editor.getDoc().queryCommandValue(command);
        } catch (ex) {
          // Fails sometimes see bug: 1896577
        }
      }

      /**
       * Adds commands to the command collection.
       *
       * @method addCommands
       * @param {Object} commandList Name/value collection with commands to add, the names can also be comma separated.
       * @param {String} type Optional type to add, defaults to exec. Can be value or state as well.
       */
      function addCommands(commandList, type) {
        type = type || 'exec';

        each(commandList, function (callback, command) {
          each(command.toLowerCase().split(','), function (command) {
            commands[type][command] = callback;
          });
        });
      }

      function addCommand(command, callback, scope) {
        command = command.toLowerCase();
        commands.exec[command] = function (command, ui, value, args) {
          return callback.call(scope || editor, ui, value, args);
        };
      }

      /**
       * Returns true/false if the command is supported or not.
       *
       * @method queryCommandSupported
       * @param {String} command Command that we check support for.
       * @return {Boolean} true/false if the command is supported or not.
       */
      function queryCommandSupported(command) {
        command = command.toLowerCase();

        if (commands.exec[command]) {
          return true;
        }

        // Browser commands
        try {
          return editor.getDoc().queryCommandSupported(command);
        } catch (ex) {
          // Fails sometimes see bug: 1896577
        }

        return false;
      }

      function addQueryStateHandler(command, callback, scope) {
        command = command.toLowerCase();
        commands.state[command] = function () {
          return callback.call(scope || editor);
        };
      }

      function addQueryValueHandler(command, callback, scope) {
        command = command.toLowerCase();
        commands.value[command] = function () {
          return callback.call(scope || editor);
        };
      }

      function hasCustomCommand(command) {
        command = command.toLowerCase();
        return !!commands.exec[command];
      }

      // Expose public methods
      extend(this, {
        execCommand: execCommand,
        queryCommandState: queryCommandState,
        queryCommandValue: queryCommandValue,
        queryCommandSupported: queryCommandSupported,
        addCommands: addCommands,
        addCommand: addCommand,
        addQueryStateHandler: addQueryStateHandler,
        addQueryValueHandler: addQueryValueHandler,
        hasCustomCommand: hasCustomCommand
      });

      // Private methods

      function execNativeCommand(command, ui, value) {
        if (ui === undefined) {
          ui = FALSE;
        }

        if (value === undefined) {
          value = null;
        }

        return editor.getDoc().execCommand(command, ui, value);
      }

      function isFormatMatch(name) {
        return formatter.match(name);
      }

      function toggleFormat(name, value) {
        formatter.toggle(name, value ? { value: value } : undefined);
        editor.nodeChanged();
      }

      function storeSelection(type) {
        bookmark = selection.getBookmark(type);
      }

      function restoreSelection() {
        selection.moveToBookmark(bookmark);
      }

      // Add execCommand overrides
      addCommands({
        // Ignore these, added for compatibility
        'mceResetDesignMode,mceBeginUndoLevel': function () { },

        // Add undo manager logic
        'mceEndUndoLevel,mceAddUndoLevel': function () {
          editor.undoManager.add();
        },

        'Cut,Copy,Paste': function (command) {
          var doc = editor.getDoc(), failed;

          // Try executing the native command
          try {
            execNativeCommand(command);
          } catch (ex) {
            // Command failed
            failed = TRUE;
          }

          // Chrome reports the paste command as supported however older IE:s will return false for cut/paste
          if (command === 'paste' && !doc.queryCommandEnabled(command)) {
            failed = true;
          }

          // Present alert message about clipboard access not being available
          if (failed || !doc.queryCommandSupported(command)) {
            var msg = editor.translate(
              "Your browser doesn't support direct access to the clipboard. " +
              "Please use the Ctrl+X/C/V keyboard shortcuts instead."
            );

            if (Env.mac) {
              msg = msg.replace(/Ctrl\+/g, '\u2318+');
            }

            editor.notificationManager.open({ text: msg, type: 'error' });
          }
        },

        // Override unlink command
        unlink: function () {
          if (selection.isCollapsed()) {
            var elm = editor.dom.getParent(editor.selection.getStart(), 'a');
            if (elm) {
              editor.dom.remove(elm, true);
            }

            return;
          }

          formatter.remove("link");
        },

        // Override justify commands to use the text formatter engine
        'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function (command) {
          var align = command.substring(7);

          if (align == 'full') {
            align = 'justify';
          }

          // Remove all other alignments first
          each('left,center,right,justify'.split(','), function (name) {
            if (align != name) {
              formatter.remove('align' + name);
            }
          });

          if (align != 'none') {
            toggleFormat('align' + align);
          }
        },

        // Override list commands to fix WebKit bug
        'InsertUnorderedList,InsertOrderedList': function (command) {
          var listElm, listParent;

          execNativeCommand(command);

          // WebKit produces lists within block elements so we need to split them
          // we will replace the native list creation logic to custom logic later on
          // TODO: Remove this when the list creation logic is removed
          listElm = dom.getParent(selection.getNode(), 'ol,ul');
          if (listElm) {
            listParent = listElm.parentNode;

            // If list is within a text block then split that block
            if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {
              storeSelection();
              dom.split(listParent, listElm);
              restoreSelection();
            }
          }
        },

        // Override commands to use the text formatter engine
        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {
          toggleFormat(command);
        },

        // Override commands to use the text formatter engine
        'ForeColor,HiliteColor,FontName': function (command, ui, value) {
          toggleFormat(command, value);
        },

        FontSize: function (command, ui, value) {
          var fontClasses, fontSizes;

          // Convert font size 1-7 to styles
          if (value >= 1 && value <= 7) {
            fontSizes = explode(settings.font_size_style_values);
            fontClasses = explode(settings.font_size_classes);

            if (fontClasses) {
              value = fontClasses[value - 1] || value;
            } else {
              value = fontSizes[value - 1] || value;
            }
          }

          toggleFormat(command, value);
        },

        RemoveFormat: function (command) {
          formatter.remove(command);
        },

        mceBlockQuote: function () {
          toggleFormat('blockquote');
        },

        FormatBlock: function (command, ui, value) {
          return toggleFormat(value || 'p');
        },

        mceCleanup: function () {
          var bookmark = selection.getBookmark();

          editor.setContent(editor.getContent({ cleanup: TRUE }), { cleanup: TRUE });

          selection.moveToBookmark(bookmark);
        },

        mceRemoveNode: function (command, ui, value) {
          var node = value || selection.getNode();

          // Make sure that the body node isn't removed
          if (node != editor.getBody()) {
            storeSelection();
            editor.dom.remove(node, TRUE);
            restoreSelection();
          }
        },

        mceSelectNodeDepth: function (command, ui, value) {
          var counter = 0;

          dom.getParent(selection.getNode(), function (node) {
            if (node.nodeType == 1 && counter++ == value) {
              selection.select(node);
              return FALSE;
            }
          }, editor.getBody());
        },

        mceSelectNode: function (command, ui, value) {
          selection.select(value);
        },

        mceInsertContent: function (command, ui, value) {
          InsertContent.insertAtCaret(editor, value);
        },

        mceInsertRawHTML: function (command, ui, value) {
          selection.setContent('tiny_mce_marker');
          editor.setContent(
            editor.getContent().replace(/tiny_mce_marker/g, function () {
              return value;
            })
          );
        },

        mceToggleFormat: function (command, ui, value) {
          toggleFormat(value);
        },

        mceSetContent: function (command, ui, value) {
          editor.setContent(value);
        },

        'Indent,Outdent': function (command) {
          var intentValue, indentUnit, value;

          // Setup indent level
          intentValue = settings.indentation;
          indentUnit = /[a-z%]+$/i.exec(intentValue);
          intentValue = parseInt(intentValue, 10);

          if (!queryCommandState('InsertUnorderedList') && !queryCommandState('InsertOrderedList')) {
            // If forced_root_blocks is set to false we don't have a block to indent so lets create a div
            if (!settings.forced_root_block && !dom.getParent(selection.getNode(), dom.isBlock)) {
              formatter.apply('div');
            }

            each(selection.getSelectedBlocks(), function (element) {
              if (dom.getContentEditable(element) === "false") {
                return;
              }

              if (element.nodeName !== "LI") {
                var indentStyleName = editor.getParam('indent_use_margin', false) ? 'margin' : 'padding';
                indentStyleName = element.nodeName === 'TABLE' ? 'margin' : indentStyleName;
                indentStyleName += dom.getStyle(element, 'direction', true) == 'rtl' ? 'Right' : 'Left';

                if (command == 'outdent') {
                  value = Math.max(0, parseInt(element.style[indentStyleName] || 0, 10) - intentValue);
                  dom.setStyle(element, indentStyleName, value ? value + indentUnit : '');
                } else {
                  value = (parseInt(element.style[indentStyleName] || 0, 10) + intentValue) + indentUnit;
                  dom.setStyle(element, indentStyleName, value);
                }
              }
            });
          } else {
            execNativeCommand(command);
          }
        },

        mceRepaint: function () {
        },

        InsertHorizontalRule: function () {
          editor.execCommand('mceInsertContent', false, '<hr />');
        },

        mceToggleVisualAid: function () {
          editor.hasVisual = !editor.hasVisual;
          editor.addVisual();
        },

        mceReplaceContent: function (command, ui, value) {
          editor.execCommand('mceInsertContent', false, value.replace(/\{\$selection\}/g, selection.getContent({ format: 'text' })));
        },

        mceInsertLink: function (command, ui, value) {
          var anchor;

          if (typeof value == 'string') {
            value = { href: value };
          }

          anchor = dom.getParent(selection.getNode(), 'a');

          // Spaces are never valid in URLs and it's a very common mistake for people to make so we fix it here.
          value.href = value.href.replace(' ', '%20');

          // Remove existing links if there could be child links or that the href isn't specified
          if (!anchor || !value.href) {
            formatter.remove('link');
          }

          // Apply new link to selection
          if (value.href) {
            formatter.apply('link', value, anchor);
          }
        },

        selectAll: function () {
          var root = dom.getRoot(), rng;

          if (selection.getRng().setStart) {
            var editingHost = dom.getParent(selection.getStart(), NodeType.isContentEditableTrue);
            if (editingHost) {
              rng = dom.createRng();
              rng.selectNodeContents(editingHost);
              selection.setRng(rng);
            }
          } else {
            // IE will render it's own root level block elements and sometimes
            // even put font elements in them when the user starts typing. So we need to
            // move the selection to a more suitable element from this:
            // <body>|<p></p></body> to this: <body><p>|</p></body>
            rng = selection.getRng();
            if (!rng.item) {
              rng.moveToElementText(root);
              rng.select();
            }
          }
        },

        "delete": function () {
          DeleteCommands.deleteCommand(editor);
        },

        "forwardDelete": function () {
          DeleteCommands.forwardDeleteCommand(editor);
        },

        mceNewDocument: function () {
          editor.setContent('');
        },

        InsertLineBreak: function (command, ui, value) {
          // We load the current event in from EnterKey.js when appropriate to heed
          // certain event-specific variations such as ctrl-enter in a list
          var evt = value;
          var brElm, extraBr, marker;
          var rng = selection.getRng(true);
          new RangeUtils(dom).normalize(rng);

          var offset = rng.startOffset;
          var container = rng.startContainer;

          // Resolve node index
          if (container.nodeType == 1 && container.hasChildNodes()) {
            var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;

            container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;
            if (isAfterLastNodeInContainer && container.nodeType == 3) {
              offset = container.nodeValue.length;
            } else {
              offset = 0;
            }
          }

          var parentBlock = dom.getParent(container, dom.isBlock);
          var parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : ''; // IE < 9 & HTML5
          var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;
          var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : ''; // IE < 9 & HTML5

          // Enter inside block contained within a LI then split or insert before/after LI
          var isControlKey = evt && evt.ctrlKey;
          if (containerBlockName == 'LI' && !isControlKey) {
            parentBlock = containerBlock;
            parentBlockName = containerBlockName;
          }

          // Walks the parent block to the right and look for BR elements
          function hasRightSideContent() {
            var walker = new TreeWalker(container, parentBlock), node;
            var nonEmptyElementsMap = editor.schema.getNonEmptyElements();

            while ((node = walker.next())) {
              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {
                return true;
              }
            }
          }

          if (container && container.nodeType == 3 && offset >= container.nodeValue.length) {
            // Insert extra BR element at the end block elements
            if (!isOldIE && !hasRightSideContent()) {
              brElm = dom.create('br');
              rng.insertNode(brElm);
              rng.setStartAfter(brElm);
              rng.setEndAfter(brElm);
              extraBr = true;
            }
          }

          brElm = dom.create('br');
          rng.insertNode(brElm);

          // Rendering modes below IE8 doesn't display BR elements in PRE unless we have a \n before it
          var documentMode = dom.doc.documentMode;
          if (isOldIE && parentBlockName == 'PRE' && (!documentMode || documentMode < 8)) {
            brElm.parentNode.insertBefore(dom.doc.createTextNode('\r'), brElm);
          }

          // Insert temp marker and scroll to that
          marker = dom.create('span', {}, '&nbsp;');
          brElm.parentNode.insertBefore(marker, brElm);
          selection.scrollIntoView(marker);
          dom.remove(marker);

          if (!extraBr) {
            rng.setStartAfter(brElm);
            rng.setEndAfter(brElm);
          } else {
            rng.setStartBefore(brElm);
            rng.setEndBefore(brElm);
          }

          selection.setRng(rng);
          editor.undoManager.add();

          return TRUE;
        }
      });

      // Add queryCommandState overrides
      addCommands({
        // Override justify commands
        'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull': function (command) {
          var name = 'align' + command.substring(7);
          var nodes = selection.isCollapsed() ? [dom.getParent(selection.getNode(), dom.isBlock)] : selection.getSelectedBlocks();
          var matches = map(nodes, function (node) {
            return !!formatter.matchNode(node, name);
          });
          return inArray(matches, TRUE) !== -1;
        },

        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {
          return isFormatMatch(command);
        },

        mceBlockQuote: function () {
          return isFormatMatch('blockquote');
        },

        Outdent: function () {
          var node;

          if (settings.inline_styles) {
            if ((node = dom.getParent(selection.getStart(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {
              return TRUE;
            }

            if ((node = dom.getParent(selection.getEnd(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {
              return TRUE;
            }
          }

          return (
            queryCommandState('InsertUnorderedList') ||
            queryCommandState('InsertOrderedList') ||
            (!settings.inline_styles && !!dom.getParent(selection.getNode(), 'BLOCKQUOTE'))
          );
        },

        'InsertUnorderedList,InsertOrderedList': function (command) {
          var list = dom.getParent(selection.getNode(), 'ul,ol');

          return list &&
            (
              command === 'insertunorderedlist' && list.tagName === 'UL' ||
              command === 'insertorderedlist' && list.tagName === 'OL'
            );
        }
      }, 'state');

      // Add queryCommandValue overrides
      addCommands({
        'FontSize,FontName': function (command) {
          var value = 0, parent;

          if ((parent = dom.getParent(selection.getNode(), 'span'))) {
            if (command == 'fontsize') {
              value = parent.style.fontSize;
            } else {
              value = parent.style.fontFamily.replace(/, /g, ',').replace(/[\'\"]/g, '').toLowerCase();
            }
          }

          return value;
        }
      }, 'value');

      // Add undo manager logic
      addCommands({
        Undo: function () {
          editor.undoManager.undo();
        },

        Redo: function () {
          editor.undoManager.redo();
        }
      });
    };
  }
);

/**
 * URI.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class handles parsing, modification and serialization of URI/URL strings.
 * @class tinymce.util.URI
 */
define(
  'tinymce.core.util.URI',
  [
    'global!document',
    'tinymce.core.util.Tools'
  ],
  function (document, Tools) {
    var each = Tools.each, trim = Tools.trim;
    var queryParts = "source protocol authority userInfo user password host port relative path directory file query anchor".split(' ');
    var DEFAULT_PORTS = {
      'ftp': 21,
      'http': 80,
      'https': 443,
      'mailto': 25
    };

    /**
     * Constructs a new URI instance.
     *
     * @constructor
     * @method URI
     * @param {String} url URI string to parse.
     * @param {Object} settings Optional settings object.
     */
    function URI(url, settings) {
      var self = this, baseUri, baseUrl;

      url = trim(url);
      settings = self.settings = settings || {};
      baseUri = settings.base_uri;

      // Strange app protocol that isn't http/https or local anchor
      // For example: mailto,skype,tel etc.
      if (/^([\w\-]+):([^\/]{2})/i.test(url) || /^\s*#/.test(url)) {
        self.source = url;
        return;
      }

      var isProtocolRelative = url.indexOf('//') === 0;

      // Absolute path with no host, fake host and protocol
      if (url.indexOf('/') === 0 && !isProtocolRelative) {
        url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;
      }

      // Relative path http:// or protocol relative //path
      if (!/^[\w\-]*:?\/\//.test(url)) {
        baseUrl = settings.base_uri ? settings.base_uri.path : new URI(document.location.href).directory;
        if (settings.base_uri.protocol === "") {
          url = '//mce_host' + self.toAbsPath(baseUrl, url);
        } else {
          url = /([^#?]*)([#?]?.*)/.exec(url);
          url = ((baseUri && baseUri.protocol) || 'http') + '://mce_host' + self.toAbsPath(baseUrl, url[1]) + url[2];
        }
      }

      // Parse URL (Credits goes to Steave, http://blog.stevenlevithan.com/archives/parseuri)
      url = url.replace(/@@/g, '(mce_at)'); // Zope 3 workaround, they use @@something

      /*jshint maxlen: 255 */
      /*eslint max-len: 0 */
      url = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(url);

      each(queryParts, function (v, i) {
        var part = url[i];

        // Zope 3 workaround, they use @@something
        if (part) {
          part = part.replace(/\(mce_at\)/g, '@@');
        }

        self[v] = part;
      });

      if (baseUri) {
        if (!self.protocol) {
          self.protocol = baseUri.protocol;
        }

        if (!self.userInfo) {
          self.userInfo = baseUri.userInfo;
        }

        if (!self.port && self.host === 'mce_host') {
          self.port = baseUri.port;
        }

        if (!self.host || self.host === 'mce_host') {
          self.host = baseUri.host;
        }

        self.source = '';
      }

      if (isProtocolRelative) {
        self.protocol = '';
      }

      //t.path = t.path || '/';
    }

    URI.prototype = {
      /**
       * Sets the internal path part of the URI.
       *
       * @method setPath
       * @param {string} path Path string to set.
       */
      setPath: function (path) {
        var self = this;

        path = /^(.*?)\/?(\w+)?$/.exec(path);

        // Update path parts
        self.path = path[0];
        self.directory = path[1];
        self.file = path[2];

        // Rebuild source
        self.source = '';
        self.getURI();
      },

      /**
       * Converts the specified URI into a relative URI based on the current URI instance location.
       *
       * @method toRelative
       * @param {String} uri URI to convert into a relative path/URI.
       * @return {String} Relative URI from the point specified in the current URI instance.
       * @example
       * // Converts an absolute URL to an relative URL url will be somedir/somefile.htm
       * var url = new tinymce.util.URI('http://www.site.com/dir/').toRelative('http://www.site.com/dir/somedir/somefile.htm');
       */
      toRelative: function (uri) {
        var self = this, output;

        if (uri === "./") {
          return uri;
        }

        uri = new URI(uri, { base_uri: self });

        // Not on same domain/port or protocol
        if ((uri.host != 'mce_host' && self.host != uri.host && uri.host) || self.port != uri.port ||
          (self.protocol != uri.protocol && uri.protocol !== "")) {
          return uri.getURI();
        }

        var tu = self.getURI(), uu = uri.getURI();

        // Allow usage of the base_uri when relative_urls = true
        if (tu == uu || (tu.charAt(tu.length - 1) == "/" && tu.substr(0, tu.length - 1) == uu)) {
          return tu;
        }

        output = self.toRelPath(self.path, uri.path);

        // Add query
        if (uri.query) {
          output += '?' + uri.query;
        }

        // Add anchor
        if (uri.anchor) {
          output += '#' + uri.anchor;
        }

        return output;
      },

      /**
       * Converts the specified URI into a absolute URI based on the current URI instance location.
       *
       * @method toAbsolute
       * @param {String} uri URI to convert into a relative path/URI.
       * @param {Boolean} noHost No host and protocol prefix.
       * @return {String} Absolute URI from the point specified in the current URI instance.
       * @example
       * // Converts an relative URL to an absolute URL url will be http://www.site.com/dir/somedir/somefile.htm
       * var url = new tinymce.util.URI('http://www.site.com/dir/').toAbsolute('somedir/somefile.htm');
       */
      toAbsolute: function (uri, noHost) {
        uri = new URI(uri, { base_uri: this });

        return uri.getURI(noHost && this.isSameOrigin(uri));
      },

      /**
       * Determine whether the given URI has the same origin as this URI.  Based on RFC-6454.
       * Supports default ports for protocols listed in DEFAULT_PORTS.  Unsupported protocols will fail safe: they
       * won't match, if the port specifications differ.
       *
       * @method isSameOrigin
       * @param {tinymce.util.URI} uri Uri instance to compare.
       * @returns {Boolean} True if the origins are the same.
       */
      isSameOrigin: function (uri) {
        if (this.host == uri.host && this.protocol == uri.protocol) {
          if (this.port == uri.port) {
            return true;
          }

          var defaultPort = DEFAULT_PORTS[this.protocol];
          if (defaultPort && ((this.port || defaultPort) == (uri.port || defaultPort))) {
            return true;
          }
        }

        return false;
      },

      /**
       * Converts a absolute path into a relative path.
       *
       * @method toRelPath
       * @param {String} base Base point to convert the path from.
       * @param {String} path Absolute path to convert into a relative path.
       */
      toRelPath: function (base, path) {
        var items, breakPoint = 0, out = '', i, l;

        // Split the paths
        base = base.substring(0, base.lastIndexOf('/'));
        base = base.split('/');
        items = path.split('/');

        if (base.length >= items.length) {
          for (i = 0, l = base.length; i < l; i++) {
            if (i >= items.length || base[i] != items[i]) {
              breakPoint = i + 1;
              break;
            }
          }
        }

        if (base.length < items.length) {
          for (i = 0, l = items.length; i < l; i++) {
            if (i >= base.length || base[i] != items[i]) {
              breakPoint = i + 1;
              break;
            }
          }
        }

        if (breakPoint === 1) {
          return path;
        }

        for (i = 0, l = base.length - (breakPoint - 1); i < l; i++) {
          out += "../";
        }

        for (i = breakPoint - 1, l = items.length; i < l; i++) {
          if (i != breakPoint - 1) {
            out += "/" + items[i];
          } else {
            out += items[i];
          }
        }

        return out;
      },

      /**
       * Converts a relative path into a absolute path.
       *
       * @method toAbsPath
       * @param {String} base Base point to convert the path from.
       * @param {String} path Relative path to convert into an absolute path.
       */
      toAbsPath: function (base, path) {
        var i, nb = 0, o = [], tr, outPath;

        // Split paths
        tr = /\/$/.test(path) ? '/' : '';
        base = base.split('/');
        path = path.split('/');

        // Remove empty chunks
        each(base, function (k) {
          if (k) {
            o.push(k);
          }
        });

        base = o;

        // Merge relURLParts chunks
        for (i = path.length - 1, o = []; i >= 0; i--) {
          // Ignore empty or .
          if (path[i].length === 0 || path[i] === ".") {
            continue;
          }

          // Is parent
          if (path[i] === '..') {
            nb++;
            continue;
          }

          // Move up
          if (nb > 0) {
            nb--;
            continue;
          }

          o.push(path[i]);
        }

        i = base.length - nb;

        // If /a/b/c or /
        if (i <= 0) {
          outPath = o.reverse().join('/');
        } else {
          outPath = base.slice(0, i).join('/') + '/' + o.reverse().join('/');
        }

        // Add front / if it's needed
        if (outPath.indexOf('/') !== 0) {
          outPath = '/' + outPath;
        }

        // Add traling / if it's needed
        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {
          outPath += tr;
        }

        return outPath;
      },

      /**
       * Returns the full URI of the internal structure.
       *
       * @method getURI
       * @param {Boolean} noProtoHost Optional no host and protocol part. Defaults to false.
       */
      getURI: function (noProtoHost) {
        var s, self = this;

        // Rebuild source
        if (!self.source || noProtoHost) {
          s = '';

          if (!noProtoHost) {
            if (self.protocol) {
              s += self.protocol + '://';
            } else {
              s += '//';
            }

            if (self.userInfo) {
              s += self.userInfo + '@';
            }

            if (self.host) {
              s += self.host;
            }

            if (self.port) {
              s += ':' + self.port;
            }
          }

          if (self.path) {
            s += self.path;
          }

          if (self.query) {
            s += '?' + self.query;
          }

          if (self.anchor) {
            s += '#' + self.anchor;
          }

          self.source = s;
        }

        return self.source;
      }
    };

    URI.parseDataUri = function (uri) {
      var type, matches;

      uri = decodeURIComponent(uri).split(',');

      matches = /data:([^;]+)/.exec(uri[0]);
      if (matches) {
        type = matches[1];
      }

      return {
        type: type,
        data: uri[1]
      };
    };

    URI.getDocumentBaseUrl = function (loc) {
      var baseUrl;

      // Pass applewebdata:// and other non web protocols though
      if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {
        baseUrl = loc.href;
      } else {
        baseUrl = loc.protocol + '//' + loc.host + loc.pathname;
      }

      if (/^[^:]+:\/\/\/?[^\/]+\//.test(baseUrl)) {
        baseUrl = baseUrl.replace(/[\?#].*$/, '').replace(/[\/\\][^\/]+$/, '');

        if (!/[\/\\]$/.test(baseUrl)) {
          baseUrl += '/';
        }
      }

      return baseUrl;
    };

    return URI;
  }
);

/**
 * Class.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This utilitiy class is used for easier inheritance.
 *
 * Features:
 * * Exposed super functions: this._super();
 * * Mixins
 * * Dummy functions
 * * Property functions: var value = object.value(); and object.value(newValue);
 * * Static functions
 * * Defaults settings
 */
define(
  'tinymce.core.util.Class',
  [
    "tinymce.core.util.Tools"
  ],
  function (Tools) {
    var each = Tools.each, extend = Tools.extend;

    var extendClass, initializing;

    function Class() {
    }

    // Provides classical inheritance, based on code made by John Resig
    Class.extend = extendClass = function (prop) {
      var self = this, _super = self.prototype, prototype, name, member;

      // The dummy class constructor
      function Class() {
        var i, mixins, mixin, self = this;

        // All construction is actually done in the init method
        if (!initializing) {
          // Run class constuctor
          if (self.init) {
            self.init.apply(self, arguments);
          }

          // Run mixin constructors
          mixins = self.Mixins;
          if (mixins) {
            i = mixins.length;
            while (i--) {
              mixin = mixins[i];
              if (mixin.init) {
                mixin.init.apply(self, arguments);
              }
            }
          }
        }
      }

      // Dummy function, needs to be extended in order to provide functionality
      function dummy() {
        return this;
      }

      // Creates a overloaded method for the class
      // this enables you to use this._super(); to call the super function
      function createMethod(name, fn) {
        return function () {
          var self = this, tmp = self._super, ret;

          self._super = _super[name];
          ret = fn.apply(self, arguments);
          self._super = tmp;

          return ret;
        };
      }

      // Instantiate a base class (but only create the instance,
      // don't run the init constructor)
      initializing = true;

      /*eslint new-cap:0 */
      prototype = new self();
      initializing = false;

      // Add mixins
      if (prop.Mixins) {
        each(prop.Mixins, function (mixin) {
          for (var name in mixin) {
            if (name !== "init") {
              prop[name] = mixin[name];
            }
          }
        });

        if (_super.Mixins) {
          prop.Mixins = _super.Mixins.concat(prop.Mixins);
        }
      }

      // Generate dummy methods
      if (prop.Methods) {
        each(prop.Methods.split(','), function (name) {
          prop[name] = dummy;
        });
      }

      // Generate property methods
      if (prop.Properties) {
        each(prop.Properties.split(','), function (name) {
          var fieldName = '_' + name;

          prop[name] = function (value) {
            var self = this, undef;

            // Set value
            if (value !== undef) {
              self[fieldName] = value;

              return self;
            }

            // Get value
            return self[fieldName];
          };
        });
      }

      // Static functions
      if (prop.Statics) {
        each(prop.Statics, function (func, name) {
          Class[name] = func;
        });
      }

      // Default settings
      if (prop.Defaults && _super.Defaults) {
        prop.Defaults = extend({}, _super.Defaults, prop.Defaults);
      }

      // Copy the properties over onto the new prototype
      for (name in prop) {
        member = prop[name];

        if (typeof member == "function" && _super[name]) {
          prototype[name] = createMethod(name, member);
        } else {
          prototype[name] = member;
        }
      }

      // Populate our constructed prototype object
      Class.prototype = prototype;

      // Enforce the constructor to be what we expect
      Class.constructor = Class;

      // And make this class extendible
      Class.extend = extendClass;

      return Class;
    };

    return Class;
  }
);
/**
 * EventDispatcher.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class lets you add/remove and fire events by name on the specified scope. This makes
 * it easy to add event listener logic to any class.
 *
 * @class tinymce.util.EventDispatcher
 * @example
 *  var eventDispatcher = new EventDispatcher();
 *
 *  eventDispatcher.on('click', function() {console.log('data');});
 *  eventDispatcher.fire('click', {data: 123});
 */
define(
  'tinymce.core.util.EventDispatcher',
  [
    "tinymce.core.util.Tools"
  ],
  function (Tools) {
    var nativeEvents = Tools.makeMap(
      "focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange " +
      "mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover " +
      "draggesture dragdrop drop drag submit " +
      "compositionstart compositionend compositionupdate touchstart touchmove touchend",
      ' '
    );

    function Dispatcher(settings) {
      var self = this, scope, bindings = {}, toggleEvent;

      function returnFalse() {
        return false;
      }

      function returnTrue() {
        return true;
      }

      settings = settings || {};
      scope = settings.scope || self;
      toggleEvent = settings.toggleEvent || returnFalse;

      /**
       * Fires the specified event by name.
       *
       * @method fire
       * @param {String} name Name of the event to fire.
       * @param {Object?} args Event arguments.
       * @return {Object} Event args instance passed in.
       * @example
       * instance.fire('event', {...});
       */
      function fire(name, args) {
        var handlers, i, l, callback;

        name = name.toLowerCase();
        args = args || {};
        args.type = name;

        // Setup target is there isn't one
        if (!args.target) {
          args.target = scope;
        }

        // Add event delegation methods if they are missing
        if (!args.preventDefault) {
          // Add preventDefault method
          args.preventDefault = function () {
            args.isDefaultPrevented = returnTrue;
          };

          // Add stopPropagation
          args.stopPropagation = function () {
            args.isPropagationStopped = returnTrue;
          };

          // Add stopImmediatePropagation
          args.stopImmediatePropagation = function () {
            args.isImmediatePropagationStopped = returnTrue;
          };

          // Add event delegation states
          args.isDefaultPrevented = returnFalse;
          args.isPropagationStopped = returnFalse;
          args.isImmediatePropagationStopped = returnFalse;
        }

        if (settings.beforeFire) {
          settings.beforeFire(args);
        }

        handlers = bindings[name];
        if (handlers) {
          for (i = 0, l = handlers.length; i < l; i++) {
            callback = handlers[i];

            // Unbind handlers marked with "once"
            if (callback.once) {
              off(name, callback.func);
            }

            // Stop immediate propagation if needed
            if (args.isImmediatePropagationStopped()) {
              args.stopPropagation();
              return args;
            }

            // If callback returns false then prevent default and stop all propagation
            if (callback.func.call(scope, args) === false) {
              args.preventDefault();
              return args;
            }
          }
        }

        return args;
      }

      /**
       * Binds an event listener to a specific event by name.
       *
       * @method on
       * @param {String} name Event name or space separated list of events to bind.
       * @param {callback} callback Callback to be executed when the event occurs.
       * @param {Boolean} first Optional flag if the event should be prepended. Use this with care.
       * @return {Object} Current class instance.
       * @example
       * instance.on('event', function(e) {
       *     // Callback logic
       * });
       */
      function on(name, callback, prepend, extra) {
        var handlers, names, i;

        if (callback === false) {
          callback = returnFalse;
        }

        if (callback) {
          callback = {
            func: callback
          };

          if (extra) {
            Tools.extend(callback, extra);
          }

          names = name.toLowerCase().split(' ');
          i = names.length;
          while (i--) {
            name = names[i];
            handlers = bindings[name];
            if (!handlers) {
              handlers = bindings[name] = [];
              toggleEvent(name, true);
            }

            if (prepend) {
              handlers.unshift(callback);
            } else {
              handlers.push(callback);
            }
          }
        }

        return self;
      }

      /**
       * Unbinds an event listener to a specific event by name.
       *
       * @method off
       * @param {String?} name Name of the event to unbind.
       * @param {callback?} callback Callback to unbind.
       * @return {Object} Current class instance.
       * @example
       * // Unbind specific callback
       * instance.off('event', handler);
       *
       * // Unbind all listeners by name
       * instance.off('event');
       *
       * // Unbind all events
       * instance.off();
       */
      function off(name, callback) {
        var i, handlers, bindingName, names, hi;

        if (name) {
          names = name.toLowerCase().split(' ');
          i = names.length;
          while (i--) {
            name = names[i];
            handlers = bindings[name];

            // Unbind all handlers
            if (!name) {
              for (bindingName in bindings) {
                toggleEvent(bindingName, false);
                delete bindings[bindingName];
              }

              return self;
            }

            if (handlers) {
              // Unbind all by name
              if (!callback) {
                handlers.length = 0;
              } else {
                // Unbind specific ones
                hi = handlers.length;
                while (hi--) {
                  if (handlers[hi].func === callback) {
                    handlers = handlers.slice(0, hi).concat(handlers.slice(hi + 1));
                    bindings[name] = handlers;
                  }
                }
              }

              if (!handlers.length) {
                toggleEvent(name, false);
                delete bindings[name];
              }
            }
          }
        } else {
          for (name in bindings) {
            toggleEvent(name, false);
          }

          bindings = {};
        }

        return self;
      }

      /**
       * Binds an event listener to a specific event by name
       * and automatically unbind the event once the callback fires.
       *
       * @method once
       * @param {String} name Event name or space separated list of events to bind.
       * @param {callback} callback Callback to be executed when the event occurs.
       * @param {Boolean} first Optional flag if the event should be prepended. Use this with care.
       * @return {Object} Current class instance.
       * @example
       * instance.once('event', function(e) {
       *     // Callback logic
       * });
       */
      function once(name, callback, prepend) {
        return on(name, callback, prepend, { once: true });
      }

      /**
       * Returns true/false if the dispatcher has a event of the specified name.
       *
       * @method has
       * @param {String} name Name of the event to check for.
       * @return {Boolean} true/false if the event exists or not.
       */
      function has(name) {
        name = name.toLowerCase();
        return !(!bindings[name] || bindings[name].length === 0);
      }

      // Expose
      self.fire = fire;
      self.on = on;
      self.off = off;
      self.once = once;
      self.has = has;
    }

    /**
     * Returns true/false if the specified event name is a native browser event or not.
     *
     * @method isNative
     * @param {String} name Name to check if it's native.
     * @return {Boolean} true/false if the event is native or not.
     * @static
     */
    Dispatcher.isNative = function (name) {
      return !!nativeEvents[name.toLowerCase()];
    };

    return Dispatcher;
  }
);

/**
 * Observable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This mixin will add event binding logic to classes.
 *
 * @mixin tinymce.util.Observable
 */
define(
  'tinymce.core.util.Observable',
  [
    "tinymce.core.util.EventDispatcher"
  ],
  function (EventDispatcher) {
    function getEventDispatcher(obj) {
      if (!obj._eventDispatcher) {
        obj._eventDispatcher = new EventDispatcher({
          scope: obj,
          toggleEvent: function (name, state) {
            if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {
              obj.toggleNativeEvent(name, state);
            }
          }
        });
      }

      return obj._eventDispatcher;
    }

    return {
      /**
       * Fires the specified event by name. Consult the
       * <a href="/docs/advanced/events">event reference</a> for more details on each event.
       *
       * @method fire
       * @param {String} name Name of the event to fire.
       * @param {Object?} args Event arguments.
       * @param {Boolean?} bubble True/false if the event is to be bubbled.
       * @return {Object} Event args instance passed in.
       * @example
       * instance.fire('event', {...});
       */
      fire: function (name, args, bubble) {
        var self = this;

        // Prevent all events except the remove event after the instance has been removed
        if (self.removed && name !== "remove") {
          return args;
        }

        args = getEventDispatcher(self).fire(name, args, bubble);

        // Bubble event up to parents
        if (bubble !== false && self.parent) {
          var parent = self.parent();
          while (parent && !args.isPropagationStopped()) {
            parent.fire(name, args, false);
            parent = parent.parent();
          }
        }

        return args;
      },

      /**
       * Binds an event listener to a specific event by name. Consult the
       * <a href="/docs/advanced/events">event reference</a> for more details on each event.
       *
       * @method on
       * @param {String} name Event name or space separated list of events to bind.
       * @param {callback} callback Callback to be executed when the event occurs.
       * @param {Boolean} first Optional flag if the event should be prepended. Use this with care.
       * @return {Object} Current class instance.
       * @example
       * instance.on('event', function(e) {
       *     // Callback logic
       * });
       */
      on: function (name, callback, prepend) {
        return getEventDispatcher(this).on(name, callback, prepend);
      },

      /**
       * Unbinds an event listener to a specific event by name. Consult the
       * <a href="/docs/advanced/events">event reference</a> for more details on each event.
       *
       * @method off
       * @param {String?} name Name of the event to unbind.
       * @param {callback?} callback Callback to unbind.
       * @return {Object} Current class instance.
       * @example
       * // Unbind specific callback
       * instance.off('event', handler);
       *
       * // Unbind all listeners by name
       * instance.off('event');
       *
       * // Unbind all events
       * instance.off();
       */
      off: function (name, callback) {
        return getEventDispatcher(this).off(name, callback);
      },

      /**
       * Bind the event callback and once it fires the callback is removed. Consult the
       * <a href="/docs/advanced/events">event reference</a> for more details on each event.
       *
       * @method once
       * @param {String} name Name of the event to bind.
       * @param {callback} callback Callback to bind only once.
       * @return {Object} Current class instance.
       */
      once: function (name, callback) {
        return getEventDispatcher(this).once(name, callback);
      },

      /**
       * Returns true/false if the object has a event of the specified name.
       *
       * @method hasEventListeners
       * @param {String} name Name of the event to check for.
       * @return {Boolean} true/false if the event exists or not.
       */
      hasEventListeners: function (name) {
        return getEventDispatcher(this).has(name);
      }
    };
  }
);
/**
 * Binding.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class gets dynamically extended to provide a binding between two models. This makes it possible to
 * sync the state of two properties in two models by a layer of abstraction.
 *
 * @private
 * @class tinymce.data.Binding
 */
define(
  'tinymce.core.data.Binding',
  [
  ],
  function () {
    /**
     * Constructs a new bidning.
     *
     * @constructor
     * @method Binding
     * @param {Object} settings Settings to the binding.
     */
    function Binding(settings) {
      this.create = settings.create;
    }

    /**
     * Creates a binding for a property on a model.
     *
     * @method create
     * @param {tinymce.data.ObservableObject} model Model to create binding to.
     * @param {String} name Name of property to bind.
     * @return {tinymce.data.Binding} Binding instance.
     */
    Binding.create = function (model, name) {
      return new Binding({
        create: function (otherModel, otherName) {
          var bindings;

          function fromSelfToOther(e) {
            otherModel.set(otherName, e.value);
          }

          function fromOtherToSelf(e) {
            model.set(name, e.value);
          }

          otherModel.on('change:' + otherName, fromOtherToSelf);
          model.on('change:' + name, fromSelfToOther);

          // Keep track of the bindings
          bindings = otherModel._bindings;

          if (!bindings) {
            bindings = otherModel._bindings = [];

            otherModel.on('destroy', function () {
              var i = bindings.length;

              while (i--) {
                bindings[i]();
              }
            });
          }

          bindings.push(function () {
            model.off('change:' + name, fromSelfToOther);
          });

          return model.get(name);
        }
      });
    };

    return Binding;
  }
);
/**
 * ObservableObject.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class is a object that is observable when properties changes a change event gets emitted.
 *
 * @private
 * @class tinymce.data.ObservableObject
 */
define(
  'tinymce.core.data.ObservableObject',
  [
    'tinymce.core.data.Binding',
    'tinymce.core.util.Class',
    'tinymce.core.util.Observable',
    'tinymce.core.util.Tools'
  ], function (Binding, Class, Observable, Tools) {
    function isNode(node) {
      return node.nodeType > 0;
    }

    // Todo: Maybe this should be shallow compare since it might be huge object references
    function isEqual(a, b) {
      var k, checked;

      // Strict equals
      if (a === b) {
        return true;
      }

      // Compare null
      if (a === null || b === null) {
        return a === b;
      }

      // Compare number, boolean, string, undefined
      if (typeof a !== "object" || typeof b !== "object") {
        return a === b;
      }

      // Compare arrays
      if (Tools.isArray(b)) {
        if (a.length !== b.length) {
          return false;
        }

        k = a.length;
        while (k--) {
          if (!isEqual(a[k], b[k])) {
            return false;
          }
        }
      }

      // Shallow compare nodes
      if (isNode(a) || isNode(b)) {
        return a === b;
      }

      // Compare objects
      checked = {};
      for (k in b) {
        if (!isEqual(a[k], b[k])) {
          return false;
        }

        checked[k] = true;
      }

      for (k in a) {
        if (!checked[k] && !isEqual(a[k], b[k])) {
          return false;
        }
      }

      return true;
    }

    return Class.extend({
      Mixins: [Observable],

      /**
       * Constructs a new observable object instance.
       *
       * @constructor
       * @param {Object} data Initial data for the object.
       */
      init: function (data) {
        var name, value;

        data = data || {};

        for (name in data) {
          value = data[name];

          if (value instanceof Binding) {
            data[name] = value.create(this, name);
          }
        }

        this.data = data;
      },

      /**
       * Sets a property on the value this will call
       * observers if the value is a change from the current value.
       *
       * @method set
       * @param {String/object} name Name of the property to set or a object of items to set.
       * @param {Object} value Value to set for the property.
       * @return {tinymce.data.ObservableObject} Observable object instance.
       */
      set: function (name, value) {
        var key, args, oldValue = this.data[name];

        if (value instanceof Binding) {
          value = value.create(this, name);
        }

        if (typeof name === "object") {
          for (key in name) {
            this.set(key, name[key]);
          }

          return this;
        }

        if (!isEqual(oldValue, value)) {
          this.data[name] = value;

          args = {
            target: this,
            name: name,
            value: value,
            oldValue: oldValue
          };

          this.fire('change:' + name, args);
          this.fire('change', args);
        }

        return this;
      },

      /**
       * Gets a property by name.
       *
       * @method get
       * @param {String} name Name of the property to get.
       * @return {Object} Object value of propery.
       */
      get: function (name) {
        return this.data[name];
      },

      /**
       * Returns true/false if the specified property exists.
       *
       * @method has
       * @param {String} name Name of the property to check for.
       * @return {Boolean} true/false if the item exists.
       */
      has: function (name) {
        return name in this.data;
      },

      /**
       * Returns a dynamic property binding for the specified property name. This makes
       * it possible to sync the state of two properties in two ObservableObject instances.
       *
       * @method bind
       * @param {String} name Name of the property to sync with the property it's inserted to.
       * @return {tinymce.data.Binding} Data binding instance.
       */
      bind: function (name) {
        return Binding.create(this, name);
      },

      /**
       * Destroys the observable object and fires the "destroy"
       * event and clean up any internal resources.
       *
       * @method destroy
       */
      destroy: function () {
        this.fire('destroy');
      }
    });
  }
);
/**
 * Selector.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/*eslint no-nested-ternary:0 */

/**
 * Selector engine, enables you to select controls by using CSS like expressions.
 * We currently only support basic CSS expressions to reduce the size of the core
 * and the ones we support should be enough for most cases.
 *
 * @example
 * Supported expressions:
 *  element
 *  element#name
 *  element.class
 *  element[attr]
 *  element[attr*=value]
 *  element[attr~=value]
 *  element[attr!=value]
 *  element[attr^=value]
 *  element[attr$=value]
 *  element:<state>
 *  element:not(<expression>)
 *  element:first
 *  element:last
 *  element:odd
 *  element:even
 *  element element
 *  element > element
 *
 * @class tinymce.ui.Selector
 */
define(
  'tinymce.core.ui.Selector',
  [
    "tinymce.core.util.Class"
  ],
  function (Class) {
    "use strict";

    /**
     * Produces an array with a unique set of objects. It will not compare the values
     * but the references of the objects.
     *
     * @private
     * @method unqiue
     * @param {Array} array Array to make into an array with unique items.
     * @return {Array} Array with unique items.
     */
    function unique(array) {
      var uniqueItems = [], i = array.length, item;

      while (i--) {
        item = array[i];

        if (!item.__checked) {
          uniqueItems.push(item);
          item.__checked = 1;
        }
      }

      i = uniqueItems.length;
      while (i--) {
        delete uniqueItems[i].__checked;
      }

      return uniqueItems;
    }

    var expression = /^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;

    /*jshint maxlen:255 */
    /*eslint max-len:0 */
    var chunker = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
      whiteSpace = /^\s*|\s*$/g,
      Collection;

    var Selector = Class.extend({
      /**
       * Constructs a new Selector instance.
       *
       * @constructor
       * @method init
       * @param {String} selector CSS like selector expression.
       */
      init: function (selector) {
        var match = this.match;

        function compileNameFilter(name) {
          if (name) {
            name = name.toLowerCase();

            return function (item) {
              return name === '*' || item.type === name;
            };
          }
        }

        function compileIdFilter(id) {
          if (id) {
            return function (item) {
              return item._name === id;
            };
          }
        }

        function compileClassesFilter(classes) {
          if (classes) {
            classes = classes.split('.');

            return function (item) {
              var i = classes.length;

              while (i--) {
                if (!item.classes.contains(classes[i])) {
                  return false;
                }
              }

              return true;
            };
          }
        }

        function compileAttrFilter(name, cmp, check) {
          if (name) {
            return function (item) {
              var value = item[name] ? item[name]() : '';

              return !cmp ? !!check :
                cmp === "=" ? value === check :
                  cmp === "*=" ? value.indexOf(check) >= 0 :
                    cmp === "~=" ? (" " + value + " ").indexOf(" " + check + " ") >= 0 :
                      cmp === "!=" ? value != check :
                        cmp === "^=" ? value.indexOf(check) === 0 :
                          cmp === "$=" ? value.substr(value.length - check.length) === check :
                            false;
            };
          }
        }

        function compilePsuedoFilter(name) {
          var notSelectors;

          if (name) {
            name = /(?:not\((.+)\))|(.+)/i.exec(name);

            if (!name[1]) {
              name = name[2];

              return function (item, index, length) {
                return name === 'first' ? index === 0 :
                  name === 'last' ? index === length - 1 :
                    name === 'even' ? index % 2 === 0 :
                      name === 'odd' ? index % 2 === 1 :
                        item[name] ? item[name]() :
                          false;
              };
            }

            // Compile not expression
            notSelectors = parseChunks(name[1], []);

            return function (item) {
              return !match(item, notSelectors);
            };
          }
        }

        function compile(selector, filters, direct) {
          var parts;

          function add(filter) {
            if (filter) {
              filters.push(filter);
            }
          }

          // Parse expression into parts
          parts = expression.exec(selector.replace(whiteSpace, ''));

          add(compileNameFilter(parts[1]));
          add(compileIdFilter(parts[2]));
          add(compileClassesFilter(parts[3]));
          add(compileAttrFilter(parts[4], parts[5], parts[6]));
          add(compilePsuedoFilter(parts[7]));

          // Mark the filter with pseudo for performance
          filters.pseudo = !!parts[7];
          filters.direct = direct;

          return filters;
        }

        // Parser logic based on Sizzle by John Resig
        function parseChunks(selector, selectors) {
          var parts = [], extra, matches, i;

          do {
            chunker.exec("");
            matches = chunker.exec(selector);

            if (matches) {
              selector = matches[3];
              parts.push(matches[1]);

              if (matches[2]) {
                extra = matches[3];
                break;
              }
            }
          } while (matches);

          if (extra) {
            parseChunks(extra, selectors);
          }

          selector = [];
          for (i = 0; i < parts.length; i++) {
            if (parts[i] != '>') {
              selector.push(compile(parts[i], [], parts[i - 1] === '>'));
            }
          }

          selectors.push(selector);

          return selectors;
        }

        this._selectors = parseChunks(selector, []);
      },

      /**
       * Returns true/false if the selector matches the specified control.
       *
       * @method match
       * @param {tinymce.ui.Control} control Control to match against the selector.
       * @param {Array} selectors Optional array of selectors, mostly used internally.
       * @return {Boolean} true/false state if the control matches or not.
       */
      match: function (control, selectors) {
        var i, l, si, sl, selector, fi, fl, filters, index, length, siblings, count, item;

        selectors = selectors || this._selectors;
        for (i = 0, l = selectors.length; i < l; i++) {
          selector = selectors[i];
          sl = selector.length;
          item = control;
          count = 0;

          for (si = sl - 1; si >= 0; si--) {
            filters = selector[si];

            while (item) {
              // Find the index and length since a pseudo filter like :first needs it
              if (filters.pseudo) {
                siblings = item.parent().items();
                index = length = siblings.length;
                while (index--) {
                  if (siblings[index] === item) {
                    break;
                  }
                }
              }

              for (fi = 0, fl = filters.length; fi < fl; fi++) {
                if (!filters[fi](item, index, length)) {
                  fi = fl + 1;
                  break;
                }
              }

              if (fi === fl) {
                count++;
                break;
              } else {
                // If it didn't match the right most expression then
                // break since it's no point looking at the parents
                if (si === sl - 1) {
                  break;
                }
              }

              item = item.parent();
            }
          }

          // If we found all selectors then return true otherwise continue looking
          if (count === sl) {
            return true;
          }
        }

        return false;
      },

      /**
       * Returns a tinymce.ui.Collection with matches of the specified selector inside the specified container.
       *
       * @method find
       * @param {tinymce.ui.Control} container Container to look for items in.
       * @return {tinymce.ui.Collection} Collection with matched elements.
       */
      find: function (container) {
        var matches = [], i, l, selectors = this._selectors;

        function collect(items, selector, index) {
          var i, l, fi, fl, item, filters = selector[index];

          for (i = 0, l = items.length; i < l; i++) {
            item = items[i];

            // Run each filter against the item
            for (fi = 0, fl = filters.length; fi < fl; fi++) {
              if (!filters[fi](item, i, l)) {
                fi = fl + 1;
                break;
              }
            }

            // All filters matched the item
            if (fi === fl) {
              // Matched item is on the last expression like: panel toolbar [button]
              if (index == selector.length - 1) {
                matches.push(item);
              } else {
                // Collect next expression type
                if (item.items) {
                  collect(item.items(), selector, index + 1);
                }
              }
            } else if (filters.direct) {
              return;
            }

            // Collect child items
            if (item.items) {
              collect(item.items(), selector, index);
            }
          }
        }

        if (container.items) {
          for (i = 0, l = selectors.length; i < l; i++) {
            collect(container.items(), selectors[i], 0);
          }

          // Unique the matches if needed
          if (l > 1) {
            matches = unique(matches);
          }
        }

        // Fix for circular reference
        if (!Collection) {
          // TODO: Fix me!
          Collection = Selector.Collection;
        }

        return new Collection(matches);
      }
    });

    return Selector;
  }
);

/**
 * Collection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Control collection, this class contains control instances and it enables you to
 * perform actions on all the contained items. This is very similar to how jQuery works.
 *
 * @example
 * someCollection.show().disabled(true);
 *
 * @class tinymce.ui.Collection
 */
define(
  'tinymce.core.ui.Collection',
  [
    "tinymce.core.util.Tools",
    "tinymce.core.ui.Selector",
    "tinymce.core.util.Class"
  ],
  function (Tools, Selector, Class) {
    "use strict";

    var Collection, proto, push = Array.prototype.push, slice = Array.prototype.slice;

    proto = {
      /**
       * Current number of contained control instances.
       *
       * @field length
       * @type Number
       */
      length: 0,

      /**
       * Constructor for the collection.
       *
       * @constructor
       * @method init
       * @param {Array} items Optional array with items to add.
       */
      init: function (items) {
        if (items) {
          this.add(items);
        }
      },

      /**
       * Adds new items to the control collection.
       *
       * @method add
       * @param {Array} items Array if items to add to collection.
       * @return {tinymce.ui.Collection} Current collection instance.
       */
      add: function (items) {
        var self = this;

        // Force single item into array
        if (!Tools.isArray(items)) {
          if (items instanceof Collection) {
            self.add(items.toArray());
          } else {
            push.call(self, items);
          }
        } else {
          push.apply(self, items);
        }

        return self;
      },

      /**
       * Sets the contents of the collection. This will remove any existing items
       * and replace them with the ones specified in the input array.
       *
       * @method set
       * @param {Array} items Array with items to set into the Collection.
       * @return {tinymce.ui.Collection} Collection instance.
       */
      set: function (items) {
        var self = this, len = self.length, i;

        self.length = 0;
        self.add(items);

        // Remove old entries
        for (i = self.length; i < len; i++) {
          delete self[i];
        }

        return self;
      },

      /**
       * Filters the collection item based on the specified selector expression or selector function.
       *
       * @method filter
       * @param {String} selector Selector expression to filter items by.
       * @return {tinymce.ui.Collection} Collection containing the filtered items.
       */
      filter: function (selector) {
        var self = this, i, l, matches = [], item, match;

        // Compile string into selector expression
        if (typeof selector === "string") {
          selector = new Selector(selector);

          match = function (item) {
            return selector.match(item);
          };
        } else {
          // Use selector as matching function
          match = selector;
        }

        for (i = 0, l = self.length; i < l; i++) {
          item = self[i];

          if (match(item)) {
            matches.push(item);
          }
        }

        return new Collection(matches);
      },

      /**
       * Slices the items within the collection.
       *
       * @method slice
       * @param {Number} index Index to slice at.
       * @param {Number} len Optional length to slice.
       * @return {tinymce.ui.Collection} Current collection.
       */
      slice: function () {
        return new Collection(slice.apply(this, arguments));
      },

      /**
       * Makes the current collection equal to the specified index.
       *
       * @method eq
       * @param {Number} index Index of the item to set the collection to.
       * @return {tinymce.ui.Collection} Current collection.
       */
      eq: function (index) {
        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);
      },

      /**
       * Executes the specified callback on each item in collection.
       *
       * @method each
       * @param {function} callback Callback to execute for each item in collection.
       * @return {tinymce.ui.Collection} Current collection instance.
       */
      each: function (callback) {
        Tools.each(this, callback);

        return this;
      },

      /**
       * Returns an JavaScript array object of the contents inside the collection.
       *
       * @method toArray
       * @return {Array} Array with all items from collection.
       */
      toArray: function () {
        return Tools.toArray(this);
      },

      /**
       * Finds the index of the specified control or return -1 if it isn't in the collection.
       *
       * @method indexOf
       * @param {Control} ctrl Control instance to look for.
       * @return {Number} Index of the specified control or -1.
       */
      indexOf: function (ctrl) {
        var self = this, i = self.length;

        while (i--) {
          if (self[i] === ctrl) {
            break;
          }
        }

        return i;
      },

      /**
       * Returns a new collection of the contents in reverse order.
       *
       * @method reverse
       * @return {tinymce.ui.Collection} Collection instance with reversed items.
       */
      reverse: function () {
        return new Collection(Tools.toArray(this).reverse());
      },

      /**
       * Returns true/false if the class exists or not.
       *
       * @method hasClass
       * @param {String} cls Class to check for.
       * @return {Boolean} true/false state if the class exists or not.
       */
      hasClass: function (cls) {
        return this[0] ? this[0].classes.contains(cls) : false;
      },

      /**
       * Sets/gets the specific property on the items in the collection. The same as executing control.<property>(<value>);
       *
       * @method prop
       * @param {String} name Property name to get/set.
       * @param {Object} value Optional object value to set.
       * @return {tinymce.ui.Collection} Current collection instance or value of the first item on a get operation.
       */
      prop: function (name, value) {
        var self = this, undef, item;

        if (value !== undef) {
          self.each(function (item) {
            if (item[name]) {
              item[name](value);
            }
          });

          return self;
        }

        item = self[0];

        if (item && item[name]) {
          return item[name]();
        }
      },

      /**
       * Executes the specific function name with optional arguments an all items in collection if it exists.
       *
       * @example collection.exec("myMethod", arg1, arg2, arg3);
       * @method exec
       * @param {String} name Name of the function to execute.
       * @param {Object} ... Multiple arguments to pass to each function.
       * @return {tinymce.ui.Collection} Current collection.
       */
      exec: function (name) {
        var self = this, args = Tools.toArray(arguments).slice(1);

        self.each(function (item) {
          if (item[name]) {
            item[name].apply(item, args);
          }
        });

        return self;
      },

      /**
       * Remove all items from collection and DOM.
       *
       * @method remove
       * @return {tinymce.ui.Collection} Current collection.
       */
      remove: function () {
        var i = this.length;

        while (i--) {
          this[i].remove();
        }

        return this;
      },

      /**
       * Adds a class to all items in the collection.
       *
       * @method addClass
       * @param {String} cls Class to add to each item.
       * @return {tinymce.ui.Collection} Current collection instance.
       */
      addClass: function (cls) {
        return this.each(function (item) {
          item.classes.add(cls);
        });
      },

      /**
       * Removes the specified class from all items in collection.
       *
       * @method removeClass
       * @param {String} cls Class to remove from each item.
       * @return {tinymce.ui.Collection} Current collection instance.
       */
      removeClass: function (cls) {
        return this.each(function (item) {
          item.classes.remove(cls);
        });
      }

      /**
       * Fires the specified event by name and arguments on the control. This will execute all
       * bound event handlers.
       *
       * @method fire
       * @param {String} name Name of the event to fire.
       * @param {Object} args Optional arguments to pass to the event.
       * @return {tinymce.ui.Collection} Current collection instance.
       */
      // fire: function(event, args) {}, -- Generated by code below

      /**
       * Binds a callback to the specified event. This event can both be
       * native browser events like "click" or custom ones like PostRender.
       *
       * The callback function will have two parameters the first one being the control that received the event
       * the second one will be the event object either the browsers native event object or a custom JS object.
       *
       * @method on
       * @param {String} name Name of the event to bind. For example "click".
       * @param {String/function} callback Callback function to execute ones the event occurs.
       * @return {tinymce.ui.Collection} Current collection instance.
       */
      // on: function(name, callback) {}, -- Generated by code below

      /**
       * Unbinds the specified event and optionally a specific callback. If you omit the name
       * parameter all event handlers will be removed. If you omit the callback all event handles
       * by the specified name will be removed.
       *
       * @method off
       * @param {String} name Optional name for the event to unbind.
       * @param {function} callback Optional callback function to unbind.
       * @return {tinymce.ui.Collection} Current collection instance.
       */
      // off: function(name, callback) {}, -- Generated by code below

      /**
       * Shows the items in the current collection.
       *
       * @method show
       * @return {tinymce.ui.Collection} Current collection instance.
       */
      // show: function() {}, -- Generated by code below

      /**
       * Hides the items in the current collection.
       *
       * @method hide
       * @return {tinymce.ui.Collection} Current collection instance.
       */
      // hide: function() {}, -- Generated by code below

      /**
       * Sets/gets the text contents of the items in the current collection.
       *
       * @method text
       * @return {tinymce.ui.Collection} Current collection instance or text value of the first item on a get operation.
       */
      // text: function(value) {}, -- Generated by code below

      /**
       * Sets/gets the name contents of the items in the current collection.
       *
       * @method name
       * @return {tinymce.ui.Collection} Current collection instance or name value of the first item on a get operation.
       */
      // name: function(value) {}, -- Generated by code below

      /**
       * Sets/gets the disabled state on the items in the current collection.
       *
       * @method disabled
       * @return {tinymce.ui.Collection} Current collection instance or disabled state of the first item on a get operation.
       */
      // disabled: function(state) {}, -- Generated by code below

      /**
       * Sets/gets the active state on the items in the current collection.
       *
       * @method active
       * @return {tinymce.ui.Collection} Current collection instance or active state of the first item on a get operation.
       */
      // active: function(state) {}, -- Generated by code below

      /**
       * Sets/gets the selected state on the items in the current collection.
       *
       * @method selected
       * @return {tinymce.ui.Collection} Current collection instance or selected state of the first item on a get operation.
       */
      // selected: function(state) {}, -- Generated by code below

      /**
       * Sets/gets the selected state on the items in the current collection.
       *
       * @method visible
       * @return {tinymce.ui.Collection} Current collection instance or visible state of the first item on a get operation.
       */
      // visible: function(state) {}, -- Generated by code below
    };

    // Extend tinymce.ui.Collection prototype with some generated control specific methods
    Tools.each('fire on off show hide append prepend before after reflow'.split(' '), function (name) {
      proto[name] = function () {
        var args = Tools.toArray(arguments);

        this.each(function (ctrl) {
          if (name in ctrl) {
            ctrl[name].apply(ctrl, args);
          }
        });

        return this;
      };
    });

    // Extend tinymce.ui.Collection prototype with some property methods
    Tools.each('text name disabled active selected checked visible parent value data'.split(' '), function (name) {
      proto[name] = function (value) {
        return this.prop(name, value);
      };
    });

    // Create class based on the new prototype
    Collection = Class.extend(proto);

    // Stick Collection into Selector to prevent circual references
    Selector.Collection = Collection;

    return Collection;
  }
);
/**
 * DomUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Private UI DomUtils proxy.
 *
 * @private
 * @class tinymce.ui.DomUtils
 */
define(
  'tinymce.core.ui.DomUtils',
  [
    "tinymce.core.Env",
    "tinymce.core.util.Tools",
    "tinymce.core.dom.DOMUtils"
  ],
  function (Env, Tools, DOMUtils) {
    "use strict";

    var count = 0;

    var funcs = {
      id: function () {
        return 'mceu_' + (count++);
      },

      create: function (name, attrs, children) {
        var elm = document.createElement(name);

        DOMUtils.DOM.setAttribs(elm, attrs);

        if (typeof children === 'string') {
          elm.innerHTML = children;
        } else {
          Tools.each(children, function (child) {
            if (child.nodeType) {
              elm.appendChild(child);
            }
          });
        }

        return elm;
      },

      createFragment: function (html) {
        return DOMUtils.DOM.createFragment(html);
      },

      getWindowSize: function () {
        return DOMUtils.DOM.getViewPort();
      },

      getSize: function (elm) {
        var width, height;

        if (elm.getBoundingClientRect) {
          var rect = elm.getBoundingClientRect();

          width = Math.max(rect.width || (rect.right - rect.left), elm.offsetWidth);
          height = Math.max(rect.height || (rect.bottom - rect.bottom), elm.offsetHeight);
        } else {
          width = elm.offsetWidth;
          height = elm.offsetHeight;
        }

        return { width: width, height: height };
      },

      getPos: function (elm, root) {
        return DOMUtils.DOM.getPos(elm, root || funcs.getContainer());
      },

      getContainer: function () {
        return Env.container ? Env.container : document.body;
      },

      getViewPort: function (win) {
        return DOMUtils.DOM.getViewPort(win);
      },

      get: function (id) {
        return document.getElementById(id);
      },

      addClass: function (elm, cls) {
        return DOMUtils.DOM.addClass(elm, cls);
      },

      removeClass: function (elm, cls) {
        return DOMUtils.DOM.removeClass(elm, cls);
      },

      hasClass: function (elm, cls) {
        return DOMUtils.DOM.hasClass(elm, cls);
      },

      toggleClass: function (elm, cls, state) {
        return DOMUtils.DOM.toggleClass(elm, cls, state);
      },

      css: function (elm, name, value) {
        return DOMUtils.DOM.setStyle(elm, name, value);
      },

      getRuntimeStyle: function (elm, name) {
        return DOMUtils.DOM.getStyle(elm, name, true);
      },

      on: function (target, name, callback, scope) {
        return DOMUtils.DOM.bind(target, name, callback, scope);
      },

      off: function (target, name, callback) {
        return DOMUtils.DOM.unbind(target, name, callback);
      },

      fire: function (target, name, args) {
        return DOMUtils.DOM.fire(target, name, args);
      },

      innerHtml: function (elm, html) {
        // Workaround for <div> in <p> bug on IE 8 #6178
        DOMUtils.DOM.setHTML(elm, html);
      }
    };

    return funcs;
  }
);
/**
 * BoxUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Utility class for box parsing and measuring.
 *
 * @private
 * @class tinymce.ui.BoxUtils
 */
define(
  'tinymce.core.ui.BoxUtils',
  [
  ],
  function () {
    "use strict";

    return {
      /**
       * Parses the specified box value. A box value contains 1-4 properties in clockwise order.
       *
       * @method parseBox
       * @param {String/Number} value Box value "0 1 2 3" or "0" etc.
       * @return {Object} Object with top/right/bottom/left properties.
       * @private
       */
      parseBox: function (value) {
        var len, radix = 10;

        if (!value) {
          return;
        }

        if (typeof value === "number") {
          value = value || 0;

          return {
            top: value,
            left: value,
            bottom: value,
            right: value
          };
        }

        value = value.split(' ');
        len = value.length;

        if (len === 1) {
          value[1] = value[2] = value[3] = value[0];
        } else if (len === 2) {
          value[2] = value[0];
          value[3] = value[1];
        } else if (len === 3) {
          value[3] = value[1];
        }

        return {
          top: parseInt(value[0], radix) || 0,
          right: parseInt(value[1], radix) || 0,
          bottom: parseInt(value[2], radix) || 0,
          left: parseInt(value[3], radix) || 0
        };
      },

      measureBox: function (elm, prefix) {
        function getStyle(name) {
          var defaultView = document.defaultView;

          if (defaultView) {
            // Remove camelcase
            name = name.replace(/[A-Z]/g, function (a) {
              return '-' + a;
            });

            return defaultView.getComputedStyle(elm, null).getPropertyValue(name);
          }

          return elm.currentStyle[name];
        }

        function getSide(name) {
          var val = parseFloat(getStyle(name), 10);

          return isNaN(val) ? 0 : val;
        }

        return {
          top: getSide(prefix + "TopWidth"),
          right: getSide(prefix + "RightWidth"),
          bottom: getSide(prefix + "BottomWidth"),
          left: getSide(prefix + "LeftWidth")
        };
      }
    };
  }
);

/**
 * ClassList.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Handles adding and removal of classes.
 *
 * @private
 * @class tinymce.ui.ClassList
 */
define(
  'tinymce.core.ui.ClassList',
  [
    "tinymce.core.util.Tools"
  ],
  function (Tools) {
    "use strict";

    function noop() {
    }

    /**
     * Constructs a new class list the specified onchange
     * callback will be executed when the class list gets modifed.
     *
     * @constructor ClassList
     * @param {function} onchange Onchange callback to be executed.
     */
    function ClassList(onchange) {
      this.cls = [];
      this.cls._map = {};
      this.onchange = onchange || noop;
      this.prefix = '';
    }

    Tools.extend(ClassList.prototype, {
      /**
       * Adds a new class to the class list.
       *
       * @method add
       * @param {String} cls Class to be added.
       * @return {tinymce.ui.ClassList} Current class list instance.
       */
      add: function (cls) {
        if (cls && !this.contains(cls)) {
          this.cls._map[cls] = true;
          this.cls.push(cls);
          this._change();
        }

        return this;
      },

      /**
       * Removes the specified class from the class list.
       *
       * @method remove
       * @param {String} cls Class to be removed.
       * @return {tinymce.ui.ClassList} Current class list instance.
       */
      remove: function (cls) {
        if (this.contains(cls)) {
          for (var i = 0; i < this.cls.length; i++) {
            if (this.cls[i] === cls) {
              break;
            }
          }

          this.cls.splice(i, 1);
          delete this.cls._map[cls];
          this._change();
        }

        return this;
      },

      /**
       * Toggles a class in the class list.
       *
       * @method toggle
       * @param {String} cls Class to be added/removed.
       * @param {Boolean} state Optional state if it should be added/removed.
       * @return {tinymce.ui.ClassList} Current class list instance.
       */
      toggle: function (cls, state) {
        var curState = this.contains(cls);

        if (curState !== state) {
          if (curState) {
            this.remove(cls);
          } else {
            this.add(cls);
          }

          this._change();
        }

        return this;
      },

      /**
       * Returns true if the class list has the specified class.
       *
       * @method contains
       * @param {String} cls Class to look for.
       * @return {Boolean} true/false if the class exists or not.
       */
      contains: function (cls) {
        return !!this.cls._map[cls];
      },

      /**
       * Returns a space separated list of classes.
       *
       * @method toString
       * @return {String} Space separated list of classes.
       */

      _change: function () {
        delete this.clsValue;
        this.onchange.call(this);
      }
    });

    // IE 8 compatibility
    ClassList.prototype.toString = function () {
      var value;

      if (this.clsValue) {
        return this.clsValue;
      }

      value = '';
      for (var i = 0; i < this.cls.length; i++) {
        if (i > 0) {
          value += ' ';
        }

        value += this.prefix + this.cls[i];
      }

      return value;
    };

    return ClassList;
  }
);
/**
 * ReflowQueue.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class will automatically reflow controls on the next animation frame within a few milliseconds on older browsers.
 * If the user manually reflows then the automatic reflow will be cancelled. This class is used internally when various control states
 * changes that triggers a reflow.
 *
 * @class tinymce.ui.ReflowQueue
 * @static
 */
define(
  'tinymce.core.ui.ReflowQueue',
  [
    "tinymce.core.util.Delay"
  ],
  function (Delay) {
    var dirtyCtrls = {}, animationFrameRequested;

    return {
      /**
       * Adds a control to the next automatic reflow call. This is the control that had a state
       * change for example if the control was hidden/shown.
       *
       * @method add
       * @param {tinymce.ui.Control} ctrl Control to add to queue.
       */
      add: function (ctrl) {
        var parent = ctrl.parent();

        if (parent) {
          if (!parent._layout || parent._layout.isNative()) {
            return;
          }

          if (!dirtyCtrls[parent._id]) {
            dirtyCtrls[parent._id] = parent;
          }

          if (!animationFrameRequested) {
            animationFrameRequested = true;

            Delay.requestAnimationFrame(function () {
              var id, ctrl;

              animationFrameRequested = false;

              for (id in dirtyCtrls) {
                ctrl = dirtyCtrls[id];

                if (ctrl.state.get('rendered')) {
                  ctrl.reflow();
                }
              }

              dirtyCtrls = {};
            }, document.body);
          }
        }
      },

      /**
       * Removes the specified control from the automatic reflow. This will happen when for example the user
       * manually triggers a reflow.
       *
       * @method remove
       * @param {tinymce.ui.Control} ctrl Control to remove from queue.
       */
      remove: function (ctrl) {
        if (dirtyCtrls[ctrl._id]) {
          delete dirtyCtrls[ctrl._id];
        }
      }
    };
  }
);

/**
 * Control.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/*eslint consistent-this:0 */

/**
 * This is the base class for all controls and containers. All UI control instances inherit
 * from this one as it has the base logic needed by all of them.
 *
 * @class tinymce.ui.Control
 */
define(
  'tinymce.core.ui.Control',
  [
    "tinymce.core.util.Class",
    "tinymce.core.util.Tools",
    "tinymce.core.util.EventDispatcher",
    "tinymce.core.data.ObservableObject",
    "tinymce.core.ui.Collection",
    "tinymce.core.ui.DomUtils",
    "tinymce.core.dom.DomQuery",
    "tinymce.core.ui.BoxUtils",
    "tinymce.core.ui.ClassList",
    "tinymce.core.ui.ReflowQueue"
  ],
  function (Class, Tools, EventDispatcher, ObservableObject, Collection, DomUtils, $, BoxUtils, ClassList, ReflowQueue) {
    "use strict";

    var hasMouseWheelEventSupport = "onmousewheel" in document;
    var hasWheelEventSupport = false;
    var classPrefix = "mce-";
    var Control, idCounter = 0;

    var proto = {
      Statics: {
        classPrefix: classPrefix
      },

      isRtl: function () {
        return Control.rtl;
      },

      /**
       * Class/id prefix to use for all controls.
       *
       * @final
       * @field {String} classPrefix
       */
      classPrefix: classPrefix,

      /**
       * Constructs a new control instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       * @setting {String} style Style CSS properties to add.
       * @setting {String} border Border box values example: 1 1 1 1
       * @setting {String} padding Padding box values example: 1 1 1 1
       * @setting {String} margin Margin box values example: 1 1 1 1
       * @setting {Number} minWidth Minimal width for the control.
       * @setting {Number} minHeight Minimal height for the control.
       * @setting {String} classes Space separated list of classes to add.
       * @setting {String} role WAI-ARIA role to use for control.
       * @setting {Boolean} hidden Is the control hidden by default.
       * @setting {Boolean} disabled Is the control disabled by default.
       * @setting {String} name Name of the control instance.
       */
      init: function (settings) {
        var self = this, classes, defaultClasses;

        function applyClasses(classes) {
          var i;

          classes = classes.split(' ');
          for (i = 0; i < classes.length; i++) {
            self.classes.add(classes[i]);
          }
        }

        self.settings = settings = Tools.extend({}, self.Defaults, settings);

        // Initial states
        self._id = settings.id || ('mceu_' + (idCounter++));
        self._aria = { role: settings.role };
        self._elmCache = {};
        self.$ = $;

        self.state = new ObservableObject({
          visible: true,
          active: false,
          disabled: false,
          value: ''
        });

        self.data = new ObservableObject(settings.data);

        self.classes = new ClassList(function () {
          if (self.state.get('rendered')) {
            self.getEl().className = this.toString();
          }
        });
        self.classes.prefix = self.classPrefix;

        // Setup classes
        classes = settings.classes;
        if (classes) {
          if (self.Defaults) {
            defaultClasses = self.Defaults.classes;

            if (defaultClasses && classes != defaultClasses) {
              applyClasses(defaultClasses);
            }
          }

          applyClasses(classes);
        }

        Tools.each('title text name visible disabled active value'.split(' '), function (name) {
          if (name in settings) {
            self[name](settings[name]);
          }
        });

        self.on('click', function () {
          if (self.disabled()) {
            return false;
          }
        });

        /**
         * Name/value object with settings for the current control.
         *
         * @field {Object} settings
         */
        self.settings = settings;

        self.borderBox = BoxUtils.parseBox(settings.border);
        self.paddingBox = BoxUtils.parseBox(settings.padding);
        self.marginBox = BoxUtils.parseBox(settings.margin);

        if (settings.hidden) {
          self.hide();
        }
      },

      // Will generate getter/setter methods for these properties
      Properties: 'parent,name',

      /**
       * Returns the root element to render controls into.
       *
       * @method getContainerElm
       * @return {Element} HTML DOM element to render into.
       */
      getContainerElm: function () {
        return DomUtils.getContainer();
      },

      /**
       * Returns a control instance for the current DOM element.
       *
       * @method getParentCtrl
       * @param {Element} elm HTML dom element to get parent control from.
       * @return {tinymce.ui.Control} Control instance or undefined.
       */
      getParentCtrl: function (elm) {
        var ctrl, lookup = this.getRoot().controlIdLookup;

        while (elm && lookup) {
          ctrl = lookup[elm.id];
          if (ctrl) {
            break;
          }

          elm = elm.parentNode;
        }

        return ctrl;
      },

      /**
       * Initializes the current controls layout rect.
       * This will be executed by the layout managers to determine the
       * default minWidth/minHeight etc.
       *
       * @method initLayoutRect
       * @return {Object} Layout rect instance.
       */
      initLayoutRect: function () {
        var self = this, settings = self.settings, borderBox, layoutRect;
        var elm = self.getEl(), width, height, minWidth, minHeight, autoResize;
        var startMinWidth, startMinHeight, initialSize;

        // Measure the current element
        borderBox = self.borderBox = self.borderBox || BoxUtils.measureBox(elm, 'border');
        self.paddingBox = self.paddingBox || BoxUtils.measureBox(elm, 'padding');
        self.marginBox = self.marginBox || BoxUtils.measureBox(elm, 'margin');
        initialSize = DomUtils.getSize(elm);

        // Setup minWidth/minHeight and width/height
        startMinWidth = settings.minWidth;
        startMinHeight = settings.minHeight;
        minWidth = startMinWidth || initialSize.width;
        minHeight = startMinHeight || initialSize.height;
        width = settings.width;
        height = settings.height;
        autoResize = settings.autoResize;
        autoResize = typeof autoResize != "undefined" ? autoResize : !width && !height;

        width = width || minWidth;
        height = height || minHeight;

        var deltaW = borderBox.left + borderBox.right;
        var deltaH = borderBox.top + borderBox.bottom;

        var maxW = settings.maxWidth || 0xFFFF;
        var maxH = settings.maxHeight || 0xFFFF;

        // Setup initial layout rect
        self._layoutRect = layoutRect = {
          x: settings.x || 0,
          y: settings.y || 0,
          w: width,
          h: height,
          deltaW: deltaW,
          deltaH: deltaH,
          contentW: width - deltaW,
          contentH: height - deltaH,
          innerW: width - deltaW,
          innerH: height - deltaH,
          startMinWidth: startMinWidth || 0,
          startMinHeight: startMinHeight || 0,
          minW: Math.min(minWidth, maxW),
          minH: Math.min(minHeight, maxH),
          maxW: maxW,
          maxH: maxH,
          autoResize: autoResize,
          scrollW: 0
        };

        self._lastLayoutRect = {};

        return layoutRect;
      },

      /**
       * Getter/setter for the current layout rect.
       *
       * @method layoutRect
       * @param {Object} [newRect] Optional new layout rect.
       * @return {tinymce.ui.Control/Object} Current control or rect object.
       */
      layoutRect: function (newRect) {
        var self = this, curRect = self._layoutRect, lastLayoutRect, size, deltaWidth, deltaHeight, undef, repaintControls;

        // Initialize default layout rect
        if (!curRect) {
          curRect = self.initLayoutRect();
        }

        // Set new rect values
        if (newRect) {
          // Calc deltas between inner and outer sizes
          deltaWidth = curRect.deltaW;
          deltaHeight = curRect.deltaH;

          // Set x position
          if (newRect.x !== undef) {
            curRect.x = newRect.x;
          }

          // Set y position
          if (newRect.y !== undef) {
            curRect.y = newRect.y;
          }

          // Set minW
          if (newRect.minW !== undef) {
            curRect.minW = newRect.minW;
          }

          // Set minH
          if (newRect.minH !== undef) {
            curRect.minH = newRect.minH;
          }

          // Set new width and calculate inner width
          size = newRect.w;
          if (size !== undef) {
            size = size < curRect.minW ? curRect.minW : size;
            size = size > curRect.maxW ? curRect.maxW : size;
            curRect.w = size;
            curRect.innerW = size - deltaWidth;
          }

          // Set new height and calculate inner height
          size = newRect.h;
          if (size !== undef) {
            size = size < curRect.minH ? curRect.minH : size;
            size = size > curRect.maxH ? curRect.maxH : size;
            curRect.h = size;
            curRect.innerH = size - deltaHeight;
          }

          // Set new inner width and calculate width
          size = newRect.innerW;
          if (size !== undef) {
            size = size < curRect.minW - deltaWidth ? curRect.minW - deltaWidth : size;
            size = size > curRect.maxW - deltaWidth ? curRect.maxW - deltaWidth : size;
            curRect.innerW = size;
            curRect.w = size + deltaWidth;
          }

          // Set new height and calculate inner height
          size = newRect.innerH;
          if (size !== undef) {
            size = size < curRect.minH - deltaHeight ? curRect.minH - deltaHeight : size;
            size = size > curRect.maxH - deltaHeight ? curRect.maxH - deltaHeight : size;
            curRect.innerH = size;
            curRect.h = size + deltaHeight;
          }

          // Set new contentW
          if (newRect.contentW !== undef) {
            curRect.contentW = newRect.contentW;
          }

          // Set new contentH
          if (newRect.contentH !== undef) {
            curRect.contentH = newRect.contentH;
          }

          // Compare last layout rect with the current one to see if we need to repaint or not
          lastLayoutRect = self._lastLayoutRect;
          if (lastLayoutRect.x !== curRect.x || lastLayoutRect.y !== curRect.y ||
            lastLayoutRect.w !== curRect.w || lastLayoutRect.h !== curRect.h) {
            repaintControls = Control.repaintControls;

            if (repaintControls) {
              if (repaintControls.map && !repaintControls.map[self._id]) {
                repaintControls.push(self);
                repaintControls.map[self._id] = true;
              }
            }

            lastLayoutRect.x = curRect.x;
            lastLayoutRect.y = curRect.y;
            lastLayoutRect.w = curRect.w;
            lastLayoutRect.h = curRect.h;
          }

          return self;
        }

        return curRect;
      },

      /**
       * Repaints the control after a layout operation.
       *
       * @method repaint
       */
      repaint: function () {
        var self = this, style, bodyStyle, bodyElm, rect, borderBox;
        var borderW, borderH, lastRepaintRect, round, value;

        // Use Math.round on all values on IE < 9
        round = !document.createRange ? Math.round : function (value) {
          return value;
        };

        style = self.getEl().style;
        rect = self._layoutRect;
        lastRepaintRect = self._lastRepaintRect || {};

        borderBox = self.borderBox;
        borderW = borderBox.left + borderBox.right;
        borderH = borderBox.top + borderBox.bottom;

        if (rect.x !== lastRepaintRect.x) {
          style.left = round(rect.x) + 'px';
          lastRepaintRect.x = rect.x;
        }

        if (rect.y !== lastRepaintRect.y) {
          style.top = round(rect.y) + 'px';
          lastRepaintRect.y = rect.y;
        }

        if (rect.w !== lastRepaintRect.w) {
          value = round(rect.w - borderW);
          style.width = (value >= 0 ? value : 0) + 'px';
          lastRepaintRect.w = rect.w;
        }

        if (rect.h !== lastRepaintRect.h) {
          value = round(rect.h - borderH);
          style.height = (value >= 0 ? value : 0) + 'px';
          lastRepaintRect.h = rect.h;
        }

        // Update body if needed
        if (self._hasBody && rect.innerW !== lastRepaintRect.innerW) {
          value = round(rect.innerW);

          bodyElm = self.getEl('body');
          if (bodyElm) {
            bodyStyle = bodyElm.style;
            bodyStyle.width = (value >= 0 ? value : 0) + 'px';
          }

          lastRepaintRect.innerW = rect.innerW;
        }

        if (self._hasBody && rect.innerH !== lastRepaintRect.innerH) {
          value = round(rect.innerH);

          bodyElm = bodyElm || self.getEl('body');
          if (bodyElm) {
            bodyStyle = bodyStyle || bodyElm.style;
            bodyStyle.height = (value >= 0 ? value : 0) + 'px';
          }

          lastRepaintRect.innerH = rect.innerH;
        }

        self._lastRepaintRect = lastRepaintRect;
        self.fire('repaint', {}, false);
      },

      /**
       * Updates the controls layout rect by re-measuing it.
       */
      updateLayoutRect: function () {
        var self = this;

        self.parent()._lastRect = null;

        DomUtils.css(self.getEl(), { width: '', height: '' });

        self._layoutRect = self._lastRepaintRect = self._lastLayoutRect = null;
        self.initLayoutRect();
      },

      /**
       * Binds a callback to the specified event. This event can both be
       * native browser events like "click" or custom ones like PostRender.
       *
       * The callback function will be passed a DOM event like object that enables yout do stop propagation.
       *
       * @method on
       * @param {String} name Name of the event to bind. For example "click".
       * @param {String/function} callback Callback function to execute ones the event occurs.
       * @return {tinymce.ui.Control} Current control object.
       */
      on: function (name, callback) {
        var self = this;

        function resolveCallbackName(name) {
          var callback, scope;

          if (typeof name != 'string') {
            return name;
          }

          return function (e) {
            if (!callback) {
              self.parentsAndSelf().each(function (ctrl) {
                var callbacks = ctrl.settings.callbacks;

                if (callbacks && (callback = callbacks[name])) {
                  scope = ctrl;
                  return false;
                }
              });
            }

            if (!callback) {
              e.action = name;
              this.fire('execute', e);
              return;
            }

            return callback.call(scope, e);
          };
        }

        getEventDispatcher(self).on(name, resolveCallbackName(callback));

        return self;
      },

      /**
       * Unbinds the specified event and optionally a specific callback. If you omit the name
       * parameter all event handlers will be removed. If you omit the callback all event handles
       * by the specified name will be removed.
       *
       * @method off
       * @param {String} [name] Name for the event to unbind.
       * @param {function} [callback] Callback function to unbind.
       * @return {tinymce.ui.Control} Current control object.
       */
      off: function (name, callback) {
        getEventDispatcher(this).off(name, callback);
        return this;
      },

      /**
       * Fires the specified event by name and arguments on the control. This will execute all
       * bound event handlers.
       *
       * @method fire
       * @param {String} name Name of the event to fire.
       * @param {Object} [args] Arguments to pass to the event.
       * @param {Boolean} [bubble] Value to control bubbling. Defaults to true.
       * @return {Object} Current arguments object.
       */
      fire: function (name, args, bubble) {
        var self = this;

        args = args || {};

        if (!args.control) {
          args.control = self;
        }

        args = getEventDispatcher(self).fire(name, args);

        // Bubble event up to parents
        if (bubble !== false && self.parent) {
          var parent = self.parent();
          while (parent && !args.isPropagationStopped()) {
            parent.fire(name, args, false);
            parent = parent.parent();
          }
        }

        return args;
      },

      /**
       * Returns true/false if the specified event has any listeners.
       *
       * @method hasEventListeners
       * @param {String} name Name of the event to check for.
       * @return {Boolean} True/false state if the event has listeners.
       */
      hasEventListeners: function (name) {
        return getEventDispatcher(this).has(name);
      },

      /**
       * Returns a control collection with all parent controls.
       *
       * @method parents
       * @param {String} selector Optional selector expression to find parents.
       * @return {tinymce.ui.Collection} Collection with all parent controls.
       */
      parents: function (selector) {
        var self = this, ctrl, parents = new Collection();

        // Add each parent to collection
        for (ctrl = self.parent(); ctrl; ctrl = ctrl.parent()) {
          parents.add(ctrl);
        }

        // Filter away everything that doesn't match the selector
        if (selector) {
          parents = parents.filter(selector);
        }

        return parents;
      },

      /**
       * Returns the current control and it's parents.
       *
       * @method parentsAndSelf
       * @param {String} selector Optional selector expression to find parents.
       * @return {tinymce.ui.Collection} Collection with all parent controls.
       */
      parentsAndSelf: function (selector) {
        return new Collection(this).add(this.parents(selector));
      },

      /**
       * Returns the control next to the current control.
       *
       * @method next
       * @return {tinymce.ui.Control} Next control instance.
       */
      next: function () {
        var parentControls = this.parent().items();

        return parentControls[parentControls.indexOf(this) + 1];
      },

      /**
       * Returns the control previous to the current control.
       *
       * @method prev
       * @return {tinymce.ui.Control} Previous control instance.
       */
      prev: function () {
        var parentControls = this.parent().items();

        return parentControls[parentControls.indexOf(this) - 1];
      },

      /**
       * Sets the inner HTML of the control element.
       *
       * @method innerHtml
       * @param {String} html Html string to set as inner html.
       * @return {tinymce.ui.Control} Current control object.
       */
      innerHtml: function (html) {
        this.$el.html(html);
        return this;
      },

      /**
       * Returns the control DOM element or sub element.
       *
       * @method getEl
       * @param {String} [suffix] Suffix to get element by.
       * @return {Element} HTML DOM element for the current control or it's children.
       */
      getEl: function (suffix) {
        var id = suffix ? this._id + '-' + suffix : this._id;

        if (!this._elmCache[id]) {
          this._elmCache[id] = $('#' + id)[0];
        }

        return this._elmCache[id];
      },

      /**
       * Sets the visible state to true.
       *
       * @method show
       * @return {tinymce.ui.Control} Current control instance.
       */
      show: function () {
        return this.visible(true);
      },

      /**
       * Sets the visible state to false.
       *
       * @method hide
       * @return {tinymce.ui.Control} Current control instance.
       */
      hide: function () {
        return this.visible(false);
      },

      /**
       * Focuses the current control.
       *
       * @method focus
       * @return {tinymce.ui.Control} Current control instance.
       */
      focus: function () {
        try {
          this.getEl().focus();
        } catch (ex) {
          // Ignore IE error
        }

        return this;
      },

      /**
       * Blurs the current control.
       *
       * @method blur
       * @return {tinymce.ui.Control} Current control instance.
       */
      blur: function () {
        this.getEl().blur();

        return this;
      },

      /**
       * Sets the specified aria property.
       *
       * @method aria
       * @param {String} name Name of the aria property to set.
       * @param {String} value Value of the aria property.
       * @return {tinymce.ui.Control} Current control instance.
       */
      aria: function (name, value) {
        var self = this, elm = self.getEl(self.ariaTarget);

        if (typeof value === "undefined") {
          return self._aria[name];
        }

        self._aria[name] = value;

        if (self.state.get('rendered')) {
          elm.setAttribute(name == 'role' ? name : 'aria-' + name, value);
        }

        return self;
      },

      /**
       * Encodes the specified string with HTML entities. It will also
       * translate the string to different languages.
       *
       * @method encode
       * @param {String/Object/Array} text Text to entity encode.
       * @param {Boolean} [translate=true] False if the contents shouldn't be translated.
       * @return {String} Encoded and possible traslated string.
       */
      encode: function (text, translate) {
        if (translate !== false) {
          text = this.translate(text);
        }

        return (text || '').replace(/[&<>"]/g, function (match) {
          return '&#' + match.charCodeAt(0) + ';';
        });
      },

      /**
       * Returns the translated string.
       *
       * @method translate
       * @param {String} text Text to translate.
       * @return {String} Translated string or the same as the input.
       */
      translate: function (text) {
        return Control.translate ? Control.translate(text) : text;
      },

      /**
       * Adds items before the current control.
       *
       * @method before
       * @param {Array/tinymce.ui.Collection} items Array of items to prepend before this control.
       * @return {tinymce.ui.Control} Current control instance.
       */
      before: function (items) {
        var self = this, parent = self.parent();

        if (parent) {
          parent.insert(items, parent.items().indexOf(self), true);
        }

        return self;
      },

      /**
       * Adds items after the current control.
       *
       * @method after
       * @param {Array/tinymce.ui.Collection} items Array of items to append after this control.
       * @return {tinymce.ui.Control} Current control instance.
       */
      after: function (items) {
        var self = this, parent = self.parent();

        if (parent) {
          parent.insert(items, parent.items().indexOf(self));
        }

        return self;
      },

      /**
       * Removes the current control from DOM and from UI collections.
       *
       * @method remove
       * @return {tinymce.ui.Control} Current control instance.
       */
      remove: function () {
        var self = this, elm = self.getEl(), parent = self.parent(), newItems, i;

        if (self.items) {
          var controls = self.items().toArray();
          i = controls.length;
          while (i--) {
            controls[i].remove();
          }
        }

        if (parent && parent.items) {
          newItems = [];

          parent.items().each(function (item) {
            if (item !== self) {
              newItems.push(item);
            }
          });

          parent.items().set(newItems);
          parent._lastRect = null;
        }

        if (self._eventsRoot && self._eventsRoot == self) {
          $(elm).off();
        }

        var lookup = self.getRoot().controlIdLookup;
        if (lookup) {
          delete lookup[self._id];
        }

        if (elm && elm.parentNode) {
          elm.parentNode.removeChild(elm);
        }

        self.state.set('rendered', false);
        self.state.destroy();

        self.fire('remove');

        return self;
      },

      /**
       * Renders the control before the specified element.
       *
       * @method renderBefore
       * @param {Element} elm Element to render before.
       * @return {tinymce.ui.Control} Current control instance.
       */
      renderBefore: function (elm) {
        $(elm).before(this.renderHtml());
        this.postRender();
        return this;
      },

      /**
       * Renders the control to the specified element.
       *
       * @method renderBefore
       * @param {Element} elm Element to render to.
       * @return {tinymce.ui.Control} Current control instance.
       */
      renderTo: function (elm) {
        $(elm || this.getContainerElm()).append(this.renderHtml());
        this.postRender();
        return this;
      },

      preRender: function () {
      },

      render: function () {
      },

      renderHtml: function () {
        return '<div id="' + this._id + '" class="' + this.classes + '"></div>';
      },

      /**
       * Post render method. Called after the control has been rendered to the target.
       *
       * @method postRender
       * @return {tinymce.ui.Control} Current control instance.
       */
      postRender: function () {
        var self = this, settings = self.settings, elm, box, parent, name, parentEventsRoot;

        self.$el = $(self.getEl());
        self.state.set('rendered', true);

        // Bind on<event> settings
        for (name in settings) {
          if (name.indexOf("on") === 0) {
            self.on(name.substr(2), settings[name]);
          }
        }

        if (self._eventsRoot) {
          for (parent = self.parent(); !parentEventsRoot && parent; parent = parent.parent()) {
            parentEventsRoot = parent._eventsRoot;
          }

          if (parentEventsRoot) {
            for (name in parentEventsRoot._nativeEvents) {
              self._nativeEvents[name] = true;
            }
          }
        }

        bindPendingEvents(self);

        if (settings.style) {
          elm = self.getEl();
          if (elm) {
            elm.setAttribute('style', settings.style);
            elm.style.cssText = settings.style;
          }
        }

        if (self.settings.border) {
          box = self.borderBox;
          self.$el.css({
            'border-top-width': box.top,
            'border-right-width': box.right,
            'border-bottom-width': box.bottom,
            'border-left-width': box.left
          });
        }

        // Add instance to lookup
        var root = self.getRoot();
        if (!root.controlIdLookup) {
          root.controlIdLookup = {};
        }

        root.controlIdLookup[self._id] = self;

        for (var key in self._aria) {
          self.aria(key, self._aria[key]);
        }

        if (self.state.get('visible') === false) {
          self.getEl().style.display = 'none';
        }

        self.bindStates();

        self.state.on('change:visible', function (e) {
          var state = e.value, parentCtrl;

          if (self.state.get('rendered')) {
            self.getEl().style.display = state === false ? 'none' : '';

            // Need to force a reflow here on IE 8
            self.getEl().getBoundingClientRect();
          }

          // Parent container needs to reflow
          parentCtrl = self.parent();
          if (parentCtrl) {
            parentCtrl._lastRect = null;
          }

          self.fire(state ? 'show' : 'hide');

          ReflowQueue.add(self);
        });

        self.fire('postrender', {}, false);
      },

      bindStates: function () {
      },

      /**
       * Scrolls the current control into view.
       *
       * @method scrollIntoView
       * @param {String} align Alignment in view top|center|bottom.
       * @return {tinymce.ui.Control} Current control instance.
       */
      scrollIntoView: function (align) {
        function getOffset(elm, rootElm) {
          var x, y, parent = elm;

          x = y = 0;
          while (parent && parent != rootElm && parent.nodeType) {
            x += parent.offsetLeft || 0;
            y += parent.offsetTop || 0;
            parent = parent.offsetParent;
          }

          return { x: x, y: y };
        }

        var elm = this.getEl(), parentElm = elm.parentNode;
        var x, y, width, height, parentWidth, parentHeight;
        var pos = getOffset(elm, parentElm);

        x = pos.x;
        y = pos.y;
        width = elm.offsetWidth;
        height = elm.offsetHeight;
        parentWidth = parentElm.clientWidth;
        parentHeight = parentElm.clientHeight;

        if (align == "end") {
          x -= parentWidth - width;
          y -= parentHeight - height;
        } else if (align == "center") {
          x -= (parentWidth / 2) - (width / 2);
          y -= (parentHeight / 2) - (height / 2);
        }

        parentElm.scrollLeft = x;
        parentElm.scrollTop = y;

        return this;
      },

      getRoot: function () {
        var ctrl = this, rootControl, parents = [];

        while (ctrl) {
          if (ctrl.rootControl) {
            rootControl = ctrl.rootControl;
            break;
          }

          parents.push(ctrl);
          rootControl = ctrl;
          ctrl = ctrl.parent();
        }

        if (!rootControl) {
          rootControl = this;
        }

        var i = parents.length;
        while (i--) {
          parents[i].rootControl = rootControl;
        }

        return rootControl;
      },

      /**
       * Reflows the current control and it's parents.
       * This should be used after you for example append children to the current control so
       * that the layout managers know that they need to reposition everything.
       *
       * @example
       * container.append({type: 'button', text: 'My button'}).reflow();
       *
       * @method reflow
       * @return {tinymce.ui.Control} Current control instance.
       */
      reflow: function () {
        ReflowQueue.remove(this);

        var parent = this.parent();
        if (parent && parent._layout && !parent._layout.isNative()) {
          parent.reflow();
        }

        return this;
      }

      /**
       * Sets/gets the parent container for the control.
       *
       * @method parent
       * @param {tinymce.ui.Container} parent Optional parent to set.
       * @return {tinymce.ui.Control} Parent control or the current control on a set action.
       */
      // parent: function(parent) {} -- Generated

      /**
       * Sets/gets the text for the control.
       *
       * @method text
       * @param {String} value Value to set to control.
       * @return {String/tinymce.ui.Control} Current control on a set operation or current value on a get.
       */
      // text: function(value) {} -- Generated

      /**
       * Sets/gets the disabled state on the control.
       *
       * @method disabled
       * @param {Boolean} state Value to set to control.
       * @return {Boolean/tinymce.ui.Control} Current control on a set operation or current state on a get.
       */
      // disabled: function(state) {} -- Generated

      /**
       * Sets/gets the active for the control.
       *
       * @method active
       * @param {Boolean} state Value to set to control.
       * @return {Boolean/tinymce.ui.Control} Current control on a set operation or current state on a get.
       */
      // active: function(state) {} -- Generated

      /**
       * Sets/gets the name for the control.
       *
       * @method name
       * @param {String} value Value to set to control.
       * @return {String/tinymce.ui.Control} Current control on a set operation or current value on a get.
       */
      // name: function(value) {} -- Generated

      /**
       * Sets/gets the title for the control.
       *
       * @method title
       * @param {String} value Value to set to control.
       * @return {String/tinymce.ui.Control} Current control on a set operation or current value on a get.
       */
      // title: function(value) {} -- Generated

      /**
       * Sets/gets the visible for the control.
       *
       * @method visible
       * @param {Boolean} state Value to set to control.
       * @return {Boolean/tinymce.ui.Control} Current control on a set operation or current state on a get.
       */
      // visible: function(value) {} -- Generated
    };

    /**
     * Setup state properties.
     */
    Tools.each('text title visible disabled active value'.split(' '), function (name) {
      proto[name] = function (value) {
        if (arguments.length === 0) {
          return this.state.get(name);
        }

        if (typeof value != "undefined") {
          this.state.set(name, value);
        }

        return this;
      };
    });

    Control = Class.extend(proto);

    function getEventDispatcher(obj) {
      if (!obj._eventDispatcher) {
        obj._eventDispatcher = new EventDispatcher({
          scope: obj,
          toggleEvent: function (name, state) {
            if (state && EventDispatcher.isNative(name)) {
              if (!obj._nativeEvents) {
                obj._nativeEvents = {};
              }

              obj._nativeEvents[name] = true;

              if (obj.state.get('rendered')) {
                bindPendingEvents(obj);
              }
            }
          }
        });
      }

      return obj._eventDispatcher;
    }

    function bindPendingEvents(eventCtrl) {
      var i, l, parents, eventRootCtrl, nativeEvents, name;

      function delegate(e) {
        var control = eventCtrl.getParentCtrl(e.target);

        if (control) {
          control.fire(e.type, e);
        }
      }

      function mouseLeaveHandler() {
   tK"s{WCvrn;Z]vz:6͔{7.Z=>QF8ЗekBs[j5[u42v-m]}u||`><g6SC'&` W HCl6
QM#)/br 2Z+ L;ia$F  
Xj@@jB bJ\	Pp 1@ >Tj!,@4@d3a0 Jp8 1   Y$\@dtG
 A8"{@X*$#@5 @b5@<?w{LUwI~]cۤ^otoYs!tvN+ULyڭ}=QfoJα^ߗ5s{Gm4T߾9}8]vóX=ߟQG
S](d@Q XbbZd!I@MFX@0JT(q$ ( s >́7tDX!DbTk,  Xcxh
@BNH)"QԈ@PtT<Fe|xݷ]S-#3wЩ۱l~7,Tzۛvd/{Ͼ~XWs+z6_%^~;|gͭE_|g]	//o꧳uYڝ?spwlg~GO}G8O^]KF|Wq;銼|\,{.?8IŹk<BX.` -D6Ix`bRar 9""N	$uD. P`	A! !A *BJ`o\QS `jC:
0U %* %SH"	F1a;Oj}Oznf'O|Vw<v^Ok=_}xM6_wX[6ٱC637]w_o\E%]u{@G ah%HC dA2	 X|)y-b& V2,	 @@ /J0 Da5O'5H$1hh]#@0D'BR"҅a H&H6Ab !6$ H0!0(8+ h,B8,``
X$1ajPB@WAG""uj8ŐJ8 (1)# H:$BK690p_ﯛv'3;Ｓ3Fܱww?~5Oz5ʹS࿨m!_D67X}H0vCg5oigqį<-D]j% dlXs>AFG06`D Q ) l"L2EP"6!A!NI ae  GP
4 7	U %1'S8! DE	 9j.eϟWqɆ#-+=ʭ3ն׏+LomB/ğoo{beIٻ/n+y|{=M]l}/]/9Tཛྷ{~ɷڿWqxRt/#ޟfT}w]y~uI/e]_u5{a{Sc|c^?o_[߹V~ľkWpznw!zoMϼ11qM! dhEQ $4	PEb xJat(q#J^$*@B@@r$ @l
K@E @qĤ)ʬ`ϦL(` !  ǀ@!<Pa~v~/;iӾS޾z{窯W_v?~GտU3fֻi6&s-5uʯfi^&wH7){i9/pw{N+ OF ӌ.p88 %M"1xB%O)AFM"H9! @$ Bqg!!C @p$X sdS|.@
4(@* .!K RH	9ĀBҁB/IKS `A0&L,	#l'd SE$,uE/))@&Q,"bR3d" p@Ȭ1I83c
i	0BS|t/w[;q*i!W|>7/}w72RF|_Yfr?+ms~8?f}J[` f.` N@$EH!)%#U(( <!Jd  vW@HuV  ^҆$QGL<f` 
$qK$GL P'

K EEed_ߎh>տ/-;WY}]tehuS܁sE￪霾?~Nn2coن<laͮ{=m~s}۟
:|ٯ6m_z2ihty[scrvw&7ߺy57|Azee鎑ۇtF@\r`0+d"iܴ![l^aW$
/ D
"(@΄,dK
h "#H !(H"
E 
X8XG(ic~_w!3,uޯP8J2xzLjҞ.epv??_u^e+ϾDg^οnKw}h7_WɡFyxW;}\}dk3}X-aB+@e AB 4HFeD@B Vr @@JPA@$ vDABADF pz0CD#. *I% ; CCD Pk!FH@ T YJ4  / c RP*D1D  %@$    *ClŁ
~B C oQ(cKݺ=)?dO11ok]+wۚݸugQfGˊ_~f{CYB}Y~+=?y}?Zؿdm$QD		W% R&5
j
"T"5A0 Q|0) AFH@2,*ML	LaP0PPXD)BC  $&JƔ@O/s1T>O 5~v}7<Yz}z{wmg-vwk?ƶ?)׷u6L>^{o|7]#W7fSʿ׽o[%;7w]RoY?!ywߤj꿾|6[u#p~ױ뛿?䭧WOQzz}U\W }VӮ?PtPBA16fK}]@CGBHHpy^` 0"(Jb,$  D@2T#b.h&P  2K r  bHyJj
)Z*@ Z4  H/   @Z4@Z4 q`Z4`Z4 Z4Z4 s<`$8Z4Z4 s<Z4Z4 
  ]>Z4Z4  t< Z4 Z4  Z4 Z4 k   @Z4@Z4 '`Z4`Z4 6Z4Z4 E&$Z4Z4 P|]>Z4Z4    ]>Z4Z4   Z4  ؆ p_  >  s QP]> "]>  ЌB `N/  6`Z4 y C&$ 1 p   <<`p9 .$8  . F6:Q: $`$8 @]>  T&$ T P  ! ! u @=	]>Z4 k p   {   6> pk Z4 )N&$ fr  >@Z4 fr  `Z4  gr  Z4  0p  ]>Z4 |  Z4 Ў`$8 ŋ   Z4 Pz  ]>o< 0$8`Z4 @  Z4  
  ]>Z4 C&$  7  6 Z4 @ b_  `6`Z4  F  Z4       7  p> Z4 pPI6  " " pٌ&$ ط  Z4 ط  Z4 2n6nningn6~f`nnnf`l6f nnnininf`c>9~>> 	.;.;뾾33>>>c>>>3>33>>>>>3>>3>>   \`  @  "@9<888888 {>888?`= ?9 ?@8" 7 9*,. 4`S : >  
   	*0@8:  \ SO      :??3s?3{?;?g33wwwww??ws33;?3?{;?w?;wws;?~s?7w{{w{{;?{?7337ww  Z4 or  > 2`$8 gr s ڰ< +$8l9  + Z4 pD   {6 #$8 # #$8 p&$s@ uP; `$8@RB `qc*; ; Z4 b p  %8 F6@Z4   98 0~$8 P;p]> `; p;   i8N 0w@ 9:M ]>PU=M 70> UD\M  70>Z4 @&	0$8 Z4 1@w:@w: ]>0: S6`$8`: S6 S6pR7 S6`$8Z4 8&$  8&$ 8 8 B]> @m6@Z4 B ` p    3 P, \6 @  }$ P~ `F6 `~ 0r<`$8 @r<p`w@ Pr<   $8 w@ Х$8   ]> ]>   0 Z4 `	 s096@Z4 s0 0#`$8  F   ]> * P~@]> LV96 LV m@ 6$8 LV LV 	Z4 0.0w@~;  `$8	Z4 @  PH&$ @H  pw@ pw@ `, `   w@  p+  P< 8 0@>  O PuN F6 F  Q̀P6Z4 F Z4 ߭   B>@C 0   ]> P]> C96 `]> 0tC p	p]>  Z4 RP]>J `$8 p      6> P98`= `
]> PHA&$  u  > $8  {&$7 0.`$8Z4   ]>  @hH&$ @ d&78 @$8 8 *`$8Z4 7s&$ F  6Z4 p7s `7s< .,.<<nl  <.^""..))2.%..)#..2.."").2".22"N.111^1>11>?????   "	*. 8888 q 8 $	(. |@-:[:; ? .:"$	(H* 46{:K9 D 
 t<` "@8. ?:> 4 S0      vwwwwwwwwwwwwwww;?w;s;?0swwwwwwww;7;7ww;?;?wwww33w;733wwws{www{??w;?3333w33w337 Y4 8&$ 8@Y4 p8 `8Y4  3 3 3Y4 p3 `3 Y4 P3 3&$ 3 8Y4 p8 `8Y4 P8 7&$  P<]> ` f  0>@ p`$8 P	԰B q$8 F6@P 0F `$8 )t8*8 $8 Y4 0'096 @'0 P'0 `'0  3&$Y4 3&$Y4 3&$Y4 p3&$ Y4 `3&$ Y4 P3&$@Y4 3&$`Y4 3&$Y4 ɨ&$Y4   ɨ&$Y4 p н P6 0&$`Y4  &$Y4 0x&]> @x&]> @ `   \6 N  y]> %І]>  " 0" p w]>pE $`$8Y4 =&$Y4 ]> P| Y4 3&$ Y4 Ь3 @3 03     R@ `DG6 0]>  0    p
 Rw@`Y4 > è&$ 0 0ך2nޞ{Io;.P/'1O5_]1wHM˽k~y~ܺevܻ1}rW>fMW=ZǢB`I
H(`-  } @c , P*DB (,b 	 IO \+$  O1a(a'%J bLc0R aAD @B 	FqJBJH_#s Bn" s$&H\"
2(P @)@H  " &!G 1$r(0@D#8J  ss"? EQ
 
׿7[tUǟkW[{[_+qI󷗫se[o~~M߹]MO/<{ϒ|_VVF~NTp]PS  b @@B 1T$
rt
	Q-	: b
4008fP0 Dd 4@BD:@@ ( DdALB$ (
 % Gs?EOy}_z|;o5տxzu8(ߛUh{wXbE{?15vݓt[7?)y-nw{},߼qtΧu؞{-6ҽߵ=߾i|v~]mگ7{~;}+Tw3{|s}{~l/o 'i`	CIP"&ht$LqB)Dygj$}JX 0	h0P %4LZ @3jA:tTpF \$ AaEEPLS]^ʱ_Oڽ>ݽ{Uu7Ⱦo;uw7?o'#~9=YzN|wwow}m7wӭ}N0?H?iN  "h" ˌYCh$F4*#1:P#U@6'I  FÈz YFI(
|̈́cL0 @DJ`>N¤ ! "F!$ 6$	:()# * b	S j h@ vHb 9\LAA*"
L $	2DeI(At)#r1Ij@H0	0	`\ 		H@ OK:icU~Ͻ}U!w8/ofi?z]װ?k|݅O\Ox
;o'J>ǝq6WZ?{߾mx)0")#BXm<H<&a  EuP)`XLQDK(*`A J ' x $1y$H J Ph Q@A>=gD{_Lֶ/;.urgv6Ͽ/-rwohWkv~'x3{Cwd?#Ň?qgޥY{6tq
k.=|-&_;w;T{z{O~\z{Ϳݔ?"دW'5=׿OOy?Nw٥yӵ_g׍u2T(i@ -(I Z3TQ)a !Kz5 L  dA,		1 fQI`LQ 6W
ֹ3@ ^!ݽc%w[]{u;{{C<[o}KJ?^vw/W{/Wɯ~]rGs+9o7ܮ A0XmǸ 
HQ	
$@
P@@pc*8iA 8&  (SfC҈ %PЃ@aD  0~ s`j7D ,B@B)`⮐|@EӀ 
(A@$` "d Vp4 e! 	H;Ac ʀX0T#A
0č G `J Zy<OjK[6Wݏ_,_zaَu7q9EZϷ;m]|_ϭ9'_w.uoW͚)u<{Kױ迒&ݯ' 8 g%0 
1` MRАr ɤ؈DȨ* %|DSFG( EIN
eB!yD XC$ (0 - `BAbYd{_Z}o5߿n~3?5V禛vuMǵ=OֶnwnW?zӏ7^/o9}}5\_썳ޏv7/i_ߓny'W{6KuVw?h/4Oo|V_Z=Ebm{7X<ԕ}7?d)wx]7ty`h Ym%$@b 	@R!pA#	pA%E*hA4
֜

qȂ"HJÌhH& C$D 0HDJC` kJo_or}ܽ),4{B~zs?z|n9w2\bV'֯ｿ3*Y=}=*GkӢ0  @D`0
&@a!s!dd
h% [p B`+8 	(r!G@S0d
 EPAF%"
$6G 5!1
Đdbv \ J`)(XL!EBVuI 1ň D`
[2$9 "V a-  SN TA;	Q  0
1AA$:i7ݾ}ϧ3?[wwȶˬf3=뿨{~#+|Rsoi>V7:3~~^;~~p{JA
J
P`" H<D аU
C }JI@=ЖPHR!(B!F jP0JHxj!jd  B@g ~~u7ge'7i97ԟ^ow}g<,WZ{ڬe}X?qz%z>WںY2z~Kp;?oK[{Lim,?8y-jvcǮ;V񟧿[}~vwo]2kmw{}m殟~U#  (0@ GO$BNBla
BPS\!{@ M IM+ !
H *B   F*h Pp yBB"R A!$@U ( U 1<7˶7#`:Q}5[:y6Oomy\1%f#y,/$|c9׾l}'įܺ{p{h7w|{#/رP!&&+2HU;C "RaT@p( . Db PD5)DhԂW qxXPKp$@1 b   CxTHJ"fAAL GEQ0@\&J,"6Vl % P@H"	"WX L<D A`P 8	PJB A .\	6(9
$ 
2S$bg
_6t+&Ko?عU娲exk{o}w״{#־SǥY/>dj{MVb?V{:>oyqZrw Q&NTQ;a bd|-4DقCD(B Al4p?e6a `EPaBC=桃v!HʩAa@0@
Z$I1
"b m1Pڄu2+khNsV︟`=?Ut?QIVYSyvnNʢ׭Os绹^}W#.W7y_PWWߑO/sTOwCɯc/S_*'7{0*hE7s#eAu}xy&+յ;3Kǿ\MkqͲD@ GxD)RA!$5Hr@%ґ)  0 JLŐ`"YTD \6H ! $@F $8cAD`8 @h"Z7k%h~P䧽d,wWFiۦ?~woC__y6;3z>|{?ybۮEsvtg%s5?Juuk (4*Y{2	 cB)	਀Bق0#C4IĄ P*#X`ҥ`)ؓX
KPȤ$-Dԉbz  ,DV`XH"$ݵ"QhKnj	90ȩf$1d "$0 J`P:{HR
	*AE$  ?Y	/A tP h#  p	BH.@mKÌ01pͽqwwZ]#"K[R7}|nG_WW֟+msM|WM|zwng}~;ȴ=?OZyn}4-՟/ˏh~Sjk_KWM!2GDH	A
4*M l(PH @@L` -AB@ 	" A 7$
 @6$ d@#EUP0D!ҽwǶR7oϺyioep{Q\*2g,>QlQ⿝rv3Ѽ_MqNsqM]?myr0|f[$7dsNxc_1ormo[+пk꿡=ǿ?4L'?n?iOu=s0y;̳gnt߾[|U_ڛ4G!@]D
 YaHXEM%`KH" 8	( ` D(f&xA/bjt` M@lA@9$@@ X	0p"@H!2P34Jssg{o#2];֚3jc?;noFz_c;te<Mvӂ;1clss{ƹ;~~~*sLnrS 8!*FB` Yg)1Q〲b@,(`F	A @+R b H9ˌ  	(   HͰ 8@D!zVHHf *@a&dAEA.
 Nza0'$A0A A@BNh	 "A@ Ԙ A@`L(
F7!ƐBHي P
	!
p"BdD.-@B!*_;۩.~zσW5;d4N\3u+;Wݴ/Ki6g^]kw&:kot_mZB<\c^\"B`
tMǼ
 3""@Lڐb"@5$% C`0@X @;-BX6 &P@UP(0	@.ѐ5 80<x`G OzH/uwK6n).$9aBhs&ؔOKruycoZ'sfz)QnwpӺ}vgXX/~Ua_קU~oV%w{t';w<rKޑ[ˎNלLKKoon߂}1>E㚱~O|Ev?ėGOj+) [?<G?loa6b9  5`	 R`H
A@,Di$ h`ɢ%RD))@ YH 0" P2(`)"@a!zRb#Cఈ0;|0EdRr &fE+H!G;|{^n{׿Јcfٻl4_wVr]_%uo}m]R5mE{vOHefЦMo_'쿤?oe_g{8[qcR@Dmdp0$0 F$ne [ $&P	 @* c(y*"S,$#l, ]@ @@P"$@O Б0A	X#RV= !C BBXPA(=2L0
|j$ !#	`$8` ! M@}%(P "G	H
@P@(j 0'`ģ8irLwb$XK͎mguY`w^4omv9_wH޵wNvt[_{׉8nrujfOx/a])?OY"~& 	
Jp"FY QtX* L)w`d j  00 C1X[TECC *$6(
( L1N:A K@@	0CT?P_u[@ƕ&IrE^o}ܺwCɝ/֯~ww/?#:wuUJ%_}uv:7U݆\q?~qV
denb>ޕ_ǳi?wt'9-16g<#سO?Z?{|V={tW<NSx{{Z;;%wIߎ=iw6|]o	P°@pbTqDBfl".DF EU  0#%h$hA%% ^@%T\bbCT $E0l(B0 
S@ E e!	c:
      function cancel() {
        focusedControl.fire('cancel');
      }

      /**
       * Calls the click event on the currently focused control. This is normally done using the Enter/Space keys.
       *
       * @private
       * @param {Object} aria Optional aria data to pass along with the enter event.
       */
      function enter(aria) {
        aria = aria || {};
        focusedControl.fire('click', { target: focusedElement, aria: aria });
      }

      root.on('keydown', function (e) {
        function handleNonTabOrEscEvent(e, handler) {
          // Ignore non tab keys for text elements
          if (isTextInputElement(focusedElement) || hasTabstopData(focusedElement)) {
            return;
          }

          if (getRole(focusedElement) === 'slider') {
            return;
          }

          if (handler(e) !== false) {
            e.preventDefault();
          }
        }

        if (e.isDefaultPrevented()) {
          return;
        }

        switch (e.keyCode) {
          case 37: // DOM_VK_LEFT
            handleNonTabOrEscEvent(e, left);
            break;

          case 39: // DOM_VK_RIGHT
            handleNonTabOrEscEvent(e, right);
            break;

          case 38: // DOM_VK_UP
            handleNonTabOrEscEvent(e, up);
            break;

          case 40: // DOM_VK_DOWN
            handleNonTabOrEscEvent(e, down);
            break;

          case 27: // DOM_VK_ESCAPE
            cancel();
            break;

          case 14: // DOM_VK_ENTER
          case 13: // DOM_VK_RETURN
          case 32: // DOM_VK_SPACE
            handleNonTabOrEscEvent(e, enter);
            break;

          case 9: // DOM_VK_TAB
            if (tab(e) !== false) {
              e.preventDefault();
            }
            break;
        }
      });

      root.on('focusin', function (e) {
        focusedElement = e.target;
        focusedControl = e.control;
      });

      return {
        focusFirst: focusFirst
      };
    };
  }
);
/**
 * Container.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Container control. This is extended by all controls that can have
 * children such as panels etc. You can also use this class directly as an
 * generic container instance. The container doesn't have any specific role or style.
 *
 * @-x-less Container.less
 * @class tinymce.ui.Container
 * @extends tinymce.ui.Control
 */
define(
  'tinymce.core.ui.Container',
  [
    "tinymce.core.ui.Control",
    "tinymce.core.ui.Collection",
    "tinymce.core.ui.Selector",
    "tinymce.core.ui.Factory",
    "tinymce.core.ui.KeyboardNavigation",
    "tinymce.core.util.Tools",
    "tinymce.core.dom.DomQuery",
    "tinymce.core.ui.ClassList",
    "tinymce.core.ui.ReflowQueue"
  ],
  function (Control, Collection, Selector, Factory, KeyboardNavigation, Tools, $, ClassList, ReflowQueue) {
    "use strict";

    var selectorCache = {};

    return Control.extend({
      /**
       * Constructs a new control instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       * @setting {Array} items Items to add to container in JSON format or control instances.
       * @setting {String} layout Layout manager by name to use.
       * @setting {Object} defaults Default settings to apply to all items.
       */
      init: function (settings) {
        var self = this;

        self._super(settings);
        settings = self.settings;

        if (settings.fixed) {
          self.state.set('fixed', true);
        }

        self._items = new Collection();

        if (self.isRtl()) {
          self.classes.add('rtl');
        }

        self.bodyClasses = new ClassList(function () {
          if (self.state.get('rendered')) {
            self.getEl('body').className = this.toString();
          }
        });
        self.bodyClasses.prefix = self.classPrefix;

        self.classes.add('container');
        self.bodyClasses.add('container-body');

        if (settings.containerCls) {
          self.classes.add(settings.containerCls);
        }

        self._layout = Factory.create((settings.layout || '') + 'layout');

        if (self.settings.items) {
          self.add(self.settings.items);
        } else {
          self.add(self.render());
        }

        // TODO: Fix this!
        self._hasBody = true;
      },

      /**
       * Returns a collection of child items that the container currently have.
       *
       * @method items
       * @return {tinymce.ui.Collection} Control collection direct child controls.
       */
      items: function () {
        return this._items;
      },

      /**
       * Find child controls by selector.
       *
       * @method find
       * @param {String} selector Selector CSS pattern to find children by.
       * @return {tinymce.ui.Collection} Control collection with child controls.
       */
      find: function (selector) {
        selector = selectorCache[selector] = selectorCache[selector] || new Selector(selector);

        return selector.find(this);
      },

      /**
       * Adds one or many items to the current container. This will create instances of
       * the object representations if needed.
       *
       * @method add
       * @param {Array/Object/tinymce.ui.Control} items Array or item that will be added to the container.
       * @return {tinymce.ui.Collection} Current collection control.
       */
      add: function (items) {
        var self = this;

        self.items().add(self.create(items)).parent(self);

        return self;
      },

      /**
       * Focuses the current container instance. This will look
       * for the first control in the container and focus that.
       *
       * @method focus
       * @param {Boolean} keyboard Optional true/false if the focus was a keyboard focus or not.
       * @return {tinymce.ui.Collection} Current instance.
       */
      focus: function (keyboard) {
        var self = this, focusCtrl, keyboardNav, items;

        if (keyboard) {
          keyboardNav = self.keyboardNav || self.parents().eq(-1)[0].keyboardNav;

          if (keyboardNav) {
            keyboardNav.focusFirst(self);
            return;
          }
        }

        items = self.find('*');

        // TODO: Figure out a better way to auto focus alert dialog buttons
        if (self.statusbar) {
          items.add(self.statusbar.items());
        }

        items.each(function (ctrl) {
          if (ctrl.settings.autofocus) {
            focusCtrl = null;
            return false;
          }

          if (ctrl.canFocus) {
            focusCtrl = focusCtrl || ctrl;
          }
        });

        if (focusCtrl) {
          focusCtrl.focus();
        }

        return self;
      },

      /**
       * Replaces the specified child control with a new control.
       *
       * @method replace
       * @param {tinymce.ui.Control} oldItem Old item to be replaced.
       * @param {tinymce.ui.Control} newItem New item to be inserted.
       */
      replace: function (oldItem, newItem) {
        var ctrlElm, items = this.items(), i = items.length;

        // Replace the item in collection
        while (i--) {
          if (items[i] === oldItem) {
            items[i] = newItem;
            break;
          }
        }

        if (i >= 0) {
          // Remove new item from DOM
          ctrlElm = newItem.getEl();
          if (ctrlElm) {
            ctrlElm.parentNode.removeChild(ctrlElm);
          }

          // Remove old item from DOM
          ctrlElm = oldItem.getEl();
          if (ctrlElm) {
            ctrlElm.parentNode.removeChild(ctrlElm);
          }
        }

        // Adopt the item
        newItem.parent(this);
      },

      /**
       * Creates the specified items. If any of the items is plain JSON style objects
       * it will convert these into real tinymce.ui.Control instances.
       *
       * @method create
       * @param {Array} items Array of items to convert into control instances.
       ̿~wy1o_Wqz[wgs\Ԧ5߳?^wsv_9{6gol疲=g^eee[/A<zJ*򾟶7F{mϞWy/۰z>W?qonwggu=s#E[2pr]Ej?,嵮U]y?O}|V?Wn*ׁ1j2[gunٯ?S$pw6_o[ewNm?dln_^ks{u׶+y'{:蘎<;Sk]_ڲ~獧߾^01oY>5_{yO6_+VM=1N۩=e?~߻V￞[{pymݞ1wiOo><o6ї羳wVޖy})ş/d.Jz^j˯O/k^?t޽-'>\?_zϞ/{+g{~MjO>z??}{W~[۳sTkb?}~}<_z_'8_=LmI׶t8xxKܮ~oo'ׯ}'7ϢY]I-}vWx`sV>㷳pN$W+6xUhN˯y^eOߞ
[r{kثy:5g.;˟x_p_i~ԫwy뻟km}~ڣ76U:mNw?ww]w wk~?CwO~㿎D^]霽7}<~v+{/&{Ue-{oph7m޲KyXEzW/qL[j"_>d~=^eg;'߮5?{}ŕk޺׺/ӵj71o͚7E=0e.rm>conoh/P8˓gmL;޻9Oo{?'~Fnezm?}'=ͿS~?rWN9?|ݾ{ov_խvi7kHȇ6_׏_h߷M~ѯ^}s:ܸ_Sho,և|{qc[H|ɯ}݋k_O7.;OOӷGx?Km7}q_imz}_l7_>؝7qHv<W`݆~~#~~||k?>6+9GRYs_naǿ긞mW_w3a}i]]g\z|z]E{_ߵ:O>oپ}sv|Tz;vǡw!|{4߻񰍚o-1\z)~:7{/GOy'M^_c=x~t~=.SՏӾg꘱^Gߩ_[?w?Ļ{=6jzĹzuyoؼբ'k~;Oo~+ytg_nޜ_X+55/]~w4^Iw|ftgy?jek[U.w\x]vϻV&'}vjf|_к{ovW>'m^̻g{9HO+nΚ6cgiD~oiG}MqE_ҟo~햋SuOoS/_ߞ/m?wS_{|)ONZ}lU}?o5[9A=9Wk?K=8#sƒ+"֍3]gyj_ts1ԃ8jyt=5YNs;s˥?~o}roU;u֠<{{_wvgypgߗ+-yLW_W@Mg5{}}]ߧklzvݧlankݖ+ߛΟ~em^}۟EWNn~ݪ;Sg9Y8}yz>v}\%Лb<wOv_cy/Y^վ{'vkf>h{7+;~{4Tz#?ԿMޜuuGB1zV^-3_u>t"O#Jug~U\:Gyۍʯ;S۽ݿ)TWԾ]?>ވ5_<^?2q덽Mvi̩}?Ͽ\[g-?7hܮ\}ڔ/x~+;;zOoͬj>`M};v/z%#r~U붯\yj7>w_w@R&kgw$gWwoNN~qe{|\e:f{-KgVQ.oLoϗ׿#͵c9(}~靱|I]ߘn\=s/丝puwo|^n]gϞw'w{w_e]o;_}}*闯/]F777K_[sʝ}YolgweM:N10~1vW].ؒ}K_}vԦ?Wfovju3_k{onji3oV_5z'~nKU9}'kmj[?_ho]{ۗճ}ӷ|7_P?}v}yw{^9}Feyv_{o߷_|뿶ܚӺ}vyk۶,~o/4N8֥osWѕW}5M<MK~GzU)UzŽ|)߰{[~^~x4R<yVwÿ{nyͺ'Se~kBOٽ	Ki6,muO|Y}__bul??估w]x&Kt|\}ىj|䯷J]g}KvoW٣[֭ܿJ+tף?¯sOr{Z3}aM˖?ꗓ/OwƗ&2?\ƭvGv]jwZ~WmU{Y=y}}ߥv99/U],K{C=){wYk]=;׮3S fOowooNF4nLϷvcqXoy_Mgw?mN_5=u.wo8|9~]պm}T{|7˿}'~֞>ݹizn*~W[}o?o=ޗ\)n𩼱^cYfȗş~mJEo;fbتW\1_|u&߻W;m[^oF/ǲ7˯lIׇBs&{ܩ7n:;{纝}WYu5~_w;[F6?~ͺ^t?-|nFuoϞտr;t~wG&k7SmUw?g݁/K?/>?[נ]r/֭sw<r42Fݗ~揢6k{3_}o[\mϹ*vyzvUg9N}?Q?W$Ee^z]~T9{Ϝ?Im^Bn__}Nۦeëuem{Cw+uks`_|?~w^tחk_{J_?겼vb8/|o"?wU^\O3icw/~nmjo{eysd7+c7}ݳn/߿pE?ڷK_W5/Vһڼ>w=TpyZ|y_VK|TGuyR_uԓ|{{1}6<;))~k:ǏOint_OEyߋO+qy>^Yq瓶?zW&ۃӟ	תiO3}ϱq<c[ֽ>}g܏y_?>9-uWc<뵼鸿O~^%W4E?6j9?y]۽љWڧq?s^Ost{/tv45d5i$_?>Q׵q4mǿ߼s걿[?۴+/\wΗ+|CX:y5{QwvUuYK_;bWSϮ[ofG=n7_w7௿߭]ێ7juݹm7S=.ju?;-GWׯ+{Mߗ`s^MolO_'m޽mo?{\	V{gt;g|3U_L_= 6mG5+?:߫/zOFkwqv뷳>Vds{l8mMV,|r}rKS,w?G5һw]*/Λ{!}jo}ޯov|Oo~<o[o{g>b55o9w󟼮7	/]:/Do'rqWO|={jGhsZM5?2\oh==>wwٞ>Z7߽5|Nuhۿ_?=_f6#c:VO~;;oɵM7hv﬿L{%mG7?wB^1ٖH;_7ڴuo۪fmOCKkeuovUrޓwW]$pNW{|;_aiڿC_o6K}/߷~tf/*uk^_55P=Kk61muܫ?Ӌoo]n+okկ?Wz.onN<qwf䰽{}XKvi;e:>'+e^MM3O=t7>mz߽ڤ<v,/_gƗW׌r7f};׫kL}[~{n~{`Yϗiͥ]7s{ww{ÿ37Kw<O~?1ֺ߯cb~y=vogu~+ziun?^>3Rs~k|wr}RoOowxe#!lgz7&n7Opwc/ߒe~.ce-25/S0î{ȷsS՚R};pevJ[x!~ki'u~R'UwNΦ~/m{x{o?w{v|gݲ{J<khՕn2{_d>.?{m>vW{yߛvTn/H,~z2]z}Mö{֧5xzOok$ks4og;ܥ}?例g}nk[=MVGgu_sTyCc}n\|>>3m6~֦76oꏳ_͖^ޕ}t=E7k][_m;XW~DOz_~mntW0m0>u֮tzNm/jTO7t}m{,=}~ëw;4v}2>swOx6"*tnW:ӷ'io|}$_%kEt{g?j:sFy/~U~St-3=O{)MY}V{}3̺/~48;:>n۟B/c?.q]~[㾕WE9_+mϤ޹Xi~Tk6yvU{<ךwWefo3R#}+݊~e%uhg?\WK{6E`w=2߽n[v=g>qeץOZ^mA[s"W\>_ksϿ|N{rӮݓtinM/zoמf]_䣶NyfK~?_߆[rպwvi9=~wy?k{L16"x7~Oƿ_zFs0Z\Em?-LW}/ic{~dϛZ[l\unr6o?~Xk~܍b_}7oY|WyzJۆܺu/qs=9s`}&S]._5s9fX:O}WW=/c첺;G}Gw~zuq>ccM!vlTs◞iOO}qd=ߴw;9wj˫Ꜫ׿V·k|˿rm@&gWn?wV>jok;M4N<'yv7wll5^ϓ/ɿ\1n4I}︿ַi{qIlome(yds1}1Kw`mf߂f^|LvI;_OSsCߝ[{[Wm~ﷱ;wMw޷W_~VV/~~k~q.
ח~KGsw~\7oS麣q%yx.7WxS=Gu%W~׾ԌF^W5|?қ#iF's]^omZw[yrLy_9mLov|YՏ+5yL8s=ˢ^^,Ǿ???ڨleneɷӚ|m}[mޜmo4sӵ˕]^U|`Ω}f_ߜ3o>~K?nV]޻mqy;72g{n?sᾇ3?Oq﷒݃mx>$uY?Xi~7ѕZ{|rߗbs2myN>yUYd>^%qO~{6dy*KDn>>wXv/1wG[l*8/}}?U}yR{|3KY+Wڿ磹s}}iwϹ/|:&ܿ.Fn}Zt[?oKOvm~|v~_7;mrrߜJؽ|wV/Q^m|oI_hl{O=.fo8G+}W՟#g撮ޥ}kuxwޗwgEǆo*oݘ_w8߷Yo_M˻_oxW45_^713g_c/ߖIkm^zn壷Hͺ|"n>>}}xsg}Sk_nzUw}5ǛgnlVeqnǫ>\˽޹`RzƎJ>ğ砼|p' _8;,VU9֚S'?wsxktK1g}-Ma˶g:Q5랸|G5}˷='|w{||_1[t6Sշw̽}k^\߿|+_UݻxS]ަOsZ;n>=q\3okw;sgOϷV[׿nY[>-{^0.V>^>g땽[Umd>ozoU俜вE؄߸g(~
>֧~΃cƛlW:7~|*teXvqoErMm/ÙnWnz<ٚdߚwyso3|O3mjSo{m;ۿ{Z{_ɏ#߯?>^vN̎.7s}~worVß|uϫ37Qz4~/t}9ڎwWej4>k+?7u{u,ٟ}Yv]雧~>*-v׽esv2ݿ"g\joWy֧i~_[uI]/TZ-_݈zg<{+oOoom»s[8/xM?qɆV~];}_~αL[?OuwZo?wuzu=|_}ӯܟy}ux޼~|?w	_t_jw}k67_ϛ^N7kk|]cunO/k~4||>O]89;m^KwoZ{Wd{>~4oD<ϾoŧWc-6o-)u_ǿ
>ݸ׉r1߽=Kskxnp?Xi'?]bî'+9mMO7ǻG%dsO~ީ>t+ǺuyĞܩJ[1VO6~ߺ_߸m=_i?7ZuG4{ϿYPԼ_:+}R|kOc8S<MF^ի^?=>:v]a{Vo}7([Gz
}>C}wsͮ~5w.=65gN{7=bi(_;oUӮ};qՒO~[?'w[߲V~<M_n?>o=;?mz,o/u}xַ|/̳ݹ4KoWT=ܟ>n^oL\Լ[W<fT^*{.;i쑷=G?V׶&za`{vٽyu=7ￊkz+G1;~7c=nt/z:ſ|nީcoyWWO-;wzvU'Owʿ-/_{{>>|7Klv6([YWx,2</w~6=ߚ{yU}]o{%__Mo실&Vr]{K1Ox#Լ 0&  l42DL23@L FAL I"@ZLV!X $QJ8,
  wv:?+	8 EbD 9 2JB @AxA bX H)̆CJ	H:C4hr& ZŊRԙN頣
-I!X^e	]˟
H  D DML3dABA	db, F %F ܠ6!BDэ lbd@"  !HhP	@8RB DH@A1`JI 
N0@hPUV&28l@	 4 I+|M> s';Sc=`1ӵ+|7NET1Q*$TiqȒ q	@(,JT`>\8ȐEX8&LTU# A$ &Ui(\$Xv QuG I,"YDz" THx(H  EB(tTħ !E% 8EP1FIPrWHCE}a@H U;hӐTgq EJ I"QDЀD4; xVD'7-E^D$+"T`x	!$vm!f\@}aJ_bFڬ Q7hҡ0[*X` 5\@DW(\AC,\k/(2N2|&HH*dFc(# q 8 xhnTQSy`#Ү$	" @#~/	 P52C 0D¢'( mP8T 1
a! 9	# `R9|A
5 O$l<DE
t2VP`4#T [@sn'aJ@:P!)ԁ@SUJFJFe`b*(5BhjFpK; d,pcl J$ɌL%IX>@ 0%FZ
dBd8ph !a ׃&; $zQB
L-(,~8 @,bJ f Xy(A!e8! &_& 8&"AZF25Q	$$sPJ<5$i@@L1Q	 
58iH-`  1Eu7 DE2W
: jdMFEAjPG('2C&.DhE0pPbV~C@o}{9bGZH,:h8̨yC.EzgAL(>ME	 "F%&
qiHH   1$` 0
t I)Aʆ2m dc$I1	 2a,e8"DA P E D7"$(Q IMYwA 6)) "Z \0A ŀ AA%qB}T(@TZv
gG#@\4T"8
o
f @I@9d(ǓQfc	⦀0&EUO@ `8c0%H@,41H8X&  x80 Dۅba {ؠ]l!B1(  [B`6`5ÅŖ>@˝ 0uni;ATY{68-xp Gȁ@`&]$0'A@; b &L 	 DEKJpZR@
"PLBq,A!rYf ThLaq$%QE E@Hq+X`<R9XTxSx  $B`;XM]D @,An8I\a<	 ` #TR/A YX	)QH E(BX
2
!2JhC2&\0/0%"b҃ 83A@ǀ(
@A#P U0@8j!50H vB(*
M r8tV"e& H(\M (`. $PkB1@:@a -6'
HSA2 Q   *Ih
@TQ"
F  I% x4D|I X>H(" D rI DPMZ3LSK H) Ȫ l	D@F	g< 5qYr$"UI"@# PRUA"՜   @C
!GA'Pb!@V,( 	Ka  
+ Bqe%Lou` q &G4APEcl""!H
h(0Pf`!Ð \5F n!`&O  ? TSP B`.RZD>Dhł``@` 4DhD8 1	P	)3"l jhY!A @O qAkR`7005dX&p(ǅ4"`-6$ &2Xb]A"	p=с6$K2e[l-Au" >DB(PQ&	0X  #)pX"r*   sRC(S3`zG\h!4H)H9f8  8NB0 lI0@HL1 (t D*
2(&J  ȄD
5pP~GBdQ!"#&
r$I 	D`
AiVD(Moh Z#x  ` (@N :$0<B@J``'F9$'71XmPB @	]0\tXG"9G} TEeaJ1#	dÏVi#(L	$ð p]cdi0	 d`@"- H$@J6 VxPhb@XR
	BcMZ&@h (a(G@ ؠ@"PF GQg1 8 `c`fuJ2$6c(0  "hШ`AC" \6 RK@БCA! @*Q
[M6F.0%\!LyՅ#)YbD%-X:;@@gd9 $Z&eb)i/-H-6tXh$+D8@P @"e2 t`P@B !"$ch2xI\b%d0ݛ/^ HA@ 4`
QgD
B  R1h 0ŨvøAAQa \ R 8PWN$Guȳ,V.lO29ƄРԪ)Y [4c3b2`aPK1(茚
0M9
 $EJ92dB RpI@TG;P/]6q$P3BEOB
	6.H&vX{ ꑍ`0U-&ʰҘ J@! @ ,t3GC?F3E	~C#)"V- 80t9 *ܐI`T5 ̑HX$E @@L (-t@&3,:TP D@Da! 	. 0,@L@ (!  qD(  "r"&
ď\zOϮ>/7so_h{/}H}~yYh5ü<`jtX/\=/>3Vm~hzoҬ6׽N㮘>?|ڷnSZ}~>o|w\__K3-~ߧ{3wpis$?zkϓ\/Tu﷩~k{ysO_χ+Oi݋9޻]x빛~Ol}~wJVx3w_q}ǟ4Wou7ED%?]c^=vW-ݵ>nV:W{7~buoK/G~m47ǟZf\sw:M/핻Vww)?_~p~_ԺCM?}Zt=W0r=z3ZkX=_{˟_0wY<2앮d;,k?rXs{s?zGo<|vb4/vwBs?|uO/#wQS7k-W{Up{=[j2s~R_/c~Oیv~rm8?g+oK'*1kXEX/Oxi̬:_=އw:ĉY.=Zݝ}}⚎5a[j-z{Lrp>n;r_mո-}wrw];9-[Z.F>/~ݿ#}o|kWf;^?'Fv~/}PlOu6{_FN5ƾt;~<[W/޿~ȿ^nW巺:e/Kw\OmoHw3/T׻sأV{3/ϯC}缾?/=;m}_sYeNy~}o;oO/nsV۴Nw+nkL?_^FG3mnߏ}~?~7{d7n~eŽT1|}>v[N]?mObUi}?w-?ҽ?(߁ܔl>[ow};}w_߳]ww|}_~o4m?i9k=ɻ?[kʋG_btKWRK׬N2iqI}m_v}~<7]N[2VE;'ƻ0VVG_5?o7yӟT}~쎹fo,~/{xewWrߛt|noéBO3{o{N.k߻}}^˾)uW:v_q~כ;We[`_޳߾|_O%Z̻k߽7]_SxOc׻Wk3}m{t}q-{]3=j>u־+d~"k_*rO5׍ݐ&0W׶^ho-MoґU{)YX߽sj|~=.}7Zu2ݾꗟﳙUxz7bn>zúOU>>ӳzw_zVy	=>wd֞~Cs;Wt/>{?V͢{Dol߯夛ouh=]jߩ{'[7?م\߈.v)z!u9ofj5`ϰ&6*{箽skK䍬=M;i/2?/~+XLvƧw=ǹyG>>oۧ6,3^ƛVp#{OsrfCv}k^?7g_y>}=x{W߮OmpOsMv?oF_'_s?l&f\l9vbkz>p3_ݝ}}_/5ߛ7~=ֿ7ǵr׵οVR_θ~Uw[}^]9uS~qo+w^;O37.Q7{l~槻/QoݣZ67IVM8Yo?u0&}YϮoջws5|,ioֱ~ן]x޵/]}s{|;~Nruor}e=S"YQBNkG]?-qQo[7?xGgoM;S~y1go{T3>J]F?zSn_%[ӿ~5&Ӻc??6&Ivw}{m{]S?WuwmS5߿Vk@.63uZmݼwWRno.k[?w^̻/g]쾿m|o/+׿~~M^9>.~?=?\6Vw7hU7Yw=?swSwqw޾~};OZ;w7۾[7o[R_wOǹvW8}//y	/oog?o[am?͜zM~+}Mo^g=qG/mr}2UuSO;}~^nu_oDX$vu5H~|UQ*Vs7މǿ|/{ooo]}k=B󻗮f#v~m]όw5~|[ԇq?o|דO?m>w{*Qzu?mkk}֯o}?'R5'.JnX'ٷ8v';wWXyߟ=n{ˡ/价f{v^ګ?|y>t}{G=z~{t|vԴ_U~pn~cvo~_/=]V׭;x]?{"F
<{ $<O	Fq 7/el(#0(fE{t)3PT	 2ZQ
E$B͞ t,"k2Nظe1+1U
hnSa g Am(BPB"8JiE :1 U[%J`l| 	hADJ6  HBZ%	Hl@T80H	e!P@ XHPA7J	 FB#4}LzBNH
ăB #$PB p9VT   l8	 ARd!9!$`t&0G$h*$q.,	 A8
CX#`JU] X^lbin (TFNc"  6 xLD|ފ_hL"@o1~̺>&rĚ
PQch z Q;@@ !B)bB1
$NsQ $ (   Y, (H:Q* Dp(=
PԢR-`-1 	h!c0B 2CpA< @fv 4n@  $;
ETpP  aJ	CtㄪQ v:- 1`>Tl@!	@ Y}%P2H8aPdCtl@:)\˃  8JF!Fd j&
ITFzR	F8)LB<Z	G ЃAJ$E}Ys@C 
F@Y,BQ!@@bZ `!`8`"6G 
$)E~ :E$P/91*HTBJXHAȨ(K)A0$2`8ph䂈 	0$<#90!D
0"pc *h<@$A`R]#G5BN%#dp1
*;@E@'aUMTNoGah0 e)hL#VCN=AńB @ $<H btVI,P"ͅ RBD	&(ÈdM+" PRe#2:8C%A@@`# B9*Id0@+pМ`*RH` HjPieT((XPR"  4@ Pȅ$hC`H C	. Q !HA	b[]$ `Ag%! 0$Lq%5av@:AfB،A5بH4"*A'D*"²{%	j|`tD "mn$P  	  g`!P\/P h(&Pu#
 83I!p8} JAS  `MP$B⟵@RB̰M x(.` @S0@ѐ A0H@(D0J`DѣIs@ d!hA n$EЎs`s
IC$>(ח	k_(R`aH P2B)c(Ur٤pH|  T  F(BF8`!1as$*]SȈ4	%
B`SP"FD`~Ր35Q[ O,ǥI>hDl-Mg(&td8U1LDҧHt>'&"E$R! LU(S"Fa&s$S#
22 XD(   CFh	G	̀FS@	^0R)r6F(ɨ hC0Bxu B a`!t@ADA.	:. 	%Hq"
l H: @ `!PB rbI+FD5+T|5`23jr\@PX4qƒUB:H:p@1 	
(B F9H"D@fbtFPG!#@, (&t   0PC
`DA
CQ@b̈Y"J Q"/R cH B%810gG1  (b$>, @I C
jHT(
N
@Q6 (C]@PGb($H ɰB$
 KZ0Ƃba@ݐH@D@Fp 
!aPPdeTIӜ	!E \$9  K@Ti@\գ $`l!J  PAJ c3Bu!dǁD  
w  BXtD  3`dh `0K!$U  +܀ 	 $UT@^!)Y B84P,  I b bCP:@BP C1H "i0ʔ
 IJAIX ɮQaF
-!9 I0 ɱh1y@0t0
dP 0I@(áb Ta>Uܱ@@G%TS!X뛑ac: 	}0tkFDr$2LX;Fs:c @R3A%"@J^8@p벏*@gR8`#a!nS
|) 	7CRBXAF&^ (0+L,	 @D BO!1GT|CR 2	`  @NB"@) (|IR 	ZQD
LadAފ&(  ($@Q9SzH_Q,E̏eRHs-gYeN1"QFY$):P:0'$ɉrgHhSSa\V+v"b/ EB5	D`
 `O@( L ,0hS 
T<H-!"% 
%i c%b)@ ' ">^Ea x FPˀi$(k)    i a"PJ@DcI bX `t
 A0  @h	h` MjFE)(!DA4/ pUh :PHR d	 cH2WTx(Pk"8<C0j	e#?ACXVA	 U(K熡xpekh1"l:Ŵ Q0U	$!H3 Xh& UMpk]I^Ajh-4]d`1F!A(0Z9"Z  0	HF؂ 0A, P`PM )DJ a% P$)[B) Y`dB4% *C))%A@ `06k" 2(P2oH4T,&$	ߘ8#
p@r1XD ^4E FX@6`uPhwCpr֠ ` Qc0N$0 >sL4 	
\S HBі"3bbpT(p`+D' O"f'xM	T
@'՝d@V D 
  @$/' hՀ SJP\s1`Ԑ  !'@܏\FHpx	 AD@)HI"S`"dAbCPB5	9 @`C@2d\L8|bRJ00Y8I Q	BC@ (P Yl2@ 	@2	    resizeToContent: function () {
        this._layoutRect.autoResize = true;
        this._lastRect = null;
        this.reflow();
      },

      /**
       * Resizes the control to a specific width/height.
       *
       * @method resizeTo
       * @param {Number} w Control width.
       * @param {Number} h Control height.
       * @return {tinymce.ui.Control} Current control instance.
       */
      resizeTo: function (w, h) {
        // TODO: Fix hack
        if (w <= 1 || h <= 1) {
          var rect = DomUtils.getWindowSize();

          w = w <= 1 ? w * rect.w : w;
          h = h <= 1 ? h * rect.h : h;
        }

        this._layoutRect.autoResize = false;
        return this.layoutRect({ minW: w, minH: h, w: w, h: h }).reflow();
      },

      /**
       * Resizes the control to a specific relative width/height.
       *
       * @method resizeBy
       * @param {Number} dw Relative control width.
       * @param {Number} dh Relative control height.
       * @return {tinymce.ui.Control} Current control instance.
       */
      resizeBy: function (dw, dh) {
        var self = this, rect = self.layoutRect();

        return self.resizeTo(rect.w + dw, rect.h + dh);
      }
    };
  }
);
/**
 * FloatPanel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class creates a floating panel.
 *
 * @-x-less FloatPanel.less
 * @class tinymce.ui.FloatPanel
 * @extends tinymce.ui.Panel
 * @mixes tinymce.ui.Movable
 * @mixes tinymce.ui.Resizable
 */
define(
  'tinymce.core.ui.FloatPanel',
  [
    "tinymce.core.ui.Panel",
    "tinymce.core.ui.Movable",
    "tinymce.core.ui.Resizable",
    "tinymce.core.ui.DomUtils",
    "tinymce.core.dom.DomQuery",
    "tinymce.core.util.Delay"
  ],
  function (Panel, Movable, Resizable, DomUtils, $, Delay) {
    "use strict";

    var documentClickHandler, documentScrollHandler, windowResizeHandler, visiblePanels = [];
    var zOrder = [], hasModal;

    function isChildOf(ctrl, parent) {
      while (ctrl) {
        if (ctrl == parent) {
          return true;
        }

        ctrl = ctrl.parent();
      }
    }

    function skipOrHidePanels(e) {
      // Hide any float panel when a click/focus out is out side that float panel and the
      // float panels direct parent for example a click on a menu button
      var i = visiblePanels.length;

      while (i--) {
        var panel = visiblePanels[i], clickCtrl = panel.getParentCtrl(e.target);

        if (panel.settings.autohide) {
          if (clickCtrl) {
            if (isChildOf(clickCtrl, panel) || panel.parent() === clickCtrl) {
              continue;
            }
          }

          e = panel.fire('autohide', { target: e.target });
          if (!e.isDefaultPrevented()) {
            panel.hide();
          }
        }
      }
    }

    function bindDocumentClickHandler() {

      if (!documentClickHandler) {
        documentClickHandler = function (e) {
          // Gecko fires click event and in the wrong order on Mac so lets normalize
          if (e.button == 2) {
            return;
          }

          skipOrHidePanels(e);
        };

        $(document).on('click touchstart', documentClickHandler);
      }
    }

    function bindDocumentScrollHandler() {
      if (!documentScrollHandler) {
        documentScrollHandler = function () {
          var i;

          i = visiblePanels.length;
          while (i--) {
            repositionPanel(visiblePanels[i]);
          }
        };

        $(window).on('scroll', documentScrollHandler);
      }
    }

    function bindWindowResizeHandler() {
      if (!windowResizeHandler) {
        var docElm = document.documentElement, clientWidth = docElm.clientWidth, clientHeight = docElm.clientHeight;

        windowResizeHandler = function () {
          // Workaround for #7065 IE 7 fires resize events event though the window wasn't resized
          if (!document.all || clientWidth != docElm.clientWidth || clientHeight != docElm.clientHeight) {
            clientWidth = docElm.clientWidth;
            clientHeight = docElm.clientHeight;
            FloatPanel.hideAll();
          }
        };

        $(window).on('resize', windowResizeHandler);
      }
    }

    /**
     * Repositions the panel to the top of page if the panel is outside of the visual viewport. It will
     * also reposition all child panels of the current panel.
     */
    function repositionPanel(panel) {
      var scrollY = DomUtils.getViewPort().y;

      function toggleFixedChildPanels(fixed, deltaY) {
        var parent;

        for (var i = 0; i < visiblePanels.length; i++) {
          if (visiblePanels[i] != panel) {
            parent = visiblePanels[i].parent();

            while (parent && (parent = parent.parent())) {
              if (parent == panel) {
                visiblePanels[i].fixed(fixed).moveBy(0, deltaY).repaint();
              }
            }
          }
        }
      }

      if (panel.settings.autofix) {
        if (!panel.state.get('fixed')) {
          panel._autoFixY = panel.layoutRect().y;

          if (panel._autoFixY < scrollY) {
            panel.fixed(true).layoutRect({ y: 0 }).repaint();
            toggleFixedChildPanels(true, scrollY - panel._autoFixY);
          }
        } else {
          if (panel._autoFixY > scrollY) {
            panel.fixed(false).layoutRect({ y: panel._autoFixY }).repaint();
            toggleFixedChildPanels(false, panel._autoFixY - scrollY);
          }
        }
      }
    }

    function addRemove(add, ctrl) {
      var i, zIndex = FloatPanel.zIndex || 0xFFFF, topModal;

      if (add) {
        zOrder.push(ctrl);
      } else {
        i = zOrder.length;

        while (i--) {
          if (zOrder[i] === ctrl) {
            zOrder.splice(i, 1);
          }
        }
      }

      if (zOrder.length) {
        for (i = 0; i < zOrder.length; i++) {
          if (zOrder[i].modal) {
            zIndex++;
            topModal = zOrder[i];
          }

          zOrder[i].getEl().style.zIndex = zIndex;
          zOrder[i].zIndex = zIndex;
          zIndex++;
        }
      }

      var modalBlockEl = $('#' + ctrl.classPrefix + 'modal-block', ctrl.getContainerElm())[0];

      if (topModal) {
        $(modalBlockEl).css('z-index', topModal.zIndex - 1);
      } else if (modalBlockEl) {
        modalBlockEl.parentNode.removeChild(modalBlockEl);
        hasModal = false;
      }

      FloatPanel.currentZIndex = zIndex;
    }

    var FloatPanel = Panel.extend({
      Mixins: [Movable, Resizable],

      /**
       * Constructs a new control instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       * @setting {Boolean} autohide Automatically hide the panel.
       */
      init: function (settings) {
        var self = this;

        self._super(settings);
        self._eventsRoot = self;

        self.classes.add('floatpanel');

        // Hide floatpanes on click out side the root button
        if (settings.autohide) {
          bindDocumentClickHandler();
          bindWindowResizeHandler();
          visiblePanels.push(self);
        }

        if (settings.autofix) {
          bindDocumentScrollHandler();

          self.on('move', function () {
            repositionPanel(this);
          });
        }

        self.on('postrender show', function (e) {
          if (e.control == self) {
            var $modalBlockEl, prefix = self.classPrefix;

            if (self.modal && !hasModal) {
              $modalBlockEl = $('#' + prefix + 'modal-block', self.getContainerElm());
              if (!$modalBlockEl[0]) {
                $modalBlockEl = $(
                  '<div id="' + prefix + 'modal-block" class="' + prefix + 'reset ' + prefix + 'fade"></div>'
                ).appendTo(self.getContainerElm());
              }

              Delay.setTimeout(function () {
                $modalBlockEl.addClass(prefix + 'in');
                $(self.getEl()).addClass(prefix + 'in');
              });

           uo=fu0#߳/%cyiw8s]vp~}=?;ۇmjtZgc{Od_/4>?o4{6 vwL_WMvflVTz@z+Vns鞩M'N.gt[?ۻ/h?8YB||}knl?:~lWGgݵ_+ߌ~~BK=o|z;gǷo~ߤ^YW}ƞ}wi9L}b/6:>+>}{m3'<g+M~I㻭~gjn{ߏN7}wŏ?̕rE^ӕe5Oˀ=1vϕ#￯v,wώGax[3&:r2NN^OçΟn[l̮?aƇq6Q;?qWmپ
;+6U7n<CUOTg6M<o>v|)u;|7y?+>W=yPÛ/mnWʗ/GtѿOʖnG}ǓƽvsO}f^zWR/^׷z/W2k;}/MXn'NYU}[=;InϜʹ4j7yn}uknnn❋3~{gW9vߦn._w޵W>[no|%,}_f%VmGYSY_b]U8w9ɼ?w~W[}{w#[܏o{XuWv[lݫeU&w_^\Zܓ{gw?}zKq߯[Cof7q=pq_oy/Mqo~rզ~UWv{YWЛGMӋzsjϜ^?3|V7_]_*sέ_oZLL\Shys?k\!ky˯۟윺H"=OOO?<N[kggΔ_'t[oeR;/+	mֺoz]c~ͮO]Bm9f<5O[45׿o+xweOk]JB-m_PxLko6xxs/wǥU;Wc}m_ݼo͞s?eT~ݗƷ{˗w=f飯E2ƴ׵,_~|o~T/]O_;׾ykz~hίu}u.Y]7/7O?]-~{U?|t}ksPf+gv?=]x=o?˝z"՚t.>ĳy[w|}9{ѳ^nUۻzǤ| Gx}翷z~rj5-'u)?x]kn̧9v{_ƼUGq^7viWKC?O[{aw}s,qi'x%YϞU?<Cg;s[]Sp?Y?.W~7ѽ>??S<{߻=no<~x{̳SnwԖ>gU֥mR]wJҹ&}m|NlLS*/}t5ylUwOs^-/]kjԉ~w>?kO}Ͽ:Nÿbe{~ݫϔ|Vgw?Wj?lk[zz{z}y]߳{{K{~ysx_qi]|o|6o+[7Ek^?'weyY80CIM/w׳wM^?moPt8!Ujv.~ssCMڷ`b{{qQ!>u*gv?LߵE|g{o˷=Eez[WnUNkyXڳ=NU/{J;Bnz7WngONmF׷nb_ퟳιۏŹ-ksf|i<;r\cߗ+s~޿:O;';ͲR2}9L*Ǔ}׻}v?/G}t}B.wykf~gSmG
]q}=9>_7>luP5͉]R]`_JgKv}νӷrB&siU_r7ɺO7ooX7>U?S{k4mz.?nt}Nח3~?g{ܟ&	^c}zi/o,RRB&nde?oF2w{5stFsqOAD;t;{]?vݝ4m~koߪMۋ?f.)Uo5};uOyW,,/}vh>޷+}f__#?x۰mXڧouQ)Ǻilwcg_[;
p~Go)H~4{{{u?mK}{lNl|_/^|;w5'.Ǟ[x79]/rm5~V_Zg7k|O29kM?jU?UG>s}/?.9~S/~==7z?]W\	n~Wg}?Gg%7zNyo{Q϶7{//η?Woo\.}g[uklTX{EL.yG7I3_\ct}_!5sϧL{?oEBen~J}/wθh|0	{+\^D9&5.?(kB>sn?О.	^t{Sc1Ó_9g{qssKx-Zۋok}sߝ}ݣ9*,·?l7>r緱NЮ[+]6cyi*Ҿ9|=Ug\׼̝|/Yk|o>~kڏw;Q* @9,쁢2J, 0	OGt"
â	kP]+M a3P	T@	``D U( 0.&((ZdBus  }n5N{E߿ߺoM/X+<E?3قs	꾷t;gv~mn:KBo:gsGWc<in]xކ׋=vK۹_O|^#~Tow֧_r~>/ cvn*&7^^+;`f{gcCykSeo
T 5} 	$	i:h8AQBJU-A J
:q+\B DAo(
BDt Q$ *9hD g  İ$ !`!5L[DaQ	|?/ʾlOF;F)gW/^~doG+~{W>oiz.;Uz̿?_e߷KSCoo>mwK=BI.P %qbB`t3`$ xШ
D9$@f%
 MQP2Q@(Kt	 elL`d0Hʤ C:AFH'BE  g 
9cV!ӌA. Dl:|ONFe"1 $HEb 
 jJć0L0AQ(JFbt0  iI߭7_Կp/ívK$UͩK:"w~ש_mZ/ӊ|͞.<^`^jU{Eq4UgY'2 VʆD(GE$TDAȁ*C@-N@h`   @T4!YB@ A!() C]I@ 	:a+ 0@-pƔCGYS<72wԷmhS|{䷷oԖ6we>o]3e1}?e3,;Ou{˧k˫uyt{gHmo/GoOG:w=5/RO;j?rc+Sy^[M}G.GsH^4B|oW/[Y'^}O^c,*hN1$p`C!D/ I!f` 0E V@xl( X,(M0c p%q! P#T  Pv/ #H!&
JBH8}~_Nly>{M|ؼqw5֟_>ou'.ߓoךwg^v+K}X=гER/g}|~?$Ų@XB& *	dAD , O DTKҔjP	Aҥ0
ʪa"5.âl, %ClHEq( (P 4E 0  ?	ܲ(̀[PX5G;UD #@[h(O5\1%,$!J m
L!ѭ:! ȌF" !!P D_7iI}Vu
\|R^,^ξ.[p{_<>/5[e*(gLM]ql7-w_Qfd{'wJNaB U)Q B#H$_BH p` I+d1(n6* < 	P"BIl&# 6 A $A Fr&L up !P@HHͻoQt/ko_w]n#߬`+Wُ._]ϫ_G/eoRn+?&MglOu_Y]]]JK.GwO{vdϏ̏ݱ޿7`Γ_*N'NnE9WΡEs}AuXu~7qk_ۍJ?ϭ7]?:Q?~OryoׇڛO "I'P2
 &-⏀j	2D`<fTGP6A4Z$
 1N&,!$GDHPBh  P&  1' @4P U) +3KGzbq;|>/ϫ>Wawxׯ~}.Z̽v>9^鬭Y%@}zo7ӕ_Ӟܹe==T#?Sw]u(<2 )t$H|9$bJ@D*M4*@dZȀ`LAA4$ *n! L@v`\
[e8ɀ6AI 	`PXҜ
!"O  \NF QAVĠ	G3U*A	@ D
mE2Q'0oBFCe q@  6Q  D0A;$4:Ml  @Q'*@BZKL VyDI<׳V{ͪ_J?_?\On۪?[lbkz#'ib>}r~[/³6c}7ϻ챗mV{./YW1tnn|5O5wZc UDAdQv"A!P,'!	\䜺	T˓ 3 (S>0ؐ@Q 
BA%PB3GWԆ! Ȇd 0IF{p5rԷw:>ϷG|/Wz
E^asonf)utMesgQL'hRs{z^ƚ;]-toxuVtJ[m'SJ.MguɊzNO6i^q7{U3r&Y>xSKKn}+?.pϮOiL}tVo^v$G@А@q!8,5\B1V+ J>b&-eԠvDKBH"$dAK@KcD,e RD&8Eq @Ę)f%@@k~oKJwb܎Qrɵ9w-g޿)M9XMߑL=~NN'ϜlM|mW6=|'ߨ թ X1K"W  A	@ .P /КF5%HA'&B: I0 EX3$Z0G P	'i?,0$p
 nR~("lx 	uA1:$<9xUhQ2#sPQXh8HR&BؤTGb" p (J=PtH@z@LD BPh8P-HIDP"`
R=	 ! \0
l< @/AݱBwG2[˞s6t{yeC^)gú~'}koOS_u=5W?-jw_z֚#_WNl*ܦw^Wcq_X~ø{~Mֿo}دK?;Oo=O9A:"w?ss1Sb~m~o޷>L_덮R8ه~-TcUƯOnM;SDCw7}ۭ?M;}oiVSby}:_~armWgW5]lV];MmO޵Lvs{c'j=kgj|,z?xN~&ۿ%ע.x_2:'v?lv!W޾[Y1|c}hN8q}r?/.տjy/igu?}_ϛ\}.~_?}st|i_Osrkx￦ǼڼgMY;/_}\n	Cmvy׻
SW~NzY?;_yO'k?d}~;o=hO^^_+Wz
|\qyoX\[6EǞ߻{^m͡S>Q;~nk~7g[o.Y/^;ӷ>wهZ\>?|j\;mjz{^ysAQ>/eRqy"ϳl2_S뷭f?_RV~nN.+/>\lw={S_s`޹}?~/..Ȱi{6MZW.%[Q;\_5F?{v~Նz_~?ؿmu}^yw9>߿>O]j'WlSS+:w?/;{uQگ5W_ufgS޺ZUgNw)>GSɳng3v;xRow=ζs_ￕ{Ou5v/_7iu퇥G>g.u_j/5ow~n|=e#rx~G^ob,'<w|Fԯ>M<ew6w^Gn+{\1s7ó}u޶XaXׯ>_ivr{/ˠ]n_/k}7jWx{_ei?gۺ/_k˯?ՋWNT_:/jҹ]=QVD_u<OSLŝ><&^ogRZ^>g%>}.˰]?7nwkOiS{9Wyכi׷_mn/9Yv
Mw>rz?ps\uzoy}7vK}ٯ_r??oX.gw~.}/p;NYݿݿvw+o	\ݻwͿvշ;8xog<_[r	{>%ĹO/y#̝wuVs}CH;^nP7N_Sgg{'_zR~So[`]o~r/{nU/9{yg򻟲?t6ww}i[m9?)'g׻ْ?7_voSc{ky;o}9-~o	e?&6{:_Su=YooO6v,S?|+kǹX?ksπP}u;fֻ#m:syߖRyȢe>}#ݭݧwy__[/?_nuߧ6͝w_ګbx>2,9Qz*}?>לK?Wwz>Gjo/mm:o~ϓ٫6˻_:Z7[՗kzߗ]"o~xOyg΃y\fNg﷪ibo[`'O]+k/z~{}"?O/5]rN.ӯ?7zάsTWK/#ϸOĿlgS['&6r|]=}7Kݾqo7GR竿m߷߯BϿO_kwU]~vX/yo{ou}w?m~&:t}߾[nY?_OotxoܻW=~ׇk^%~7c>
>sfI}:YX<o_ڗlwd}ӾЗOw]ۿWw]s;	?4xarQZgݨ?{_7?|OsNw\C~|.Fzbڸ5.ڗw/]=eŷ&lt߭{Wẍ`oc]|u0?i&m}5}6N\de׹LY[S?2q 6 wη~o~+in_=7YqoS~%z)_˭*C/`?gꖷ3"C?O)ye|u
w&וtն}%7W|z[\={kg^ke??D_{W1&|,>kUb?o]xJuyo~wmƵ|7{~7'ܯ\P~M8gnO6tw<~͎k]-_h?>|x>i¼oٿ{9ǟFz'I^7ziut#KwjVϷf{kzKv;Uxrw~,pogFv_^z3?VEWr^ڥ9Nj}+s_oGdݛY[]kE4~۷_%)dK~97CCSݷsncv|aw}nG||{S~ڶuߗ:}ٿ3Nnޖ}u=J?ڿa[,X'Xmo' }z[GǽkOwZs}^ie{[u?GwiÝ)W t{`g|y__ޏ{voRNNtП_=c}:j_]V?NgKW_k펻m^rvmO]~lGNzԹWfc~d^~y?gZ;JG}^:|s{Qߴvoklm|_տdcg_;k_?v?}ޮk3Oyzh,{?uggޯKΧc_[wBn|t?fPC2WUפoƿ]ۿ;gSw*_3o1{}wyu4y{_ט l,fv^h3:=*w?s}efɶiFA_*2}?~or~uk<2?_oCfo{8/s)󣟓;wynΧh_yzG?fֶh1u{MoWRQb;zʗ9Wݾ6_̿s?毗λ}~2TRZZkG;{?V}8P>k/m+*Q6{|{{NOw?uc^.}/ݷf<;/#k_*ʞ'ߊk3AY ٻVvqy؟{&9G۾
UХ>M~rkXL4ovG-so}_ѯE۞۩)M_w;sUz{~{'<Hؾ*_qPr,Z(tO{?Ԟz;3s]bͿ_*~r/w?r}6onkc<^~__z2zҷ;?̾sg㽸wY4n-??o&պ7 -o7AԽbk_0M=S/'i'>p}g{k3uV/5/e<5v9mw'ףo_;og/xn{Ջ볯9ܳ+z[~>ۼoxY~rs/iKVl%/+ϟ
ߪo}wvw}僅FٿI/9Sa;oH>'qYucFxL^s\Yomuͻ/gosO|/OOTח}<?<<㻏9ʿO^R/mt]<Zy}V]kzvݭ[_~_weܶV*svjn^qw{5~xη!tss~tW{]1T]swū]v?9\kžΪoj
v
]{kߋ|YNO39/t9c)۷~o73׭S_>qr[ӦwqU/~}Y:M{gooo=u|_-\|kn//~[si{7v~|}n';.C?-Tȭf}ܴoWT0'Wpkc~{lWyOo(f~~:YkNUĽt[oO^{BuNN|ܛ߮iWփgO[MUj[Qow3&'/mJ=rL>fiw*qמ?(^}]{ſ7]J])=>m7O{4?3_/kxO_gӿ7oSݾ3=Sw{p<OxS
-}n/z=_=;c9vW൸U\LWn'wkk&f	[<~}GBʃ5ӒzVn^Wu6~z2t|[]nk1;sZ˫V+GdL͕7Z3dϥm\g/uܯ9}?_},ɻg}~>;r֭wŶK=ulU/]~\[>:s+suk5qviK3|mì߯|h\׼nǐ|,?g>^oϿt-7W}o%}`fMNl}o| >)ӝy?^~toz?_$k<|L蒿ٿ|}o/..g/}Ĵ]ݳēl&>}_ݧ},Q~^lo?c.g)oslr_\OgݩuOyq}_z}aƍ[ǹ3\kL/ޱ[x"]1tMK#>r?J"|8u}/^vr}߻:zS5{+kGcϺ=/-Lvޗ_|;_#v>2onigVK/vs/'4OU'__;~?Z_bߛ^jLFK~Sw_ѿ={|tf}rlߦw{_}s37=dC+/J{?Ku}9;fmˠ]WCK߂v;ս_t'tr!/|akӭ5u/)>o=ifwy9o޼/;MYo~tVW]G/շwԳ~Ojٰ{/^Nui?%m۳n{߹}۷NEOmtZ&{tog{wo}y,KFuw7Z~:U&~z<vE1VsyS/K]Y_@kwvoם9~_o{}g[GZt?~6HWW.۞:;D;}̍Gk_W7DK_OsOb>/'eNs͵5VϮv5ﻲes5h3[yj}vퟭ_|ņ*yWrۼ?ko7n3 with the serialized form.
       *
       * @method submit
       * @return {Object} Event arguments object.
       */
      submit: function () {
        return this.fire('submit', { data: this.toJSON() });
      },

      /**
       * Removes the current control from DOM and from UI collections.
       *
       * @method remove
       * @return {tinymce.ui.Control} Current control instance.
       */
      remove: function () {
        var self = this, i;

        self.dragHelper.destroy();
        self._super();

        if (self.statusbar) {
          this.statusbar.remove();
        }

        toggleBodyFullScreenClasses(self.classPrefix, false);

        i = windows.length;
        while (i--) {
          if (windows[i] === self) {
            windows.splice(i, 1);
          }
        }

        toggleFullScreenState(windows.length > 0);
      },

      /**
       * Returns the contentWindow object of the iframe if it exists.
       *
       * @method getContentWindow
       * @return {Window} window object or null.
       */
      getContentWindow: function () {
        var ifr = this.getEl().getElementsByTagName('iframe')[0];
        return ifr ? ifr.contentWindow : null;
      }
    });

    handleWindowResize();

    return Window;
  }
);
/**
 * MessageBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class is used to create MessageBoxes like alerts/confirms etc.
 *
 * @class tinymce.ui.MessageBox
 * @extends tinymce.ui.FloatPanel
 */
define(
  'tinymce.core.ui.MessageBox',
  [
    "tinymce.core.ui.Window"
  ],
  function (Window) {
    "use strict";

    var MessageBox = Window.extend({
      /**
       * Constructs a instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       */
      init: function (settings) {
        settings = {
          border: 1,
          padding: 20,
          layout: 'flex',
          pack: "center",
          align: "center",
          containerCls: 'panel',
          autoScroll: true,
          buttons: { type: "button", text: "Ok", action: "ok" },
          items: {
            type: "label",
            multiline: true,
            maxWidth: 500,
            maxHeight: 200
          }
        };

        this._super(settings);
      },

      Statics: {
        /**
         * Ok buttons constant.
         *
         * @static
         * @final
         * @field {Number} OK
         */
        OK: 1,

        /**
         * Ok/cancel buttons constant.
         *
         * @static
         * @final
         * @field {Number} OK_CANCEL
         */
        OK_CANCEL: 2,

        /**
         * yes/no buttons constant.
         *
         * @static
         * @final
         * @field {Number} YES_NO
         */
        YES_NO: 3,

        /**
         * yes/no/cancel buttons constant.
         *
         * @static
         * @final
         * @field {Number} YES_NO_CANCEL
         */
        YES_NO_CANCEL: 4,

        /**
         * Constructs a new message box and renders it to the body element.
         *
         * @static
         * @method msgBox
         * @param {Object} settings Name/value object with settings.
         */
        msgBox: function (settings) {
          var buttons, callback = settings.callback || function () { };

          function createButton(text, status, primary) {
            return {
              type: "button",
              text: text,
              subtype: primary ? 'primary' : '',
              onClick: function (e) {
                e.control.parents()[1].close();
                callback(status);
              }
            };
          }

          switch (settings.buttons) {
            case MessageBox.OK_CANCEL:
              buttons = [
                createButton('Ok', true, true),
                createButton('Cancel', false)
              ];
              break;

            case MessageB5BD@` pŢ5iX8%<A QPO"`c1P)@EJ( d%rpA* "@G%E5 Td!t@Z,B"KBZB	HIjL@"#m $"XhPq^C&* CTfP
DFHQ 8h5؊6#P:Ref@P  IDh&	 0<(P  4N
 iA@ (@I#@D $Wd!u@	d
 ah$!XX"LC! .	`,0(0!L3ۉ]]](I@ A $38Z!d@HXhf- Tp[@
Se-,)F ,LЁ	h(G gLHF1&SC4/<biTqSm PG6"}OxA 'CVdi|VAg@ r [Ad!Д!Fb@c$ w-	 Z3
Ez"NQP2
 BA	 b! j:bc\ `Vʇ$S0&e6/R  xDF < ))8Kt; 	 +$%A #0SL C  eȢG '@3g@$ y@)O	lpdWD`4% V2`,\yr 	L2ʘ	@RH!@"SQJ*B "G		4 &D:1D @$KA1(	VSW}
U e"r67*  8T0dERDT.q "P
C 441_ ZD0
U,  B42FA,b$ 
A) X  P$IQX;|H$$*IxGPAC)@XA(a^lHC Jn!:T.QJ`!r@`G	a+ |eA"B :Z*	,0şH9(@TV،1ANMiT9R  P& A# 0p#!20LALU NJ !`2P Ԙ40R AP*$1pRH䤾
eHxJ0`
Fۀ(li8+-(D ѡPPLf rR@`  7 $4"$
( 0S !h(R(	( )FV7Vb 0hRe \, " "eJ5 D
  'SȲW'괄*4 Q0K:4D 3)TlJ(RQ
B%%01`nT@ rP	 !/	>\G @ )@ rc0B:!%Qd[$ (
 @|4%H<!ÄH$	\0>ƥD#qA0 [0 X  + rDƜJ-D`@h@QPAh	,8C`H(R FqdPK!`$@
BB	D4b$FM@$@`!PP"	J&$+Y6-L$dZo?S*; R!O
@Fib"p2"2a0(	XaEY0$b[ GY!7BJ7V"h C1+P{T4$H
aZS (Ph`&J( i ! `0 3 Axh Ͳ  Bld@h,(^!Q1D!8#$<  *@ J@NQ'
d҄Z!u<L'Ad	"RDF!a &Pj@3*k,*@ Qh"@ ~@Uz#`P HC @ԔA'h
 ?98{ lVRpTX $N4i0 #AwA@Cp(D btzi\x0IS2ŀ~a<@)a0,F"Qee$C` X0 *b1Zӱ(q84RPHT@ F DQIAAhS8&@\ P *,AUP@I(  2  h
Bbv9 ZN1@*@1dB OX1e/ $ABUhVė  (3wS HA E *sLNs c8("C9P9Q%KoL O%5 ((WI n/T@$0pH("$ (@	 8L$RA@`@ <A0%F@o@*Z@h1 E@209 "`c/T?`2J E -%B" $<G`WDW w&A35-AEE@2R0$I4
#  I@DppP#hAP\!)`f#3t@R2 h"Xh&& !Ɓ!XP%cDa@p 81P'2~
`T\H **L}F
E	B#.po 4V); C JRq 0`P!FT&T12D'xR8Q"fƠ`	"  <&z*}B'Dd0XP%0	XFUA"p,Ҁ.,B ADt؇FH$0!$)/ 
T| ׄCCn@`)5LFa@
BK$x?QEj3(@h2P(I`N\G  ><@$!@8H "7 BYBf¢IF 	 Ke(GJ(HCb(+ pHc #L0 	:P,@` ɀ2d1Դ' ,ıCg	nN @a& (EHDdKCE)0%/&D& A° !LF) 
f ,bH
A Dbj  `CE`pQQ̊eH T*C :PЁ "Q ) V6Lp P&KvH0s	R5 0  NV*Йqp{Z$1
A<!P4E|4Ƈ | b K<ʐ2Џ!B Ui0 	!Rٱ$# @u 'RMdA	ZP aQE	  PDm`U8`I`e$B@3Cfy4JTB`B`>eg`@ACf .`,D	> %H]4qL!%HM8J8<PP b  0%(`@-ڡ@]%		0@4R.pXd"
DE
U#@Z4^A A	bk!"c B`@@54()DC$Q0,?jQ*U`60.
IV0h I%" hOR$#[daL (ALJ!p`E60- Ec D$$AdDmh Z wUA 2`HpD  Ads	(T%	b 2e. e dt9@  8ED( UR @P A1$"
8шDH".P@s"pteXǶCH.( @ m!0"&*nj!\_
rEbA釃I	ps"$-cflRM@^CS&0.; Be M#)@ 8fH e:h4HЂW2 @Ypg#"
@ 64N)m!4Rz H/BRM% >.JR[BHSC
	fȒiD dޭs4ȕ'Fh2JD%9G@&0	LV@&0@C%A! 1bd0`pL*P5fBbQ@QT4'.@' @YdBu24)@[j
R
Ca4"%s\PD "73e&GP\r(	 p2E%HH @r&⽈ " RAlTc.@9@k: V i@Y!b 2 `  Fg~dZ¢`	,0 *G)@Q]i2)\!PT( Ɛ* CH"P.T>A(pP(& ơB%"i$4 KbEd)@IXL&!!&,C6R(o x)`Hr-8l	@[ D@!(0	E `T`
`	(ExP`R(&(		 ?H#bB	@Fi]@
bꊀP.@bMGHQT=wY1	RyBb	%b(		R`G1, 6t2
aRY
HШe*'F  p hLU$ H4< ,bFABdl:l=ZbZ FHHòa A-+ aL	`z@[( #C	h ###E 	my!pV+"	d@
#{Fbe XC 7:#[#@ 9KAʕH
S@   a	2SiFml%@]5\J Op $DqsEr?	5KR?'mAp1i
"Ǜ'@(iHM!A$"XAaBdʔoA0h	H;j T6\cr $YE& 40Dz T (U0D p 	 J\"R<X$&C1 ##h@bG  ':wr
@
p[0MQXHU a
YF#J 	@0 &\Tl$80"$()jУEu RQ |iE#BDj6;BtH1	
04gR 1tE& s" 	 QB@Kri  ,(eT0 ' P:MP (  H1X@X1Cc0dH %AZ	;  &0 }Px08D" !L0n (7
RtR
ZDA.d
q@  DA `9V3! ʚCK\PVh	:6jB%Z@=! Q2s PHPPA
4,P؇!NA@a 9x}BC@A""70j20ƠA {'@8] $E0s
A@(Az8nb@h'd8  U$  "?*`4D0KB`~ G *3 	G1 0R'6AYS#(}D2P
D@BBiuE ##V҃M28d<LxMA/rD>˄
!Q@Hh"5`B0pA22`9(;і!	,ӌ!A\H8{@	D4?@yhT3t`!!$^#0Ys$  ϡ!6  a`b"72bEX&
)a
,@p  pIbAF?47.  @b	'y4$	 Id(A0 E  @A)2@ hDѠ` 0IWD"D %q@cj(ȁ nP)&P:fjH b*(D*- TP%&9!.#PB .RBd0<7$!dcEFR@ZK+ 
xx (&K<Pb 8, !?D PA0p@  "D(d3J(G3*@1:0Kg$g BCi ¬p' DQdLG  ur(Q AT"@ 	73B#@$4KB
R(E4Kb4"2IB;-HBY8CD`A@k@/ei\ "'EC=@@hQ 4KCHh 3  pX54a H6+D`[@(6ڇD@lz	 TGAR)l P_) 9$a$dr$lD0\"-DPhj@ 	'{@V)Ih"(\<Hl6
p
Ǥ( r-\AB ތɃLP
)
#D(`EAP h!I<Jl	 O*Ʉk!+,UlRS4PK Hu`
bH$@RB`$AB<D3 IX:Z !@x)X$C&t\Oı 
PŢj#R

 ~hBר<
!7FmCcWDAl	,K; JzQ<Kd3@e`X%`VAԭ8 D KB%Qk ^hCdv݀ T2Ad0&TB8@- NPQP̋kwH
3 qD 	0JIE s= 4
P D2h1+@ TP^5 H
EȲA:UH\hI}N_ OB%5. &F,	ZK*XN AL8PZX]iTaq!%H5~LC0A(YTPp5 SAR ʌ" @Ӣ @ 
XQ1 *)4J `b(JH\!r(P@"HpX]S(;Tq ,p" 9BZg]6 pH ` BB UV@B [HZZ 0yT !@qqBJ4@
,  GddU0H
UB J!&IPCۇńZK XL*L
&@pLA#"Uń*FM&: HIэJ) t	
_Lp< EXJ``h!&FJ! & # 	`  
1'
"4    /**
       * Creates a confirm dialog. Please don't use the blocking behavior of this
       * native version use the callback method instead then it can be extended.
       *
       * @method confirm
       * @param {String} message Text to display in the new confirm dialog.
       * @param {function} callback Callback function to be executed after the user has selected ok or cancel.
       * @param {Object} scope Optional scope to execute the callback in.
       * @example
       * // Displays an confirm box and an alert message will be displayed depending on what you choose in the confirm
       * tinymce.activeEditor.windowManager.confirm("Do you want to do something", function(s) {
       *    if (s)
       *       tinymce.activeEditor.windowManager.alert("Ok");
       *    else
       *       tinymce.activeEditor.windowManager.alert("Cancel");
       * });
       */
      self.confirm = function (message, callback, scope) {
        var win;

        win = MessageBox.confirm(message, function (state) {
          callback.call(scope || this, state);
        });

        win.on('close', function () {
          fireCloseEvent(win);
        });

        fireOpenEvent(win);
      };

      /**
       * Closes the top most window.
       *
       * @method close
       */
      self.close = function () {
        if (getTopMostWindow()) {
          getTopMostWindow().close();
        }
      };

      /**
       * Returns the params of the last window open call. This can be used in iframe based
       * dialog to get params passed from the tinymce plugin.
       *
       * @example
       * var dialogArguments = top.tinymce.activeEditor.windowManager.getParams();
       *
       * @method getParams
       * @return {Object} Name/value object with parameters passed from windowManager.open call.
       */
      self.getParams = function () {
        return getTopMostWindow() ? getTopMostWindow().params : null;
      };

      /**
       * Sets the params of the last opened window.
       *
       * @method setParams
       * @param {Object} params Params object to set for the last opened window.
       */
      self.setParams = function (params) {
        if (getTopMostWindow()) {
          getTopMostWindow().params = params;
        }
      };

      /**
       * Returns the currently opened window objects.
       *
       * @method getWindows
       * @return {Array} Array of the currently opened windows.
       */
      self.getWindows = function () {
        return windows;
      };
    };
  }
);

/**
 * Tooltip.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Creates a tooltip instance.
 *
 * @-x-less ToolTip.less
 * @class tinymce.ui.ToolTip
 * @extends tinymce.ui.Control
 * @mixes tinymce.ui.Movable
 */
define(
  'tinymce.core.ui.Tooltip',
  [
    "tinymce.core.ui.Control",
    "tinymce.core.ui.Movable"
  ],
  function (Control, Movable) {
    return Control.extend({
      Mixins: [Movable],

      Defaults: {
        classes: 'widget tooltip tooltip-n'
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this, prefix = self.classPrefix;

        return (
          '<div id="' + self._id + '" class="' + self.classes + '" role="presentation">' +
          '<div class="' + prefix + 'tooltip-arrow"></div>' +
          '<div class="' + prefix + 'tooltip-inner">' + self.encode(self.state.get('text')) + '</div>' +
          '</div>'
        );
      },

      bindStates: function () {
        var self = this;

        self.state.on('change:text', function (e) {
          self.getEl().lastChild.innerHTML = self.encode(e.value);
        });

        return self._super();
      },

      /**
       * Repaints the control after a layout operation.
       *
       * @method repaint
       */
      repaint: function () {
        var self = this, style, rect;

        style = self.getEl().style;
        rect = self._layoutRect;

        style.left = rect.x + 'px';
        style.top = rect.y + 'px';
        style.zIndex = 0xFFFF + 0xFFFF;
      }
    });
  }
);
/**
 * Widget.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Widget base class a widget is a control that has a tooltip and some basic states.
 *
 * @class tinymce.ui.Widget
 * @extends tinymce.ui.Control
 */
define(
  'tinymce.core.ui.Widget',
  [
    "tinymce.core.ui.Control",
    "tinymce.core.ui.Tooltip"
  ],
  function (Control, Tooltip) {
    "use strict";

    var tooltip;

    var Widget = Control.extend({
      /**
       * Constructs a instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       * @setting {String} tooltip Tooltip text to display when hovering.
       * @setting {Boolean} autofocus True if the control should be focused when rendered.
       * @setting {String} text Text to display inside widget.
       */
      init: function (settings) {
        var self = this;

        self._super(settings);
        settings = self.settings;
        self.canFocus = true;

        if (settings.tooltip && Widget.tooltips !== false) {
          self.on('mouseenter', function (e) {
            var tooltip = self.tooltip().moveTo(-0xFFFF);

            if (e.control == self) {
              var rel = tooltip.text(settings.tooltip).show().testMoveRel(self.getEl(), ['bc-tc', 'bc-tl', 'bc-tr']);

              tooltip.classes.toggle('tooltip-n', rel == 'bc-tc');
              tooltip.classes.toggle('tooltip-nw', rel == 'bc-tl');
              tooltip.classes.toggle('tooltip-ne', rel == 'bc-tr');

              tooltip.moveRel(self.getEl(), rel);
            } else {
              tooltip.hide();
            }
          });

          self.on('mouseleave mousedown click', function () {
            self.tooltip().hide();
          });
        }

        self.aria('label', settings.ariaLabel || settings.tooltip);
      },

      /**
       * Returns the current tooltip instance.
       *
       * @method tooltip
       * @return {tinymce.ui.Tooltip} Tooltip instance.
       */
      tooltip: function () {
        if (!tooltip) {
          tooltip = new Tooltip({ type: 'tooltip' });
          tooltip.renderTo();
        }

        return tooltip;
      },

      /**
       * Called after the control has been rendered.
       *
       * @method postRender
       */
      postRender: function () {
        var self = this, settings = self.settings;

        self._super();

        if (!self.parent() && (settings.width || settings.height)) {
          self.initLayoutRect();
          self.repaint();
        }

        if (settings.autofocus) {
          self.focus();
        }
      },

      bindStates: function () {
        var self = this;

        function disable(state) {
          self.aria('disabled', state);
          self.classes.toggle('disabled', state);
        }

        function active(state) {
          self.aria('pressed', state);
          self.classes.toggle('active', state);
        }

        self.state.on('change:disabled', function (e) {
          disable(e.value);
        });

        self.state.on('change:active', function (e) {
          active(e.value);
        });

        if (self.state.get('disabled')) {
          disable(true);
        }

        if (self.state.get('active')) {
          active(true);
        }

        return self._super();
      },

      /**
       * Removes the current control from DOM and from UI collections.
       *
       * @method remove
       * @return {tinymce.ui.Control} Current control instance.
       */
      remove: function () {
        this._super();

        if (tooltip) {
          tooltip.remove();
          tooltip = null;
        }
      }
    });

    return QbG0@ADQ` %0@"v B
 
xȂQ2%2H07̰
JB $PqQ(꒕ 
){PL8JBA[T6 XH ,PrA8$
2 hbǩ86n`rRu
AE},A"nѡX46l  h(d%ȓ"" /Fi!R9`HHJ\Fuь3Aa`UmϤ"Rє1E2Q,(=`jAF#ЉEz	yF @s/NiXETa"AP!iT!	AB@AxKl%Y`muP0fraTAR 8# `МQ DGT4 <yCƘ
 
  2daA SD,"(X	i8Iu & P((  `
\PA0G
	@5@Uf@ E0 X%p$ ]A-$Ĵ0H@4*h4! d	@P	Gɑ X 0
P#Nc#n5&FY0#i^@uIh `"*Bb" D(0e@UKa0<2 g
BG1S
7D $&3dk0D! 5(M b)e"'Q B0HH11*I"d@,5`K0" jU@""@n +! W($08   B ď
l&EH 4 $H1
)% %N[	A |@  @zR )=i "`  	Pj[r"+tWH6B}e `VU~B3BCm3pR(Ir#/bHc0!
a3/[ʻA 
AHRʁi@Hh`A 8hއ𘐒h  @tH
CJ X X!t P6ITB DOu
`#R<x\Q$!swaeMq aQy90M	a`K   WH3
!;/jEDx.ֱ3 '/lGB6q00(r*+FT=%{ZCfAQISJH9AeLQ&>U^O&e=U
8Png0+ h	Ƣp P<ИBd"Y,*}19$3#aqR !dhhXV4ELYSEdBb>(.Y%cp2H  a@dRb  @` @a,(@rhV!T	'šAQ0f@7ֈɠ i"mxc@F9@8:@A (	 XOUG
Gv  UQAK 
W# )D|AC`TIF
  W 0$ :R$I`A&BC!a!FBPdL4
'!A Hk +&j@؍$ MR p (Mv@jD$!DD9
BH@1FtD@@D@ X
EP@d$8%8G!dAQHE b.Q ae\ 8S:dR +*`l!lD@fـ " <RB18? 'I$RI*Aq	l.*X4A"~@(7D\c/c`FH]e (_z`E˥EL3%RӤPr'-"O  c!PVAC(l(	!(!A.A$ 1DP$,D` ŉQF 2@8x8 .t6;
<`4t +6
-@ɒA8	2İaGAVaB O POª<XH*'vkkpR͆=NQ`En88P4\!H	$Fā (JJ5%ŠÂ^[ʩ @ܙB2ZЂ(Eׂʤfĭ9X19êBB!7ЇA6 P&@녎d b?RK&*FEx51 [h 7Т		" D` d*>8@$$IaB; L0rxP&~>aQ`L'z V@WLI  l#!,!o d=
`B:8:)$Dq*@ H)  J`#h/hBRT8Nx؁dIS1(dI $e
g4_0  D"RpG	la4#Fԋ  t"E !"Ka}RDpft	 (ä 8UP48! !)B PH3$0AB @`gDH Jvx!Ғa@C5ن<;H
#b`0 2D$2 T颜dZT( , 9M0S# HE@j\et%Eȫ(2
/
6\)LPID@.jVI 1=W| ,	]!$#E	\]@$֑b\2YbG a-BSqTQY qa0#7/r?>R
@FBN4QTE64tPuHjAH2$;p: ڀhHRH&]1BF	%0	41ŌC@!
 
:5"DE`%9cHRH@~a AR@;J-Y'I F!3  x= 8aJK`'0xp[ r.
K(H%\` IjT3'aQ
>+xq"(R	Ny@6&ՀhUJ"x!':I+`1 c@0;,A(4?	X+p0Ãc'	')Y"1J00y\DϜ 1JjF=rsE{kT$D`%Tc{n@J, 	b~T+'Њk,ڭ:Dp `$H"i$H% Bɡ
Ӂh΁sItXDHC6gf  a5DD2 (E@kF55BWEbp]x)ݍ $BAdC=qp
jET&9r(9	N# yF30P,PJ4H`ZH^``1L;5+aHTH@%1RtFIPHJ
@8@sL$G&FK8@ C"B9@CqILR SoQ_O8Y!9 (ͮ=,  8 IXP $&, @tЈ
(a&H @"*B1" Ir"QM . (uy  ,a; J5Hp(F1(/!  "), x$H2NB@DBI 5A@\ނ;4?@B'@ Pw*Ќ0	R |Cw@0FCA;~@M QeTq9bJ/HH=@t G"\WӂC :P@Pp.YRPTV0˺F)P =JJz	0 ?":I<x@EǌOtDmyQZ.-f`#!RfZ&!/T8FÀ " 0~"h( D 4@> -  hTP )  B7  @@`CD#-" ))Ƃ M6 s.8%#2
Vq	Jn̈j2eV@@ͰtE	2(.P_!)2AMU ?0&0mr`J!T	a-=le%) Ѥm!	JK PXD@	@[A0@B$8h6"\ "   WHƩN@*&]'Gr@)'1Fp	46'S-lc eR@xA0yl.FdlW`B%\V^/ߘ:	4+((#E"H z8v%BA
wDAr  JR$"B&@Dk A wA 6UVrN	I6 D0  Ek"B<c "`#2+A,Յ(W}b
6	 	͋[+PQ \+/7w Dm!X" Q"El~
\v~IʄÆ`H#S@fiVM)@ g 0l 0	$PҠ]RHQD^>͖  B( $	ARBq*}nD>u6 @ۇ҅ dPC`(@ ] Kr . b	P0aP/91-F$E鸤$(oA?E@2 0(  LnD Qx8A !EcaQ6PY<)@:/P':t$p@4wP)Pf.,); 00+9	 <AHZ JafRt79Fv!	+y2U
NMV80*$AE!'4O $XmGHeߢ1muDrP	0
(/E#D,I`!"=!B,B3h NЉ
"R	@$Hh   ӐcŠ2N pPp
 XX$&#6JIr2)$`H&R @*8D jHB/<Sc`(> Nb@ "$
1HH vƁ!-R$E "¶@GV dQQ&TNJH AA!@E4b0 ~T \0aH2E'b)dQbFĊb)FLe0P	BÁ-I,5r$-	  ctLY$4GIBpN ` 
)4k$aP: CTB&(#0Dv:jHx$(	0&!(+6͙&4$A J Y	K ؂B1S@NR讴!h)$ H =ڋQB0$0@$"V4#oP%eSL 0 +y BjUZB kj("Ge (ЗB$b
T/D&@1 Q
8;iGXBM&ۓ@@Š`>#*2$	`.L^ِ2.B)}&\G9L@`mhaE kACLA325"$"Fq!Bp&蘬DE(XCb[a!C2> pA$ XCF 8q2@@n)җ;C7F8{n`K@^I2G1$I K 7`b%B R?	EĊT ^:uJ`2tABTfY0(	i@(C j	!#S.7ڈ5R]!p$ɉXcȢp !C0CwW)hPQfaQW)P*GPMƇzǰ	Z0
 H[   &<S$0
.!Qk0	*քb$`!('FC Xp  E&39	>'P,I$@QOP \PR8I@$4J	Ic&sxfE
0@0b C	${"~Ŵ}c2[)&Ę8
b:5yB&P$C5+  }`Rst\?BA<S'2~RQ%)B$^T-E}r@	K<P]M ID!O@0K` 1T	B 1DҮHQI\ H4P0OLBPax)x
$vP0qpDkt!"Dx*QP!:  xdJ d/+i2lj'4j
;	Ht( @i07"	<JgV 7>RhJ/gd`(6Yٴ)"$j(0pqRZbDa@H"1=fBCFg3A0j.l 01$BPL#<]3 =1=@CqQDI"D !
# 2dT5+Gl`5l40pr6$"#  !cB$f)`D 0,,YzD9P$,* '0
D(Pj |%& S(<ƠBp(CB!BET0 3 $hCȆ( qԸ
/Z= #>H<}C b83aRi(=TE`. p:C(AKEJ,GM   ABhz09o@HPs` ~% ta7@MH@p޸i  P!DD1&>bS2L{D
HQ LFE0"?@   e|Fd*DAHX<q$h=@c S@G,BM0Pzr` "(D A)fH=HKb !@.8l*P\fwL
Ag;@ G  $+ b2rKrRѶByE5Bp"ZLT.$ɶcFV$ UtVАN 3H2.J%! *@ '0flRqkQ'dF!"i0p""P	V$  7CB6) (W  p!TP"&qQ X-@ X!hELC@d .PHN1 :Iă  BC00T$z\$ 
Ec9@WU \h tR D=t0 2 !C@T5JFP$1\ gyj$D	3`|DC"$UR
8i4hǍOnV`!1ؚTxAbH,MV Ŏ@bm"RAx(,]@IfbADEF `(NbV*墈 $ 	
.pX0H	P!Q"q p! `h&ca@*|#C],`FE !Q, *b@jUF 
.A@:h`M$DtG8ԁ!@!#!81E8YdJK3Ęcx*9`r"@ PSYçd	B#Hi	tH+@4"5r4ΐ+jDFX5f,i$,X 5 B, FNp iw 5/%-DN%/׹L߻zSҚyFA`Am;bv_9O{JD^a;֜o{rGp>*,շۃ͟\N|/%{yמ}B8:{|ё[ Il47ac$?I?7/mBU'd  Bu	 "Npu˂NDXƣ&"|:g4CQ` G$' h ),l̀!@EP X\7ˋsh&bиIsvH޷}f.WKӄz/B`ݡt?tȓc婫+mQ]uM>c{(|o۾!%n,OseiߔgxeVHPo3h@g !bH1DJ3 GJ1 I%2AeڳN ! bdB\Ѕ$0  p'aD| X	R`0 flF<5ȆR41nFnH Ha@JA@	J# Aa@Ckj.LPBQS@AHg( 
HЈT2aA(lAdKND"AGhkK?Q!tDܻ,͋o_ەT6`ެVkw`~zi`Ex9m7U{7Jӻ"$xկ nM--x	ɔ2Pݻq嶁@
Pp>)*HQ3+(Y
W^R<CZDhp8 PR2T!L Y]M/İj`7*|w2tcc?Z"库*W~_w0qeXwj]M0{P«ҿ^֥۰# {r=v]׵vi^?IZ?(}G;_
|_gO_ =ܷu+ᯯ%K/P??iq-PڱB珻$ݩbQdSmO/|ִy6TǑ7`Al#"Kв 4 f	_p M!h%@Z1
) 9)d  	`P&!7׺&@A%B R sCA"402B!R?'À}S9[3=_9*?oKֿ@ߪwHPBsp*v7ͼn[
gsw=0ǁ`@@!($24*t! #@ 9 _'bJHpw(`!Cr
Hѱ /P9@(oL#{}vL!AM	,E lVAQ(ebPxt0\h~BH'8@GJ	Q@J 0,! a "20s dZ! =A,p
0GbрChA:eLaed4I(M !*@A&ň+e@X/V@BEU M}6kvuNw=Rտo#+ƹ׹B{e5{mW~雽H?ONp< s}KA
&
-LHCFUQdIao pJPc!uCX_GJ<d<@L"D r$ ddP0/ EMJ PfC@TPQW &"b p	h˻/0Omr?RQݫBӽNmzOt?xBs=jץk=اwyni- DX??jk^/i.-/z7z>kގ%=e?ne
?ŷHƨ
Nz7~9߯nC~OoJ8 VAhafT¡BB 1Q@H2("A,@	8
NҤ=A0DP& HI)0$1drA:Xl	03b0 f @\B!? s򇿏iݎCQz8/1w۩}wc廉~}s_?b}o$o_{˭}Wj>|8WDZ=;ELvi$%P2ؔ,Hd	N/,4h10 jД15(JrO 4}` ($	EQ"@@gȣ^ 8J3a HP0NDb4&ҶH[K #Rp9\ @`L 
#F#1 ,P^ y&u0F",hE!dZ ~ ơ* ȩד9L$2 np?pWGou<{vT;}qʁ?},׵S5fu|w|r=w=iWg~GߐձQ_ߤmNh^P+RuA$̒ SĈ:#!r 	:zVJ<eԐ)&KpS{n!X dzOy1h("!"h Hp13= Tb %i@I ot ` D 9*p  /Bo[˸tm?U}?@o8󨿷_}޷l/xk@=o*k]2@ ߿E/y0
Jxy}Ir%} ǻ{{VzJ)>?P;{?<TxV{owdw?C]U	Z` +Q( @ P! HB560 PH"5@!1"聑@QCb2Z<W8L(yI7J]o[`BH=$^vt_$Ɵwm=[k~O_+_}TG;vOwyr=fjvo]A{U{-_egǣvkBJ {vd@zD# *0#M@&dn8B J8u1PL" Qj[e`ʀH(l"G8*I `D$4- ce0G KZq PC@ fP#HLQ0 ,*NkT KFlc	0 @hg:82#LBC"%p + ,}QlD*hvI Qk!Z_Q7{/^wygononh?wywݸ[z齌%oyߢ%? woO#HJ
׎o16
660z}h۾O87gߺj>kIp۾_Zׇ|kU,#>=nMok{???;[y_o:~~mG׳wyfr޼{zxܕ>-Ȇ۶|v},mn~>f_o.cw0珖8KK׬T×qwȳby_GKm[e$z*J^7Su=}>ϯݽ绗=R{𗟿kScCؕv~zrG~x~=ӿJمq뿭>sc!{緮kVb{׬g_O{w&t^3y3xM{
}ڟh~HcSvM@οi[7mO]Ԝc|[kgTsop;=Ϫ_玼=y"5Nhj/CeyW߷{c]6mwnveuz	y5Y;ʽ>q;_{?ۯnt?l׳~G]޷._̓;7A~lKmuqgk۰BAɕ=ܓq=5֧jw}W߱7T5he{b1S޿7onqx/{=;^޾ܑKmU;lϝV;=W3maPXʈYUfvrZ
Zs>wP:uRU/VhUe~3'Dxa-w^ד?Sf)}u.nV{׻]|zqյ/{W'u~W#in^b;۴.g^wS?^}i?u<_vM>{gjiw~_]z^GﶹfϷ~]ΚZ~twenۼ6qyk+t߼7Ѿ_im{z[u7;/E]/_1-*ukD:8rײ#պw7kuR:_[ך7w'گ?sn_y˦m~m?mXL?f{}^|;ҙپ7y'y?O\6[7N]12쒿_&1{sۍ=w~YeM|7%ݍ_]1gznZ]:O]6rIp}
kL7gy[/7o|>]rƷ^ޘ3=rqw}mwIETOפl>?7gx~ǻͷǻ޾AWk\luloE	_ܽg?'U"lWZ{q8g$7{W5{{t?ѽLvl}y(G17p'vR_IvuT<xhv/q:5nou-|}k?e"K&=/gxwAy,߷sny-hg\U|4u^YEz~ί6{vu%&g^]g[W'[Y߿ȿ,[NMqM/U?~go/?_?Ioe}ON۹_Tw~'טvsKW,f/zӶ|?붳?;?wڵ[[R쎩~>7h_o_E^M?}c؞=Oͥ__Eɺ3{e߻}YoϞ}̴W\m_suc_/ʕ?zw{ÛSlW?٩w_Wo}^'lկ>ַ|g_M/Wig:?}A{r!>25ooC+s>z{_;п޻nvm2s{ry#vf^=Pݏ[w]M xO{zmt~kUבz$?sܱ2*N~m3>8_ۥ2fN7}}~~fnt׮tjucizխz[oƻOow=\4ލ\qC׽׷no=Sv|ќaF5}񧏳K[ڪFmkUG-VoYtsӭ;9?˛>:[cOe+U1T>_5^vzI߄'Jopÿ-trͽwth'uSv]ׯ^^,|n~dDv;оG-TszW$Z7~6H@fy&xzW~̎֟??ko.???̶.Y)t_OZzuu5vv~7{SloջOϵ?}*ޛcUGy;Zە<u?+:6s`VgFO9gzƾ~s?{+;ߍsQHo︫^?s+{ѵO8fQ]'wwc||ocT.s˾]7aFpmef[{czV}?	۽VWi^O?m|W~4d/O7oƯ}75iZ᝘?Oۍ|Z"2y~kGӭs9~غ޿K7ͯ+}=<וJu:t{kQvtRov~[c?wuÍIwwtˢ?ZG}qrsZwzKC7ø慾_eS9%_c՘M/Ln۳=Wh}/w`]bgܭO~cm8ۭѷ9+W^|}-V}^/{-^zS/]c]|,zsqoYҿsi'$tYvkmmkۊZPoїV\|ww|I[yG7{ߑ_굱﹵͝Wtf?`v..0nefجs^uwsqydЪQ笤D )X̀0 b"9A0NkL,C⸈Id 	0#"є(SzԱb p
@%1Cݑ R	  	;.HC
mC0.H6W5HszR~vqqw:fƧ=WĻuGm/t_m5+bwoY>\_oto֯:SeU?[;?6iS~7^%uN:;r`w??*TL>
i?wQvNby~^}7DՋ߉z/ }k~><toNd	!ZF 4c-? HFu @!>hp(Ȣ`
Fp c$LTE@n 
 ^@!	С :(p#+$T@1' tN +tySOoG7t{oZ7>2.gͮYCzMUπ>v]KyOɽbAy{zW0 A*م,v`>M4EOk<Q	0Bw$ij2t	@B!DJa(QI64
cPDY I b:ѨH]	8Q bd# jr	Hlp !@1 d0  Bؠ  4" 		#2'8QBHg!A A@ HXhОX@ $Ao#h,H )I@L
B6FBpcdy{~*{ٿsj>h?3k5kKh?gVw[,~t=Z}W~y[r7WclUs߿t?g5ϟ~Mj)^y( RDPd`Pp   tXXaMȜ"Px@@ #zJ0Kl@7WcEk.!Q!K:,P4F	V,%LN$	 @0   n C*1Ro:ͭ0p޹]O?׽n.j2ܭMUNVw+/[()5woB,\sv}?wuX&\5og^n&gok[Ѓ,"?Ӟg>o_}"?o>NNSmdoMw7WwZώej;O|3o{`@H@Y"Ba(x
R)10@AQ)5a4IBh) pB$# Q ( 	(T $g@( F d8Q@Tu}U\IGҾ|g~ksFѿܼw<*o_G?-+uŗ'jVo6_~nޫ3_ΟS=Ϟ`5`((VRì(DM L 	 B\Z(aN\21x@ HF$K`@
ZA5= O	AUgC"`@Z16BBa+B4o -&~ %H{D 	DB  5x``A1q`X
qL 2L F $h Y |Ha!*_ Q@ ! SD+:o٢O[뽯ޟW/	>7wѵ~hֿX.nsr&~L7wej߼?u>NדtS@

RT);B	Q&!RM(B0äC A#C$HAc2AP !@` q*d  @@'B8a9D{-o>>j5?:ej?mǈ_s]ce'OEwX/r՝O\x.ƎflS{ޟ7s':O?x~>;wZo{Ke}_ԏUgy<Uvs!ݏoGAys}R]oGre>u9{~_}5}7'oKj^ݎWuuؿ|A@L:$	Y<6c(<`@ n  B 
H(
R CѰi.0C0<`rEB
`2N%JLi @C(R"c':߯6ڼO-_	Vh:)7n^}s|ihNgF,g|v(|	^uwN7[t]t]1/W8, AH DA$EH̂VJ    d дc\ @"	pHCHp@LdHP =
A"@]hpm"[FZDIJB"X!51 T(
q%B8HPEl Aq 
 (RHr T`@&v$86S!` 0Y H2@@8H N!.L	Z)  @/ǡn{?6~߯W·[sЯ/­߮>:rci|wG{o?=Vjַ~ն&\ߧ*77|~Q0㉐PC<c*$.@" V	bQQ prWQ%D!sp	:Z`8 E@c  !Ȑ fP3h X29,(A*i2?پ˹-)ϾgY_w:_Y7	v[_[+k{Om힯˖={YO}g}e8Q=+'H7!fΝ]E~~,<0a7͢-2yݿ[_T?g{;;dvp4?u_?	t476cgso[r:'g[_ӽ_@@qt !v@@n$$x 8( ڟ	`!@bx5 ȐH܂S2  (BE@ V @I 0(@ݙM ĵ>Nu?rFWwKr=u|g.&oQCͭ}/[u?;-g>u/`yC}ewE
l :xQ5"@uPQp	0"x`.ō\ @ 
dQT7@@X p40l)/B(%%29GA0݁f#XU  B !%<jJ`(!,	D` fz@v
BŠXR4
	@Ј p,x@ T`@B"F\h i	LBCGU!$NdkY,I =ӤBRW|֯R~?mO/'ov_nOޏr>yMM㸿{%q緟VtDFϳoC#{nvG}^_{};g:o-G4u=}L!0D(	nJe sA X @]8 Pr05IXXqKX4ZH+؝KlVb-,AMeJK)5!  IpK#NR5$#}%uiw hb-0Ȑ_9[ӘrYo2Qէ{"L+O=_ [yӧg_uzXO<7oh[l}es}NwO]Oz<QҾ8~Ъo雤G붛Ͷ}kׯ)71FS{oW߷Kl{ol?Eَ?U_ZVN|xi7W~P8̐ \P0$	@ вC, RG+2\ !H` Pu+I8GTPH;!
#LdE # 3I(T )_w[+6{ۅw~mzj_ӷ?{}ޯr鸖Ǹm.|wsd#t]&x.3ZmI&yK @O
%ht+(!v*Z(!u0Fa* A)82UlHPQD0BkHd ˠq$c+,, @ , *(BA7j'Z|ND&
d8aEb@F`J3b@B&	AKB	f  8D$Q(
< a -UFVm"P2R @ PR  FXA" I "PW?핑OwO'2`X<㋿r_{}S݆~OS~/_;mT9'j%+/_6	a.IA$3xlF,&K B	5$ #A8d XN(a\ $$vAEc jPP A I$ x<`,BQ9PaT`	!U:uG=^{>y~zX"'|^_oO;Uɿp?/oj*4R{Gf5y綏;mizVc~~~oviv٭lqN
wb{olqnh1|?<hK}'e7Tƿ|Zt6.h_VͿ_6k7љ=4 -gH
\l!`00KCxU052 S   9ܠD h	ϝs$nP  
 
A1F
@@4YH|!߾k-V/ss_?g=?[?g?jN~bwçо^_\ՎNp{~ws/q4s=cWJ\  k @QX- zp d]o!S9R 	<S$ Sl/PLTQa!D&(  	 )F/D00"ky,T舍 u,h/` R%n*" jx@ x S+ H)Hn+!`@9#`p BEaC[)AQ%))t ]rᐼ</=3q{fիϟ_Y}sϏd7OOq!Qv_KӗAd=?q}5oD?⻋m1'o}wO   IP p@$"hQw ( w0( |%\0Q$KMF zD"6#(H" JH	$"< c&@b
8>뿾AynSoخy]{S?^nm36JgM}}G~[k:ח^^[p;ykFrvܧHwyޞL5ųyA}mDkKQҹGgͲUvlѻ|;uxN-|v<j)$wouw[S:%cľ=	@b+ &E
1h9nb HTK8H90HhBh0@09$U~a+#AQFh,#VVP
% ((sI5ϽvM_Aj ~w۬uf̺sV7=W޺KӚM͝EǲעgX;߮tlmjUFLQkyGkSdE]@HPbv $o	A'GBd$p	 ( C,I4 @tcq`  ِ] xH`@Dq0Q&" PK(b0`h`FZ)4! 5r6Ve%3 1^\ hAÐ,D $(B aK8|T
pB&$Hf$I4BA	N\`,0PJg໿)/3g̱өz_~zMc3vP䎣_޹mq/vuٳrW%TSn+'Lײ=dy4P4s9MX. HA$wcl
=l(Bh*8w(0AA^ 	  bQ@ a'@ٵp@Q') .@pBR"Ep>\M-E0?5y؏?94͑Y|}}3E~~m_ok>6"=eE_{aطyg$_:c|4u{wo3;\۳=yU?mV.Nw
oϛ?_7~uoxrNMgoc?{~yO{N{6,_ﭥI}'R64_W G 0(A 2; cE."  NcpTd "c  xl 0   Ӡ"0BBLE!@S6fxE@|#6i p	X a;{սUUv/ӯk)?c^"vU7!|cbMK}`{;_UgsO'Wlo'+lv;/ޙϝI8Ugo=h1B3
CBH@s`00Ia$9 2H&Dp>R[q  rpL# FCR	 DI429!m%0H%AD+jb Epz)T NGu ޤ$*u/bڍ@Ud8d*42XAUjnS ȈʀC&9" 
bP@f" C Ũ C  @j GN0%*8 $Bns_Op4߹ܽn~oS66?Dɦ,uGp?P1fs4ZO>x<ov?􃚕YO;CXcOW]»K|otcuts[shortcut.id];
          return true;
        }

        return false;
      };
    };
  }
);

/**
 * DefaultSettings.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.EditorSettings',
  [
    'tinymce.core.util.Tools'
  ],
  function (Tools) {
    var getEditorSettings = function (editor, id, documentBaseUrl, defaultOverrideSettings, settings) {
      settings = Tools.extend(
        // Default settings
        {
          id: id,
          theme: 'modern',
          delta_width: 0,
          delta_height: 0,
          popup_css: '',
          plugins: '',
          document_base_url: documentBaseUrl,
          add_form_submit_trigger: true,
          submit_patch: true,
          add_unload_trigger: true,
          convert_urls: true,
          relative_urls: true,
          remove_script_host: true,
          object_resizing: true,
          doctype: '<!DOCTYPE html>',
          visual: true,
          font_size_style_values: 'xx-small,x-small,small,medium,large,x-large,xx-large',

          // See: http://www.w3.org/TR/CSS2/fonts.html#propdef-font-size
          font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',
          forced_root_block: 'p',
          hidden_input: true,
          padd_empty_editor: true,
          render_ui: true,
          indentation: '30px',
          inline_styles: true,
          convert_fonts_to_spans: true,
          indent: 'simple',
          indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' +
          'tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',
          indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' +
          'tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',
          entity_encoding: 'named',
          url_converter: editor.convertURL,
          url_converter_scope: editor,
          ie7_compat: true
        },

        // tinymce.overrideDefaults settings
        defaultOverrideSettings,

        // User settings
        settings,

        // Forced settings
        {
          validate: true,
          content_editable: settings.inline
        }
      );

      // Merge external_plugins
      if (defaultOverrideSettings && defaultOverrideSettings.external_plugins && settings.external_plugins) {
        settings.external_plugins = Tools.extend({}, defaultOverrideSettings.external_plugins, settings.external_plugins);
      }

      return settings;
    };

    return {
      getEditorSettings: getEditorSettings
    };
  }
);

defineGlobal("global!window", window);
/**
 * ErrorReporter.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Various error reporting helper functions.
 *
 * @class tinymce.ErrorReporter
 * @private
 */
define(
  'tinymce.core.ErrorReporter',
  [
    "tinymce.core.AddOnManager"
  ],
  function (AddOnManager) {
    var PluginManager = AddOnManager.PluginManager;

    var resolvePluginName = function (targetUrl, suffix) {
      for (var name in PluginManager.urls) {
        var matchUrl = PluginManager.urls[name] + '/plugin' + suffix + '.js';
        if (matchUrl === targetUrl) {
          return name;
        }
      }

      return null;
    };

    var pluginUrlToMessage = function (editor, url) {
      var plugin = resolvePluginName(url, editor.suffix);
      return plugin ?
        'Failed to load plugin: ' + plugin + ' from url ' + url :
        'Failed to load plugin url: ' + url;
    };

    var displayNotification = function (editor, message) {
      editor.notificationManager.open({
        type: 'error',
        text: message
      });
    };

    var displayError = function (editor, message) {
      if (editor._skinLoaded) {
        displayNotification(editor, message);
      } else {
        editor.on('SkinLoaded', function () {
          displayNotification(editor, message);
        });
      }
    };

    var uploadError = function (editor, message) {
      displayError(editor, 'Failed to upload image: ' + message);
    };

    var pluginLoadError = function (editor, url) {
      displayError(editor, pluginUrlToMessage(editor, url));
    };

    var contentCssError = function (editor, urls) {
      displayError(editor, 'Failed to load content css: ' + urls[0]);
    };

    var initError = function (message) {
      var console = window.console;
      if (console && !window.test) { // Skip test env
        if (console.error) {
          console.error.apply(console, arguments);
        } else {
          console.log.apply(console, arguments);
        }
      }
    };

    return {
      pluginLoadError: pluginLoadError,
      uploadError: uploadError,
      displayError: displayError,
      contentCssError: contentCssError,
      initError: initError
    };
  }
);
/**
 * CaretContainerInput.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module shows the invisble block that the caret is currently in when contents is added to that block.
 */
define(
  'tinymce.core.caret.CaretContainerInput',
  [
    'ephox.katamari.api.Fun',
    'tinymce.core.caret.CaretContainer'
  ],
  function (Fun, CaretContainer) {
    var findBlockCaretContainer = function (editor) {
      return editor.dom.select('*[data-mce-caret]')[0];
    };

    var removeIeControlRect = function (editor) {
      editor.selection.setRng(editor.selection.getRng());
    };

    var showBlockCaretContainer = function (editor, blockCaretContainer) {
      if (blockCaretContainer.hasAttribute('data-mce-caret')) {
        CaretContainer.showCaretContainerBlock(blockCaretContainer);
        removeIeControlRect(editor);
        editor.selection.scrollIntoView(blockCaretContainer);
      }
    };

    var handleBlockContainer = function (editor, e) {
      var blockCaretContainer = findBlockCaretContainer(editor);

      if (!blockCaretContainer) {
        return;
      }

      if (e.type === 'compositionstart') {
        e.preventDefault();
        e.stopPropagation();
        showBlockCaretContainer(blockCaretContainer);
        return;
      }

      if (CaretContainer.hasContent(blockCaretContainer)) {
        showBlockCaretContainer(editor, blockCaretContainer);
      }
    };

    var setup = function (editor) {
      editor.on('keyup compositionstart', Fun.curry(handleBlockContainer, editor));
    };

    return {
      setup: setup
    };
  }
);
/**
 * Uploader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Upload blobs or blob infos to the specified URL or handler.
 *
 * @private
 * @class tinymce.file.Uploader
 * @example
 * var uploader = new Uploader({
 *     url: '/upload.php',
 *     basePath: '/base/path',
 *     credentials: true,
 *     handler: function(data, success, failure) {
 *         ...
 *     }
 * });
 *
 * uploader.upload(blobInfos).then(function(result) {
 *     ...
 * });
 */
define(
  'tinymce.core.file.Uploader',
  [
    "tinymce.core.util.Promise",
    "tinymce.core.util.Tools",
    "tinymce.core.util.Fun"
  ],
  function (Promise, Tools, Fun) {
    return function (uploadStatus, settings) {
      var pendingPromises = {};

      function pathJoin(path1, path2) {
        if (path1) {
          return path1.replace(/\/$/, '') + '/' + path2.replace(/^\//, '');
        }

        return path2;
      }

      function defaultHandler(blobInfo, success, failure, progress) {
        var xhr, formData;

        xhr = new XMLHttpRequest();
        xhr.open('POST', settings.url);
        xhr.withCredentials = settings.credentials;

        xhr.upload.onprogress = function (e) {
          progress(e.loaded / e.total * 100);
        };

        xhr.onerror = function () {
          failure("Image upload failed due to a XHR Transport error. Code: " + xhr.status);
        };

        xhr.onload = function () {
          var json;

          if (xhr.status < 200 || xhr.status >= 300) {
            failure("HTTP Error: " + xhr.status);
            return;
          }

          json = JSON.parse(xhr.responseText);

          if (!json || typeof json.location != "string") {
            failure("Invalid JSON: " + xhr.responseText);
            return;
          }

          success(pathJoin(settings.basePath, json.location));
        };

        formData = new FormData();
        formData.append('file', blobInfo.blob(), blobInfo.filename());

        xhr.send(formData);
      }

      function noUpload() {
        return new Promise(function (resolve) {
          resolve([]);
        });
      }

      function handlerSuccess(blobInfo, url) {
        return {
          url: url,
          blobInfo: blobInfo,
          status: true
        };
      }

      function handlerFailure(blobInfo, error) {
        return {
          url: '',
          blobInfo: blobInfo,
          status: false,
          error: error
        };
      }

      function resolvePending(blobUri, result) {
        Tools.each(pendingPromises[blobUri], function (resolve) {
          resolve(result);
        });

        delete pendingPromises[blobUri];
      }

      function uploadBlobInfo(blobInfo, handler, openNotification) {
        uploadStatus.markPending(blobInfo.blobUri());

        return new Promise(function (resolve) {
          var notification, progress;

          var noop = function () {
          };

          try {
            var closeNotification = function () {
              if (notification) {
                notification.close();
                progress = noop; // Once it's closed it's closed
              }
            };

            var success = function (url) {
              closeNotification();
              uploadStatus.markUploaded(blobInfo.blobUri(), url);
              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));
              resolve(handlerSuccess(blobInfo, url));
            };

            var failure = function (error) {
              closeNotification();
              uploadStatus.removeFailed(blobInfo.blobUri());
              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));
              resolve(handlerFailure(blobInfo, error));
            };

            progress = function (percent) {
              if (percent < 0 || percent > 100) {
                return;
              }

              if (!notification) {
                notification = openNotification();
              }

              notification.progressBar.value(percent);
            };

            handler(blobInfo, success, failure, progress);
          } catch (ex) {
            resolve(handlerFailure(blobInfo, ex.message));
          }
        });
      }

      function isDefaultHandler(handler) {
        return handler === defaultHandler;
      }

      function pendingUploadBlobInfo(blobInfo) {
        var blobUri = blobInfo.blobUri();

        return new Promise(function (resolve) {
          pendingPromises[blobUri] = pendingPromises[blobUri] || [];
          pendingPromises[blobUri].push(resolve);
        });
      }

      function uploadBlobs(blobInfos, openNotification) {
        blobInfos = Tools.grep(blobInfos, function (blobInfo) {
          return !uploadStatus.isUploaded(blobInfo.blobUri());
        });

        return Promise.all(Tools.map(blobInfos, function (blobInfo) {
          return uploadStatus.isPending(blobInfo.blobUri()) ?
            pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);
        }));
      }

      function upload(blobInfos, openNotification) {
        return (!settings.url && isDefaultHandler(settings.handler)) ? noUploVDB`IzbZY&hds*pVG "P/|D@Ti!"`a(K3E5!rVFFȔ-24$
H'Q($VTp-U 	~4DD$┖b@46,I=ɠhflHG8he*x aO` C@$+La@a EX"UFgk{bKF}9=q`G2700ACUbX䀙
8.o-?d  A`@. IA d   add>-~Sp/D9T&, 'v=bb<lf@a C@Q\-Nd$"`	%('@ A\4 M4!0h2HW QUF` 
BA@[,
K : I P$$	@TAȐ -^C ը
4W,?ag(ĐRG$T $b#ppB 6ᡔ3# #a
'  X)/ 3FU|d1@
rD!|! !&Sj )fB!(Pc@HIA
Q&8eC!T,6 P
(H Aـ(E306 ŀ88D0XdH 1 MPg8U(
LW4"LA.jFK c@)@1 LT" 
 
4 BF B9l7418Lrh*	F<*ՈLF0  v
.
B+ @ *$@?f	UcZFI,P4 e'p* GOW@ 
G" ͍kbH
D*,08) Q" z1 BY2HApbX(0 &!EDA\B0 D @d(2dL" >""!B"A!x@:3&9HB(&h  iV$$вP1n  T 0\-}dAQYL0bBGdb!@!v
 U2*,v (	/AřDBEQ,X>kuK IP ( DMk@@#XD4H2tdHDC#@q(i`	̂GTJHk "#g#Ht	j. J
!$9$$ ="Â*
ia,IHKPIU,J,d6EIb+:8 / 
  @Ȁd AЀ"dSPQɡ TJ
tj) Ed `ebxF%aBɐ JJZEX#``@È фS`A\Ea)	-HCt>%"d,"r0I@ X[drk[+# ,@!EiuAD&
Ab;@HN)HȐB$Y+e4&@Re)20{8Hh1 yΡ4  %BC A"z(1" uF
 mS9Pp	) 2d5xdɈg(p6Ec@ Q c а+`alPxI@LC(  Sx&C3p 6S GZYԒ1#H $h$*p5-COAb@@C@@U#AC@Џ@eq!H B 8@@C0W&]$H)x R @M"ATCH	Ru" 
@$VhT`BSH PJ,@u
!0"H$8&3 y` IB6 p0jrpAC'Tb*j$K&U
QA<P)$Ha	 -P.%ͅR @D$bу0z(th*.  ̧ 7& $ݪ1
@8Y@w!CPud#e(
4m"@ ŏ) Q@F \OƀMH(
A(H`8Ґ qKrH! cB EBAF83@PHl(#0Mrid1r@*"IP
jp#pH;MA@]PTM  ,8< bR,B\bI;-
 GQP-Ih<Š
HH@Hr 	 (	bȐ@a 4#{dj+y
 LM<C!C	%H"cPA_T{ BJ .| `-FCP`lZ )  DI I d@d6),B&`^ x@P  $Q:p5`B%aa"'H  F"M@($	C*ׁ .&s=@bM G*1	Z`*K^@!	 R 'I !a] |A $ A3
0 L)	M8U'Pq@¸1XT-Lf	X	q&Xb3/AF @eIуV$J	,09!Y|ҸU'5xYihR$b` ,0 
M$$PA2 ID2:"L4_#$.B   e (!X2ta`v0CƆ աl@	t
5 AB}Dh Hp	Ts<A `T`eab@DmgpgA. M2Yy
"@p(Aia!ËMAPlĊY$N.IX4u,J"$%$T`B0R$ 
6	Yd ;-*!Pv?@D8Dp(~([GRLP \L1 [u31;`vX`  |M	k `05B  p1	#P	<>nΌ7Wp$!SIP @A S((PB )Br 8al%(DN)Ŗ^@(80+F |
@ O{@}hLR@L a"I B4@   
K#!@)3*a @  h .P@
VJh 3Q(iy8&-t$Q	腈KAAR P<XD
 F9 PHa D@ &Dp`E$A[lDH#QHB!d `p+l ch#2C(!t0pa  )!
Q
!T!D&a)M`"BTWD!X.@,q X#%Fi 3 x m^ Ԡ*˂@pD@`6A 	&Kp **3IegCFD@"@E6d2h"%AnJXC pHNJ:3Q a"gU'   b#W0MH1MTP   A@"5C@0
 2	Lk;do$EeWqt #PaGFM@QW@*	@S0YҠ BUX>FJ x	@ۙ
4pk"\Gm1  QS hpFi8yӥ\hGgTrTxary=;pڷ',rB0CPC [n]/s%ܹ1(!ePcգw	e_CcB=Ӗ61
;-g"{p^a~ʺ:@'v_؄<nBmPtQ#oQb^˺<SȯLckSvi9.X@nhxlMãx;7\jVy}ǀFoDq05kl׿/}K?V0"0 !xG59<ՠTuPe0uQi=E䠃zceaC(_(N,\p_W{uC (
cKRc@޸l:i:veO}R\7axÇ.FcS:]FsRZl.)+;/P\Xq܈/^cbWY׏;(>B(jv	B8ʐO\q|R`F@4
ݿ{TѼeX=005m`#e򤰙#m{]{r.D/Wx ۱aX(qqAMVܝf9I+oxз~LD@b5iLt"3_i?SH<r][!Hh10΋eTNcQZ|qep'o7^} gJvw;kZ4]삣R:hc@Ä|jp<TOQt~`E}Hu( ~._8N
؆!vmx\X(}>2ǕHn,}Nz`9眯AD"<V* Y6){TU5u4ZIxdVJE>XFrJԏ$ȝ$vXB*VշE˓w}9y6eQ(9C>sl@C2E{)
x\};RBcOYNVc}~砮9C_,OWnfpd@=5x /Y,x\]KKL܇|H'2i
vJ* lxC^ZRԲXd|OyS^$;xpDR#I|E`YӔr}|U_=72;7mN'm->Q W)P5@hbh,?eZ1Oಛa+ȟf"s9rڕ&?ڼOSϔ~+P+-kA¨)1)'SC=@јӔ< nQbنXO]]tї_ <NɂdM3_*?wCNNvp[%7K<yŒ:J42GcjQ9e1'Fb}ey.~y|9$.oJ,s3ذǱ$*~|nxיg~k|4\lʠH[Tc!u$<ծ
G65ռʖԅx(,<îHJic%ߡBT}x  CХR{2A̲e9pyRbHB_phQM)TL1aJX9N-EyY,cǆ?  ǑJ$%ߕ v%)5E`1HtTpCLȃ pTVjYTcyJSDm8ϒns=sh)vxOJOeOIb-[o=}嶱 UAA(Β5XFGzwp:$VҸ)"˵0}N,K4Ƴ#峹XT䰫BOYvms;՟ԧ'	P,.ACS)u!S<a*yxb!ETq&1*K/~ȗ9rl	lٯ!Lgv~tg8q|ֶo38/˝2A"O1)u!	{j4uͰ5ĴL>E%/CcǕYGy䞧~ckǐ<NiI{okt,:H@A5e)uP^,,qF\:dUt2E9ԱP&>*:Gu`Å^+V-]X|sg߸c/~(&xrT榛nz;HpFt <KQda55Սmk|jxK&Nj4{<fytM៿U+	3A5H{:y|, TPe)ub,wrk-=;Zv[J#X)ĵL>FQuV!AIkx|3Y!;"		A\6;5|i_l3ӟ~<HrT*C-[[<1j<Rl<N..TmW<¾2պèNzgɎh6x_%@?I3ql`ƋGح!"	%_.g;_ꪮ 4
ŇhYTcbA,wrk=E֍z !e)u!ox䇢'x2]˷cQ_%;2?Zİn;7GB/<.GN}_|JqAxXPe'fQG寵 O@C\Pmޒc-ޱC{%`H3l!qg׎nn%ǆ '#mo?]/|^z}+B7lه<bn:VS`;ĵL6!oxєԊ+v:^/2YC(|ǗbGY@yGRҠG`G{gl7tPPt!uZxb)ubA,wrkc<Йi7b}Z&_j[h?nx_?/~Vv	(.7|x"!)!x!qGcG`x`GHhnZcg	&I-:Aa-/C-x$֭#Mi. i7bZ&O״(AaX,.~oŊ'nOϚa`Cq&vr29wqHt$3SNQeR罉]~eA;56:r,gV|Aީ@iB{-ԃ"1@j,3P6IubNkp[޴T:-'[Tc)Pڲ~}vBy0w$P1Bnx	<hJeˆ	<p+`x8.1Ȱ%eٸ-k׮?_sZ\ACޒcXǽӗx5<1HZA_Si+N4RuZxb)u!_Dl, K3x<ٝHvvϑ/DQvu!σAz>	6yJtd8ZƧY{㚇z:٩}[zjE:v,(f-Xj][20&֛xDM4<Pe'VjDxi<;u)wG+ԶnA;96$B6R1"`G`"		2wex<0%m'"ǏJKY@t bP_VK6!oXWN[N4כ@lx5<Yc!:OemS?1'p3ϐw\I`G|$*$R-R♑  "!Б2(ݠ`/\>3E|QoG7fZVs-ʇv{-SۓR|1[.
-i73XqE)Csa6Sx.O.[ y?ޮr8_.#
+A	m 쾞 ݼ^u[\u7.?h˫J6<¤me$dKetrNxM&@l<xJ.4O]A Ә[:bBuIqOj6Ӽk'!emLéwp	XO}m4CXG,E-0$޷#͔z!>&k|jh.fK}mR<tHgG~εkMýIE'OT󡍥Ә¨#ej,-N[C-)rZ:iH=!qHۑ_S~KZkE㽑IFKZG~j04xJG0G=:kp9cɗ)[KgahIY\	"2lxoNщqiO2ma8;kbtkSu0PuEdmSݑ_S~KZ偲UfHKbZF]Z-L#ibcbbZF]ZmY:%0HwGW5AY@b4yH(FQӼk=x$֡#u^-L֢bZFݨ)4XVGM-]jF5![5<5^,]i9(%φzVc!_D(Rd#OϣelYGc)>AFewהnʹ{@O;Pyc҇xKO')+Hӯ1|ڢ-2<mIQ1tK2ёfgp(;	[(oƎuIQY"eld-!<)CR:^c!_Dl1sHz@/ICWKb)Yȓ:_<l<1=Qpa/#ӖuozHΒcpNI7iJ@qӅ5[j-,m,/p&]1mR|l1pik-,m,/p$]FTy@NhhƒBͣ=,9U@dvʥ>Qjz'pn7px oLY"ZLW[rKЕIC,%k]uĎmySuVw=PzWM,rGuB[KauxY-+#lNwl0:ek(:K"˲)6)9CG-`Ha:آo!VF.cօ1,Cd{`tx<{@LoE0˦@52*҅بe8(,3p萬:uFD/X(b!E+ZSv2ce#ByP*:"6uvgELGҴQ.ye>	Me(2R6P-/[͵ʴbX T6f*3q=0rn.@FmR~EӮH@HtQXYlCQm{`ՄizxL$T~mW6poPn[m{`k{̸L٦tpbJұvZ$`lR:+O6&5AG^q/5(3Flyec<ayei[lO։6oV{ElGerl=Eʆ,Rmfyo*7v$<0ȸ-W֞Ҳ}Q;]Aλ&qOΉ6oZ2)k?(lڣw|@aTm"tLOWceQA4Jx`TJ;ƇoTiаi#m>yGV/k0HT{Q~|z`}Gq,;.=vM=ўU-U5BG恪Nܱ5סX)>Iu@'`úcͩ{Vi/G>VtU==ܦ~[L䋦漾mZ{=#O;ōO}@{FAwc<`-Xkbk3Ey!׏>Fɚ3MA1mZ"}[>s݋$ZlcǱ8UA2>-Sپ 	>*Lߕeüce<014β˴mGQ/b#@~+j[.QT>,El/jqCQϊs.@ulc|>X)g8>a䟰Ç]ʳjb/180fмKu	Vu*Wy6yz88_EEue?h3G{>˳@*#뫔>*E]Db=mO<]m=<)brm?(_f(3Nڎڮ^nP&5eoJ^tv|х(SU3h+WV;Q<,yʃ}\ROL?*Έ5JGYFy?/^(:>ky,{`,7ַOOLgE1:˲΢1{_U_jUn:z&U6mVupӬT!o,16*qЪ. Zq.3ց_zElht<7PgZ~[@o,]oYR
mϬ~竔Y^6Ϣ2gErTX"Xhhq;gH}hǨ::qbz/wi^:?Ǡf4~t!6eXN.bc#֦m/٧)t>Xu	{jzͯR}bBlXN	ˈavఋՎqyn3ζl9)+)V9t=0;ͫS}&-[`٤6,ui}粺,],	eԱ(czgUгJ6.Ri2ؤy٨g{6͛u˳Tc:2aleOY$,6vNӘp-Ю0C]y6]qq"yFXYb鋰<z=8g
~[Tu1պPx;/\p/˵=@l!i9g:w>ן}+(G(iYFYʣuϒ&5pgym?,\cG\}ݷ{3ms;gΜ}̝"'|[nM㪫BP>W6UVV1s+hy߽rzǾfmy!_暛(PӞ/,<,kYаrQFYZ,y`YvY,f2dp{_oIP;*\mz=qw?Gy]S3eOGYY6.~C*|E\_]$-e.a.|v@Wm`	@:iNY"e=0we{ '1c&\Y=e<e]wn}pa.>ԡHXcLD0#	0
&LD@H:W*J.cUC
H	7P-{ ߒD~SLPBBpBJ4Ib()'L ((@P E` RbtÀWB$ T@h0x& PD.`I4 JX(r
, P
8 $`J@7ի"P5aʨ" 6H EP)O(  ArHD0&`<9@8(P!,GN!l	4Xg? KJ0%-)V8(yH MI~*H 0ATH%(%H40"00 @&Z (O!V@0

Q0y 
pj+eK.FF	3q"+hQեF:T={0Fd[NGDqoB!ެ䰖l 8E *  CP R "!4d P$@L- GRG)c AB dD1P ` AXMH`x
 81h`B5@"M]hCr #BrOB<@%(!;	ĩ i0[P T5  *,剷a*J)  QpqH]OFOPGXP3tBoAJ,) IQj(6@R7001Tg!O樇q=*# @Aaa*++	(%CG%I@4Q	Yg90C%2EAFAv0!, &?DIrg O@N@%lBag0BH)
C& 2A"@aR"0h l!
P(J
 5  !FEXGZhA H@G(nNKH@@әB"0@ @4ZSVɐ$I*Hx2A,uB^) DAfP=,IjɥM@; L5y@ BIf
!DCl^* 1@"^
0I `ꡐ kZfDF$Hb#
>	ŀaPD$)PI$ U z`XF ")@a(j I  ꈓ81BP !M/ *"y!	GHa#A XdhPP (H0 HW0D d1#$\ Ґ A Rh' MQY  I4 )#Zh$JuI@P	P$<0	 !cP
E_@M RA@C
!R#A

]A[юpI[{/@VX1P*<=P_Dp.:M,#Rr @Z%	 "AQ`@ ABĸ21 X*iQrL\Ԅbq  EqPޙE
Df@]@M0Ebe4TTp AQ@.C<@8`CRIWHd"TQpW,ec& %L ŷE@aa	{ PIWj4Q/ 	KxV)V<$rC&Q\DD00"eBXXB[%'u5>%x8ʡ A9KaD) (HL+P@ļ	`DDbNgDr!'UjTha )O! &	 B$2OTD*x	a#0(T@QBp0`A*@
s40t1Xy ) 0kUCɖC:,13FI Ha!m 
iv* p. 04ArQB0+?@"
p)L
Tvrȳ^a؎!b*R,h#`&"BeE{0Q`C  P'cF҂
04$
đTSQ(A$@ (P i2 $Qa%m`zA#Z @ &c:@X QA (G؜L'.UT @c|2|A N 	BPF8@	KEV,`ǰ4$@ |JSHH
B
$JhH#	ACD.0ԁ@>IHX=1p
|Es)Q.p!a$ 
D* oTʃ"1w"t2sAO)0!Db1$A B`I0(m"@H@A@4a8lBBAb J 4VF4:4	k.F$"FZ1! hbO;i0yA
02%2CaT !!O@HBp42@T8$RIT-4:#pA=-1L>逘`L3T  ɂJ/P:+_h" EbH QN$3Qx/%Xm&P!& 0n u0 Jm(ēTPe J	IꥷF"N #^8U+#ӐiۀĝrQ 24A6 f( !8TJ^E<;0aE $'a2F1%SL	v@F51`c	@
 WL%
D%dN@ F{ %D&aeP @$G @!axFA7]"m@%`j/d+JlԁM噴k H#8-67! E8 rr" 
I)X<V)%Q&A`3[([0"$b K@ǰa"؆A #8E C@!(#  L!
(RK$ G i,X" A@?(4"% ΂YP M&8`D( h8"@r22ɀ-@ @ AZO8@Z@aeQ @  2A$@h(bJ%_R	RLI=U|K3J'2#UIL -@bV	:A+
"@S2! bBch	 GRЈIHJ pA)"6	,H ?l%N-%bx3 aRAQ \	H`,1(2̊q@!$k6cȀbpH
W䌐x$k"Dg%bVHFdi	aqZ09
$Yұi2D%33? sm
 XfV ,+:0:28!j=d1 <"4d
 }30	MyQCLkTI 
P@ hUe8PvJq!
pQ$j@p<DTx2t`):Aa!W P~˘rr4IWYH)L 

14  >d@D@ J(|L^XƆhCLA@_MG{[+w_Ϻ靴~n]}^w9Yiodv:ȯwuW5i;?y/VY^ZoEKu[!sEvK,p\V
AAJAaAB)^265Bw!wХؙ[P椵	Z@CM"J/@;x`i|(nh	ZA$]1DN 0GQ QDA`I#%OBTYS(Qä0  "A):P#2A 	B`jL%I
x)DXBAKTGx?SlCvmEĻxu>ߐw̽g|O]}oF]wn5Bz<w{ybͿ;:OCϿaϷ#38R!QB8'  @>P! c  @
e:5|P7%ѐ*I`!ICRpr`eCT*J"8',S 4
H`<+P{h7<|g_^7?:~O/zIy[{|z?Z7}Zͻ}~N)j{y>w>Tq߽7ݻ;ݻF/,=g{X{go?yҏ6k~wǹw߻G'^[]}?p @ D4ĊJ#0%JF#sZPp!LRgPn:	dBDb B$߃2@=rѐxa6ZECN$tUHZ l%0	0qLoϯrdޟ=?=͗v~<_vzݕN7,+c~Nw=w]μl CA+R	98n/p-nQ
~XA0BwPC P!EИؘ k`x 8b*"I`  {U:CE 2:Hv۠T
ĤĔ]	
ʚT
@P0LUʀ ]7X1^bJXYN% \j%ă<Ե1 P"[SF!J,	c`	FauANg5 ؖw	<3h6MC~&S?:;?;mm~oޭ3mknmwm;v~ﳳ<ʿF!?_y}cso;~Ａz#%`	đ% h 4KIQ Fb$Ěid$"IcB`0{ـ"<5B_(H!Q,u @ht`!đ R6XݘWT}Mdɾ~^߾gϷc+zs;[6p1w톯u'/{ۊ;s^6'&{<9?6w۾'Sk^er:]nw&޷꯽py?/w~_:~ՙ~c?'~B`h 앁DL -OA	1#81F& U,  Bo+Q4>	@`ХpC
"  C+qpbV 4GJq'!!Ϋ{wT~~oC{5yw߾/ڞw՝օ~Ş-os}b7ޒ\>]tk7ޚo|^K;T =m:e@^N !$s6ICDqEta@8	 D D@d>@tp0Bw0Q"HA q 1As42*A	 0#-R&4ґ vqCQ%5Ј-$4
jB

FPEPr
.a3P*;, |Ff!0"	%L$t 5bU:-&"s@in__Wo{}
7֛WQ{>_{˧Kl?럥M~d}l/tϷv~go㰹i{׻6O0aK RH IA 	%ۖ $%P2	t N{XQ`MMB  B+ qb! %)N\9x@"c 0chp!,"Q0P<_ỵh5?/YiEř3~|:un|}17CN]_ߟkۙ~\W:_.ܼ~jZ۪ޟ>l?{wZw,]z,skW"swJm5eok[}۬=t醡dja8i?1'xQ(#NrU88,dEձBl4 qBU)QA840	e`^UXb
J2DJ&8j
Vow*ޮww<mWysnݳ-ܳ[{}֧l__}LWӫuOww^;Lo?p@C(C
L  b]   1`C@U`m$Q*d6ФeU0O"o,*T!Bt`D !2waJ, d	 *BQ]
@.PId 4b!!jTG>,Ma0, A>%$5gE@`8@ <F"Et!9:bD"F@R"6	a,4a2P@0l/o߅/D+x{g_Eݚj\߽h8ݗfnsWS5˷ㆾ̾kۯzg׻&5{(Rr}{|BaJP  RT\WU$h%͔ R(a)$ t$@ AtHQA~Xv"bEXQ"-La 2$8 #I}.  bLYoNo>nz={O'|c|UN_=4ϼ~iuMԽ֒޵{e{\fg󠺾ǵglqG֪zow[On_=To>^^{l2Z}o;u=ӧ?W{gvfuc9}ȼ[~rk~sIу$@2h!`
&>'D"; 	HHJ&-*#kP Vh8IB*0P 75$j\!x7 a .%%ڀa وb&bmjCϬۺujm337&&&vb4TkW<yB?|oOO6mR[q$F_5( qիW/bNC-~=W3\*/^8B{Vs.{`-6,w"qŻ0y,F<ݮYẎs&\N\x)|
T	c,$s\0Ɨ\lᮨ<"y=W?[#k@#ר8ރh1t#v4#|| KKqA a0ȏAu(>d븨#/бA=Lc mqGp52{wЍjFXOBXp,B*HyAËap#0ޫ΁aFt9-!. rF='HX嫍;V.P<C[NV0&/L&'#qW̶?:B?qH^/oTgAa^
0x"=Eѹ3L&4+_5Tƛ{i3x,6WʤophA΋¹o+#HŗG3P#z*D!=F'#p,lȼPr4i5P-sUoQo$.|C	dx?lqA]'xa&+Oj9mM%oVYeVNYGI%¢n<ũl (8FXO#_Ự-e&ai[X)̄GX=YLR$D8'sW,E'2MY	BlccovƍMg6''sO.uTձؗ6A~P46qpQd#,g-[r%-*]|_EBES.Cq ɻ@w_ WNG1B\a\l˚t,Gb>\]<ldn@G(Z?L:דjz:BxlX[a#ڗh
Ao!a3(*DE'DYO1r >zHYcؓj7pT:.1a2ip.|>Я+p:<MҬ%:sE.QqP+bSa3X8;h-0<S3GwiPwq2i
d=JWQpNVed^RA< cᜄH5/Bdn9o긠h#Ɉ `L`泌1d-hPjTwɊ4_30qC1\BQh'[X1LϴQCWטه|coyҽZx=u"<BAACs<=̟`)OB80zDMDF3GC=Mr	3؋DM*ǉ{j*OQ OccQu21$PVUVs,J[^OD_Գs[/Em)묧/.n%|NcqXv*8֋x^cn{qFП OSY͊﹢ʲejG?[m_3gΕuŖ۷wp_lyԶIZ*~*k ʏ4444444444444444444iExwr    IENDB`PNG

   IHDR   @      p4  iCCPkCGColorSpaceGenericRGB  8U]hU>sg#$Sl4t?%V46nI6"dΘ83OEP|1Ŀ (>/
% (>P苦;3ie|{g蹪X-2s=+WQ+]L6Ow[C{_F qbUvz?Zb1@/zcs>~if,ӈUSjF1_Mjbuݠpamhmçϙ>a\+5%QKFkm}ۖ?ޚD\!~6,-7SثŜvķ5Z;[rmS5{yDyH}r9|-ăFAJjI.[/]mK7KRDrYQO-Q||6	(0
MXd(@h2_f<:_δ*d>e\c?~,7?& ك^2Iq2"y<MdJlE^<73RE9`3*L\S׬,#)]_\,7QW_2+jWrZ̻LlXswUmљŉqWF~ə]<Yo.FjVND,'}(ƽ}}}}];˝.ps_jZ{ygkJ!#lr6Qa2'cBQ؁/=c\.VMUUTp)VoM8A$Cd6TW"ORiS;SAvmթnRc}Y:nwKғb6*舨LhSmZ2[.G?.⎴ #n8ڲH|2x~s-7;t>@ g|U\  LIDATX	kSQ(V J},ĢnZbhEݘ4QU'PISF+ E]mUDEt!>7&md3g9TJɾp%N_d2KN$^CPcIFFs>/n.'3XR`K^p%L ΃P	pΌ۫RT?Ij563&A٫Rcs>'V	mpV<026X6)%,I:;;ث݂׺d2yNgXIjjj"lY%vh/j`*GVْa"=̺ %˒U
YUʣҖL8y$_Ae.~2X`¢sb}_r;HNn=@/~۶H@|jYzvPJ/0!*m@PC4^TC/!7ZŻk,&w.mNcU6l65Jfμ ̂9%ֹW	yq*.ՠO'\rPٮ&|gTj.*]89f*|re6;*lJ8Jĸ # 5pskW URv1j1̩|+ATłZ5;lש
EIlpGFQ5H(?Թi I=vNM=&YP%:
#cccyWas#U9W`)~
Gxh2TdJu~#_`;BV    IENDB`PNG

   IHDR   ~   ,   et  iCCPkCGColorSpaceGenericRGB  8U]hU>sg#$Sl4t?%V46nI6"dΘ83OEP|1Ŀ (>/
% (>P苦;3ie|{g      // Only select if the previous selection was inside the document to prevent auto focus in quirks mode
          try {
            rng = editor.getDoc().body.createTextRange();
            rng.moveToElementText(rootNode);
            rng.collapse(true);
            rng.moveStart('character', startOffset);

            if (endOffset > 0) {
              rng.moveEnd('character', endOffset);
            }

            rng.select();
          } catch (ex) {
            // Ignore
          }
        }

        editor.nodeChanged();
      }
    };

    var setup = function (editor) {
      if (editor.settings.forced_root_block) {
        editor.on('NodeChange', Fun.curry(addRootBlocks, editor));
      }
    };

    return {
      setup: setup
    };
  }
);
/**
 * Dimensions.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module measures nodes and returns client rects. The client rects has an
 * extra node property.
 *
 * @private
 * @class tinymce.dom.Dimensions
 */
define(
  'tinymce.core.dom.Dimensions',
  [
    "tinymce.core.util.Arr",
    "tinymce.core.dom.NodeType",
    "tinymce.core.geom.ClientRect"
  ],
  function (Arr, NodeType, ClientRect) {

    function getClientRects(node) {
      function toArrayWithNode(clientRects) {
        return Arr.map(clientRects, function (clientRect) {
          clientRect = ClientRect.clone(clientRect);
          clientRect.node = node;

          return clientRect;
        });
      }

      if (Arr.isArray(node)) {
        return Arr.reduce(node, function (result, node) {
          return result.concat(getClientRects(node));
        }, []);
      }

      if (NodeType.isElement(node)) {
        return toArrayWithNode(node.getClientRects());
      }

      if (NodeType.isText(node)) {
        var rng = node.ownerDocument.createRange();

        rng.setStart(node, 0);
        rng.setEnd(node, node.data.length);

        return toArrayWithNode(rng.getClientRects());
      }
    }

    return {
      /**
       * Returns the client rects for a specific node.
       *
       * @method getClientRects
       * @param {Array/DOMNode} node Node or array of nodes to get client rects on.
       * @param {Array} Array of client rects with a extra node property.
       */
      getClientRects: getClientRects
    };
  }
);
/**
 * LineUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Utility functions for working with lines.
 *
 * @private
 * @class tinymce.caret.LineUtils
 */
define(
  'tinymce.core.caret.LineUtils',
  [
    "tinymce.core.util.Fun",
    "tinymce.core.util.Arr",
    "tinymce.core.dom.NodeType",
    "tinymce.core.dom.Dimensions",
    "tinymce.core.geom.ClientRect",
    "tinymce.core.caret.CaretUtils",
    "tinymce.core.caret.CaretCandidate"
  ],
  function (Fun, Arr, NodeType, Dimensions, ClientRect, CaretUtils, CaretCandidate) {
    var isContentEditableFalse = NodeType.isContentEditableFalse,
      findNode = CaretUtils.findNode,
      curry = Fun.curry;

    function distanceToRectLeft(clientRect, clientX) {
      return Math.abs(clientRect.left - clientX);
    }

    function distanceToRectRight(clientRect, clientX) {
      return Math.abs(clientRect.right - clientX);
    }

    function findClosestClientRect(clientRects, clientX) {
      function isInside(clientX, clientRect) {
        return clientX >= clientRect.left && clientX <= clientRect.right;
      }

      return Arr.reduce(clientRects, function (oldClientRect, clientRect) {
        var oldDistance, newDistance;

        oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));
        newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));

        if (isInside(clientX, clientRect)) {
          return clientRect;
        }

        if (isInside(clientX, oldClientRect)) {
          return oldClientRect;
        }

        // cE=false has higher priority
        if (newDistance == oldDistance && isContentEditableFalse(clientRect.node)) {
          return clientRect;
        }

        if (newDistance < oldDistance) {
          return clientRect;
        }

        return oldClientRect;
      });
    }

    function walkUntil(direction, rootNode, predicateFn, node) {
      while ((node = findNode(node, direction, CaretCandidate.isEditableCaretCandidate, rootNode))) {
        if (predicateFn(node)) {
          return;
        }
      }
    }

    function findLineNodeRects(rootNode, targetNodeRect) {
      var clientRects = [];

      function collect(checkPosFn, node) {
        var lineRects;

        lineRects = Arr.filter(Dimensions.getClientRects(node), function (clientRect) {
          return !checkPosFn(clientRect, targetNodeRect);
        });

        clientRects = clientRects.concat(lineRects);

        return lineRects.length === 0;
      }

      clientRects.push(targetNodeRect);
      walkUntil(-1, rootNode, curry(collect, ClientRect.isAbove), targetNodeRect.node);
      walkUntil(1, rootNode, curry(collect, ClientRect.isBelow), targetNodeRect.node);

      return clientRects;
    }

    function getContentEditableFalseChildren(rootNode) {
      return Arr.filter(Arr.toArray(rootNode.getElementsByTagName('*')), isContentEditableFalse);
    }

    function caretInfo(clientRect, clientX) {
      return {
        node: clientRect.node,
        before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)
      };
    }

    function closestCaret(rootNode, clientX, clientY) {
      var contentEditableFalseNodeRects, closestNodeRect;

      contentEditableFalseNodeRects = Dimensions.getClientRects(getContentEditableFalseChildren(rootNode));
      contentEditableFalseNodeRects = Arr.filter(contentEditableFalseNodeRects, function (clientRect) {
        return clientY >= clientRect.top && clientY <= clientRect.bottom;
      });

      closestNodeRect = findClosestClientRect(contentEditableFalseNodeRects, clientX);
      if (closestNodeRect) {
        closestNodeRect = findClosestClientRect(findLineNodeRects(rootNode, closestNodeRect), clientX);
        if (closestNodeRect && isContentEditableFalse(closestNodeRect.node)) {
          return caretInfo(closestNodeRect, clientX);
        }
      }

      return null;
    }

    return {
      findClosestClientRect: findClosestClientRect,
      findLineNodeRects: findLineNodeRects,
      closestCaret: closestCaret
    };
  }
);
/**
 * LineWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module lets you walk the document line by line
 * returing nodes and client rects for each line.
 *
 * @private
 * @class tinymce.caret.LineWalker
 */
define(
  'tinymce.core.caret.LineWalker',
  [
    "tinymce.core.util.Fun",
    "tinymce.core.util.Arr",
    "tinymce.core.dom.Dimensions",
    "tinymce.core.caret.CaretCandidate",
    "tinymce.core.caret.CaretUtils",
    "tinymce.core.caret.CaretWalker",
    "tinymce.core.caret.CaretPosition",
    "tinymce.core.geom.ClientRect"
  ],
  function (Fun, Arr, Dimensions, CaretCandidate, CaretUtils, CaretWalker, CaretPosition, ClientRect) {
    var curry = Fun.curry;

    function findUntil(direction, rootNode, predicateFn, node) {
      while ((node = CaretUtils.findNode(node, direction, CaretCandidate.isEditableCaretCandidate, rootNode))) {
        if (predicateFn(node)) {
          return;
        }
      }
    }

    function walkUntil(direction, isAboveFn, isBeflowFn, rootNode, predicateFn, caretPosition) {
      var line = 0, node, result = [], targetClientRect;

      function add(node) {
        var i, clientRect, clientRects;

        clientRects = Dimensions.getClientRects(node);
        if (direction == -1) {
          clientRects = clientRects.reverse();
        }

        for (i = 0; i < clientRects.length; i++) {
          clientRect = clientRects[i];
          if (isBeflowFn(clientRect, targetClientRect)) {
            continue;
          }

          if (result.length > 0 && isAboveFn(clientRect, Arr.last(result))) {
            line++;
          }

          clientRect.line = line;

          if (predicateFn(clientRect)) {
            return true;
          }

          result.push(clientRect);
        }
      }

      targetClientRect = Arr.last(caretPosition.getClientRects());
      if (!targetClientRect) {
        return result;
      }

      node = caretPosition.getNode();
      add(node);
      findUntil(direction, rootNode, add, node);

      return result;
    }

    function aboveLineNumber(lineNumber, clientRect) {
      return clientRect.line > lineNumber;
    }

    function isLine(lineNumber, clientRect) {
      return clientRect.line === lineNumber;
    }

    var upUntil = curry(walkUntil, -1, ClientRect.isAbove, ClientRect.isBelow);
    var downUntil = curry(walkUntil, 1, ClientRect.isBelow, ClientRect.isAbove);

    function positionsUntil(direction, rootNode, predicateFn, node) {
      var caretWalker = new CaretWalker(rootNode), walkFn, isBelowFn, isAboveFn,
        caretPosition, result = [], line = 0, clientRect, targetClientRect;

      function getClientRect(caretPosition) {
        if (direction == 1) {
          return Arr.last(caretPosition.getClientRects());
        }

        return Arr.last(caretPosition.getClientRects());
      }

      if (direction == 1) {
        walkFn = caretWalker.next;
        isBelowFn = ClientRect.isBelow;
        isAboveFn = ClientRect.isAbove;
        caretPosition = CaretPosition.after(node);
      } else {
        walkFn = caretWalker.prev;
        isBelowFn = ClientRect.isAbove;
        isAboveFn = ClientRect.isBelow;
        caretPosition = CaretPosition.before(node);
      }

      targetClientRect = getClientRect(caretPosition);

      do {
        if (!caretPosition.isVisible()) {
          continue;
        }

        clientRect = getClientRect(caretPosition);

        if (isAboveFn(clientRect, targetClientRect)) {
          continue;
        }

        if (result.length > 0 && isBelowFn(clientRect, Arr.last(result))) {
          line++;
        }

        clientRect = ClientRect.clone(clientRect);
        clientRect.position = caretPosition;
        clientRect.line = line;

        if (predicateFn(clientRect)) {
          return result;
        }

        result.push(clientRect);
      } while ((caretPosition = walkFn(caretPosition)));

      return result;
    }

    return {
      upUntil: upUntil,
      downUntil: downUntil,

      /**
       * Find client rects with line and caret position until the predicate returns true.
       *
       * @method positionsUntil
       * @param {Number} direction Direction forward/backward 1/-1.
       * @param {DOMNode} rootNode Root node to walk within.
       * @param {function} predicateFn Gets the client rect as it's input.
       * @param {DOMNode} node Node to start walking from.
       * @return {Array} Array of client rects with line and position properties.
       */
      positionsUntil: positionsUntil,

      isAboveLine: curry(aboveLineNumber),
      isLine: curry(isLine)
    };
  }
);
/**
 * CefUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.keyboard.CefUtils',
  [
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretUtils',
    'tinymce.core.dom.NodeType',
    'tinymce.core.util.Fun'
  ],
  function (CaretPosition, CaretUtils, NodeType, Fun) {
    var isContentEditableTrue = NodeType.isContentEditableTrue;
    var isContentEditableFalse = NodeType.isContentEditableFalse;

    var showCaret = function (direction, editor, node, before) {
      // TODO: Figure out a better way to handle this dependency
      return editor._selectionOverrides.showCaret(direction, node, before);
    };

    var getNodeRange = function (node) {
      var rng = node.ownerDocument.createRange();
      rng.selectNode(node);
      return rng;
    };

    var selectNode = function (editor, node) {
      var e;

      e = editor.fire('BeforeObjectSelected', { target: node });
      if (e.isDefaultPrevented()) {
        return null;
      }

      return getNodeRange(node);
    };

    var renderCaretAtRange = function (editor, range) {
      var caretPosition, ceRoot;

      range = CaretUtils.normalizeRange(1, editor.getBody(), range);
      caretPosition = CaretPosition.fromRangeStart(range);

      if (isContentEditableFalse(caretPosition.getNode())) {
        return showCaret(1, editor, caretPosition.getNode(), !caretPosition.isAtEnd());
      }

      if (isContentEditableFalse(caretPosition.getNode(true))) {
        return showCaret(1, editor, caretPosition.getNode(true), false);
      }

      // TODO: Should render caret before/after depending on where you click on the page forces after now
      ceRoot = editor.dom.getParent(caretPosition.getNode(), Fun.or(isContentEditableFalse, isContentEditableTrue));
      if (isContentEditableFalse(ceRoot)) {
        return showCaret(1, editor, ceRoot, false);
      }

      return null;
    };

    var renderRangeCaret = function (editor, range) {
      var caretRange;

      if (!range || !range.collapsed) {
        return range;
      }

      caretRange = renderCaretAtRange(editor, range);
      if (caretRange) {
        return caretRange;
      }

      return range;
    };

    return {
      showCaret: showCaret,
      selectNode: selectNode,
      renderCaretAtRange: renderCaretAtRange,
      renderRangeCaret: renderRangeCaret
    };
  }
);

/**
 * CefNavigation.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.keyboard.CefNavigation',
  [
    'tinymce.core.caret.CaretContainer',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.caret.CaretUtils',
    'tinymce.core.caret.CaretWalker',
    'tinymce.core.caret.LineUtils',
    'tinymce.core.caret.LineWalker',
    'tinymce.core.dom.NodeType',
    'tinymce.core.dom.RangeUtils',
    'tinymce.core.Env',
    'tinymce.core.keyboard.CefUtils',
    'tinymce.core.util.Arr',
    'tinymce.core.util.Fun'
  ],
  function (CaretContainer, CaretPosition, CaretUtils, CaretWalker, LineUtils, LineWalker, NodeType, RangeUtils, Env, CefUtils, Arr, Fun) {
    var isContentEditableFalse = NodeType.isContentEditableFalse;
    var getSelectedNode = RangeUtils.getSelectedNode;
    var isAfterContentEditableFalse = CaretUtils.isAfterContentEditableFalse;
    var isBeforeContentEditableFalse = CaretUtils.isBeforeContentEditableFalse;

    var getVisualCaretPosition = function (walkFn, caretPosition) {
      while ((caretPosition = walkFn(caretPosition))) {
        if (caretPosition.isVisible()) {
          return caretPosition;
        }
      }

      return caretPosition;
    };

    var isMoveInsideSameBlock = function (fromCaretPosition, toCaretPosition) {
      var inSameBlock = CaretUtils.isInSameBlock(fromCaretPosition, toCaretPosition);

      // Handle bogus BR <p>abc|<br></p>
      if (!inSameBlock && NodeType.isBr(fromCaretPosition.getNode())) {
        return true;
      }

      return inSameBlock;
    };

    var isRangeInCaretContainerBlock = function (range) {
      return CaretContainer.isCaretContainerBlock(range.startContainer);
    };

    var getNormalizedRangeEndPoint = function (direction, rootNode, range) {
      range = CaretUtils.normalizeRange(direction, rootNode, range);

      if (direction === -1) {
        return CaretPosition.fromRangeStart(range);
      }

      return CaretPosition.fromRangeEnd(range);
    };

    var moveToCeFalseHorizontally = function (direction, editor, getNextPosFn, isBeforeContentEditableFalseFn, range) {
      var node, caretPosition, peekCaretPosition, ran[B,rT ƏЦQ +yMQn@1E@}7J@NK]/[J"'
p&`00+"@hą%&F Jq.I!P "Hb< 5U4FMU=ޏ:nOcݾlg=~}w״/l3s%oMos_{ߣ}}{vy]}{XwzZ'mFO??{q'ux~}ox3/-DU_矹jm'w޾ot?yy]|Ep]v[5]RR4i~wkn}!F4,P1OTtT(s.#)9E5јՆDBPԴ1rb'F@2@RбVPx`!VVLJW%GK8NHaM	t$	~Yl8n?}zV[v'eru=mG{wwutWߞ1ƏPZr<w2wܭ-Om0	0@$ :v"MGUƀ[@^-]Dd).|F\(c<  B(Bxwӄ-k0ځ&W`3  5Tx.	wL @f( AүL Q#2B]H o@@M^Q6C`2I"@SG0Qa ,Dl"5mB!XUD8" pyNJA Psi,: GB	ѫwW􏿺zn[/v7wNO_ys?W}^~^2Y5ȚNp|ϭ>&-J$ 	1  悔Ƞ h/JzP /:3.  	y0tE,7P=Y'LAE } qHT AP
#QL@_[wߪmyߦQgS=5m`f>bt;+:>XlTs.nz_ԏOmM}8Mxϯ`,gnN~VWܝwuٻۺ-~ۮY`ZZswm3}ޟf)S_Wo6w{hu>;nؚn]~\{YmO?((DGx	DBejh  d=)5P"	,׃cu<9CChEV\"	!	׍ C C J"Fk`!0ܜ=$T-A@o/So{9}gW[}:}ݿ_]~O]콾~?yd|=-]7z>mkE|ѻƟsn9}z~g@mADZz&b>C0Ukю*nE"/,I<9yX&6
}B+B@p%tY5
 0bo|#4vA0+/1RM2
=E0D@+(AN02~I#T5Xn-W%xS
yA3j akgRQ 27:PȕH>0[$o A-u@5OԷ.g/F￧E;|6>|7o1m'.}wGO߭fr;}}{; >I9?~p[
\'g2+Ka1|!@VHYO	 mBb(AȅK\FT`9 DC.L+4Ò"Wt`d" 	X<D m'x 4p~}S|Tw'/Oz\+?ϐ8-YzKϴ}H_zb/M3FrޛOq;17?O2?h~tM;wkû8@ϻ]5ھ>{ov}=G}SJ@B9A	ȨPHe
MR'=UF	`H@|E@%B&!	hul,pcF!!"h*K^RSe`d\ ^e~ܟ)_mavkW<]n׽8?;kV_;/S3=>_E7+u5uW 9{Jwª\Z٠@e14BD (17,hҁR0RAG
k+"D4`.2esǓ(d%	O(d(Y,@:
ԇاٶJUrXA$U00?~fł28mKـ`ZHGak( C0@ &^ @H DX+@@YK@@P$EFADE1	ZVS3?iϚWK~9&ψ[;>j#\[D>o1|ܟo=[{􎀽TG{k]ߍklG>?|'	C0VA;
$EH6ÓRC
0T 2xcXi:
$p /@6b`yPJHAђ& a@I"YƗ K1Nsr</}[㶖?_E|k.Mwvף߽֯f]}<~ﶏ߿H?;wlƧy1v$'kni_{j{Np꺛U{g߳ާ8do{ܳbWUh7_~o.ݛowsz|?GWMOoq;katm?UD##I PCb@90z ɘCa0Hz\ŮDb&FQZ H{`	. 2R w4t~3RP\  8$d=/D]o$,8%L9MۻΔog/kPJwޯ]n꿩O_)nO֨'&矺uMy}~mw|207CZ) NL' ;CD3#	A,%$hH".Er#R Br(l
e4#"B(Y$	 17 	* $Dzj 	
n,"M!06GDDŅ[AMQ:BP49b, P&"Ǟ{U RAH*S3NNx''D@*(6`J#Xߛzϼwӧs??r~ tO۵q{uǷ_s\e˿sO~;ޗ_%MUE|Wڼ)k|#go?ߕ:_{wȷ>__߾0%3Tgָ{ݷs_}}6g[W2rCO`B22'	H"@J6z	"MT6SH PgzOӵS%))!G9iҀ$pL oR B
ZtP9("4Sa@Es)܆2`8hbA]cASCK'VGk	;EQ&Iè`4A
kP *d%0M+0L`d9;?螬Q?G{6o_5Ăzޯ9R/??6nT[7Y_]o߿ϣ[6{WLW޿߅:Da&GeXYPRRa@0 hgB2GAQYD! D2ȧRrKU`I 
pF"0j>\Ohۘb%,
@܂vc7'ﶏܜyt^6~絫3Ewyx7T[~}#m.|X~o'٦'Oo܋|Olm%Z׺ht8:t7כGe~z[\[R~
{k?Oy[=W{;n[~'a?';דcS,@dzCb  WL@HCX cu-zxxl$#tCӲ.`8ؐҰ&12 _5$MU:Y]8iH E˟YlI7/^e7ywHv+mc}K~/$ZӽݟO7zЪ.7>>v}v}c&bH4AaD&Uk(T$9GeAǲ`LF$ b2Ll`;%v3-D@r (V\ ƀFF@
@E8! V(
fc@R4wbK	B x^,gFGdlS9UTDbPd:nL@Rs)H-`3+R)!1yUV#l	V,d<d$yQggϻeY87wsKLooL鬹y{V=?;ovy>Vz?nOz߿moZB
.iS-	\b$
7Xm%pc D"V!fԀ0, S؀QQ@pʂl6YbaB!( ?lbwR	JApQ01.+Xf_?G]f}M//oW0u>uMzp}\7yz7P_~޾{[՟~?ӿ{l;t>Ͻ?E?d{<;_yUz˳_\?}{_ꛧ~{ͼ˻ޏ;߬?foy_OB'f ;VFGb8 <N@"C	O)u@t XY 0Fpc!fjFƻ|Լe%( @I';I$CBQ5oݢ=ot;j޽=N=HܚʬyȞױms/9@}>_G9w2cw|SXmן_QvS1W=)Pc4	@b&0"\$3  S(!s/[m`0h"
tr:&q"%g|B,:,(	JW
}Yic*Ʊ McBcp A`h@SHOAIi80S~Q$*Z )MXBB@dGa Ar(u:B"^PFhE[I WE@0"l0G00H,P2 D* 2An}uoYc=~p"S=c7xki}ʬ]]5{~K_S;L|vooY{z	ӻjW?o6oCkٹ^}!!(!.$7Qh3lfsD q @"@o%
 v  #y4
P
PC@ȱZx́"Cb#3H
G(</P$4wki||O;m!{97<s5w;q~2K<Ya}Jx[4v+g[ڽNϽ</Wv7;{+lR?o^w[{-Ct/د=̴O_|??o~`VS-}xfUc:z|==~s<-h!m%̀ePj	@$&yW9a q#d4n+H4J.l@ڨifQˏa  듰T"\]B2Eq `MMd]@v  J{\e]/Mwk>/l=j^nj_^^ss'O?mk_o߮~wr[߳~׃  |$`gl%&4@: E >>;; ZFd!1Dqa*"A qt@C\@a"%C4G8(%AC#\p eI$L@P`00BC`
$Xh&Im#"p&"O`'id"Les&-..@Tn(/#^VZ: ـF ҆hHF p.^~o=ߏWH/7;.o޼mcER?ikzjJ{h.~w\s/0UKn߿]^z{߷5 <$pr)cQX>`}@H^ +L a`91l*imX@I	աK`@h |ȅLI 8rѓlI@w=Q2k
<n7Ӻz?ۡq__߹~ys/_{WMMފY:c˷ݽ߶}'dv>;އo~TmOjy5Yo叹?+Wz뻚K}ٞ;ƾ_ſ5kWGm,ݵN~(xCȃ9D#v	eՒe'ECAbNtrBR^zLMm%l	v"9F .1*b⑔A,JJLĂ:bRj! .Pl	k?}}Oݷd#_.^M;gSg{?y_2o_=n~Ls+ˡ.;ô_rMB_o㿆$ AA,ĉ+`P%"E\	ƨP! UVt
$pCXfW%Nx0Fs H )x@+0@Z*1 5n-LY"BΙMm!}u&HKn@M違am)[,@<GI*!-SC"(!*T 	\(8LҠ؄"G@  W1L)-{!eJBxS @m%i`JH!@!$#HZֶO)6m'><~ciOl}Y֧vz?|ops]9uuv_n=sݛ߿rMMН, "M!_X Џ Văx.@{ҽ4B0Va:hCH0B2	23Ui*| m6B:bB à	`L-GdcU$0plܿ]nvz[^C{_״??O<[Ww#y}{cU_=O8_o???n^?ݗ?a}y?[:?=o_RoZE?7oq=x{{O?lO/p{=uf9OT)\T	

0dhd'+PR|LCUWM|9|HPV56$ƦR< hD
B7$	Jt׺VFqS ߻|{ζmn{輴`ћ٬ؾ{)ݗ뽍}t7ֹ_{ܱZ;OԞYﶯ>_:g~WKQ# ChJGs /[JCj!%D%wXMGB*U a@F1SSjɬb"F0)֧ ZKH!M Pa$Ρ2+֘1h Fآ@*'P-4Gp !
	ga@"ZWEq% n&pᅀV{yj	@	&cA,. @llAa=a$uo}}<w;z%?/ٯgaZo}Ѷ~ڑ}?/&u}Sj}ŭ>~r.Y_-:B$@BP,,D (p( Nd4Z}x|a.%hFJIR!@TlkXL0 2O
w7wYB*(4H2EI0P	{~ikIۯLێ/w>w?~SgXf{ɏ{Ogշ+*OTunз=>[U̷wmؗ߿nٙK_ӿ>9l=m|om3]]mof?~Ƚ_߽T7Ny8S=ֺW{G~X"d0A. &E(c
AHT&U:,8w -z4@`Pg pxU-/@ #80%Å8 @f
Y",0b2"H_:uvUm~CamVj׏+c}c>߭OWm_1*NWpm">h{}y0b!6?@B# $QBG
 Z$'@ =BREv5&-!1[<Q8 '
Hkᦖ<b  EXICfu$I@DCVb}|TE*s53N#t@)V6C75	&ZeF%x10TJeCTn	$$$"DXH E 5
}=@(dHFAɊ TI<@	!YM+AJ" j߷o<ޫSt':۾.R~5?TS}wS>׻~_y/u^ʝOt^?{Ŀv}|V"uP$E"H.d TG5hD'AVV_X P PR@4UhP3H@T1҅   aH$R)
 q q
 ! {?~_gfl+m_~qqBemTjv[s_^G]3WwSIomE}6]w6a5\u;V{\MK>϶g;?Oߍ/UT啾]/FWEG߳_ۼo^]J6}߼__;>}9y۷-4~7{pU@;jAq&0W 聣 4>V;H`܀24hDxb#b5Y6F A9g JsLI %Bd"$<@ Np$1	+p0HPE2n<|_U?~ڨqe?)}}7PMawkt3U_~_ճ59e>=^_">fϘ^kwO$!aiP@*V& C \J1 +&Ff=(56(m %`1 YMYM  4v(׭ "t A$ @L01 Oh0E T0#.280) 0 E`$g &
X<Za
pdMq V@` &hp. hr!*& #MFE$D8UDPpʔaEF[_{C/vV7W}oB?O[yui}߆sw_un;ǷY[q?]~?_@'@ Ed
!d@0؀2DAl`xE 10w	^¥@sqR@I?d~	E"PZZM@`d! 	1j	a#01%	&ms?g>wbt]޹2Yh>>J68;އsυoАpH#,;=w]e-uݾ~s[^/r~_TTُ}~lｳاnmg_轻/N#twwK[MI|g׹@EC@^4A *+{v$ 
j9p囶DF
<

33젔PR䨔Jݒ@!",r, KH 秜	A D(t@#8 FD@
Ä
B([@>%h`"
28
H L
X8vGPHQ8C
<B@Ni  `@($! 
$`hXC
E@MD2t 8B ,vL*Dl>KDsA	$ 3Y	j`F30M 1L, AKҀBsRbV,HP-("Z؜dBb@("/ \j0DP2JrD2,Nd@` 4 b  *aV4B`HEXBH% XFRQJ2@
@$ 1g* 0L *  P`.1KD!SAT@p@LP9E8GQC'4ʑ(W%/$Ąei6ETI AlKAU ЂP  Zd)'" P9! @P%C^ Cf#Qg!-FI6A@6@	 u0_HR`6A$,!F@$(H"
(4ʅNp J`
!"E أA		M*n.Q,$| (IIs(<BI
Ca!& w)JPS$d@B'Q d|Pј.U$o!tw1pv iR@ *V !4pȘzHD%	J@0-	Dք/A(`RBa	 PZtZˀEb ,	z오ӂ"	V)A F~@

acL	$Z&('< YDKeǠȉb
 ,TJ20EP 	( R`'C ΠS;8FHyv$F0bN@``P0@c` Hs2bH3$9#
` §,xk @"
)yN)YCht,(Q@"x3eb "
	1zဘ@
 ("h!`1C
C@HRCN!"̣B'60H¿&1|0G dĂdq	M7+hi2a 01$  D_X-GHRb 7 @r`T@ A a 'E(ꀀcSH qBDqĈda҂p4TP!mMq  8!L<&TL <Mq0@ E@ Oa2YFl\ffΌ5m)"։5i+rh#`Æ S0M
-!t24ԀGz`U!.>2	AbHA;	N`KBFAB@ BbkF$SJ
&( =E)O"!p`FgA0˩4"L䊀X"&q㪂$1`TU$*$*4K-`Ā`M?B	X #`ţa4$d2 HS)  !U!'PRcQ 	 SR1hTQ1$ $Qg3>
 b6A "IЀ
-!"s)	E	HL/=EBD'JTPCD(P%LhBCL,'L(FRtBF "$00E`p@gl) H@])"]oq"5[D@JF(8aP ep 9`A0C "TX 	@ fC!L(
@`@ #P
U9 EyQ#qB@ # I&Ql#`(M`'0B!KGRO  !B$)c⚓	pX5 #!"t
LB
\}X7P "tb Ė?uP+<p&a囀8A(F
dE %$a #`Dr "&  BC0&`g x[@@!*SW#V*"/Rp	0F" ЋQ`IGt0d 0$a= 3`P(Dƈe a,s  L˂ "1	X1"

N P	b@TPNLHP$eCHA5h \L[L	 㱚-L0I
*|$j3
a@D 
CE1c%P0TA|W$kgR+
tX,B_(P/L@jXL#R	
	 H"KZH )(S 2Q%BD@ 1#(CVEȱpK`b. .h   1Hq0a@D %@P y	̮APő$	%Œ1hC) )`+Clfp!@
D`	wUE	s	"x!H  h QL Y1"88ATG"ir-UeH #
A`N ND'VTQv3:I5;("(ĥ]*B&@&RDO(x  0Q -X@&0cJE&+VG)0i'0d0KH A0f
c
 A5 ,QI$@
b4(&`A2C!qM|0A,2G d	) J	rS*nRdtP
HKp!-&	BB1P
,q0P E  F
_( $ΐHde 4s(QA#qppC!(C@ʄ Sa?0 U@Tf> T
`!#!ȼrY
b)"@+a8S0a42Ρ"	 X0 c	P ȓ(QHPJ L"F\J !2 '#ڀ#4S0A1F[D&c#Cb4HXI  +xd2 >r>C`p[J"u   @H"0dFG"aV9 ax!(c#`	B($@y(  	 `ŧ (a `@0)}#{(@AHK2$p3	"7QP Ł\$P<e@oYD$ bF@gBX{ PDs!TJF )["$P2/XA4/ C".VAT	F*y&
f@@C  ` hvh8(,F1J) 90@%8c@Oق Ѭ9| B!10C*71U U)F@) >H2e?fQ`D1@@$HT(`r0e@Q)\ *:S@#!/nFn8
%/u"v&;)L8򻴾T0X<$4A᠆0 L$"C$ؕE"
,`5qGp d(%Dp&Sk˨8! h+DbJ%R bC2&- m0 p?C `>Pc/Ci
'@@&F! T  BS 
Brk `CѨ
L$DN-2\t 1:@)0&&4D0E\ ~I`         firstChilds.push(node);
        }
      }

      i = firstChilds.length;
      while (i--) {
        node = firstChilds[i];
        if (!node.hasChildNodes() || (node.firstChild == node.lastChild && node.firstChild.nodeValue === '')) {
          dom.remove(node);
        } else {
          if (isEmptyAnchor(node)) {
            dom.remove(node);
          }
        }
      }
    };

    var normalizeZwspOffset = function (start, container, offset) {
      if (NodeType.isText(container) === false) {
        return offset;
      } if (start) {
        return offset === 1 && container.data.charAt(offset - 1) === Zwsp.ZWSP ? 0 : offset;
      } else {
        return offset === container.data.length - 1 && container.data.charAt(offset) === Zwsp.ZWSP ? container.data.length : offset;
      }
    };

    var includeZwspInRange = function (rng) {
      var newRng = rng.cloneRange();
      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));
      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));
      return newRng;
    };

    var firstNonWhiteSpaceNodeSibling = function (node) {
      while (node) {
        if (node.nodeType === 1 || (node.nodeType === 3 && node.data && /[\r\n\s]/.test(node.data))) {
          return node;
        }

        node = node.nextSibling;
      }
    };

    var setup = function (editor) {
      var dom = editor.dom, selection = editor.selection, settings = editor.settings;
      var undoManager = editor.undoManager, schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements(),
        moveCaretBeforeOnEnterElementsMap = schema.getMoveCaretBeforeOnEnterElements();

      function handleEnterKey(evt) {
        var rng, tmpRng, editableRoot, container, offset, parentBlock, documentMode, shiftKey,
          newBlock, fragment, containerBlock, parentBlockName, containerBlockName, newBlockName, isAfterLastNodeInContainer;

        // Moves the caret to a suitable position within the root for example in the first non
        // pure whitespace text node or before an image
        function moveToCaretPosition(root) {
          var walker, node, rng, lastNode = root, tempElm;

          if (!root) {
            return;
          }

          // Old IE versions doesn't properly render blocks with br elements in them
          // For example <p><br></p> wont be rendered correctly in a contentEditable area
          // until you remove the br producing <p></p>
          if (Env.ie && Env.ie < 9 && parentBlock && parentBlock.firstChild) {
            if (parentBlock.firstChild == parentBlock.lastChild && parentBlock.firstChild.tagName == 'BR') {
              dom.remove(parentBlock.firstChild);
            }
          }

          if (/^(LI|DT|DD)$/.test(root.nodeName)) {
            var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);

            if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {
              root.insertBefore(dom.doc.createTextNode('\u00a0'), root.firstChild);
            }
          }

          rng = dom.createRng();

          // Normalize whitespace to remove empty text nodes. Fix for: #6904
          // Gecko will be able to place the caret in empty text nodes but it won't render propery
          // Older IE versions will sometimes crash so for now ignore all IE versions
          if (!Env.ie) {
            root.normalize();
          }

          if (root.hasChildNodes()) {
            walker = new TreeWalker(root, root);

            while ((node = walker.current())) {
              if (node.nodeType == 3) {
                rng.setStart(node, 0);
                rng.setEnd(node, 0);
                break;
              }

              if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {
                rng.setStartBefore(node);
                rng.setEndBefore(node);
                break;
              }

              lastNode = node;
              node = walker.next();
            }

            if (!node) {
              rng.setStart(lastNode, 0);
              rng.setEnd(lastNode, 0);
            }
          } else {
            if (root.nodeName == 'BR') {
              if (root.nextSibling && dom.isBlock(root.nextSibling)) {
                // Trick on older IE versions to render the caret before the BR between two lists
                if (!documentMode || documentMode < 9) {
                  tempElm = dom.create('br');
                  root.parentNode.insertBefore(tempElm, root);
                }

                rng.setStartBefore(root);
                rng.setEndBefore(root);
              } else {
                rng.setStartAfter(root);
                rng.setEndAfter(root);
              }
            } else {
              rng.setStart(root, 0);
              rng.setEnd(root, 0);
            }
          }

          selection.setRng(rng);

          // Remove tempElm created for old IE:s
          dom.remove(tempElm);
          selection.scrollIntoView(root);
        }

        function setForcedBlockAttrs(node) {
          var forcedRootBlockName = settings.forced_root_block;

          if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {
            dom.setAttribs(node, settings.forced_root_block_attrs);
          }
        }

        // Creates a new block element by cloning the current one or creating a new one if the name is specified
        // This function will also copy any text formatting from the parent block and add it to the new one
        function createNewBlock(name) {
          var node = container, block, clonedNode, caretNode, textInlineElements = schema.getTextInlineElements();

          if (name || parentBlockName == "TABLE" || parentBlockName == "HR") {
            block = dom.create(name || newBlockName);
            setForcedBlockAttrs(block);
          } else {
            block = parentBlock.cloneNode(false);
          }

          caretNode = block;

          if (settings.keep_styles === false) {
            dom.setAttrib(block, 'style', null); // wipe out any styles that came over with the block
            dom.setAttrib(block, 'class', null);
          } else {
            // Clone any parent styles
            do {
              if (textInlineElements[node.nodeName]) {
                // Never clone a caret containers
                if (node.id == '_mce_caret') {
                  continue;
                }

                clonedNode = node.cloneNode(false);
                dom.setAttrib(clonedNode, 'id', ''); // Remove ID since it needs to be document unique

                if (block.hasChildNodes()) {
                  clonedNode.appendChild(block.firstChild);
                  block.appendChild(clonedNode);
                } else {
                  caretNode = clonedNode;
                  block.appendChild(clonedNode);
                }
              }
            } while ((node = node.parentNode) && node != editableRoot);
          }

          // BR is needed in empty blocks on non IE browsers
          if (!isIE) {
            caretNode.innerHTML = '<br data-mce-bogus="1">';
          }

          return block;
        }

        // Returns true/false if the caret is at the start/end of the parent block element
        function isCaretAtStartOrEndOfBlock(start) {
          var walker, node, name, normalizedOffset;

          normalizedOffset = normalizeZwspOffset(start, container, offset);

          // Caret is in the middle of a text node like "a|b"
          if (container.nodeType == 3 && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {
            return false;
          }

          // If after the last element in block node edge case for #5091
          if (container.parentNode == parentBlock && isAfterLastNodeInContainer && !start) {
            return true;
          }

          // If the caret if before the first element in parentBlock
          if (start && container.nodeType == 1 && container == parentBlock.firstChild) {
            return true;
          }

          // Caret can be before/after a   L  N  9  :(	L  z    
   
L  W pKZ   ʖL   W2 `7  
ZO `KZ   ˖0%    p >  
"ܮ    
 CL  a  >  
L  ŭ    
\. P    #  `     p         D`g u   3cL   u   p
 `  
L  <
   t   S L  g#k @7  
g#m P7? 0#L\  "# !\D `zW@~`GGvfvvfvfjFvjvjldfgvvfffnGgxfDWgffWWvE}u
lLt w n|GvFvfwflbl$bldb$g&wvfLdGvwnntgla'Fzffgvvf&fwwg`dg0xc?߀2-+203.221l033,34˜5\33C3Ҽ|3333=3@ 0;? 81%LE4Q;]-4ML!D5R#UO]5)/T/eX?51 U5a{m`_46dM6bgT6c=6} 6!6L S      "2Ȇ.2"rjh**3ǂ*%p0!Kr
3"%"$3"ʀ)h%T0`0	"("(2H)` b!IRIq\L\L3ǈɭb"b"XH*3-b"q!a*(*(3#˭̥r1r1qs\L"*2-Lb22ۋ2##ˊˮ̉r2b2$"$3 T    #  T    ޞ T    # ] `    L  # R:  goL  # Ct  s  # 6 0  LYL   +t7   ߪ# Q` ,t7#  ,t7# 	 ,t7  # % @`L  L   0`LQK L |7  
# V L |7#  `Zָ  	8	  <!  g
   L  #i d  l p?   8X&   #  8X&u# {  \   L  # \0- ` Xm   L  #  @ L  # hqV@ @	   L  # k  t <(W
1  ʑ     ԅ  
        ԅ  ԅ"Ih @ Y,L  # #y   !  
  X   @
   _A p 7     A   5   kL    <   # $ pT=  -L   @
 Dq   h   eW  	#  
 L   P
       *& `
    t   0Gn  \  
eL  oz   X   `7# .5  7Md 0G9 @G9 PGr `G 0c     %; zρ   L  >  N   L   pR    F    
L  [ P 8} @ # h ,   ; ʞ L      
L  # Y  8  p# A1{  ,# ! 0 7  Chd©Q 8	#L  $ @ 7>L  # $? 7   ` pm ,"W vf6n]gHEgfeTFfxfli@g|t{ זv`	9`wtffdgaldgaldgaldglGvA{<VgxgVvjvje}ghbmvRwzLtfFsjlvjldjdldwvnrgfGzn̤sjcFvlLdDwgQF|Fvjv-p.^2.̉K.;.		44 
L"
4@
.?4`
 0
T/L//////bB0,0	00 0810?lǆ(#1`4p1lLX    S    <  *(*,#)%p0p0	-
*%"'"2)2b"*"Ș*(""*%`  	=	>*/"(2"ʀ%` ` 
>*("(3v"%%q!q!"(
 ` b"SLhH""(.b"r"H",22ʆ-n."J̘"*22&%q!q!IaIa\H\H   h  
L  H# O=F  ?V
Qq2pE zt7   s  J# I~
 T   5j	  H   H  HL  T"t v  O# % Pu   N   >G0      @L  R# x @ d      ?q< p    
L  s    L  U# HR p |  
L  
i. PY   W# GA @   
xxx P   :L  Ǣh P To  
L  M&]P  t7   [# E| o    Дo    @o   ^# 
 0o   D C   &d-zZ  D  L  a# '@ J|7  
  b# ,, 0 L  
 X   2L  h X   ; @X   2 0X   N    ;   if (node.nodeType == 1) {
                break;
              }

              node = node[first ? 'nextSibling' : 'previousSibling'];
            }

            return node === parentBlock;
          }

          function getContainerBlock() {
            var containerBlockParent = containerBlock.parentNode;

            if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {
              return containerBlockParent;
            }

            return containerBlock;
          }

          if (containerBlock == editor.getBody()) {
            return;
          }

          // Check if we are in an nested list
          var containerBlockParentName = containerBlock.parentNode.nodeName;
          if (/^(OL|UL|LI)$/.test(containerBlockParentName)) {
            newBlockName = 'LI';
          }

          newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');

          if (isFirstOrLastLi(true) && isFirstOrLastLi()) {
            if (containerBlockParentName == 'LI') {
              // Nested list is inside a LI
              dom.insertAfter(newBlock, getContainerBlock());
            } else {
              // Is first and last list item then replace the OL/UL with a text block
              dom.replace(newBlock, containerBlock);
            }
          } else if (isFirstOrLastLi(true)) {
            if (containerBlockParentName == 'LI') {
              // List nested in an LI then move the list to a new sibling LI
              dom.insertAfter(newBlock, getContainerBlock());
              newBlock.appendChild(dom.doc.createTextNode(' ')); // Needed for IE so the caret can be placed
              newBlock.appendChild(containerBlock);
            } else {
              // First LI in list then remove LI and add text block before list
              containerBlock.parentNode.insertBefore(newBlock, containerBlock);
            }
          } else if (isFirstOrLastLi()) {
            // Last LI in list then remove LI and add text block after list
            dom.insertAfter(newBlock, getContainerBlock());
            renderBlockOnIE(dom, selection, newBlock);
          } else {
            // Middle LI in list the split the list and insert a text block in the middle
            // Extract after fragment and insert it after the current block
            containerBlock = getContainerBlock();
            tmpRng = rng.cloneRange();
            tmpRng.setStartAfter(parentBlock);
            tmpRng.setEndAfter(containerBlock);
            fragment = tmpRng.extractContents();

            if (newBlockName == 'LI' && fragment.firstChild.nodeName == 'LI') {
              newBlock = fragment.firstChild;
              dom.insertAfter(fragment, containerBlock);
            } else {
              dom.insertAfter(fragment, containerBlock);
              dom.insertAfter(newBlock, containerBlock);
            }
          }

          dom.remove(parentBlock);
          moveToCaretPosition(newBlock);
          undoManager.add();
        }

        // Inserts a BR element if the forced_root_block option is set to false or empty string
        function insertBr() {
          editor.execCommand("InsertLineBreak", false, evt);
        }

        // Trims any linebreaks at the beginning of node user for example when pressing enter in a PRE element
        function trimLeadingLineBreaks(node) {
          do {
            if (node.nodeType === 3) {
              node.nodeValue = node.nodeValue.replace(/^[\r\n]+/, '');
            }

            node = node.firstChild;
          } while (node);
        }

        function getEditableRoot(node) {
          var root = dom.getRoot(), parent, editableRoot;

          // Get all parents until we hit a non editable parent or the root
          parent = node;
          while (parent !== root && dom.getContentEditable(parent) !== "false") {
            if (dom.getContentEditable(parent) === "true") {
              editableRoot = parent;
            }

            parent = parent.parentNode;
          }

          return parent !== root ? editableRoot : root;
        }

        // Adds a BR at the end of blocks that only contains an IMG or INPUT since
        // these might be floated and then they won't expand the block
        function addBrToBlockIfNeeded(block) {
          var lastChild;

          // IE will render the blocks correctly other browsers needs a BR
          if (!isIE) {
            block.normalize(); // Remove empty text nodes that got left behind by the extract

            // Check if the block is empty or contains a floated last child
            lastChild = block.lastChild;
            if (!lastChild || (/^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true)))) {
              dom.add(block, 'br');
            }
          }
        }

        function insertNewBlockAfter() {
          // If the caret is at the end of a header we produce a P tag after it similar to Word unless we are in a hgroup
          if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName != 'HGROUP') {
            newBlock = createNewBlock(newBlockName);
          } else {
            newBlock = createNewBlock();
          }

          // Split the current container block element if enter is pressed inside an empty inner block element
          if (settings.end_container_on_empty_block && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {
            // Split container block for example a BLOCKQUOTE at the current blockParent location for example a P
            newBlock = dom.split(containerBlock, parentBlock);
          } else {
            dom.insertAfter(newBlock, parentBlock);
          }

          moveToCaretPosition(newBlock);
        }

        rng = selection.getRng(true);

        // Event is blocked by some other handler for example the lists plugin
        if (evt.isDefaultPrevented()) {
          return;
        }

        // Delete any selected contents
        if (!rng.collapsed) {
          editor.execCommand('Delete');
          return;
        }

        // Setup range items and newBlockName
        new RangeUtils(dom).normalize(rng);
        container = rng.startContainer;
        offset = rng.startOffset;
        newBlockName = (settings.force_p_newlines ? 'p' : '') || settings.forced_root_block;
        newBlockName = newBlockName ? newBlockName.toUpperCase() : '';
        documentMode = dom.doc.documentMode;
        shiftKey = evt.shiftKey;

        // Resolve node index
        if (container.nodeType == 1 && container.hasChildNodes()) {
          isAfterLastNodeInContainer = offset > container.childNodes.length - 1;

          container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;
          if (isAfterLastNodeInContainer && container.nodeType == 3) {
            offset = container.nodeValue.length;
          } else {
            offset = 0;
          }
        }

        // Get editable root node, normally the body element but sometimes a div or span
        editableRoot = getEditableRoot(container);

        // If there is no editable root then enter is done inside a contentEditable false element
        if (!editableRoot) {
          return;
        }

        undoManager.beforeChange();

        // If editable root isn't block nor the root of the editor
        if (!dom.isBlock(editableRoot) && editableRoot != dom.getRoot()) {
          if (!newBlockName || shiftKey) {
            insertBr();
          }

          return;
        }

        // Wrap the current node and it's sibling in a default block if it's needed.
        // for example this <td>text|<b>text2</b></td> will become this <td><p>text|<b>text2</p></b></td>
        // This won't happen if root blocks are disabled or the shiftKey is pressed
        if ((newBlockName && !shiftKey) || (!newBlockName && shiftKey)) {
          container = wrapSelfAndSiblingsInDefaultBlock(container, offset);
        }

        // Find parent block and setup empty block paddings
        parentBlock = dom.getParent(container, dom.isBlock);
        containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;

        // Setup block names
        parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : ''; // IE < 9 & HTML5
        containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : ''; // IE < 9 & HTML5

        // Enter inside block contained within a LI then split or insert before/after LI
        if (containerBlockName == 'LI' && !evt.ctrlKey) {
          parentBlock = containerBlock;
          parentBlockName = containerBlockName;
        }

        if (editor.undoManager.typing) {
          editor.undoManager.typing = false;
          editor.undoManager.add();
        }

        // Handle enter in list item
        if (/^(LI|DT|DD)$/.test(parentBlockName)) {
          if (!newBlockName && shiftKey) {
            insertBr();
            return;
          }

          // Handle enter inside an empty list item
          if (dom.isEmpty(parentBlock)) {
            handleEmptyListItem();
            return;
          }
        }

        // Don't split PRE tags but insert a BR instead easier when writing code samples etc
        if (parentBlockName == 'PRE' && settings.br_in_pre !== false) {
          if (!shiftKey) {
            insertBr();
            return;
          }
        } else {
          // If no root block is configured then insert a BR by default or if the shiftKey is pressed
          if ((!newBlockName && !shiftKey && parentBlockName != 'LI') || (newBlockName && shiftKey)) {
            insertBr();
            return;
          }
        }

        // If parent block is root then never insert new blocks
        if (newBlockName && parentBlock === editor.getBody()) {
          return;
        }

        // Default block name if it's not configured
        newBlockName = newBlockName || 'P';

        // Insert new block before/after the parent block depending on caret location
        if (CaretContainer.isCaretContainerBlock(parentBlock)) {
          newBlock = CaretContainer.showCaretContainerBlock(parentBlock);
          if (dom.isEmpty(parentBlock)) {
            emptyBlock(parentBlock);
          }
          moveToCaretPosition(newBlock);
        } else if (isCaretAtStartOrEndOfBlock()) {
          insertNewBlockAfter();
        } else if (isCaretAtStartOrEndOfBlock(true)) {
          // Insert new block before
          newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);
          renderBlockOnIE(dom, selection, newBlock);

          // Adjust caret position if HR
          containerAndSiblingName(parentBlock, 'HR') ? moveToCaretPosition(newBlock) : moveToCaretPosition(parentBlock);
        } else {
          // Extract after fragment and insert it after the current block
          tmpRng = includeZwspInRange(rng).cloneRange();
          tmpRng.setEndAfter(parentBlock);
          fragment = tmpRng.extractContents();
          trimLeadingLineBreaks(fragment);
          newBlock = fragment.firstChild;
          dom.insertAfter(fragment, parentBlock);
          trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);
          addBrToBlockIfNeeded(parentBlock);

          if (dom.isEmpty(parentBlock)) {
            emptyBlock(parentBlock);
          }

          newBlock.normalize();

          // New block might become empty if it's <p><b>a |</b></p>
          if (dom.isEmpty(newBlock)) {
            dom.remove(newBlock);
            insertNewBlockAfter();
          } else {
            moveToCaretPosition(newBlock);
          }
        }

        dom.setAttrib(newBlock, 'id', ''); // Remove ID since it needs to be document unique

        // Allow custom handling of new blocks
        editor.fire('NewBlock', { newBlock: newBlock });

        undoManager.typing = false;
        undoManager.add();
      }

      editor.on('keydown', function (evt) {
        if (evt.keyCode == 13) {
          if (handleEnterKey(evt) !== false) {
            evt.preventDefault();
          }
        }
      });
    };

    return {
      setup: setup
    };
  }
);

/**
 * InsertSpace.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.keyboard.InsertSpace',
  [
    'ephox.katamari.api.Fun',
    'tinymce.core.caret.CaretPosition',
    'tinymce.core.dom.NodeType',
    'tinymce.core.keyboard.BoundaryLocation'
  ],
  function (Fun, CaretPosition, NodeType, BoundaryLocation) {
    var isValidInsertPoint = function (location, caretPosition) {
      return isAtStartOrEnd(location) && NodeType.isText(caretPosition.container());
    };

    var insertNbspAtPosition = function (editor, caretPosition) {
      var container = caretPosition.container();
      var offset = caretPosition.offset();

      container.insertData(offset, '\u00a0');
      editor.selection.setCursorLocation(container, offset + 1);
    };

    var insertAtLocation = function (editor, caretPosition, location) {
      if (isValidInsertPoint(location, caretPosition)) {
        insertNbspAtPosition(editor, caretPosition);
        return true;
      } else {
        return false;
      }
    };

    var insertAtCaret = function (editor) {
      var caretPosition = CaretPosition.fromRangeStart(editor.selection.getRng());
      var boundaryLocation = BoundaryLocation.readLocation(editor.getBody(), caretPosition);
      return boundaryLocation.map(Fun.curry(insertAtLocation, editor, caretPosition)).getOr(false);
    };

    var isAtStartOrEnd = function (location) {
      return location.fold(
        Fun.constant(false), // Before
        Fun.constant(true),  // Start
        Fun.constant(true),  // End
        Fun.constant(false)  // After
      );
    };

    var insertAtSelection = function (editor) {
      return editor.selection.isCollapsed() ? insertAtCaret(editor) : false;
    };

    return {
      insertAtSelection: insertAtSelection
    };
  }
);

/**
 * SpaceKey.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.keyboard.SpaceKey',
  [
    'ephox.katamari.api.Arr',
    'tinymce.core.keyboard.InsertSpace',
    'tinymce.core.keyboard.MatchKeys',
    'tinymce.core.util.VK'
  ],
  function (Arr, InsertSpace, MatchKeys, VK) {
    var executeKeydownOverride = function (editor, evt) {
      var matches = MatchKeys.match([
        { keyCode: VK.SPACEBAR, action: MatchKeys.action(InsertSpace.insertAtSelection, editor) }
      ], evt);

      Arr.find(matches, function (pattern) {
        return pattern.action();
      }).each(function (_) {
        evt.preventDefault();
      });
    };

    var setup = function (editor) {
      editor.on('keydown', function (evt) {
        if (evt.isDefaultPrevented() === false) {
          executeKeydownOverride(editor, evt);
        }
      });
    };

    return {
      setup: setup
    };
  }
);

/**
 * KeyboardOverrides.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.keyboard.KeyboardOverrides',
  [
    'tinymce.core.keyboard.ArrowKeys',
    'tinymce.core.keyboard.BoundarySelection',
    'tinymce.core.keyboard.DeleteBackspaceKeys',
    'tinymce.core.keyboard.EnterKey',
    'tinymce.core.keyboard.SpaceKey'
  ],
  function (ArrowKeys, BoundarySelection, DeleteBackspaceKeys, EnterKey, SpaceKey) {
    var setup = function (editor) {
      var caret = BoundarySelection.setupSelectedState(editor);

      ArrowKeys.setup(editor, caret);
      DeleteBackspaceKeys.setup(editor, caret);
      EnterKey.setup(editor);
      SpaceKey.setup(editor);
    };

    return {
      setup: setup
    };
  }
);
/**
 * NodeChange.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class handles the nodechange event dispatching both manual and thrwNbxg<d6wu]7CV3+/{'ٷk4?VqbK}>scZ!7_wox5|v//2Go_?ͷk~|w}l;o'2λ&}w]n\^zwn/ߧ~86w]VW{͢;2iSj:P__ٚWfpwh]8~ߎ˛o͋Q@_utu-/}G̟Ƿ5tު뇷Qo|of%y
|;s}W;>ܳYK'Gwފn!yrFxNUJ?-_!ۃnϞǫև}ӪNa͖o#纝Yúk/_}/~GsS}]n?Ums^;7~fwW=ߝVeپ^iWm߇O#'Ss1_xK#4;y5>׷'G۽q?.7}jg4ok!cIn77O]j,YZs~֙6t߲w[o27]Ͽ}mvυo[W/~þO~aOiT[/V5#pz}/~>Xx]̖~=t,5.e*6wiFaD^)y^u'??:1yq﾿ǁy[|\$_}<+WhN'9=o^W۫_6ǿh淚?wai뙽&U~w$6=Z̹Kʽ1VYve6~\Vbnu鵾OoێWֶǯ625]_wU'?8)θ˫_N3kN)w~_ʽmA<=]nmw_8Wcϼ?t]fMw=^?/U.flRo?sqguݿeu{n]\{G?mJ;s?[w)E;u]8riay_6glh>#!]O?jߥpvd[Y_oթ,<ʧ-i޷|uZ)>{ve{*=_{g_8O[ߊݫ盧fg3Nٷ9l_V{U۳|?ś󯼿kZof=7//t2kݵt{?CM3k>ޫs>YDnNu}Ϸ1]]ܻ:u?y9O1~hM]¾ovKIGu}=}OڬVZZ(dONڼNT_WB^7,?k\'}:O6G+oMvvV<F.zilǼ_k{#_o~]һcjz7wetwW=f]~{󐕡?OR':וLw@܄{m|V?׏VM/}hswɽO]I͔Nz~uƵ7zl,}[>3~3z_y3|wwMŻv.O7g._Z^f:c|%دw,o?Q[]9l{Owz߽mo_n}dw|9[Nܭ}{w+t;m̋~¹[íw%|a"jzRݟNooxSmrXgj˩V_ci7ǎ/uoֵwƻd~F[=gOk~<;?{uUnW5ukU`+:s?_{vd?v:/ϭ:~ݱߛs37q˾e>f_ٙkȟM6g$xu^_/imk)WFst|vaSNA=e[1Ƨ?/.ݲ=ߵ^Sŧ3lŷպgZ,ڵ۵m8{
+uLKq^#Sg4&1U*%=_{ǷQ=-*w|vwͽc[[Ijb{|]>v3Fb?ߨ^YnoS'ڳם~[l-??VwLu7i~/H/:_SogO]u:>uKOn?D_n=~߽wQF?7˰ׂv%凛LKq˯g.e83Ǫ0?KRx'z7%rmξ}~϶?ޟ˿w{W[~Ohg#j3{~n9uۥ]7onukz/y27]߇}o9D!~ˮwtO߻m/o/En=^~?Wŕ޽xhejz?aW?}O랻~66n=vN{fwm쳇w'[WkoTy1?w縣'AӾ_+=N/OTs{c/|ye~|IghyvtU_wt_vo;sow_?q%/'=pLwSϝwwyg=mOusݵ|W~>}^m;~/{ߕU?_{NC/d64w'N.}1s_Ჾ#[>LoJa㛀;{{f6Qcc.m4,Qt|oXO뗝SSwW巨5seO+~c~ou6M];gi<+S7垫I寉}'!ɵO_om{Eܰ׶_Q˼߷?7m7ry>>;s/z^1(}ߌ>K{?m|wxݿZc޽ԬS>8e{}ۿW}lW}MK	17?~g߾ͥ'jX5Z:N{/ȷ𿺾<OߍO_oe~%+\os2fo-y;ٿ>'[kקmܦFsqͩow_W?؂/Xws3m缥~h="QۜN׶)|,~Kj{_FV
=Z:Dږ{/wpkKZ؇]u~nL{6nƾٟ}:SYUܶ޾Cס׿Eogީ;Yq?o:Va;umL|+[o]'wk4v?{7vٓu:>zthy?֚ou>~y߷k~/ߜou	K^x˻aN\ӷ9i.Yٻ	^U{[ɲډ;>_uyuȿ&>g?жrb\Yώϯmtnk߾j}&z}?omSo>kww=.֟owsQO:ݯֿudwol.Nk	6w9.ůww[#?W&뚇;⡯ڿNO+kfd_e/[m:L~e~Ǿpe+{ˤº=óV7o6W~o,)mO3|._z*Oy/w}egyGz{_޿=nw߸#3?}"o%wßQG}z>ڌcy]zkfھ=<=n9ֿ|gϿu+;Wum%X?o~Nӯvou=o*o?ߝ~ԛ6|oG;>>_'xc?{^߼	}mv*wB#-5yo&_nx"P_\/絇xӖ_@{;;}{3-wQ{s~|[{_%z?Uٽ's_>z?ֳTv7mWZ}/_+}m+mټ}EC9+CgYn׼ֽNmgt{mnu|NxLdqUoRoQ=Ed0˭h۬cm>|k=xW3[韦67*iD{p;|n.k|Fx=yﵡ/wۿhYmj9gglc<o?ז5}/GtRpztU:ټcW;EZk?:m{?}t7}mߏo_kz%vvϧ]_wWnywZ}Uw\]Y?sVU&7?K{=g޿N:w}roUұ?a=_O{&^O?#}˼x^ۓ)[zwҿ^B,~zu>_nLEw@>.C}~anij~[uOm/?ˏ/{O~BkDNϻ{~3pOe3{;rf̶Qw4t6hK/Ӯ>]5KQƓ_w.~?sV?W_Wjܽm~}{~]{_ۮ4篋;{WN%-Jg{ƿz[\v=D$4߲-luw[
1r3?]k~bڭ'گͯWFo-ms/nP4mU_f==|v.-7b6mn^s>s,>&O~39v~]Ğ+nڥ'9xgǻx7o޿/?<-G{?W?siO~gu>^5)߳W겝k~;SoëN(տnw5xoBW?||w'~_޽ԟ׽y۬<ܯ]o5+Ӝ~ߪv~_7^_>8ۿoNEZìS]}=^=7NOǭ9{gsWrn~]gzײ|[贏׍g.7#}v-ﻼ׻WpwV{nOGHw;ugwS}m-?޵?+'?wgm'ߒ5/{l[O=Iw}Oz?ﻟןume:cOo#׽w;ޱe7s;ݰoZyɨiUK0SN};-\Ro$>^OKpW/Dztx{}K^y>еv/n~w.W'WOͰwˏۜ|ܿӽMmnj6W|Ⱥ_m޻~?Z}=?Vw3M;![_7w{u]^>_go[{9}ΐzq_5O?}ɬ_G?[{sܗ}kퟙiBLot,~/k?{"<}?vOXL״w/{ޏ/o~S?WԜ?}zշAƢG>sml{wG3ykLW?\no'
Ͽ߿^`׉lf߽vٯ_~wZG~޿9K~Oy?oy>;풯]~J]?x-&-:;kگ[5Q~leW|?yKEyw~|Fsy?w^֟_w??Ʀoi:O#|̼|ퟛ/߳6ʉ?ޫğkoTt(__~׽n_~w?NwU}}9oro24{^v\n];/c?;t:_aަ+EW9ӝt=v=g_`_/]/U˭?Zƿ~ߣde)) {
          caretContainerNode = CaretContainer.insertBlock('p', node, before);
          clientRect = getAbsoluteClientRect(node, before);
          DomQuery(caretContainerNode).css('top', clientRect.top);

          $lastVisualCaret = DomQuery('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(clientRect).appendTo(rootNode);

          if (before) {
            $lastVisualCaret.addClass('mce-visual-caret-before');
          }

          startBlink();

          rng = node.ownerDocument.createRange();
          rng.setStart(caretContainerNode, 0);
          rng.setEnd(caretContainerNode, 0);
        } else {
          caretContainerNode = CaretContainer.insertInline(node, before);
          rng = node.ownerDocument.createRange();

          if (isContentEditableFalse(caretContainerNode.nextSibling)) {
            rng.setStart(caretContainerNode, 0);
            rng.setEnd(caretContainerNode, 0);
          } else {
            rng.setStart(caretContainerNode, 1);
            rng.setEnd(caretContainerNode, 1);
          }

          return rng;
        }

        return rng;
      }

      function hide() {
        trimInlineCaretContainers();

        if (caretContainerNode) {
          CaretContainerRemove.remove(caretContainerNode);
          caretContainerNode = null;
        }

        if ($lastVisualCaret) {
          $lastVisualCaret.remove();
          $lastVisualCaret = null;
        }

        clearInterval(cursorInterval);
      }

      function startBlink() {
        cursorInterval = Delay.setInterval(function () {
          DomQuery('div.mce-visual-caret', rootNode).toggleClass('mce-visual-caret-hidden');
        }, 500);
      }

      function destroy() {
        Delay.clearInterval(cursorInterval);
      }

      function getCss() {
        return (
          '.mce-visual-caret {' +
          'position: absolute;' +
          'background-color: black;' +
          'background-color: currentcolor;' +
          '}' +
          '.mce-visual-caret-hidden {' +
          'display: none;' +
          '}' +
          '*[data-mce-caret] {' +
          'position: absolute;' +
          'left: -1000px;' +
          'right: auto;' +
          'top: 0;' +
          'margin: 0;' +
          'padding: 0;' +
          '}'
        );
      }

      return {
        show: show,
        hide: hide,
        getCss: getCss,
        destroy: destroy
      };
    };
  }
);
/**
 * MousePosition.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module calculates an absolute coordinate inside the editor body for both local and global mouse events.
 *
 * @private
 * @class tinymce.dom.MousePosition
 */
define(
  'tinymce.core.dom.MousePosition',
  [
  ],
  function () {
    var getAbsolutePosition = function (elm) {
      var doc, docElem, win, clientRect;

      clientRect = elm.getBoundingClientRect();
      doc = elm.ownerDocument;
      docElem = doc.documentElement;
      win = doc.defaultView;

      return {
        top: clientRect.top + win.pageYOffset - docElem.clientTop,
        left: clientRect.left + win.pageXOffset - docElem.clientLeft
      };
    };

    var getBodyPosition = function (editor) {
      return editor.inline ? getAbsolutePosition(editor.getBody()) : { left: 0, top: 0 };
    };

    var getScrollPosition = function (editor) {
      var body = editor.getBody();
      return editor.inline ? { left: body.scrollLeft, top: body.scrollTop } : { left: 0, top: 0 };
    };

    var getBodyScroll = function (editor) {
      var body = editor.getBody(), docElm = editor.getDoc().documentElement;
      var inlineScroll = { left: body.scrollLeft, top: body.scrollTop };
      var iframeScroll = { left: body.scrollLeft || docElm.scrollLeft, top: body.scrollTop || docElm.scrollTop };

      return editor.inline ? inlineScroll : iframeScroll;
    };

    var getMousePosition = function (editor, event) {
      if (event.target.ownerDocument !== editor.getDoc()) {
        var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());
        var scrollPosition = getBodyScroll(editor);

        return {
          left: event.pageX - iframePosition.left + scrollPosition.left,
          top: event.pageY - iframePosition.top + scrollPosition.top
        };
      }

      return {
        left: event.pageX,
        top: event.pageY
      };
    };

    var calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {
      return {
        pageX: (mousePosition.left - bodyPosition.left) + scrollPosition.left,
        pageY: (mousePosition.top - bodyPosition.top) + scrollPosition.top
      };
    };

    var calc = function (editor, event) {
      return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));
    };

    return {
      calc: calc
    };
  }
);

/**
 * DragDropOverrides.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module contains logic overriding the drag/drop logic of the editor.
 *
 * @private
 * @class tinymce.DragDropOverrides
 */
define(
  'tinymce.core.DragDropOverrides',
  [
    "tinymce.core.dom.NodeType",
    "tinymce.core.util.Arr",
    "tinymce.core.util.Fun",
    "tinymce.core.util.Delay",
    "tinymce.core.dom.DOMUtils",
    "tinymce.core.dom.MousePosition"
  ],
  function (
    NodeType, Arr, Fun, Delay, DOMUtils, MousePosition
  ) {
    var isContentEditableFalse = NodeType.isContentEditableFalse,
      isContentEditableTrue = NodeType.isContentEditableTrue;

    var isDraggable = function (rootElm, elm) {
      return isContentEditableFalse(elm) && elm !== rootElm;
    };

    var isValidDropTarget = function (editor, targetElement, dragElement) {
      if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {
        return false;
      }

      if (isContentEditableFalse(targetElement)) {
        return false;
      }

      return true;
    };

    var cloneElement = function (elm) {
      var cloneElm = elm.cloneNode(true);
      cloneElm.removeAttribute('data-mce-selected');
      return cloneElm;
    };

    var createGhost = function (editor, elm, width, height) {
      var clonedElm = elm.cloneNode(true);

      editor.dom.setStyles(clonedElm, { width: width, height: height });
      editor.dom.setAttrib(clonedElm, 'data-mce-selected', null);

      var ghostElm = editor.dom.create('div', {
        'class': 'mce-drag-container',
        'data-mce-bogus': 'all',
        unselectable: 'on',
        contenteditable: 'false'
      });

      editor.dom.setStyles(ghostElm, {
        position: 'absolute',
        opacity: 0.5,
        overflow: 'hidden',
        border: 0,
        padding: 0,
        margin: 0,
        width: width,
        height: height
      });

      editor.dom.setStyles(clonedElm, {
        margin: 0,
        boxSizing: 'border-box'
      });

      ghostElm.appendChild(clonedElm);

      return ghostElm;
    };

    var appendGhostToBody = function (ghostElm, bodyElm) {
      if (ghostElm.parentNode !== bodyElm) {
        bodyElm.appendChild(ghostElm);
      }
    };

    var moveGhost = function (ghostElm, position, width, height, maxX, maxY) {
      var overflowX = 0, overflowY = 0;

      ghostElm.style.left = position.pageX + 'px';
      ghostElm.style.top = position.pageY + 'px';

      if (position.pageX + width > maxX) {
        overflowX = (position.pageX + width) - maxX;
      }

      if (position.pageY + height > maxY) {
        overflowY = (position.pageY + height) - maxY;
      }

      ghostElm.style.width = (width - overflowX) + 'px';
      ghostElm.style.height = (height - overflowY) + 'px';
    };

    var removeElement = function (elm) {
      if (elm && elm.parentNode) {
        elm.parentNode.removeChild(elm);
      }
    };

    var isLeftMouseButtonPressed = function (e) {
      return e.button === 0;
    };

    var hasDraggableElement = function (state) {
      return state.element;
    };

    var applyRelPos = function (state, position) {
      return {
        pageX: position.pageX - state.relX,
        pageY: position.pageY + 5
      };
    };

    var start = function (state, editor) {
      return function (e) {
        if (isLeftMouseButtonPressed(e)) {
          var ceElm = Arr.find(editor.dom.getParents(e.target), Fun.or(isContentEditableFalse, isContentEditableTrue));

          if (isDraggable(editor.getBody(), ceElm)) {
            var elmPos = editor.dom.getPos(ceElm);
            var bodyElm = editor.getBody();
            var docElm = editor.getDoc().documentElement;

            state.element = ceElm;
            state.screenX = e.screenX;
            state.screenY = e.screenY;
            state.maxX = (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2;
            state.maxY = (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2;
            state.relX = e.pageX - elmPos.x;
            state.relY = e.pageY - elmPos.y;
            state.width = ceElm.offsetWidth;
            state.height = ceElm.offsetHeight;
            state.ghost = createGhost(editor, ceElm, state.width, state.height);
          }
        }
      };
    };

    var move = function (state, editor) {
      // Reduces laggy drag behavior on Gecko
      var throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {
        editor._selectionOverrides.hideFakeCaret();
        editor.selection.placeCaretAt(clientX, clientY);
      }, 0);

      return function (e) {
        var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));

        if (hasDraggableElement(state) && !state.dragging && movement > 10) {
          var args = editor.fire('dragstart', { target: state.element });
          if (args.isDefaultPrevented()) {
            return;
          }

          state.dragging = true;
          editor.focus();
        }

        if (state.dragging) {
          var targetPos = applyRelPos(state, MousePosition.calc(editor, e));

          appendGhostToBody(state.ghost, editor.getBody());
          moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);

          throttledPlaceCaretAt(e.clientX, e.clientY);
        }
      };
    };

    // Returns the raw element instead of the fake cE=false element
    var getRawTarget = function (selection) {
      var rng = selection.getSel().getRangeAt(0);
      var startContainer = rng.startContainer;
      return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;
    };

    var drop = function (state, editor) {
      return function (e) {
        if (state.dragging) {
          if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {
            var targetClone = cloneElement(state.element);

            var args = editor.fire('drop', {
              targetClone: targetClone,
              clientX: e.clientX,
              clientY: e.clientY
            });

            if (!args.isDefaultPrevented()) {
              targetClone = args.targetClone;

              editor.undoManager.transact(function () {
                removeElement(state.element);
                editor.insertContent(editor.dom.getOuterHTML(targetClone));
                editor._selectionOverrides.hideFakeCaret();
              });
            }
          }
        }

        removeDragState(state);
      };
    };

    var stop = function (state, editor) {
      return function () {
        removeDragState(state);
        if (state.dragging) {
          editor.fire('dragend');
        }
      };
    };

    var removeDragState = function (state) {
      state.dragging = false;
      state.element = null;
      removeElement(state.ghost);
    };

    var bindFakeDragEvents = function (editor) {
      var state = {}, pageDom, dragStartHandler, dragHandler, dropHandler, dragEndHandler, rootDocument;

      pageDom = DOMUtils.DOM;
      rootDocument = document;
      dragStartHandler = start(state, editor);
      dragHandler = move(state, editor);
      dropHandler = drop(state, editor);
      dragEndHandler = stop(state, editor);

      editor.on('mousedown', dragStartHandler);
      editor.on('mousemove', dragHandler);
      editor.on('mouseup', dropHandler);

      pageDom.bind(rootDocument, 'mousemove', dragHandler);
      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);

      editor.on('remove', function () {
        pageDom.unbind(rootDocument, 'mousemove', dragHandler);
        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);
      });
    };

    var blockIeDrop = function (editor) {
      editor.on('drop', function (e) {
        // FF doesn't pass out clientX/clientY for drop since this is for IE we just use null instead
        var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;

        if (isContentEditableFalse(realTarget) || isContentEditableFalse(editor.dom.getContentEditableParent(realTarget))) {
          e.preventDefault();
        }
      });
    };

    var init = function (editor) {
      bindFakeDragEvents(editor);
      blockIeDrop(editor);
    };

    return {
      init: init
    };
  }
);

define(
  'ephox.sugar.impl.Style',

  [

  ],

  function () {
    // some elements, such as mathml, don't have style attributes
    var isSupported = function (dom) {
      return dom.style !== undefined;
    };

    return {
      isSupported: isSupported
    };
  }
);
define(
  'ephox.sugar.api.properties.Css',

  [
    'ephox.katamari.api.Type',
    'ephox.katamari.api.Arr',
    'ephox.katamari.api.Obj',
    'ephox.katamari.api.Option',
    'ephox.sugar.api.properties.Attr',
    'ephox.sugar.api.node.Body',
    'ephox.sugar.api.node.Element',
    'ephox.sugar.api.node.Node',
    'ephox.sugar.impl.Style',
    'ephox.katamari.api.Strings',
    'global!Error',
    'global!console',
    'global!window'
  ],

  function (Type, Arr, Obj, Option, Attr, Body, Element, Node, Style, Strings, Error, console, window) {
    var internalSet = function (dom, property, value) {
      // This is going to hurt. Apologies.
      // JQuery coerces numbers to pixels for certain property names, and other times lets numbers through.
      // we're going to be explicit; strings only.
      if (!Type.isString(value)) {
        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);
        throw new Error('CSS value must be a string: ' + value);
      }

      // removed: support for dom().style[property] where prop is camel case instead of normal property name
      if (Style.isSupported(dom)) dom.style.setProperty(property, value);
    };

    var internalRemove = function (dom, property) {
      /*
       * IE9 and above - MDN doesn't have details, but here's a couple of random internet claims
       *
       * http://help.dottoro.com/ljopsjck.php
       * http://stackoverflow.com/a/7901886/7546
       */
      if (Style.isSupported(dom)) dom.style.removeProperty(property);
    };

    var set = function (element, property, value) {
      var dom = element.dom();
      internalSet(dom, property, value);
    };

    var setAll = function (element, css) {
      var dom = element.dom();

      Obj.each(css, function (v, k) {
        internalSet(dom, k, v);
      });
    };

    var setOptions = function(element, css) {
      var dom = element.dom();

      Obj.each(css, function (v, k) {
        v.fold(function () {
          internalRemove(dom, k);
        }, function (value) {
          internalSet(dom, k, value);
        });
      });
    };

    /*
     * NOTE: For certain properties, this returns the "used value" which is subtly different to the "computed value" (despite calling getComputedStyle).
     * Blame CSS 2.0.
     *
     * https://developer.mozilla.org/en-US/docs/Web/CSS/used_value
     */
    var get = function (element, property) {
      var dom = element.dom();
      /*
       * IE9 and above per
       * https://developer.mozilla.org/en/docs/Web/API/window.getComputedStyle
       *
       * Not in numerosity, because it doesn't memoize and looking this up dynamically in performance critical code would be horrendous.
       *
       * JQuery has some magic here for IE popups, but we don't really need that.
       * It also uses element.ownerDocument.defaultView to handle iframes but that hasn't been required since FF 3.6.
       */
      var styles = window.getComputedStyle(dom);
      var r = styles.getPropertyValue(property);

      // jquery-ism: If r is an empty string, check that the element is not in a document. If it isn't, return the raw value.
      // Turns out we do this a lot.
      var v = (r === '' && !Body.inBody(element)) ? getUnsafeProperty(dom, property) : r;

      // undefined is the more appropriate value for JS. JQuery coerces to an empty string, but screw that!
      return v === null ? undefined : v;
    };

    var getUnsafeProperty = function (dom, property) {
      // removed: support for dom().style[property] where prop is camel case instead of normal property name
      // empty string is what the browsers (IE11 and Chrome) return when the propertyValue doesn't exists.
      return Style.isSupported(dom) ? dom.style.getPropertyValue(property) : '';
    };

    /*
     * Gets the raw value from the style attribute. Useful for retrieving "used values" from the DOM:
     * https://developer.mozilla.org/en-US/docs/Web/CSS/used_value
     *
     * Returns NONE if the property isn't set, or the value is an empty string.
     */
    var getRaw = function (element, property) {
      var dom = element.dom();
      var raw = getUnsafeProperty(dom, property);

      return Option.from(raw).filter(function (r) { return r.length > 0; });
    };

    var isValidValue = function (tag, property, value) {
      var element = Element.fromTag(tag);
      set(element, property, value);
      var style = getRaw(element, property);
      return style.isSome();
    };

    var remove = function (element, property) {
      var dom = element.dom();

      internalRemove(dom, property);

      if (Attr.has(element, 'style') && Strings.trim(Attr.get(element, 'style')) === '') {
        // No more styles left, remove the style attribute as well
        Attr.remove(element, 'style');
      }
    };

    var preserve = function (element, f) {
      var oldStyles = Attr.get(element, 'style');
      var result = f(element);
      var restore = oldStyles === undefined ? Attr.remove : Attr.set;
      restore(element, 'style', oldStyles);
      return result;
    };

    var copy = function (source, target) {
      var sourceDom = source.dom();
      var targetDom = target.dom();
      if (Style.isSupported(sourceDom) && Style.isSupported(targetDom)) {
        targetDom.style.cssText = sourceDom.style.cssText;
      }
    };

    var reflow = function (e) {
      /* NOTE:
       * do not rely on this return value.
       * It's here so the closure compiler doesn't optimise the property access away.
       */
      return e.dom().offsetWidth;
    };

    var transferOne = function (source, destination, style) {
      getRaw(source, style).each(function (value) {
        // NOTE: We don't want to clobber any existing inline styles.
        if (getRaw(destination, style).isNone()) set(destination, style, value);
      });
    };

    var transfer = function (source, destination, styles) {
      if (!Node.isElement(source) || !Node.isElement(destination)) return;
      Arr.each(styles, function (style) {
        transferOne(source, destination, style);
      });
    };

    return {
      copy: copy,
      set: set,
      preserve: preserve,
      setAll: setAll,
      setOptions: setOptions,
      remove: remove,
      get: get,
      getRaw: getRaw,
      isValidValue: isValidValue,
      reflow: reflow,
      transfer: transfer
    };
  }
);

/**
 * EditorView.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.EditorView',
  [
    '
=A	"1QǁAL|P!4*LE(Gj0$PaL?b"]$	 C#Bd @] ]@]@3!# 5e0R!@Ѕ}Ϻy͘KN\g~n_9?}++<~rיoly1?7F"? {ުgZU^wۄۯ	8o}X33m o+4Vq'=z{@qJOu,~{ֹ۬ktSـ?]oA!L/*tξI;n>{u:( ntA#ʜ#؁]"PM!p|$--RJgN2]RNj%X	vG8"L"t j0@iD2D,PZDYD:A $IFTPt@4+kpߖV٬@i<u>vl	*}۠[7uV׼WO=uCo?^쬑~16oeJwJMyf`!:E0	[ A  P&6 !6BKJb%@M0 2
  <ɀV!< ,^R"pP140JPfv0iNbXYW {vzH%>Kv"Br  ; JeJ,Jh7++`p!aMb42k"[
B FAh"	B0NuP|R@ 0 pkLԿ$|<OxǄ$ortWUͿo9ѿ7cqZ]3 ֿu_Ͷ<?<$_Ѥ׮b],>s O|nO<` B +C0f  q 	 HD0
H%%TR`Hq3'3 )HW֊I) %
$)#  WűH _jXb{N|x.4߁# %>qwԹ?z}>	s}}T^S<|:8xۛuTwY\]g@*$6w4s>w\ڽu?>f.yWwMWD|۶(KE:5YQaGO %@0d B	 !0Q !Z !ID \h" pPqbb."QDd+ .8K"(e! /A#Y   /+cE J&w/f=xmbl_:^ȵ		ӳ[,WOOy+ef8E@uj+@FP(*PJZ
`Te@ 1` OXV`	A PHFk`@I fX kI=OYUV", aC6Xj&~z->IWE  F`#F  H`@ Zq
ayDq) (b=FS߃DQz*Q,FRbR\HSDAD	S8@s BM2~\.Pr.׍Ͻh迦^޿Hsn?gIn?"r}#( _6V/..v]*_ߍyP4i[}
A|# &@($+@aT:0ET26 & CELtae-DO@@dHDRB% a @\D͐A@#X
3fr6=^J[?`op+{_[YM/@67qsnɷnۿb~#luѥ{ޟWE|xB.~ߞ|gu'~GNG"r@ޖxHkmz)uռoomb?1[`KκX@2B@X1IDt)
67.(n "@H
,*a2XRHi*@! PeXH0!9˓	%	) 0ƌ%cEJi % & >/7ls@9~?qyi߾kJ $c^@ޟ^];{^4@EGzn02QMo6~U_w B$(7. tA)	J$qO  0pb	pH 1' fu"edDZ
 ,SBfPa H !(4 d: AB@BQݠ ,@SY  bdD"C4a3Q0#$C(B+`!'Tk
22A@&RX&p P-Y.@TA)aRb(JI4)m>Bifen >ݳ?ߧu!?η _yT߬>;ׄ|9-en+go|џ$n@ C	ABTd"2R4Y'Pz[0(
 860% 4;,JKB=#fH *x-;"AwЗJ!@2
 teY9kk598jo_z}s׵_U=O)
o7@yPտ~|ǱǗ!ßs;/
7mw~5>mmj?~ w/ {}۟޿ܷ֞.):ǁwko] mD*ϒ>9~\yLի]P}-l󠿵^v_\"  A@`A
+!p BR1 B`@MFL 9 *L#	`6
@L1CH]  GADQW
H%a! W!ˋ]y.g?c_N
w~9w'Gׅ! y	_ʮv?B8 n+#׿	$DRpy0P!$ՇP N4 aBid !`F	!"zS@$FQdmd0KAIGtZpA"f Q)Y('	$@&[@%tRA8d$  XG(79qj#S!<[PP(	lJ `PBr(0 5CQMDD 1,8h%2#nd ;o{|;O7w턷o׵3 G^'#v{}v?g{[{؁??|x6(#r[o"uGz;ޮUt"Sso.yܷuoϮKcUof?kmc[1ksO>/ڏ̯8^?hKogvy[U6L{vߣqP71wT?M<6Yh^Lv%n:[ԗWiu{CjRasb^MV/jO_o?.^|ޗ/"~+Iy]4?o'ˎ|ɮ%ױrTsM|,'ߟ7=7?žsO~}|Y[QJnN]gߏקu;/l֫}{q|fv]/;w;k߶vo)c_P}s߶GUw&=m#K[W}ϯj?{wIO7~ׅyˏ=}JRZU?e߱*Tދ*~\w+֯n~Hkٹu[ۣ%?֮>=ߣܼwgg~yr]wwu7Mgﯔgz^}Gk=?oWVqY/|Nն><='^ݲf<Ui~.yvﭮ==O\n-/o.|gnoN]b;Hn_;=v1<r}騕_,-o_uhܟ2^{4}̿7۾m\9j_L}vaWn[炍>zor6ϸ-oC_mO{?|!'W_{ޞ}Wzrv{v^vu}7_Wμ:Ͻ7(n<~+=rmyUo47ñ»nwhUez?םN*Oq?֮kwfԴ﷫l?K%Xϔ,E}.Om?|ݡ~WGޅk?fw=reiNi(91n_梸>OۭNgE7z}C|{=z%1q-GSߏww?sgt/ᑮY_w~N?^=}߱gs^;i!Nq~^:YggOimOyVяo뎇?y\^͉{5+ٿ|y̶m}?yjWuàB߆x?ݺ>yI`GW'>^b({sNEs'~wxkƵSK]ZMŐ=7H)};\|u8Irv|i?u׭{_T-*w}2zw;c4q3߳}嵥?wtrMחcѫ3aۺoߋxoO=vt}fۡ]뿟M=^Nvo6?|O$O<b]rֿr٩NuoO3Ok+m}NW~WGoݭϝE޺Sơ;=n{k~#wOoo{<+g=7р=)ho:fߵǃzY4>t+ os}V2ލٞfu\l}_ߔ\;:[yu?_ݡ{Ͻn_[kdBݷ-1+o{onj䟶UN*]眢nA3wvak\o#wZG;[=
p/y5X|߶?v-,l: 78ǧN2$wld_i*{ֺrSp:]_~2osu|ZW~D?~G|rw\o(w=VǟJ0yuY'Os?b~'8'|}y/.;o =_5ҳz=vp[~[ת,w_Mŭ웞??+tO~@=Ff.g'W˿??}oc'gڪw=sXoo}Z~]|~Pep럴vu>ݭ/}-l͇x{~{M}v7ھ/?Ͼ8_o=E97'A~ó}/b+矩hMo?o<Վ_]{~Ǯm'\2Ɏ	GV\=һ2noj?6w~߻]_u睋?Nzyz'zǿ(WA,畿?߃~qgQƾ߻]m{/C{6_5߷wqYm|}\u=_p3o}׳w]%޺OF{!=/voU/ߒm5>u?]ݿqWj?:W6'걟oN[5rޙWyп֩ENZ^o3V<W?-n;?EzWuWrwfghݏ6P|wV}t^dN\Gu5~z<gSƯy,kwgϹ_ͬ\e~8~OwcxOd=ߗanE?K鞇z4S}jPS-mUgVe?u5}g،~;wEcoJWwSԴr_Wږևrqns^^Ow/`ג-w&}=LQ~ל_WmW[wOw}H{]m[ט+اqn[Q3{_濷d~~cFۿ39Rf﫟Ukg<K?62ѱ=:9;༙V2W~kkv?˧ouo3p7O}KU}֎N."J%'٫ikn;*j(s?W~.x	^<M:P]X#kկvsZn:_m?%'ܴ?.xm
ݮVsYN޺J=O<7ֽ}{òWs_qoMZߊewuǝ?ϥTW:9}Ocly@JP9KX@lșNBJ$ 
M((	f,2$C"$	p "L  B ,I1`0,e Sd'hPH
vc#Ng;R{9 @D`@T@ HPv	G ( 
ه@@@|(@2"@	3E  &' `a"td\`#DDT"#! )$&L)JhCݛ)ŨqAW.q{!_[sǱ}U[;[>eoGۻWǯMw6ʞ4S?ߎ]` 	&@0"0S 1K#hAD	=H%
Hń!hQ!A*'NOgh @I[   3QPT>TGk`xo ݵw_>ٽxxG]o=2s+b{C۟.z?s{$Hg{ջ}<_ƶlWo<~yz>2<]t픻+Y%x3%35xG-}yz>K?T?zwP3W/'>x6=7NυW^vgܷ4"@= (@#$AڊDj0q@ p5%0H "ᅇ !8ǜ/Nxx`<	)#A	'	E0M
6XA!ww=Wѽcǻ~	w|CW=&/Ηli7tms_cK[mM*_(v~_	MVw
(  0 pDrT*,JВ""x
B͓ I(oPXI \@#@c $E
!"C(P? BC|  L@R`@0"A0@@B)4!b1( 0KrHD z*`Vp(,C\- 
R	I & B(G2TIJ+ %EQJYq4Msc	,b H0t$8b%&7{WZ;o%Q?]Lv=c3~^\?<<w܂_yx_׿Etnbݓ~ǵzrd@6 0H
e\@&	) 	"0J`@ J0SA "Hd 	>.p#H$T# 5
ט1r((@m  @ @ 	4 J`X~>sۿ[\޻4r[Iی|{zK{o7drw^5ߏG_WW~|寗7o7w/۷~?n?c@GϽ3dgn~ЈR;nj^W9/x͟{{e//;G߿]f	wo׿hݮǼcZj_o>ǎw" r;@V-( `) |WЀY(dqC0 D8 b:X/@)Kf@H-cH1DK5  x R+@-"&	)0 {w-arW^jΝywk{ﾟѧ\ԟ)[ﭜq	kpg/-I71fʕIY͓K-{o9w>ٿI$P*N*]āL #X6T
b bOuc10&t< (	DCĐM	 
AH` RUAV!hE؀`AfP (   *p"b!(" "P	Ö
%rj:CL0EQBY	A @ʑ @H% 1`
&B`; @ Ylz@w{!UuoSFwIDϷ_xy{VSzz;nwvoo']sCϮ,56~~OŇ_ލVfo7~KH9'(E"DRPՖ,K$D98@'88 < Q@@D
@n8s@  T6/@"A@ PN☜(LD"T$CA  q)g $D ڟj?u S}=oyJngw;}_;ztuWg
a?M{+nVM>
AM{]{,vl^Ǘ_/m+ 4Wߞ/}[]/Ms
w~m6S_E/~=Mf;ivϞ\ghVպ~/ >>d 2.Vp@#',@$) {8*'" rcPs %  #DP B(@`0  `BI,q 	0 wYb" `2PqUdf9gϵ?K%Vv.6GdnjKӶȧh_{lKfn#Zٽi~fޯ{¿^VMew2L(2 @  +" `4p0#0 @) pT),3M@4 q@x2 EPfy  R<爀 PcA dH`2
!aLK(
hRb   BPPB)(b&$`!@DL&P02E@<LבN 13$a"8R! (!@4q!Ca-qWK'oM5)>_{%W:}V&~mfz{Oto;|׭nS'o,2կ}}O?_~m/w[};.,wվw4f9ddP9'
DH A Y 5^uRH4&D `UHbF3nD P.q#hK)J  0>~^7m75=P[;Rq?ݷɽ]/<45k!?OJSt=#|^L^>viԮ~]N۷[z=?O.6S{q3է=v6y|ߚsׇ_%^=<pu~ n=mk\k<`dX 
	0@L1P@BbA,:g#alPL@\Ȕ$$@R!(
Jr]t0q"FhQ	< fy&VD 0Ing(CefUtils.renderRangeCaret(editor, editor.selection.getRng()));
          }, 0);
        });

        editor.on('copy', function (e) {
          var clipboardData = e.clipboardData;

          // Make sure we get proper html/text for the fake cE=false selection
          // Doesn't work at all on Edge since it doesn't have proper clipboardData support
          if (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {
            var realSelectionElement = getRealSelectionElement();
            if (realSelectionElement) {
              e.preventDefault();
              clipboardData.clearData();
              clipboardData.setData('text/html', realSelectionElement.outerHTML);
              clipboardData.setData('text/plain', realSelectionElement.outerText);
            }
          }
        });

        DragDropOverrides.init(editor);
      }

      function addCss() {
        var styles = editor.contentStyles, rootClass = '.mce-content-body';

        styles.push(fakeCaret.getCss());
        styles.push(
          rootClass + ' .mce-offscreen-selection {' +
          'position: absolute;' +
          'left: -9999999999px;' +
          'max-width: 1000000px;' +
          '}' +
          rootClass + ' *[contentEditable=false] {' +
          'cursor: default;' +
          '}' +
          rootClass + ' *[contentEditable=true] {' +
          'cursor: text;' +
          '}'
        );
      }

      function isWithinCaretContainer(node) {
        return (
          CaretContainer.isCaretContainer(node) ||
          CaretContainer.startsWithCaretContainer(node) ||
          CaretContainer.endsWithCaretContainer(node)
        );
      }

      function isRangeInCaretContainer(rng) {
        return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);
      }

      function setContentEditableSelection(range, forward) {
        var node, $ = editor.$, dom = editor.dom, $realSelectionContainer, sel,
          startContainer, startOffset, endOffset, e, caretPosition, targetClone, origTargetClone;

        if (!range) {
          return null;
        }

        if (range.collapsed) {
          if (!isRangeInCaretContainer(range)) {
            if (forward === false) {
              caretPosition = getNormalizedRangeEndPoint(-1, range);

              if (isContentEditableFalse(caretPosition.getNode(true))) {
                return showCaret(-1, caretPosition.getNode(true), false);
              }

              if (isContentEditableFalse(caretPosition.getNode())) {
                return showCaret(-1, caretPosition.getNode(), !caretPosition.isAtEnd());
              }
            } else {
              caretPosition = getNormalizedRangeEndPoint(1, range);

              if (isContentEditableFalse(caretPosition.getNode())) {
                return showCaret(1, caretPosition.getNode(), !caretPosition.isAtEnd());
              }

              if (isContentEditableFalse(caretPosition.getNode(true))) {
                return showCaret(1, caretPosition.getNode(true), false);
              }
            }
          }

          return null;
        }

        startContainer = range.startContainer;
        startOffset = range.startOffset;
        endOffset = range.endOffset;

        // Normalizes <span cE=false>[</span>] to [<span cE=false></span>]
        if (startContainer.nodeType == 3 && startOffset == 0 && isContentEditableFalse(startContainer.parentNode)) {
          startContainer = startContainer.parentNode;
          startOffset = dom.nodeIndex(startContainer);
          startContainer = startContainer.parentNode;
        }

        if (startContainer.nodeType != 1) {
          return null;
        }

        if (endOffset == startOffset + 1) {
          node = startContainer.childNodes[startOffset];
        }

        if (!isContentEditableFalse(node)) {
          return null;
        }

        targetClone = origTargetClone = node.cloneNode(true);
        e = editor.fire('ObjectSelected', { target: node, targetClone: targetClone });
        if (e.isDefaultPrevented()) {
          return null;
        }

        targetClone = e.targetClone;
        $realSelectionContainer = $('#' + realSelectionId);
        if ($realSelectionContainer.length === 0) {
          $realSelectionContainer = $(
            '<div data-mce-bogus="all" class="mce-offscreen-selection"></div>'
          ).attr('id', realSelectionId);

          $realSelectionContainer.appendTo(editor.getBody());
        }

        range = editor.dom.createRng();

        // WHY is IE making things so hard! Copy on <i contentEditable="false">x</i> produces: <em>x</em>
        // This is a ridiculous hack where we place the selection from a block over the inline element
        // so that just the inline element is copied as is and not converted.
        if (targetClone === origTargetClone && Env.ie) {
          $realSelectionContainer.empty().append('<p style="font-size: 0" data-mce-bogus="all">\u00a0</p>').append(targetClone);
          range.setStartAfter($realSelectionContainer[0].firstChild.firstChild);
          range.setEndAfter(targetClone);
        } else {
          $realSelectionContainer.empty().append('\u00a0').append(targetClone).append('\u00a0');
          range.setStart($realSelectionContainer[0].firstChild, 1);
          range.setEnd($realSelectionContainer[0].lastChild, 0);
        }

        $realSelectionContainer.css({
          top: dom.getPos(node, editor.getBody()).y
        });

        $realSelectionContainer[0].focus();
        sel = editor.selection.getSel();
        sel.removeAllRanges();
        sel.addRange(range);

        editor.$('*[data-mce-selected]').removeAttr('data-mce-selected');
        node.setAttribute('data-mce-selected', 1);
        selectedContentEditableNode = node;
        hideFakeCaret();

        return range;
      }

      function removeContentEditableSelection() {
        if (selectedContentEditableNode) {
          selectedContentEditableNode.removeAttribute('data-mce-selected');
          editor.$('#' + realSelectionId).remove();
          selectedContentEditableNode = null;
        }
      }

      function destroy() {
        fakeCaret.destroy();
        selectedContentEditableNode = null;
      }

      function hideFakeCaret() {
        fakeCaret.hide();
      }

      if (Env.ceFalse) {
        registerEvents();
        addCss();
      }

      return {
        showCaret: showCaret,
        showBlockCaretContainer: showBlockCaretContainer,
        hideFakeCaret: hideFakeCaret,
        destroy: destroy
      };
    }

    return SelectionOverrides;
  }
);

/**
 * NodePath.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Handles paths of nodes within an element.
 *
 * @private
 * @class tinymce.dom.NodePath
 */
define(
  'tinymce.core.dom.NodePath',
  [
    "tinymce.core.dom.DOMUtils"
  ],
  function (DOMUtils) {
    function create(rootNode, targetNode, normalized) {
      var path = [];

      for (; targetNode && targetNode != rootNode; targetNode = targetNode.parentNode) {
        path.push(DOMUtils.nodeIndex(targetNode, normalized));
      }

      return path;
    }

    function resolve(rootNode, path) {
      var i, node, children;

      for (node = rootNode, i = path.length - 1; i >= 0; i--) {
        children = node.childNodes;

        if (path[i] > children.length - 1) {
          return null;
        }

        node = children[path[i]];
      }

      return node;
    }

    return {
      create: create,
      resolve: resolve
    };
  }
);
/**
 * Quirks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */

/**
 * This file includes fixes for various browser quirks it's made to make it easy to add/remove browser specific fixes.
 *
 * @private
 * @class tinymce.util.Quirks
 */
define(
  'tinymce.core.util.Quirks',
  [
    "tinymce.core.util.VK",
    "tinymce.core.dom.RangeUtils",
    "tinymce.core.dom.TreeWalker",
    "tinymce.core.dom.NodePath",
    "tinymce.core.html.Node",
    "tinymce.core.html.Entities",
    "tinymce.core.Env",
    "tinymce.core.util.Tools",
    "tinymce.core.util.Delay",
    "tinymce.core.caret.CaretContainer",
    "tinymce.core.caret.CaretPosition",
    "tinymce.core.caret.CaretWalker"
  ],
  function (VK, RangeUtils, TreeWalker, NodePath, Node, Entities, Env, Tools, Delay, CaretContainer, CaretPosition, CaretWalker) {
    return function (editor) {
      var each = Tools.each;
      var BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection,
        settings = editor.settings, parser = editor.parser, serializer = editor.serializer;
      var isGecko = Env.gecko, isIE = Env.ie, isWebKit = Env.webkit;
      var mceInternalUrlPrefix = 'data:text/mce-internal,';
      var mceInternalDataType = isIE ? 'Text' : 'URL';

      /**
       * Executes a command with a specific state this can be to enable/disable browser editing features.
       */
      function setEditorCommandState(cmd, state) {
        try {
          editor.getDoc().execCommand(cmd, false, state);
        } catch (ex) {
          // Ignore
        }
      }

      /**
       * Returns current IE document mode.
       */
      function getDocumentMode() {
        var documentMode = editor.getDoc().documentMode;

        return documentMode ? documentMode : 6;
      }

      /**
       * Returns true/false if the event is prevented or not.
       *
       * @private
       * @param {Event} e Event object.
       * @return {Boolean} true/false if the event is prevented or not.
       */
      function isDefaultPrevented(e) {
        return e.isDefaultPrevented();
      }

      /**
       * Sets Text/URL data on the event's dataTransfer object to a special data:text/mce-internal url.
       * This is to workaround the inability to set custom contentType on IE and Safari.
       * The editor's selected content is encoded into this url so drag and drop between editors will work.
       *
       * @private
       * @param {DragEvent} e Event object
       */
      function setMceInternalContent(e) {
        var selectionHtml, internalContent;

        if (e.dataTransfer) {
          if (editor.selection.isCollapsed() && e.target.tagName == 'IMG') {
            selection.select(e.target);
          }

          selectionHtml = editor.selection.getContent();

          // Safari/IE doesn't support custom dataTransfer items so we can only use URL and Text
          if (selectionHtml.length > 0) {
            internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);
            e.dataTransfer.setData(mceInternalDataType, internalContent);
          }
        }
      }

      /**
       * Gets content of special data:text/mce-internal url on the event's dataTransfer object.
       * This is to workaround the inability to set custom contentType on IE and Safari.
       * The editor's selected content is encoded into this url so drag and drop between editors will work.
       *
       * @private
       * @param {DragEvent} e Event object
       * @returns {String} mce-internal content
       */
      function getMceInternalContent(e) {
        var internalContent;

        if (e.dataTransfer) {
          internalContent = e.dataTransfer.getData(mceInternalDataType);

          if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {
            internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');

            return {
              id: unescape(internalContent[0]),
              html: unescape(internalContent[1])
            };
          }
        }

        return null;
      }

      /**
       * Inserts contents using the paste clipboard command if it's available if it isn't it will fallback
       * to the core command.
       *
       * @private
       * @param {String} content Content to insert at selection.
       * @param {Boolean} internal State if the paste is to be considered internal or external.
       */
      function insertClipboardContents(content, internal) {
        if (editor.queryCommandSupported('mceInsertClipboardContent')) {
          editor.execCommand('mceInsertClipboardContent', false, { content: content, internal: internal });
        } else {
          editor.execCommand('mceInsertContent', false, content);
        }
      }

      /**
       * Makes sure that the editor body becomes empty when backspace or delete is pressed in empty editors.
       *
       * For example:
       * <p><b>|</b></p>
       *
       * Or:
       * <h1>|</h1>
       *
       * Or:
       * [<h1></h1>]
       */
      function emptyEditorWhenDeleting() {
        function serializeRng(rng) {
          var body = dom.create("body");
          var contents = rng.cloneContents();
          body.appendChild(contents);
          return selection.serializer.serialize(body, { format: 'html' });
        }

        function allContentsSelected(rng) {
          if (!rng.setStart) {
            if (rng.item) {
              return false;
            }

            var bodyRng = rng.duplicate();
            bodyRng.moveToElementText(editor.getBody());
            return RangeUtils.compareRanges(rng, bodyRng);
          }

          var selection = serializeRng(rng);

          var allRng = dom.createRng();
          allRng.selectNode(editor.getBody());

          var allSelection = serializeRng(allRng);
          return selection === allSelection;
        }

        editor.on('keydown', function (e) {
          var keyCode = e.keyCode, isCollapsed, body;

          // Empty the editor if it's needed for example backspace at <p><b>|</b></p>
          if (!isDefaultPrevented(e) && (keyCode == DELETE || keyCode == BACKSPACE)) {
            isCollapsed = editor.selection.isCollapsed();
            body = editor.getBody();

            // Selection is collapsed but the editor isn't empty
            if (isCollapsed && !dom.isEmpty(body)) {
              return;
            }

            // Selection isn't collapsed but not all the contents is selected
            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {
              return;
            }

            // Manually empty the editor
            e.preventDefault();
            editor.setContent('');

            if (body.firstChild && dom.isBlock(body.firstChild)) {
              editor.selection.setCursorLocation(body.firstChild, 0);
            } else {
              editor.selection.setCursorLocation(body, 0);
            }

            editor.nodeChanged();
          }
        });
      }

      /**
       * WebKit doesn't select all the nodes in the body when you press Ctrl+A.
       * IE selects more than the contents <body>[<p>a</p>]</body> instead of <body><p>[a]</p]</body> see bug #6438
       * This selects the whole body so that backspace/delete logic will delete everything
       */
      function selectAll() {
        editor.shortcuts.add('meta+a', null, 'SelectAll');
      }

      /**
       * WebKit has a weird issue where it some times fails to properly convert keypresses to input method keystrokes.
       * The IME on Mac doesn't initialize when it doesn't fire a proper focus event.
       *
       * This seems to happen when the user manages to click the documentElement element then the window doesn't get proper focus until
       * you enter a character into the editor.
       *
       * It also happens when the first focus in made to the body.
       *
       * See: https://bugs.webkit.org/show_bug.cgi?id=83566
       */
      function inputMethodFocus() {
        if (!editor.settings.content_editable) {
          // Case 1 IME doesn't initialize if you focus the document
          // Disabled since it was interferring with the cE=false logic
          // Also coultn't reproduce the issue on Safari 9
          /*dom.bind(editor.getDoc(), 'focusin', function() {
            selection.setRng(selection.getRng());
          });*/

          // Case 2 IME doesn't initialize if you click the documentElement it also doesn't pP%Kd[k R
["" ER$dг
0Ȑ"A7 N B	F6*E8r TՈ 6+3DFAN"8B!lt1i	s&k*" 4Ujbd3I*@ Iխ! ! ć; b
CzE"0$8
P Nn!T= Q )C 55 BtR}nQb* "10  8`60280w(S ,С  9,C,!0 H`H`IT"j1Kt h#aCD cC8`HÈ I'
!`hˋ@K`b2bê	,J H&YOb-ECrJ N&fe36dY$6Ϙ2 f4 	qTe$$ !0S&0IOU2&t\D%lq)-Y`V	0 	UGʠ("8PY88Q`!uPjDQVO
@ J@ )4*U	^Hc 3aA3	_"`1S)?Zu`Ծ@L! C5?0DP#$E	tL̋ B 	_8zpPY=N١lIqLcDCT+']D FH%ebcqPdc,=U(PEEX@ɀJOa("P(
 2KX!P B vP䢵b0<@=
(xC$![ń\ CL (XDl%c :G@( !؁B2G(( K]^Ѓ*a DR0I|$ K ķH V$1GH
a$ KeX1D`@@0F ' Xa	"S` 66 (i {B@$X C.BUĆaKЪF@X Pc1NA hc>Z&+dŲj8A+l i:J04@T /P!b	 E!BE4(1L?  JJ'h rB"pp,<1A  b\IKx!w H!QY2# @4 <  ȣ  ]* B0d  i 'pII@Pq  ! a"T'Iif $ `hJ vCY8P`-Z28V`D 9 2 	ED ()\Z|"*=E h$d(~aF-,錚v8=肘(0ȒVP"$G @E"P
+VC4 "=M
* D4 H PT5qHb2 J!Ni$ `I I05$
8F X@'0aEz@"P`P@0,bk"!L@a	D$[g!h  H @2F&Nl
 ֢E!78DA$BDv#aps@D i<ĸ(- B1 ,	1 ࡘ AHЬR% PMfpE XWB$%H@ 4uP
0B B's72EC	`8wFvQ!@@A=R@DE!҉ #6FǸNCl  @x84x}a=&)(@v!(Elb:@(DcrpR
A`H@0ELP @ N:TP(i!C
@A
!b@N$cq( yxBdXH JbD'&Ab 
bҨ$|&A%sa@8GV0oXD&JgO` 98I!*Հ>Ts´q>V#P"K$I0aȒAaeC]@Z" ` *DA.'ԦisXx" [YAҡP@Rb ڀ -QBX40D	(!,)@1  H dh2  Pd(
 @	B
`0	 ##@@P3@`0X,*[8(`Pl芤*0@P􀉳#bFAL	Fb AA (Ji( ;-5B	 aXPfL IG"RI+LåCUSOn" (A*2gk$%B49"
"!DFj1rm>i"(."JiX n@(a+ @(AcTA
CHH@@"I t!D@r#)$PP PrxBLB	
5 90
E" T5M)	5IY*tA] $4 v@h2u@  HĈ%"@
T*( PhRF6$9Hs`T[ QJsS`F1(!
PH(
(VlEE.*LbH*@2?T$S`P q!1ӁQeSbBY	EgaxLr ? H)RBb nX	H@L2 P# 2X  (p`$E"@Ux0 A"`QL T,ԁP4`: G!C <`b*Z%up,l@,NP* J PLYF˂$@O.#L0,@lBb0d+  }"f,rvد[0M@PUA hl`DӣH	<0Pb1f,^Li `@(e2(bFB R
$E2HH?ѧ|0Ot p
r P )	hV3Z@! 0A$nQ@  I;@(@,Q 0" 34a- &M48 1&c< ,B
DFX8PXX GS,@BiJ S?
Qk	L%B#% J|NA  cP
BAe 0 \	?B)

\5"d0( 5)Vrv L3 D2E%B rFȧ0pCfPH TJͅ ň]Xti@(Fq" 1G"AJG"4`jqn 
0$(2Bv   [PI  `!$,a!2y"2ЁUE`
.5  51"M 8`$70$CA(:#X*'Ld5
\E vQDhS#-$D".(PX x3-Y1	ODK#-LGh0@sJfR5ARTB :R+@
"EBF7`@?B֕h A D5]8F
$C#A3, n˻
4lT	(K9"M  6" aP@r 63qĄ <P'A0@"¨0 $R&U 42#  h@`z rD  Hu&@rCK1ҫH%% E 0%FCADP09Hde-item-anchor')) {
            e.preventDefault();
            selection.select(target);
          }
        });
      }

      /**
       * Fixes a Gecko bug where the style attribute gets added to the wrong element when deleting between two block elements.
       *
       * Fixes do backspace/delete on this:
       * <p>bla[ck</p><p style="color:red">r]ed</p>
       *
       * Would become:
       * <p>bla|ed</p>
       *
       * Instead of:
       * <p style="color:red">bla|ed</p>
       */
      function removeStylesWhenDeletingAcrossBlockElements() {
        function getAttributeApplyFunction() {
          var template = dom.getAttribs(selection.getStart().cloneNode(false));

          return function () {
            var target = selection.getStart();

            if (target !== editor.getBody()) {
              dom.setAttrib(target, "style", null);

              each(template, function (attr) {
                target.setAttributeNode(attr.cloneNode(true));
              });
            }
          };
        }

        function isSelectionAcrossElements() {
          return !selection.isCollapsed() &&
            dom.getParent(selection.getStart(), dom.isBlock) != dom.getParent(selection.getEnd(), dom.isBlock);
        }

        editor.on('keypress', function (e) {
          var applyAttributes;

          if (!isDefaultPrevented(e) && (e.keyCode == 8 || e.keyCode == 46) && isSelectionAcrossElements()) {
            applyAttributes = getAttributeApplyFunction();
            editor.getDoc().execCommand('delete', false, null);
            applyAttributes();
            e.preventDefault();
            return false;
          }
        });

        dom.bind(editor.getDoc(), 'cut', function (e) {
          var applyAttributes;

          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {
            applyAttributes = getAttributeApplyFunction();

            Delay.setEditorTimeout(editor, function () {
              applyAttributes();
            });
          }
        });
      }

      /**
       * Screen readers on IE needs to have the role application set on the body.
       */
      function ensureBodyHasRoleApplication() {
        document.body.setAttribute("role", "application");
      }

      /**
       * Backspacing into a table behaves differently depending upon browser type.
       * Therefore, disable Backspace when cursor immediately follows a table.
       */
      function disableBackspaceIntoATable() {
        editor.on('keydown', function (e) {
          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {
            if (selection.isCollapsed() && selection.getRng(true).startOffset === 0) {
              var previousSibling = selection.getNode().previousSibling;
              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === "table") {
                e.preventDefault();
                return false;
              }
            }
          }
        });
      }

      /**
       * Old IE versions can't properly render BR elements in PRE tags white in contentEditable mode. So this
       * logic adds a \n before the BR so that it will get rendered.
       */
      function addNewLinesBeforeBrInPre() {
        // IE8+ rendering mode does the right thing with BR in PRE
        if (getDocumentMode() > 7) {
          return;
        }

        // Enable display: none in area and add a specific class that hides all BR elements in PRE to
        // avoid the caret from getting stuck at the BR elements while pressing the right arrow key
        setEditorCommandState('RespectVisibilityInDesign', true);
        editor.contentStyles.push('.mceHideBrInPre pre br {display: none}');
        dom.addClass(editor.getBody(), 'mceHideBrInPre');

        // Adds a \n before all BR elements in PRE to get them visual
        parser.addNodeFilter('pre', function (nodes) {
          var i = nodes.length, brNodes, j, brElm, sibling;

          while (i--) {
            brNodes = nodes[i].getAll('br');
            j = brNodes.length;
            while (j--) {
              brElm = brNodes[j];

              // Add \n before BR in PRE elements on older IE:s so the new lines get rendered
              sibling = brElm.prev;
              if (sibling && sibling.type === 3 && sibling.value.charAt(sibling.value - 1) != '\n') {
                sibling.value += '\n';
              } else {
                brElm.parent.insert(new Node('#text', 3), brElm, true).value = '\n';
              }
            }
          }
        });

        // Removes any \n before BR elements in PRE since other browsers and in contentEditable=false mode they will be visible
        serializer.addNodeFilter('pre', function (nodes) {
          var i = nodes.length, brNodes, j, brElm, sibling;

          while (i--) {
            brNodes = nodes[i].getAll('br');
            j = brNodes.length;
            while (j--) {
              brElm = brNodes[j];
              sibling = brElm.prev;
              if (sibling && sibling.type == 3) {
                sibling.value = sibling.value.replace(/\r?\n$/, '');
              }
            }
          }
        });
      }

      /**
       * Moves style width/height to attribute width/height when the user resizes an image on IE.
       */
      function removePreSerializedStylesWhenSelectingControls() {
        dom.bind(editor.getBody(), 'mouseup', function () {
          var value, node = selection.getNode();

          // Moved styles to attributes on IMG eements
          if (node.nodeName == 'IMG') {
            // Convert style width to width attribute
            if ((value = dom.getStyle(node, 'width'))) {
              dom.setAttrib(node, 'width', value.replace(/[^0-9%]+/g, ''));
              dom.setStyle(node, 'width', '');
            }

            // Convert style height to height attribute
            if ((value = dom.getStyle(node, 'height'))) {
              dom.setAttrib(node, 'height', value.replace(/[^0-9%]+/g, ''));
              dom.setStyle(node, 'height', '');
            }
          }
        });
      }

      /**
       * Removes a blockquote when backspace is pressed at the beginning of it.
       *
       * For example:
       * <blockquote><p>|x</p></blockquote>
       *
       * Becomes:
       * <p>|x</p>
       */
      function removeBlockQuoteOnBackSpace() {
        // Add block quote deletion handler
        editor.on('keydown', function (e) {
          var rng, container, offset, root, parent;

          if (isDefaultPrevented(e) || e.keyCode != VK.BACKSPACE) {
            return;
          }

          rng = selection.getRng();
          container = rng.startContainer;
          offset = rng.startOffset;
          root = dom.getRoot();
          parent = container;

          if (!rng.collapsed || offset !== 0) {
            return;
          }

          while (parent && parent.parentNode && parent.parentNode.firstChild == parent && parent.parentNode != root) {
            parent = parent.parentNode;
          }

          // Is the cursor at the beginning of a blockquote?
          if (parent.tagName === 'BLOCKQUOTE') {
            // Remove the blockquote
            editor.formatter.toggle('blockquote', null, parent);

            // Move the caret to the beginning of container
            rng = dom.createRng();
            rng.setStart(container, 0);
            rng.setEnd(container, 0);
            selection.setRng(rng);
          }
        });
      }

      /**
       * Sets various Gecko editing options on mouse down and before a execCommand to disable inline table editing that is broken etc.
       */
      function setGeckoEditingOptions() {
        function setOpts() {
          refreshContentEditable();

          setEditorCommandState("StyleWithCSS", false);
          setEditorCommandState("enableInlineTableEditing", false);

          if (!settings.object_resizing) {
            setEditorCommandState("enableObjectResizing", false);
          }
        }

        if (!settings.readonly) {
          editor.on('BeforeExecCommand MouseDown', setOpts);
        }
      }

      /**
       * Fixes a gecko link bug, when a link is placed at the end of block elements there is
       * no way to move the caret behind the link. This fix adds a bogus br element after the link.
       *
       * For example this:
       * <p><b><a href="#">x</a></b></p>
       *
       * Becomes this:
       * <p><b><a href="#">x</a></b><br></p>
       */
      function addBrAfterLastLinks() {
        function fixLinks() {
          each(dom.select('a'), function (node) {
            var parentNode = node.parentNode, root = dom.getRoot();

            if (parentNode.lastChild === node) {
              while (parentNode && !dom.isBlock(parentNode)) {
                if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {
                  return;
                }

                parentNode = parentNode.parentNode;
              }

              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });
            }
          });
        }

        editor.on('SetContent ExecCommand', function (e) {
          if (e.type == "setcontent" || e.command === 'mceInsertLink') {
            fixLinks();
          }
        });
      }

      /**
       * WebKit will produce DIV elements here and there by default. But since TinyMCE uses paragraphs by
       * default we want to change that behavior.
       */
      function setDefaultBlockType() {
        if (settings.forced_root_block) {
          editor.on('init', function () {
            setEditorCommandState('DefaultParagraphSeparator', settings.forced_root_block);
          });
        }
      }

      /**
       * Deletes the selected image on IE instead of navigating to previous page.
       */
      function deleteControlItemOnBackSpace() {
        editor.on('keydown', function (e) {
          var rng;

          if (!isDefaultPrevented(e) && e.keyCode == BACKSPACE) {
            rng = editor.getDoc().selection.createRange();
            if (rng && rng.item) {
              e.preventDefault();
              editor.undoManager.beforeChange();
              dom.remove(rng.item(0));
              editor.undoManager.add();
            }
          }
        });
      }

      /**
       * IE10 doesn't properly render block elements with the right height until you add contents to them.
       * This fixes that by adding a padding-right to all empty text block elements.
       * See: https://connect.microsoft.com/IE/feedback/details/743881
       */
      function renderEmptyBlocksFix() {
        var emptyBlocksCSS;

        // IE10+
        if (getDocumentMode() >= 10) {
          emptyBlocksCSS = '';
          each('p div h1 h2 h3 h4 h5 h6'.split(' '), function (name, i) {
            emptyBlocksCSS += (i > 0 ? ',' : '') + name + ':empty';
          });

          editor.contentStyles.push(emptyBlocksCSS + '{padding-right: 1px !important}');
        }
      }

      /**
       * Old IE versions can't retain contents within noscript elements so this logic will store the contents
       * as a attribute and the insert that value as it's raw text when the DOM is serialized.
       */
      function keepNoScriptContents() {
        if (getDocumentMode() < 9) {
          parser.addNodeFilter('noscript', function (nodes) {
            var i = nodes.length, node, textNode;

            while (i--) {
              node = nodes[i];
              textNode = node.firstChild;

              if (textNode) {
                node.attr('data-mce-innertext', textNode.value);
              }
            }
          });

          serializer.addNodeFilter('noscript', function (nodes) {
            var i = nodes.length, node, textNode, value;

            while (i--) {
              node = nodes[i];
              textNode = nodes[i].firstChild;

              if (textNode) {
                textNode.value = Entities.decode(textNode.value);
              } else {
                // Old IE can't retain noscript value so an attribute is used to store it
                value = node.attributes.map['data-mce-innertext'];
                if (value) {
                  node.attr('data-mce-innertext', null);
                  textNode = new Node('#text', 3);
                  textNode.value = value;
                  textNode.raw = true;
                  node.append(textNode);
                }
              }
            }
          });
        }
      }

      /**
       * IE has an issue where you can't select/move the caret by clicking outside the body if the document is in standards mode.
       */
      function fixCaretSelectionOfDocumentElementOnIe() {
        var doc = dom.doc, body = doc.body, started, startRng, htmlElm;

        // Return range from point or null if it failed
        function rngFromPoint(x, y) {
          var rng = body.createTextRange();

          try {
            rng.moveToPoint(x, y);
          } catch (ex) {
            // IE sometimes throws and exception, so lets just ignore it
            rng = null;
          }

          return rng;
        }

        // Fires while the selection is changing
        function selectionChange(e) {
          var pointRng;

          // Check if the button is down or not
          if (e.button) {
            // Create range from mouse position
            pointRng = rngFromPoint(e.x, e.y);

            if (pointRng) {
              // Check if pointRange is before/after selection then change the endPoint
              if (pointRng.compareEndPoints('StartToStart', startRng) > 0) {
                pointRng.setEndPoint('StartToStart', startRng);
              } else {
                pointRng.setEndPoint('EndToEnd', startRng);
              }

              pointRng.select();
            }
          } else {
            endSelection();
          }
        }

        // Removes listeners
        function endSelection() {
          var rng = doc.selection.createRange();

          // If the range is collapsed then use the last start range
          if (startRng && !rng.item && rng.compareEndPoints('StartToEnd', rng) === 0) {
            startRng.select();
          }

          dom.unbind(doc, 'mouseup', endSelection);
          dom.unbind(doc, 'mousemove', selectionChange);
          startRng = started = 0;
        }

        // Make HTML element unselectable since we are going to handle selection by hand
        doc.documentElement.unselectable = true;

        // Detect when user selects outside BODY
        dom.bind(doc, 'mousedown contextmenu', function (e) {
          if (e.target.nodeName === 'HTML') {
            if (started) {
              endSelection();
            }

            // Detect vertical scrollbar, since IE will fire a mousedown on the scrollbar and have target set as HTML
            htmlElm = doc.documentElement;
            if (htmlElm.scrollHeight > htmlElm.clientHeight) {
              return;
            }

            started = 1;
            // Setup start position
            startRng = rngFromPoint(e.x, e.y);
            if (startRng) {
              // Listen for selection change events
              dom.bind(doc, 'mouseup', endSelection);
              dom.bind(doc, 'mousemove', selectionChange);

              dom.getRoot().focus();
              startRng.select();
            }
          }
        });
      }

      /**
       * Fixes selection issues where the caret can be placed between two inline elements like <b>a</b>|<b>b</b>
       * this fix will lean the caret right into the closest inline element.
       */
      function normalizeSelection() {
        // Normalize selection for example <b>a</b><i>|a</i> becomes <b>a|</b><i>a</i> except for Ctrl+A since it selects everything
        editor.on('keyup focusin mouseup', function (e) {
          if (e.keyCode != 65 || !VK.metaKeyPressed(e)) {
            selection.normalize();
          }
        }, true);
      }

      /**
       * Forces Gecko to render a broken image icon if it fails to load an image.
       */
      function showBrokenImageIcon() {
        editor.contentStyles.push(
          'img:-moz-broken {' +
          '-moz-force-broken-image-icon:1;' +
          'min-width:24px;' +
          'min-height:24px' +
          '}'
        );
      }

      /**
       * iOS has a bug where it's impossible to type if the document has a touchstart event
       * bound and the user touches the document while having the on screen keyboard visible.
       *
       * The touch event moves the focus to the parent document while having the caret inside the iframe
       * this fix moves the focus back into the iframe document.
       */
      function restoreFocusOnKeyDown() {
        if (!editor.inline) {
          editor.on('keydown', function () {
            if (document.activeElement == document.body) {
              editor.getWin().focus();
            }
          });
        }
      }

      /**
       * IE 11 has an annoying issue where you can't move focus into the editor
       * by clicking on the white area HTML element. We used to be able to to fix this with
       * the fixCaretSelectionOfDocumentElementOnIe fix. But since M$ removed the selection
       * object it's not possible anymore. So we need to hack in a ungly CSS to force the
       * body to be at least 150px. If the user clicks the HTML element out side this 150px region
       * we simply move the focus into the first paragraph. Not ideal since you loose the
       * positioning of the caret but goot enough for most cases.
       */
      function bodyHeight() {
        if (!editor.inline) {
          editor.contentStyles.push('body {min-height: 150px}');
          editor.on('click', function (e) {
            var rng;

            if (e.target.nodeName == 'HTML') {
              // Edge seems to only need focus if we set the range
              // the caret will become invisible and moved out of the iframe!!
              if (Env.ie > 11) {
                editor.getBody().focus();
                return;
              }

              // Need to store away non collapsed ranges since the focus call will mess that up see #7382
              rng = editor.selection.getRng();
              editor.getBody().focus();
              editor.selection.setRng(rng);
              editor.selection.normalize();
              editor.nodeChanged();
            }
          });
        }
      }

      /**
       * Firefox on Mac OS will move the browser back to the previous page if you press CMD+Left arrow.
       * You might then loose all your work so we need to block that behavior and replace it with our own.
       */
      function blockCmdArrowNavigation() {
        if (Env.mac) {
          editor.on('keydown', function (e) {
            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode == 37 || e.keyCode == 39)) {
              e.preventDefault();
              editor.selection.getSel().modify('move', e.keyCode == 37 ? 'backward' : 'forward', 'lineboundary');
            }
          });
        }
      }

      /**
       * Disables the autolinking in IE 9+ this is then re-enabled by the autolink plugin.
       */
      function disableAutoUrlDetect() {
        setEditorCommandState("AutoUrlDetect", false);
      }

      /**
       * iOS 7.1 introduced two new bugs:
       * 1) It's possible to open links within a contentEditable area by clicking on them.
       * 2) If you hold down the finger it will display the link/image touch callout menu.
       */
      function tapLinksAndImages() {
        editor.on('click', function (e) {
          var elm = e.target;

          do {
            if (elm.tagName === 'A') {
              e.preventDefault();
              return;
            }
          } while ((elm = elm.parentNode));
        });

        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');
      }

      /**
       * iOS Safari and possible other browsers have a bug where it won't fire
       * a click event when a contentEditable is focused. This function fakes click events
       * by using touchstart/touchend and measuring the time and distance travelled.
       */
      /*
      function touchClickEvent() {
        editor.on('touchstart', function(e) {
          var elm, time, startTouch, changedTouches;

          elm = e.target;
          time = new Date().getTime();
          changedTouches = e.chacA EH@ﾭ000006cd.tracev3   ྰ밻; 9KK;뻾  배࿾`;`;  뻻  㰻`໻˾``;;   0>^+   `    899.8`;D:9. . 8D. 9`.
8F.?G:.8z F8 ..89`. F*9.8.9.. 8F8K 9.    h S         " ( 0@" $ 0`@" $ 0`@" $ 0`@"  0@"  0`@" $ 0`@"  0`@" $ 0@" ( 0@" $ 0@" ( 0@" $ 0@" $ 0@" ( 0@" ( 0@ 
   !   dB@ 8  Bﾭ
   !   0@     !   @  
   !   @  
   !   @dB 8  ĠB   !        !   @  
   !   dB 8     !    @  ȠB$
   !   dB@ 8  ɠB   !   Ќ@  ʠB   !   dB@ 8  ˠB   !   @  ̠Bﾭ4
   !    @  ͠Bﾭ   !   dBЂ@ 8  ΠBﾭ<
   !   hdB@ 8  ϠBﾭ$$N[\.$KRP$PK$   8?0 	?;$ N1PA$ 8#' 
8?2
??8,?8x	?, .       S         *<
D0 >
h<t<  )>d<C@<* Ad,t<@ *=h<C	t<P C<@  1 0<@
 H0 1	h8D@P  0<@
 D0 C2
<@  )2 08C@ < C=
8<HEЬvE\9 <  EvE[9]  0EvE`wH <=  XE 9`9   `wEvEg9~  owE 9W>^BxMF  `vE19h  0I959`wEHF9 <  PE9 <vEhB9?9;9  mwE 9  hawEp9vE?  pmwEt9Q  ~  x94  XbwElwE0vE{9  XlwE}9Z   bwEvEX9~9  0lwE  kwE9vE09@  kwE`9F
  9`dwE9?  vE 94  Q  9vE9E   vE9=  H֘9@vE9 <jwE9" 889; `s90% n ^^Z  ` e.^.P)   		)n 	n.
 R"
 u Pa] @:<LC
F y HB,f # @5@B 7AT'`L>6qu b1Z"#fB'PB	&      S          S        l S$  =  [  ((,
  @    *-!yH *
, C
("   8   DCW	C H  (*
  @d   B * j&2>0,4  
J  >   @" t6<   <(,	  @    n* 鈪 b- C
("   B  hr>вJefG 7$     J DF{mW ozoDʭ   !^JjJK	  V?    ɠ$EB  `u&%[+   
^n^$=$CO`P :0     ӲJffG 7$     J DF{mV nz`oD(ԲJʭ   !J8|J    $%[+     v
^A  b :0     hr>ֲJ(zfG 7$     J DF{mU mzײJʭ   !0vJHyJ  AV?   {=@  {=@   $%[+   
^@ԂE	i :0 B      tٲJ8xfG 7$     J DF{mR jzoDoDڲJʭ   !@sJXvJ6  .V?    $Q %[+     v
^?  g	k7 :0     dܲJifG 7$     J DF{mQ iz pDܲJʭ   !PpJJ      $O %[+     
^n^b>  6<oC :0 B      T߲JjfG 7$     J DF{mO gz mD߲J{.N  ?CH88`%8?Å^y> U- 8*Ê2N % ??8?7 ??Ã~08 8     T S!C  ब   $(  , g0  4g8  < g@  D0gH  L@P  TQx  |Q  0s0  4`RtH  L0tX  \0t`  d0th  l'  '     `  ԫ  ԫ     0> &ܠ&Rj    ~]=     XP
 ס8Pz('   A  P>&&ܢH fsJXb9     P? H Y]MY]MY]M|   A  XC
    BX#>      g<`kh*b @       >>r>_  8>    X3̷    Q|BNM  ʷ     zw%BA  poG 
CX>    Xk    E>      PԂ`G߶OkЂ!      A     >nn&lEnn n @D . ޻  Np>$ >>
  0    #  f; 5 > PB? 0 	G0 v  Pp G0 P: `# @ Q  P< '   SK  c  z  jj;"(    󶼩I   0    8D#  @8+n  *4      !#      jΚ
#  è8*o/  0      +&    p0~nށĀ       3i*   0    8#  @8bm/j(    H  XG	    5LWJ ߢL  F	     (TKwkJ+0,      A     :p: >    :X/    @ s9fNp&>      2hVZ<~WȾ      A     > >  X   j8m?z&>      VR`BkkH      A     p>  >X	    pp;}&>  o    	  tYfK:kp+      A     @>>>  x&$g    5{:8H          x  0  `>x&X	    g85y; #>      DKzkV-      A     >>    >X    J#>  ۘ     :)ZK몫kH4.       A     `>>  `R6X	    M#>      |`Xko,      A     P>>0
>   &$()    >< M     
 _c%ȲR)   xv@" > &$XDi    ҇E#>      b*O=Lk=LkeU*)   A     @>`>>    XAi    2D#>  o    Ai  0;*O܍k`d)      A     @>8>       ^6X    8;#>      U`)Trk2 @      p,  >q>U  >n.	 ~W U^w~.T| Y	^ - ^  . n Y ,z>> 8C7xM P6 P1 8V ,  PY809  	 >A  P  `m;0 L S        ! !    	,<1  @+3H)  01    (	    L(    A@@ ""  @  p$T@$H    88*00	"1 *       0p     A
  @R !< P  (               $4
	 * "0@ HH3 BB3 AC< ?@[$;:    P$9     EN$IR4  \ RUL  Pp% R R">$ Z#  w7 R
E\$߹B X    @u-$ p8 P/8 Jv 8AC @ > 7? p        `  QC@[$|D P$Q Q EN$4  d  ~ n%  8[ A 4K~1>\$@E4  ޡ$@6ЉL( K z6p?4 oǤb9 {L    ;  |$M >!% P$  (EN$ԑa4  
 paXH =$w  Ua    Ba  +   K 4  ܡ% E\$@8x@C Lv 8YA0R57   -E p         ' QCM$ptܑ    ~
   N
 
    
Р      0| > 	??_  80?<1  89 |??0   08?0 ?C? [0  8 ED        S      S    
    
 S  *    eiZUVViYZYVeYffVeVUUUUUUUVUUUUUUUUUUYUUUUUUUUUYU?ZZj{jj{zjZZjeZzzjZnn{zznZnl&&nzjYjj{yfhhꩧezjzzk鞩iUO	 N#   @        h<  D   x H   x  p    X p p       @ (   |     D   (    0 H  X     X        h      ,         8 P  (  x  H    ` \   X (  @ 4        l         0       P    `    T      d    0   <  @ =                       g       \
       SI       "       &m MUtils, Selection, Serializer, EditorUpload, ErrorReporter, ForceBlocks, Formatter, DomParser, Node, Schema, KeyboardOverrides,
    NodeChange, SelectionOverrides, UndoManager, Delay, Quirks, Tools
  ) {
    var DOM = DOMUtils.DOM;

    var createParser = function (editor) {
      var parser = new DomParser(editor.settings, editor.schema);

      // Convert src and href into data-mce-src, data-mce-href and data-mce-style
      parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name) {
        var i = nodes.length, node, dom = editor.dom, value, internalName;

        while (i--) {
          node = nodes[i];
          value = node.attr(name);
          internalName = 'data-mce-' + name;

          // Add internal attribute if we need to we don't on a refresh of the document
          if (!node.attributes.map[internalName]) {
            // Don't duplicate these since they won't get modified by any browser
            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {
              continue;
            }

            if (name === "style") {
              value = dom.serializeStyle(dom.parseStyle(value), node.name);

              if (!value.length) {
                value = null;
              }

              node.attr(internalName, value);
              node.attr(name, value);
            } else if (name === "tabindex") {
              node.attr(internalName, value);
              node.attr(name, null);
            } else {
              node.attr(internalName, editor.convertURL(value, name, node.name));
            }
          }
        }
      });

      // Keep scripts from executing
      parser.addNodeFilter('script', function (nodes) {
        var i = nodes.length, node, type;

        while (i--) {
          node = nodes[i];
          type = node.attr('type') || 'no/type';
          if (type.indexOf('mce-') !== 0) {
            node.attr('type', 'mce-' + type);
          }
        }
      });

      parser.addNodeFilter('#cdata', function (nodes) {
        var i = nodes.length, node;

        while (i--) {
          node = nodes[i];
          node.type = 8;
          node.name = '#comment';
          node.value = '[CDATA[' + node.value + ']]';
        }
      });

      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {
        var i = nodes.length, node, nonEmptyElements = editor.schema.getNonEmptyElements();

        while (i--) {
          node = nodes[i];

          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {
            node.append(new Node('br', 1)).shortEnded = true;
          }
        }
      });

      return parser;
    };

    var autoFocus = function (editor) {
      if (editor.settings.auto_focus) {
        Delay.setEditorTimeout(editor, function () {
          var focusEditor;

          if (editor.settings.auto_focus === true) {
            focusEditor = editor;
          } else {
            focusEditor = editor.editorManager.get(editor.settings.auto_focus);
          }

          if (!focusEditor.destroyed) {
            focusEditor.focus();
          }
        }, 100);
      }
    };

    var initEditor = function (editor) {
      editor.bindPendingEventDelegates();
      editor.initialized = true;
      editor.fire('init');
      editor.focus(true);
      editor.nodeChanged({ initial: true });
      editor.execCallback('init_instance_callback', editor);
      autoFocus(editor);
    };

    var getStyleSheetLoader = function (editor) {
      return editor.inline ? DOM.styleSheetLoader : editor.dom.styleSheetLoader;
    };

    var initContentBody = function (editor, skipWrite) {
      var settings = editor.settings, targetElm = editor.getElement(), doc = editor.getDoc(), body, contentCssText;

      // Restore visibility on target element
      if (!settings.inline) {
        editor.getElement().style.visibility = editor.orgVisibility;
      }

      // Setup iframe body
      if (!skipWrite && !settings.content_editable) {
        doc.open();
        doc.write(editor.iframeHTML);
        doc.close();
      }

      if (settings.content_editable) {
        editor.on('remove', function () {
          var bodyEl = this.getBody();

          DOM.removeClass(bodyEl, 'mce-content-body');
          DOM.removeClass(bodyEl, 'mce-edit-focus');
          DOM.setAttrib(bodyEl, 'contentEditable', null);
        });

        DOM.addClass(targetElm, 'mce-content-body');
        editor.contentDocument = doc = settings.content_document || document;
        editor.contentWindow = settings.content_window || window;
        editor.bodyElement = targetElm;

        // Prevent leak in IE
        settings.content_document = settings.content_window = null;

        // TODO: Fix this
        settings.root_name = targetElm.nodeName.toLowerCase();
      }

      // It will not steal focus while setting contentEditable
      body = editor.getBody();
      body.disabled = true;
      editor.readonly = settings.readonly;

      if (!editor.readonly) {
        if (editor.inline && DOM.getStyle(body, 'position', true) === 'static') {
          body.style.position = 'relative';
        }

        body.contentEditable = editor.getParam('content_editable_state', true);
      }

      body.disabled = false;

      editor.editorUpload = new EditorUpload(editor);
      editor.schema = new Schema(settings);
      editor.dom = new DOMUtils(doc, {
        keep_values: true,
        url_converter: editor.convertURL,
        url_converter_scope: editor,
        hex_colors: settings.force_hex_style_colors,
        class_filter: settings.class_filter,
        update_styles: true,
        root_element: editor.inline ? editor.getBody() : null,
        collect: settings.content_editable,
        schema: editor.schema,
        onSetAttrib: function (e) {
          editor.fire('SetAttrib', e);
        }
      });

      editor.parser = createParser(editor);
      editor.serializer = new Serializer(settings, editor);
      editor.selection = new Selection(editor.dom, editor.getWin(), editor.serializer, editor);
      editor.formatter = new Formatter(editor);
      editor.undoManager = new UndoManager(editor);
      editor._nodeChangeDispatcher = new NodeChange(editor);
      editor._selectionOverrides = new SelectionOverrides(editor);

      CaretContainerInput.setup(editor);
      KeyboardOverrides.setup(editor);
      ForceBlocks.setup(editor);

      editor.fire('PreInit');

      if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {
        doc.body.spellcheck = false; // Gecko
        DOM.setAttrib(body, "spellcheck", "false");
      }

      editor.quirks = new Quirks(editor);
      editor.fire('PostRender');

      if (settings.directionality) {
        body.dir = settings.directionality;
      }

      if (settings.nowrap) {
        body.style.whiteSpace = "nowrap";
      }

      if (settings.protect) {
        editor.on('BeforeSetContent', function (e) {
          Tools.each(settings.protect, function (pattern) {
            e.content = e.content.replace(pattern, function (str) {
              return '<!--mce:protected ' + escape(str) + '-->';
            });
          });
        });
      }

      editor.on('SetContent', function () {
        editor.addVisual(editor.getBody());
      });

      // Remove empty contents
      if (settings.padd_empty_editor) {
        editor.on('PostProcess', function (e) {
          e.content = e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/, '');
        });
      }

      editor.load({ initial: true, format: 'html' });
      editor.startContent = editor.getContent({ format: 'raw' });

      editor.on('compositionstart compositionend', function (e) {
        editor.composing = e.type === 'compositionstart';
      });

      // Add editor specific CSS styles
      if (editor.contentStyles.length > 0) {
        contentCssText = '';

        Tools.each(editor.contentStyles, function (style) {
          contentCssText += style + "\r\n";
        });

        editor.dom.addStyle(contentCssText);
      }

      getStyleSheetLoader(editor).loadAll(
        editor.contentCSS,
        function (_) {
          initEditor(editor);
        },
        function (urls) {
          initEditor(editor);
          ErrorReporter.contentCssError(editor, urls);
        }
      );
    };

    return {
      initContentBody: initContentBody
    };
  }
);

/**
 * PluginManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.PluginManager',
  [
    'tinymce.core.AddOnManager'
  ],
  function (AddOnManager) {
    return AddOnManager.PluginManager;
  }
);

/**
 * ThemeManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.ThemeManager',
  [
    'tinymce.core.AddOnManager'
  ],
  function (AddOnManager) {
    return AddOnManager.ThemeManager;
  }
);

/**
 * Init.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.init.Init',
  [
    'global!document',
    'global!window',
    'tinymce.core.dom.DOMUtils',
    'tinymce.core.Env',
    'tinymce.core.init.InitContentBody',
    'tinymce.core.PluginManager',
    'tinymce.core.ThemeManager',
    'tinymce.core.util.Tools',
    'tinymce.core.util.Uuid'
  ],
  function (document, window, DOMUtils, Env, InitContentBody, PluginManager, ThemeManager, Tools, Uuid) {
    var DOM = DOMUtils.DOM;

    var initPlugin = function (editor, initializedPlugins, plugin) {
      var Plugin = PluginManager.get(plugin), pluginUrl, pluginInstance;

      pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\/$/, '');
      plugin = Tools.trim(plugin);
      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {
        Tools.each(PluginManager.dependencies(plugin), function (dep) {
          initPlugin(editor, initializedPlugins, dep);
        });

        if (editor.plugins[plugin]) {
          return;
        }

        pluginInstance = new Plugin(editor, pluginUrl, editor.$);

        editor.plugins[plugin] = pluginInstance;

        if (pluginInstance.init) {
          pluginInstance.init(editor, pluginUrl);
          initializedPlugins.push(plugin);
        }
      }
    };

    var initPlugins = function (editor) {
      var initializedPlugins = [];

      Tools.each(editor.settings.plugins.replace(/\-/g, '').split(/[ ,]/), function (name) {
        initPlugin(editor, initializedPlugins, name);
      });
    };

    var initTheme = function (editor) {
      var Theme, settings = editor.settings;

      if (settings.theme) {
        if (typeof settings.theme != "function") {
          settings.theme = settings.theme.replace(/-/, '');
          Theme = ThemeManager.get(settings.theme);
          editor.theme = new Theme(editor, ThemeManager.urls[settings.theme]);

          if (editor.theme.init) {
            editor.theme.init(editor, ThemeManager.urls[settings.theme] || editor.documentBaseUrl.replace(/\/$/, ''), editor.$);
          }
        } else {
          editor.theme = settings.theme;
        }
      }
    };

    var measueBox = function (editor) {
      var w, h, minHeight, re, o, settings = editor.settings, elm = editor.getElement();

      // Measure box
      if (settings.render_ui && editor.theme) {
        editor.orgDisplay = elm.style.display;

        if (typeof settings.theme != "function") {
          w = settings.width || DOM.getStyle(elm, 'width') || '100%';
          h = settings.height || DOM.getStyle(elm, 'height') || elm.offsetHeight;
          minHeight = settings.min_height || 100;
          re = /^[0-9\.]+(|px)$/i;

          if (re.test('' + w)) {
            w = Math.max(parseInt(w, 10), 100);
          }

          if (re.test('' + h)) {
            h = Math.max(parseInt(h, 10), minHeight);
          }

          // R@W!OPpn7	̓00E	h	A*H,	,@DSUE%B[6ts 0 #HtT`l??!寿s{{MzoߺY${fE7Of?}m?~-L4_~gsW[{׻VNg_߿97?=71~Tw=\}߶?>gxbM=]w'K?gk.m~'YN#.uL>NPA HDG #@bec P#AEYfrQKD퀈>  
xB-q8 I΅-%(+~w]c}OwuwrmO;=Jf}_?]/cw]T7-x_ֳN[}k`;;oy
+A ![	""	D`B;2D]("DG"QI$!ER0Y8
Z6!X @ O( $IQ  Z,JIVg9A"ME`XpCX[jsYha(RIX"09Rc 0#@DcX+@B19,i"*G$4U!( b $gEa&bfven}Y~o\/knY3^yw|ߋ;xi?ϕqko_mݧwuk»_\?w;~.c{U>{ں=Bqd@IfqD>d`W@/$ P
QE  pP
uc$HBC=%1f3J\F@" HdB*!zbƧ "_t׸>ۜov_۶V&_[˷~/3^*ooԗ77o,׻w|v=43YO^]|#ڋ-CKK߶g/w_u=Ы6hrM;<O9ko}ї;7_ۻw~澷+h	KV	`tdB@[E ,<"	@@@tF	$A^ S!p
MI	t"83`0'I"
 `Hi+}[ͬ{7/O5~T5]ǟ~W>?n~uȹnSsܳ{Ig_O_ 51o!nݿ?׽˷&Aɗ`DrY !\ H1ZH`s	!F"b
@T@c ;PPDf%O @ 5 b ( ELlVREFB5 	X &<1ߐG 0X"sT9E/ N0x'	 $=@fMs AA
@ 	 HQ LVF3#C1Ss֧AgF=)7bNۮ:o7MO{ыߏ'w\׬Zw_}-ݟl<<igs$&1@\TPqeԀp]"!7$Lp$! 3p( Jpa	DJXq4"@'pdY R`U( +66,\AQ@pEǷ߿׿~Y8?=2tۂoԧ}=nە:xK_goo!v4vooe^ߠzrdyޮ_o\߳%on=ZwWv"nb}n*sU7.˽g~gGٯ|Ws<O]nopei/ݿz,yv (AQ $&h g1'Fn %2'"S0D5x !HZ"huEw1B@P @d7,a'"PLdBA2)z`c01ȋL`  ߿˫Ozenϒ/kzYovm7/x^>}ɵ"w_ެ_ׄ=<]|fwϭřqL/F P(] Vai"d(@1n0@\@3_'X]009P:Bs<z<ai92IcXWPSZ+ 1R@Ѕw	9aq֊ U1(8fcB,WFаr+K4<&VX Jᅦ$fE"r4'oSb	p1 JcDk(?&j 4Kr
qTEA`J( $\`UTbK!)Bn]>nF^qFsњSZz]ѶhFMn=̏_oٺK?^?x{ܻon󧮰L]((G TFEEQ@)SXu7R1ck ỦTf4MdLrdA t@F@!4@ {D!EQ*HFvA
LHd 6r*A`4:x퍎u]xkݮ;L{boi{?yާӞ[n|m˜jߧRg7%g?#֍~M9{wn QOpy_k}R?Ӯg|Y]2ϴ]{?=^}JV*[oW{j쵉	^o\yԣQguT]xi+nqB؟o*W)cGDxD@F	zmd01B F@4!KHA!0SQ$B\Hb-N.@K#6A& cFX X^Cȁd@TGAO  SI10KSQ.E7 X  ';b6Q1ra92e%"iQa `J
1BRT .L	H ,	"مg8R2Hsh	ItʻwN)/ϥ5lݾ(wmczHq7w9z|o^ߜ_~yn>S4?^ҽڿ}ޏ|Qǿ}6ͯ{{{o\lo͛^oM߼?-Z?>vSŧK;P\_owen_> fa 4 VtHC HD~cП5BVT@2<Jp@<@ Fp:,H k	dC3/@JI(o@H8rv{Ea$`&hFE&EB KH
qz'rectly
        }
      });

      ifr.onload = function () {
        ifr.onload = null;
        editor.fire("load");
      };

      var isDomainRelaxed = relaxDomain(editor, ifr);

      editor.contentAreaContainer = o.iframeContainer;
      editor.iframeElement = ifr;

      DOM.add(o.iframeContainer, ifr);

      return isDomainRelaxed;
    };

    var init = function (editor) {
      var settings = editor.settings, elm = editor.getElement(), boxInfo;

      editor.rtl = settings.rtl_ui || editor.editorManager.i18n.rtl;
      editor.editorManager.i18n.setCode(settings.language);
      settings.aria_label = settings.aria_label || DOM.getAttrib(elm, 'aria-label', editor.getLang('aria.rich_text_area'));

      editor.fire('ScriptsLoaded');

      initTheme(editor);
      initPlugins(editor);
      boxInfo = measueBox(editor);

      // Load specified content CSS last
      if (settings.content_css) {
        Tools.each(Tools.explode(settings.content_css), function (u) {
          editor.contentCSS.push(editor.documentBaseURI.toAbsolute(u));
        });
      }

      // Load specified content CSS last
      if (settings.content_style) {
        editor.contentStyles.push(settings.content_style);
      }

      // Content editable mode ends here
      if (settings.content_editable) {
        return InitContentBody.initContentBody(editor);
      }

      var isDomainRelaxed = createIframe(editor, boxInfo);

      if (boxInfo.editorContainer) {
        DOM.get(boxInfo.editorContainer).style.display = editor.orgDisplay;
        editor.hidden = DOM.isHidden(boxInfo.editorContainer);
      }

      editor.getElement().style.display = 'none';
      DOM.setAttrib(editor.id, 'aria-hidden', true);

      if (!isDomainRelaxed) {
        InitContentBody.initContentBody(editor);
      }
    };

    return {
      init: init
    };
  }
);

/**
 * Render.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.init.Render',
  [
    'global!window',
    'tinymce.core.dom.DOMUtils',
    'tinymce.core.dom.EventUtils',
    'tinymce.core.dom.ScriptLoader',
    'tinymce.core.Env',
    'tinymce.core.ErrorReporter',
    'tinymce.core.init.Init',
    'tinymce.core.NotificationManager',
    'tinymce.core.PluginManager',
    'tinymce.core.ThemeManager',
    'tinymce.core.util.Tools',
    'tinymce.core.WindowManager'
  ],
  function (window, DOMUtils, EventUtils, ScriptLoader, Env, ErrorReporter, Init, NotificationManager, PluginManager, ThemeManager, Tools, WindowManager) {
    var DOM = DOMUtils.DOM;

    var loadScripts = function (editor, suffix) {
      var settings = editor.settings, scriptLoader = ScriptLoader.ScriptLoader;

      if (settings.language && settings.language != 'en' && !settings.language_url) {
        settings.language_url = editor.editorManager.baseURL + '/langs/' + settings.language + '.js';
      }

      if (settings.language_url) {
        scriptLoader.add(settings.language_url);
      }

      if (settings.theme && typeof settings.theme != "function" &&
        settings.theme.charAt(0) != '-' && !ThemeManager.urls[settings.theme]) {
        var themeUrl = settings.theme_url;

        if (themeUrl) {
          themeUrl = editor.documentBaseURI.toAbsolute(themeUrl);
        } else {
          themeUrl = 'themes/' + settings.theme + '/theme' + suffix + '.js';
        }

        ThemeManager.load(settings.theme, themeUrl);
      }

      if (Tools.isArray(settings.plugins)) {
        settings.plugins = settings.plugins.join(' ');
      }

      Tools.each(settings.external_plugins, function (url, name) {
        PluginManager.load(name, url);
        settings.plugins += ' ' + name;
      });

      Tools.each(settings.plugins.split(/[ ,]/), function (plugin) {
        plugin = Tools.trim(plugin);

        if (plugin && !PluginManager.urls[plugin]) {
          if (plugin.charAt(0) === '-') {
            plugin = plugin.substr(1, plugin.length);

            var dependencies = PluginManager.dependencies(plugin);

            Tools.each(dependencies, function (dep) {
              var defaultSettings = {
                prefix: 'plugins/',
                resource: dep,
                suffix: '/plugin' + suffix + '.js'
              };

              dep = PluginManager.createUrl(defaultSettings, dep);
              PluginManager.load(dep.resource, dep);
            });
          } else {
            PluginManager.load(plugin, {
              prefix: 'plugins/',
              resource: plugin,
              suffix: '/plugin' + suffix + '.js'
            });
          }
        }
      });

      scriptLoader.loadQueue(function () {
        if (!editor.removed) {
          Init.init(editor);
        }
      }, editor, function (urls) {
        ErrorReporter.pluginLoadError(editor, urls[0]);

        if (!editor.removed) {
          Init.init(editor);
        }
      });
    };

    var render = function (editor) {
      var settings = editor.settings, id = editor.id;

      function readyHandler() {
        DOM.unbind(window, 'ready', readyHandler);
        editor.render();
      }

      // Page is not loaded yet, wait for it
      if (!EventUtils.Event.domLoaded) {
        DOM.bind(window, 'ready', readyHandler);
        return;
      }

      // Element not found, then skip initialization
      if (!editor.getElement()) {
        return;
      }

      // No editable support old iOS versions etc
      if (!Env.contentEditable) {
        return;
      }

      // Hide target element early to prevent content flashing
      if (!settings.inline) {
        editor.orgVisibility = editor.getElement().style.visibility;
        editor.getElement().style.visibility = 'hidden';
      } else {
        editor.inline = true;
      }

      var form = editor.getElement().form || DOM.getParent(id, 'form');
      if (form) {
        editor.formElement = form;

        // Add hidden input for non input elements inside form elements
        if (settings.hidden_input && !/TEXTAREA|INPUT/i.test(editor.getElement().nodeName)) {
          DOM.insertAfter(DOM.create('input', { type: 'hidden', name: id }), id);
          editor.hasHiddenInput = true;
        }

        // Pass submit/reset from form to editor instance
        editor.formEventDelegate = function (e) {
          editor.fire(e.type, e);
        };

        DOM.bind(form, 'submit reset', editor.formEventDelegate);

        // Reset contents in editor when the form is reset
        editor.on('reset', function () {
          editor.setContent(editor.startContent, { format: 'raw' });
        });

        // Check page uses id="submit" or name="submit" for it's submit button
        if (settings.submit_patch && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {
          form._mceOldSubmit = form.submit;
          form.submit = function () {
            editor.editorManager.triggerSave();
            editor.setDirty(false);

            return form._mceOldSubmit(form);
          };
        }
      }

      editor.windowManager = new WindowManager(editor);
      editor.notificationManager = new NotificationManager(editor);

      if (settings.encoding === 'xml') {
        editor.on('GetContent', function (e) {
          if (e.save) {
            e.content = DOM.encode(e.content);
          }
        });
      }

      if (settings.add_form_submit_trigger) {
        editor.on('submit', function () {
          if (editor.initialized) {
            editor.save();
          }
        });
      }

      if (settings.add_unload_trigger) {
        editor._beforeUnload = function () {
          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {
            editor.save({ format: 'raw', no_events: true, set_dirty: false });
          }
        };

        editor.editorManager.on('BeforeUnload', editor._beforeUnload);
      }

      editor.editorManager.add(editor);
      loadScripts(editor, editor.suffix);
    };

    return {
      render: render
    };
  }
);

/**
 * Mode.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Mode switcher logic.
 *
 * @private
 * @class tinymce.Mode
 */
define(
  'tinymce.core.Mode',
  [
  ],
  function () {
    function setEditorCommandState(editor, cmd, state) {
      try {
        editor.getDoc().execCommand(cmd, false, state);
      } catch (ex) {
        // Ignore
      }
    }

    function clickBlocker(editor) {
      var target, handler;

      target = editor.getBody();

      handler = function (e) {
        if (editor.dom.getParents(e.target, 'a').length > 0) {
          e.preventDefault();
        }
      };

      editor.dom.bind(target, 'click', handler);

      return {
        unbind: function () {
          editor.dom.unbind(target, 'click', handler);
        }
      };
    }

    function toggleReadOnly(editor, state) {
      if (editor._clickBlocker) {
        editor._clickBlocker.unbind();
        editor._clickBlocker = null;
      }

      if (state) {
        editor._clickBlocker = clickBlocker(editor);
        editor.selection.controlSelection.hideResizeRect();
        editor.readonly = true;
        editor.getBody().contentEditable = false;
      } else {
        editor.readonly = false;
        editor.getBody().contentEditable = true;
        setEditorCommandState(editor, "StyleWithCSS", false);
        setEditorCommandState(editor, "enableInlineTableEditing", false);
        setEditorCommandState(editor, "enableObjectResizing", false);
        editor.focus();
        editor.nodeChanged();
      }
    }

    function setMode(editor, mode) {
      var currentMode = editor.readonly ? 'readonly' : 'design';

      if (mode == currentMode) {
        return;
      }

      if (editor.initialized) {
        toggleReadOnly(editor, mode == 'readonly');
      } else {
        editor.on('init', function () {
          toggleReadOnly(editor, mode == 'readonly');
        });
      }

      // Event is NOT preventable
      editor.fire('SwitchMode', { mode: mode });
    }

    return {
      setMode: setMode
    };
  }
);
/**
 * Sidebar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module handle sidebar instances for the editor.
 *
 * @class tinymce.ui.Sidebar
 * @private
 */
define(
  'tinymce.core.ui.Sidebar',
  [
  ],
  function (
  ) {
    var add = function (editor, name, settings) {
      var sidebars = editor.sidebars ? editor.sidebars : [];
      sidebars.push({ name: name, settings: settings });
      editor.sidebars = sidebars;
    };

    return {
      add: add
    };
  }
);

/**
 * Editor.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/*jshint scripturl:true */

/**
 * Include the base event class documentation.
 *
 * @include ../../../../../tools/docs/tinymce.Event.js
 */

/**
 * This class contains the core logic for a TinyMCE editor.
 *
 * @class tinymce.Editor
 * @mixes tinymce.util.Observable
 * @example
 * // Add a class to all paragraphs in the editor.
 * tinymce.activeEditor.dom.addClass(tinymce.activeEditor.dom.select('p'), 'someclass');
 *
 * // Gets the current editors selection as text
 * tinymce.activeEditor.selection.getContent({format: 'text'});
 *
 * // Creates a new editor instance
 * var ed = new tinymce.Editor('textareaid', {
 *     some_setting: 1
 * }, tinymce.EditorManager);
 *
 * ed.render();
 */
define(
  'tinymce.core.Editor',
  [
    'tinymce.core.AddOnManager',
    'tinymce.core.dom.DomQuery',
    'tinymce.core.dom.DOMUtils',
    'tinymce.core.EditorCommands',
    'tinymce.core.EditorObservable',
    'tinymce.core.EditorSettings',
    'tinymce.core.Env',
    'tinymce.core.html.Serializer',
    'tinymce.core.init.Render',
    'tinymce.core.Mode',
    'tinymce.core.Shortcuts',
    'tinymce.core.ui.Sidebar',
    'tinymce.core.util.Tools',
    'tinymce.core.util.URI',
    'tinymce.core.util.Uuid'
  ],
  function (AddOnManager, DomQuery, DOMUtils, EditorCommands, EditorObservable, EditorSettings, Env, Serializer, Render, Mode, Shortcuts, Sidebar, Tools, URI, Uuid) {
    // Shorten these names
    var DOM = DOMUtils.DOM;
    var extend = Tools.extend, each = Tools.each;
    var trim = Tools.trim, resolve = Tools.resolve;
    var isGecko = Env.gecko, ie = Env.ie;

    /**
     * Include Editor API docs.
     *
     * @include ../../../../../tools/docs/tinymce.Editor.js
     */

    /**
     * Constructs a editor instance by id.
     *
     * @constructor
     * @method Editor
     * @param {String} id Unique id for the editor.
     * @param {Object} settings Settings for the editor.
     * @param {tinymce.EditorManager} editorManager EditorManager instance.
     */
    function Editor(id, settings, editorManager) {
      var self = this, documentBaseUrl, baseUri;

      documentBaseUrl = self.documentBaseUrl = editorManager.documentBaseURL;
      baseUri = editorManager.baseURI;

      /**
       * Name/value collection with editor settings.
       *
       * @property settings
       * @type Object
       * @example
       * // Get the value of the theme setting
       * tinymce.activeEditor.windowManager.alert("You are using the " + tinymce.activeEditor.settings.theme + " theme");
       */
      settings = EditorSettings.getEditorSettings(self, id, documentBaseUrl, editorManager.defaultSettings, settings);
      self.settings = settings;

      AddOnManager.language = settings.language || 'en';
      AddOnManager.languageLoad = settings.language_load;
      AddOnManager.baseURL = editorManager.baseURL;

      /**
       * Editor instance id, normally the same as the div/textarea that was replaced.
       *
       * @property id
       * @type String
       */
      self.id = id;

      /**
       * State to force the editor to return false on a isDirty call.
       *
       * @property isNotDirty
       * @type Boolean
       * @deprecated Use editor.setDirty instead.
       */
      self.setDirty(false);

      /**
       * Name/Value object containing plugin instances.
       *
       * @property plugins
       * @type Object
       * @example
       * // Execute a method inside a plugin directly
       * tinymce.activeEditor.plugins.someplugin.someMethod();
       */
      self.plugins = {};

      /**
       * URI object to document configured for the TinyMCE instance.
       *
       * @property documentBaseURI
       * @type tinymce.util.URI
       * @example
       * // Get relative URL from the location of document_base_url
       * tinymce.activeEditor.documentBaseURI.toRelative('/somedir/somefile.htm');
       *
       * // Get absolute URL from the location of document_base_url
       * tinymce.activeEditor.documentBaseURI.toAbsolute('somefile.htm');
       */
      self.documentBaseURI = new URI(settings.document_base_url, {
        base_uri: baseUri
      });

      /**
       * URI object to current document that holds the TinyMCE editor instance.
       *
       * @property baseURI
       * @type tinymce.util.URI
       * @example
       * // Get relative URL from the location of the API
       * tinymce.activeEditor.baseURI.toRelative('/somedir/somefile.htm');
       *
       * // Get absolute URL from the location of the API
       * tinymce.activeEditor.baseURI.toAbsolute('somefile.htm');
       */
      self.baseURI = baseUri;

      /**
       * Array with CSS files to load into the iframe.
       *
       * @property contentCSS
       * @type Array
       */
      self.contentCSS = [];

      /**
       * Array of CSS styles to add to head of document when the editor loads.
       *
       * @property contentStyles
       * @type Array
       */
      self.contentStyles = [];

      // Creates all events like onClick, onSetContent etc see Editor.Events.js for the actual logic
      self.shortcuts = new Shortcuts(self);
      self.loadedCSS = {};
      self.editorCommands = new EditorCommands(self);
      self.suffix = editorManager.suffix;
      self.editorManager = editorManager;
      self.inline = settings.inline;

      if (settings.cache_suffix) {
        Env.cacheSuffix = settings.cache_suffix.replace(/^[\?\&]+/, '');
      }

      if (settings.override_viewport === false) {
        Env.overrideViewPort = false;
      }

      // Call setup
      editorManager.fire('SetupEditor', self);
      self.execCallback('setup', self);

      /**
       * Dom query instance with default scope to the editor document and default element is the body of the editor.
       *
       * @property $
       * @type tinymce.dom.DomQuery
       * @example
       * tinymce.activeEditor.$('p').css('color', 'red');
       * tinymce.activeEditor.$().append('<p>new</p>');
       */
      self.$ = DomQuery.overrideDefaults(function () {
        return {
          context: self.inline ? self.getBody() : self.getDoc(),
          element: self.getBody()
        };
      });
    }

    Editor.prototype = {
      /**
       * Renders the editor/adds it to the page.
       *
       * @method render
       */
      render: function () {
        Render.render(this);
      },

      /**
       * Focuses/activates the editor. This will set this editor as the activeEditor in the tinymce collection
       * it will also place DOM focus inside the editor.
       *
       * @method focus
       * @param {Boolean} skipFocus Skip DOM focus. Just set is as the active editor.
       */
      focus: function (skipFocus) {
        var self = this, selection = self.selection, contentEditable = self.settings.content_editable, rng;
        var controlElm, doc = self.getDoc(), body = self.getBody(), contentEditableHost;

        function getContentEditableHost(node) {
          return self.dom.getParent(node, function (node) {
            return self.dom.getContentEditable(node) === "true";
          });
        }

        if (self.removed) {
          return;
        }

        if (!skipFocus) {
          // Get selected control element
          rng = selection.getRng();
          if (rng.item) {
            controlElm = rng.item(0);
          }

          self.quirks.refreshContentEditable();

          // Move focus to contentEditable=true child if needed
          contentEditableHost = getContentEditableHost(selection.getNode());
          if (self.$.contains(body, contentEditableHost)) {
            contentEditableHost.focus();
            selection.normalize();
            self.editorManager.setActive(self);
            return;
          }

          // Focus the window iframe
          if (!contentEditable) {
            // WebKit needs this call to fire focusin event properly see #5948
            // But Opera pre Blink engine will produce an empty selection so skip Opera
            if (!Env.opera) {
              self.getBody().focus();
            }

            self.getWin().focus();
          }

          // Focus the body as well since it's contentEditable
          if (isGecko || contentEditable) {
            // Check for setActive since it doesn't scroll to the element
            if (body.setActive) {
              // IE 11 sometimes throws "Invalid function" then fallback to focus
              try {
                body.setActive();
              } catch (ex) {
                body.focus();
              }
            } else {
              // Restore previous selection before focus to prevent Chrome from
              // jumping to the top of the document in long inline editors
              self.selection.setRng(self.lastRng);
              body.focus();
            }

            if (contentEditable) {
              selection.normalize();
            }
          }

          // Restore selected control element
          // This is needed when for example an image is selected within a
          // layer a call to focus will then remove the control selection
          if (controlElm && controlElm.ownerDocument == doc) {
            rng = doc.body.createControlRange();
            rng.addElement(controlElm);
            rng.select();
          }
        }

        self.editorManager.setActive(self);
      },

      /**
       * Executes a legacy callback. This method is useful to call old 2.x option callbacks.
       * There new event model is a better way to add callback so this method might be removed in the future.
       *
       * @method execCallback
       * @param {String} name Name of the callback to execute.
       * @return {Object} Return value passed from callback function.
       */
      execCallback: function (name) {
        var self = this, callback = self.settings[name], scope;

        if (!callback) {
          return;
        }

        // Look through lookup
        if (self.callbackLookup && (scope = self.callbackLookup[name])) {
          callback = scope.func;
          scope = scope.scope;
        }

        if (typeof callback === 'string') {
          scope = callback.replace(/\.\w+$/, '');
          scope = scope ? resolve(scope) : 0;
          callback = resolve(callback);
          self.callbackLookup = self.callbackLookup || {};
          self.callbackLookup[name] = { func: callback, scope: scope };
        }

        return callback.apply(scope || self, Array.prototype.slice.call(arguments, 1));
      },

      /**
       * Translates the specified string by replacing variables with language pack items it will also check if there is
       * a key matching the input.
       *
       * @method translate
       * @param {String} text String to translate by the language pack data.
       * @return {String} Translated string.
       */
      translate: function (text) {
        if (text && Tools.is(text, 'string')) {
          var lang = this.settings.language || 'en', i18n = this.editorManager.i18n;

          text = i18n.data[lang + '.' + text] || text.replace(/\{\#([^\}]+)\}/g, function (a, b) {
            return i18n.data[lang + '.' + b] || '{#' + b + '}';
          });
        }

        return this.editorManager.translate(text);
      },

      /**
       * Returns a language pack item by name/key.
       *
       * @method getLang
       * @param {String} name Name/key to get from the language pack.
       * @param {String} defaultVal Optional default value to retrieve.
       */
      getLang: function (name, defaultVal) {
        return (
          this.editorManager.i18n.data[(this.settings.language || 'en') + '.' + name] ||
          (defaultVal !== undefined ? defaultVal : '{#' + name + '}')
        );
      },

      /**
       * Returns a configuration parameter by name.
       *
       * @method getParam
       * @param {String} name Configruation parameter to retrieve.
       * @param {String} defaultVal Optional default value to return.
       * @param {String} type Optional type parameter.
       * @return {String} Configuration parameter value or default value.
       * @example
       * // Returns a specific config value from the currently active editor
       * var someval = tinymce.activeEditor.getParam('myvalue');
       *
       * // Returns a specific config value from a specific editor instance by id
       * var someval2 = tinymce.get('my_editor').getParam('myvalue');
       */
      getParam: function (name, defaultVal, type) {
        var value = name in this.settings ? this.settings[name] : defaultVal, output;

        if (type === 'hash') {
          output = {};

          if (typeof value === 'string') {
            each(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (value) {
              value = value.split('=');

              if (value.length > 1) {
                output[trim(value[0])] = trim(value[1]);
              } else {
                output[trim(value[0])] = trim(value);
              }
            });
          } else {
            output = value;
          }

          return output;
        }

        return value;
      },

      /**
       * Dispatches out a onNodeChange event to all observers. This method should be called when you
       * need to update the UI states or element path etc.
       *
  co~uͽ׮s'
ӵH-H(~;WF[6=k̟zwz,7=w}}V[ˣB7r?׮7w\@VM	AN `2! (1# DĺT#_B "1( &N*bs,K BA9"   HfDXI ("A#&G%xV'H`"HdS1Bp8edj("#*b2E0J8֒@-0Q.P@0 kPH	 P lD	8HAA ` P.1#8}}hʝ/w]ymu{%_Ͽ?ˆwX\ߞG;<>R_ n7s/MZ'U7F!$@" œDtklkN rY %D \ph+Z , %=*@0-A$>@rPpZА% 1B0h!@2e(`!X4z_BNWbQI-86G2$Fwtdp[}[lj]oۏ=eY[8_??]k߾y?^6{zV9wW[7/Y~mcϳG󣷿Vmz[eL:]y_u/~sٯԺ vtsCl> @!hQQD[Ilz	@8'A 2$
PVJk "G: b,	"J0l
CAd0`ǕMm@ FÓ  @̡ 	}?7s}G>\'c?Eߛ<m_1Fzٰ'oD&vWԏϼQ	ͯ" (NC&	 rV ?25!aEU O X l4/F%yhB1:,F\A`Pj!@B
  HAI@֕Ȁ2!hFe 2&"N pG1b@PF<@. 
X=5t$!G/ BP-
D   X@M1+ 
B!H	| "6"QrJ" ySU/bI+>]ɥkd%"^ZjV;!3ޙv{7U'Jso|Fm[=6ߓcϾ?AX	E $h$!$H h GlEx  2`
EPM	&M=3` @ K@* PPPe
-p
$P4@@K	5Hfz(%6rKdي?~?7XKQ+R<9痎hYϧsjzMvw:RuNOtj=v.`]lwG~6o>v0v_}u}tRZ=jǢKѲo{.ޯo6[ޯU7{	Gp*>]6ʛ9pro$/JK@ؒ*, #vပRb >.@@\J X!{4 48b$F@ (Q" *PI!hHbPL+ZQ0XP	IJ|V#~̇F'wo]=;˰Qvpy8}nI޵?u}>w{mnq{ш5tŬ#)p75:ǇA)@Zp&WPv7P ^(SP\&	J"A`/dADC%YB@YC(z+2&\b 0"j2L0D0
 0$)"	,A
 &3dN&HHP$rw`Df!&
$xJdBSC@:B+ QUJ<	X 1G@PI#FfE,\7gC`^u^Ox}?Q]z	}?z~}'<{?t?ktA}WG?MwO}ww4v A{8" M\O@ BldE(Ј1UHd@	@ A45 hf`  " $ .9pD! 2 A	 )PL ˉ̀"  C-xrgZGSznc9rmw]pk-e~u-:P֖n_{ ¾N/^?דr<Sc+׷4@aӰ_sq}7?'Uk[s/mrlZםߏۿ;?vn\J[gݖ28e{ZrE{(_
ČEq@Hw|L " Hm
BRL  K`!"D D KH$\q
x%_V0䈂" \!Q0P%pD`U 3T$5 
(;3#p 4:N/g(;Qʾ~ƽnUq&wK{g^;ҟTMxU{[{'Y5O3ϞRO94؛oƮ"D:ÞI dY@(	!B@4 HĒ!PGDq0WAD),D
@<@'DPn8)P(!AeN0'&A#HPA86)Qh (d 8*.2ā(  " 4&P() GH(Dc0 8nI B	 !Dh
A4DA3E AqQ!H2 ã7LRgUo]ݥ	׽_Sz3g>w79~S|Sk]19o/_+8fXߒOs<ou/veYjғPaH8Cdj" Ph!F;BA{j@ңҍ9\A 4x𘱐 C@  Aci `2A0CiA RCB+ၣEk {g|}TYGչߝvf=vyl_ޝT{wOu;L7p7;޳&-ޫw.dپVWut?׺~S}SHnwo?*{oװi{ZGޝSOx%_VqWoy!?.kMS|:s|_z:B5Z' @(4Z@Khe PrPDEq@mDDE@`@"(U˹@,i !vN" (F0 AP%!$qp 
N8 %@lf.contextToolbars || [];

        // Convert selector to predicate
        if (typeof predicate == "string") {
          selector = predicate;
          predicate = function (elm) {
            return self.dom.is(elm, selector);
          };
        }

        self.contextToolbars.push({
          id: Uuid.uuid('mcet'),
          predicate: predicate,
          items: items
        });
      },

      /**
       * Adds a custom command to the editor, you can also override existing commands with this method.
       * The command that you add can be executed with execCommand.
       *
       * @method addCommand
       * @param {String} name Command name to add/override.
       * @param {addCommandCallback} callback Function to execute when the command occurs.
       * @param {Object} scope Optional scope to execute the function in.
       * @example
       * // Adds a custom command that later can be executed using execCommand
       * tinymce.init({
       *    ...
       *
       *    setup: function(ed) {
       *       // Register example command
       *       ed.addCommand('mycommand', function(ui, v) {
       *          ed.windowManager.alert('Hello world!! Selection: ' + ed.selection.getContent({format: 'text'}));
       *       });
       *    }
       * });
       */
      addCommand: function (name, callback, scope) {
        /**
         * Callback function that gets called when a command is executed.
         *
         * @callback addCommandCallback
         * @param {Boolean} ui Display UI state true/false.
         * @param {Object} value Optional value for command.
         * @return {Boolean} True/false state if the command was handled or not.
         */
        this.editorCommands.addCommand(name, callback, scope);
      },

      /**
       * Adds a custom query state command to the editor, you can also override existing commands with this method.
       * The command that you add can be executed with queryCommandState function.
       *
       * @method addQueryStateHandler
       * @param {String} name Command name to add/override.
       * @param {addQueryStateHandlerCallback} callback Function to execute when the command state retrieval occurs.
       * @param {Object} scope Optional scope to execute the function in.
       */
      addQueryStateHandler: function (name, callback, scope) {
        /**
         * Callback function that gets called when a queryCommandState is executed.
         *
         * @callback addQueryStateHandlerCallback
         * @return {Boolean} True/false state if the command is enabled or not like is it bold.
         */
        this.editorCommands.addQueryStateHandler(name, callback, scope);
      },

      /**
       * Adds a custom query value command to the editor, you can also override existing commands with this method.
       * The command that you add can be executed with queryCommandValue function.
       *
       * @method addQueryValueHandler
       * @param {String} name Command name to add/override.
       * @param {addQueryValueHandlerCallback} callback Function to execute when the command value retrieval occurs.
       * @param {Object} scope Optional scope to execute the function in.
       */
      addQueryValueHandler: function (name, callback, scope) {
        /**
         * Callback function that gets called when a queryCommandValue is executed.
         *
         * @callback addQueryValueHandlerCallback
         * @return {Object} Value of the command or undefined.
         */
        this.editorCommands.addQueryValueHandler(name, callback, scope);
      },

      /**
       * Adds a keyboard shortcut for some command or function.
       *
       * @method addShortcut
       * @param {String} pattern Shortcut pattern. Like for example: ctrl+alt+o.
       * @param {String} desc Text description for the command.
       * @param {String/Function} cmdFunc Command name string or function to execute when the key is pressed.
       * @param {Object} sc Optional scope to execute the function in.
       * @return {Boolean} true/false state if the shortcut was added or not.
       */
      addShortcut: function (pattern, desc, cmdFunc, scope) {
        this.shortcuts.add(pattern, desc, cmdFunc, scope);
      },

      /**
       * Executes a command on the current instance. These commands can be TinyMCE internal commands prefixed with "mce" or
       * they can be build in browser commands such as "Bold". A compleate list of browser commands is available on MSDN or Mozilla.org.
       * This function will dispatch the execCommand function on each plugin, theme or the execcommand_callback option if none of these
       * return true it will handle the command as a internal browser command.
       *
       * @method execCommand
       * @param {String} cmd Command name to execute, for example mceLink or Bold.
       * @param {Boolean} ui True/false state if a UI (dialog) should be presented or not.
       * @param {mixed} value Optional command value, this can be anything.
       * @param {Object} args Optional arguments object.
       */
      execCommand: function (cmd, ui, value, args) {
        return this.editorCommands.execCommand(cmd, ui, value, args);
      },

      /**
       * Returns a command specific state, for example if bold is enabled or not.
       *
       * @method queryCommandState
       * @param {string} cmd Command to query state from.
       * @return {Boolean} Command specific state, for example if bold is enabled or not.
       */
      queryCommandState: function (cmd) {
        return this.editorCommands.queryCommandState(cmd);
      },

      /**
       * Returns a command specific value, for example the current font size.
       *
       * @method queryCommandValue
       * @param {string} cmd Command to query value from.
       * @return {Object} Command specific value, for example the current font size.
       */
      queryCommandValue: function (cmd) {
        return this.editorCommands.queryCommandValue(cmd);
      },

      /**
       * Returns true/false if the command is supported or not.
       *
       * @method queryCommandSupported
       * @param {String} cmd Command that we check support for.
       * @return {Boolean} true/false if the command is supported or not.
       */
      queryCommandSupported: function (cmd) {
        return this.editorCommands.queryCommandSupported(cmd);
      },

      /**
       * Shows the editor and hides any textarea/div that the editor is supposed to replace.
       *
       * @method show
       */
      show: function () {
        var self = this;

        if (self.hidden) {
          self.hidden = false;

          if (self.inline) {
            self.getBody().contentEditable = true;
          } else {
            DOM.show(self.getContainer());
            DOM.hide(self.id);
          }

          self.load();
          self.fire('show');
        }
      },

      /**
       * Hides the editor and shows any textarea/div that the editor is supposed to replace.
       *
       * @method hide
       */
      hide: function () {
        var self = this, doc = self.getDoc();

        if (!self.hidden) {
          // Fixed bug where IE has a blinking cursor left from the editor
          if (ie && doc && !self.inline) {
            doc.execCommand('SelectAll');
          }

          // We must save before we hide so Safari doesn't crash
          self.save();

          if (self.inline) {
            self.getBody().contentEditable = false;

            // Make sure the editor gets blurred
            if (self == self.editorManager.focusedEditor) {
              self.editorManager.focusedEditor = null;
            }
          } else {
            DOM.hide(self.getContainer());
            DOM.setStyle(self.id, 'display', self.orgDisplay);
          }

          self.hidden = true;
          self.fire('hide');
        }
      },

      /**
       * Returns true/false if the editor is hidden or not.
       *
       * @method isHidden
       * @return {Boolean} True/false if the editor is hidden or not.
       */
      isHidden: function () {
        return !!this.hidden;
      },

      /**
       * Sets the progress state, this will display a throbber/progess for the editor.
       * This is ideal for asynchronous operations like an AJAX save call.
       *
       * @method setProgressState
       * @param {Boolean} state Boolean state if the progress should be shown or hidden.
       * @param {Number} time Optional time to wait before the progress gets shown.
       * @return {Boolean} Same as the input state.
       * @example
       * // Show progress for the active editor
       * tinymce.activeEditor.setProgressState(true);
       *
       * // Hide progress for the active editor
       * tinymce.activeEditor.setProgressState(false);
       *
       * // Show progress after 3 seconds
       * tinymce.activeEditor.setProgressState(true, 3000);
       */
      setProgressState: function (state, time) {
        this.fire('ProgressState', { state: state, time: time });
      },

      /**
       * Loads contents from the textarea or div element that got converted into an editor instance.
       * This method will move the contents from that textarea or div into the editor by using setContent
       * so all events etc that method has will get dispatched as well.
       *
       * @method load
       * @param {Object} args Optional content object, this gets passed around through the whole load process.
       * @return {String} HTML string that got set into the editor.
       */
      load: function (args) {
        var self = this, elm = self.getElement(), html;

        if (self.removed) {
          return '';
        }

        if (elm) {
          args = args || {};
          args.load = true;

          html = self.setContent(elm.value !== undefined ? elm.value : elm.innerHTML, args);
          args.element = elm;

          if (!args.no_events) {
            self.fire('LoadContent', args);
          }

          args.element = elm = null;

          return html;
        }
      },

      /**
       * Saves the contents from a editor out to the textarea or div element that got converted into an editor instance.
       * This method will move the HTML contents from the editor into that textarea or div by getContent
       * so all events etc that method has will get dispatched as well.
       *
       * @method save
       * @param {Object} args Optional content object, this gets passed around through the whole save process.
       * @return {String} HTML string that got set into the textarea/div.
       */
      save: function (args) {
        var self = this, elm = self.getElement(), html, form;

        if (!elm || !self.initialized || self.removed) {
          return;
        }

        args = args || {};
        args.save = true;

        args.element = elm;
        html = args.content = self.getContent(args);

        if (!args.no_events) {
          self.fire('SaveContent', args);
        }

        // Always run this internal event
        if (args.format == 'raw') {
          self.fire('RawSaveContent', args);
        }

        html = args.content;

        if (!/TEXTAREA|INPUT/i.test(elm.nodeName)) {
          // Update DIV element when not in inline mode
          if (!self.inline) {
            elm.innerHTML = html;
          }

          // Update hidden form element
          if ((form = DOM.getParent(self.id, 'form'))) {
            each(form.elements, function (elm) {
              if (elm.name == self.id) {
                elm.value = html;
                return false;
              }
            });
          }
        } else {
          elm.value = html;
        }

        args.element = elm = null;

        if (args.set_dirty !== false) {
          self.setDirty(false);
        }

        return html;
      },

      /**
       * Sets the specified content to the editor instance, this will cleanup the content before it gets set using
       * the different cleanup rules options.
       *
       * @method setContent
       * @param {String} content Content to set to editor, normally HTML contents but can be other formats as well.
       * @param {Object} args Optional content object, this get` C-NGB)E(L1d	\ ! xa!mÄ`[H#Bxu6tXR 	#34
0Rb`.AWPfu.Q!!hQw*R_jiuow }\sUm{]yw\_CNu^_˙=ڹs`N݊UCOMsV;ߕ?{r=29~}b{w\\?Sny?7=v뷳=oݟ=w}}OZ϶w٦|_p`j7& l!BF M$yRRDPN qƪ ƀ3̉qLBwI0870lN WF{P/X]MEy$Ff# <ۡ~uy~msv|zWSݵl7U[on*]~˪C3Ss[ww>)~GTǺBbI`"R,SPE< 
S0Y%dFKl$qT 	&XK
0E8? J rF P\$1UHWv3D(EL H(D	ą0PN<Kfr6AM  D&,"fÅ-"@'pwb!UG"صbbG	TdeMʺ@<UA-RI6P3DkPF+2)	RuJSwIQ]^]w~_lNMrO}ncw{~闾ým7,<_[{߿?X\
$ r1V`1]bC*qF7O)ɠhE5,Q(x#<; 1s賎rFt	H[G{N̂p0c!`I"Ed`HB@TQBU DO&_?:'W\;=ٿOW_wz{vj3MONk?ܽm]\׵߶>}Um}{/[,5߃}v>ٙ5	bu>~>yzgUuzsuV{-s=Iv}nq4FkW{v1ď2Oxb@ţЁ!͘<F'S! S*1|#fKi\@&q #rY"
PNGB	xAV=xXD0
EGxjB3>=yþ۝ƿ屹yO;n&emߵn'onتը>7yZ_˻.?|}>cCͅGr}K	9\60a<h5.NbJN Xv&K #ȋ 7_#d
 8 2HuRbD!u@ 	RYpCXvF#=eH5u&R 2b-t]".!L4
ǎ
@L`(+0ᅸĲ-r  aPO4{DS(P;ەۯ߷:],ޏ36{ݾU'=/2Ln~޽V݉{?_3]׿ٲQt#Bšn" #GLdv'tZJ#@)ISTFFQ=
#x&-̴@@fF`G H<i8T	HE҄@^5(Pީ>>75_Δ{y~_@owvߗim~;w]y^o㔙W=w(-~ӧ;/>{wovW?Yך{5~v<w{7?UC.}l}ԚUG3g{%n/[̩OWwܣ?L+u^~SP! Bx)62HF@EPB"6RJ-j$R@aqd
⭀=y BS!UWc	ѠX' CǠ7APMXm&J#)B}h,jϭ//\[O=SMש7)8_连~(]>r_7cٻ|N{߿ow	%$Գ0-/CgH%aA	
$Rd d KN p(..$`T
!EByJ6lP*%`3E	?L#A&9-%+ż# (
g& Q.=K!H"a(G K9GP
]CAQ C.^#!TD)U!e1l O# Vňt@3 T0('I	Sc|4ky3\e-W[Kէmi_ʹ`\oso/m_˞/Y]綿9]Wha?_^m?~-nj	!t jxr!  vD	T"P^$B8p&CB4&&:fҥ}!@gAJ)G#"r!Ǜ WZa:8RSۡK;v߻򇇯	kswߜǵ3Fn8׿9ۨ~jMvy)ToV^bywwiu/rϱշ|+׿uߚo7S{?R/>yu]ٽwU<>ovO}~z9o_P_:1+0V2h&ȞWAq(  alPXhA'C0L-RڲOѦK PB󈀗3P  	8BGz@Cf
4(p@9+7 xDy>Wֿگ͙ۛ_[ᯞ+޷_u}?}̿ߺ?wҹ<G;5N1}}/_˛_?ꞷy``cDҩ, HԶ6`u٬7u|Do
 DAK,Pr	5.	GDT SJFpK*W!D;OpBC{	 +GeGDaEGci8 ,)mX!X,` .ͼ#8LNs#l/ ;DH8#_lTn G 04;g^legm|;_w䷶̿'vwˬ{ٶ;ke:o4_:i٫/_׿=?he currently active editor
       * console.debug(tinymce.activeEditor.getContent());
       *
       * // Get the raw contents of the currently active editor
       * tinymce.activeEditor.getContent({format: 'raw'});
       *
       * // Get content of a specific editor:
       * tinymce.get('content id').getContent()
       */
      getContent: function (args) {
        var self = this, content, body = self.getBody();

        if (self.removed) {
          return '';
        }

        // Setup args object
        args = args || {};
        args.format = args.format || 'html';
        args.get = true;
        args.getInner = true;

        // Do preprocessing
        if (!args.no_events) {
          self.fire('BeforeGetContent', args);
        }

        // Get raw contents or by default the cleaned contents
        if (args.format == 'raw') {
          content = Tools.trim(self.serializer.getTrimmedContent());
        } else if (args.format == 'text') {
          content = body.innerText || body.textContent;
        } else {
          content = self.serializer.serialize(body, args);
        }

        // Trim whitespace in beginning/end of HTML
        if (args.format != 'text') {
          args.content = trim(content);
        } else {
          args.content = content;
        }

        // Do post processing
        if (!args.no_events) {
          self.fire('GetContent', args);
        }

        return args.content;
      },

      /**
       * Inserts content at caret position.
       *
       * @method insertContent
       * @param {String} content Content to insert.
       * @param {Object} args Optional args to pass to insert call.
       */
      insertContent: function (content, args) {
        if (args) {
          content = extend({ content: content }, args);
        }

        this.execCommand('mceInsertContent', false, content);
      },

      /**
       * Returns true/false if the editor is dirty or not. It will get dirty if the user has made modifications to the contents.
       *
       * The dirty state is automatically set to true if you do modifications to the content in other
       * words when new undo levels is created or if you undo/redo to update the contents of the editor. It will also be set
       * to false if you call editor.save().
       *
       * @method isDirty
       * @return {Boolean} True/false if the editor is dirty or not. It will get dirty if the user has made modifications to the contents.
       * @example
       * if (tinymce.activeEditor.isDirty())
       *     alert("You must save your contents.");
       */
      isDirty: function () {
        return !this.isNotDirty;
      },

      /**
       * Explicitly sets the dirty state. This will fire the dirty event if the editor dirty state is changed from false to true
       * by invoking this method.
       *
       * @method setDirty
       * @param {Boolean} state True/false if the editor is considered dirty.
       * @example
       * function ajaxSave() {
       *     var editor = tinymce.get('elm1');
       *
       *     // Save contents using some XHR call
       *     alert(editor.getContent());
       *
       *     editor.setDirty(false); // Force not dirty state
       * }
       */
      setDirty: function (state) {
        var oldState = !this.isNotDirty;

        this.isNotDirty = !state;

        if (state && state != oldState) {
          this.fire('dirty');
        }
      },

      /**
       * Sets the editor mode. Mode can be for example "design", "code" or "readonly".
       *
       * @method setMode
       * @param {String} mode Mode to set the editor in.
       */
      setMode: function (mode) {
        Mode.setMode(this, mode);
      },

      /**
       * Returns the editors container element. The container element wrappes in
       * all the elements added to the page for the editor. Such as UI, iframe etc.
       *
       * @method getContainer
       * @return {Element} HTML DOM element for the editor container.
       */
      getContainer: function () {
        var self = this;

        if (!self.container) {
          self.container = DOM.get(self.editorContainer || self.id + '_parent');
        }

        return self.container;
      },

      /**
       * Returns the editors content area container element. The this element is the one who
       * holds the iframe or the editable element.
       *
       * @method getContentAreaContainer
       * @return {Element} HTML DOM element for the editor area container.
       */
      getContentAreaContainer: function () {
        return this.contentAreaContainer;
      },

      /**
       * Returns the target element/textarea that got replaced with a TinyMCE editor instance.
       *
       * @method getElement
       * @return {Element} HTML DOM element for the replaced element.
       */
      getElement: function () {
        if (!this.targetElm) {
          this.targetElm = DOM.get(this.id);
        }

        return this.targetElm;
      },

      /**
       * Returns the iframes window object.
       *
       * @method getWin
       * @return {Window} Iframe DOM window object.
       */
      getWin: function () {
        var self = this, elm;

        if (!self.contentWindow) {
          elm = self.iframeElement;

          if (elm) {
            self.contentWindow = elm.contentWindow;
          }
        }

        return self.contentWindow;
      },

      /**
       * Returns the iframes document object.
       *
       * @method getDoc
       * @return {Document} Iframe DOM document object.
       */
      getDoc: function () {
        var self = this, win;

        if (!self.contentDocument) {
          win = self.getWin();

          if (win) {
            self.contentDocument = win.document;
          }
        }

        return self.contentDocument;
      },

      /**
       * Returns the root element of the editable area.
       * For a non-inline iframe-based editor, returns the iframe's body element.
       *
       * @method getBody
       * @return {Element} The root element of the editable area.
       */
      getBody: function () {
        var doc = this.getDoc();
        return this.bodyElement || (doc ? doc.body : null);
      },

      /**
       * URL converter function this gets executed each time a user adds an img, a or
       * any other element that has a URL in it. This will be called both by the DOM and HTML
       * manipulation functions.
       *
       * @method convertURL
       * @param {string} url URL to convert.
       * @param {string} name Attribute name src, href etc.
       * @param {string/HTMLElement} elm Tag name or HTML DOM element depending on HTML or DOM insert.
       * @return {string} Converted URL string.
       */
      convertURL: function (url, name, elm) {
        var self = this, settings = self.settings;

        // Use callback instead
        if (settings.urlconverter_callback) {
          return self.execCallback('urlconverter_callback', url, elm, true, name);
        }

        // Don't convert link href since thats the CSS files that gets loaded into the editor also skip local file URLs
        if (!settings.convert_urls || (elm && elm.nodeName == 'LINK') || url.indexOf('file:') === 0 || url.length === 0) {
          return url;
        }

        // Convert to relative
        if (settings.relative_urls) {
          return self.documentBaseURI.toRelative(url);
        }

        // Convert to absolute
        url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);

        return url;
      },

      /**
       * Adds visual aid for tables, anchors etc so they can be more easily edited inside the editor.
       *
       * @method addVisual
       * @param {Element} elm Optional root element to loop though to find tables etc that needs the visual aid.
       */
      addVisual: function (elm) {
        var self = this, settings = self.settings, dom = self.dom, cls;

        elm = elm || self.getBody();

        if (self.hasVisual === undefined) {
          self.hasVisual = settings.visual;
        }

        each(dom.select('table,a', elm), function (elm) {
          var value;

          switch (elm.nodeName) {
            case 'TABLE':
              cls = settings.visual_table_class || 'mce-item-table';
              value = dom.getAttrib(elm, 'border');

              if ((!value || value == '0') && self.hasVisual) {
                dom.addClass(elm, cls);
              } else {
                dom.removeClass(elm, cls);
              }

              return;

            case 'A':
              if (!dom.getAttrib(elm, 'href', false)) {
                value = dom.getAttrib(elm, 'name') || elm.id;
                cls = settings.visual_anchor_class || 'mce-item-anchor';

                if (value && self.hasVisual) {
                  dom.addClass(elm, cls);
                } else {
                  dom.removeClass(elm, cls);
                }
              }

              return;
          }
        });

        self.fire('VisualAid', { element: elm, hasVisual: self.hasVisual });
      },

      /**
       * Removes the editor from the dom and tinymce collection.
       *
       * @method remove
       */
      remove: function () {
        var self = this;

        if (!self.removed) {
          self.save();
          self.removed = 1;
          self.unbindAllNativeEvents();

          // Remove any hidden input
          if (self.hasHiddenInput) {
            DOM.remove(self.getElement().nextSibling);
          }

          if (!self.inline) {
            // IE 9 has a bug where the selection stops working if you place the
            // caret inside the editor then remove the iframe
            if (ie && ie < 10) {
              self.getDoc().execCommand('SelectAll', false, null);
            }

            DOM.setStyle(self.id, 'display', self.orgDisplay);
            self.getBody().onload = null; // Prevent #6816
          }

          self.fire('remove');

          self.editorManager.remove(self);
          DOM.remove(self.getContainer());
          self._selectionOverrides.destroy();
          self.editorUpload.destroy();
          self.destroy();
        }
      },

      /**
       * Destroys the editor instance by removing all events, element references or other resources
       * that could leak memory. This method will be called automatically when the page is unloaded
       * but you can also call it directly if you know what you are doing.
       *
       * @method destroy
       * @param {Boolean} automatic Optional state if the destroy is an automatic destroy or user called one.
       */
      destroy: function (automatic) {
        var self = this, form;

        // One time is enough
        if (self.destroyed) {
          return;
        }

        // If user manually calls destroy and not remove
        // Users seems to have logic that calls destroy instead of remove
        if (!automatic && !self.removed) {
          self.remove();
          return;
        }

        if (!automatic) {
          self.editorManager.off('beforeunload', self._beforeUnload);

          // Manual destroy
          if (self.theme && self.theme.destroy) {
            self.theme.destroy();
          }

          // Destroy controls, selection and dom
          self.selection.destroy();
          self.dom.destroy();
        }

        form = self.formElement;
        if (form) {
          if (form._mceOldSubmit) {
            form.submit = form._mceOldSubmit;
            form._mceOldSubmit = null;
          }

          DOM.unbind(form, 'submit reset', self.formEventDelegate);
        }

        self.contentAreaContainer = self.formElement = self.container = self.editorContainer = null;
        self.bodyElement = self.contentDocument = self.contentWindow = null;
        self.iframeElement = self.targetElm = null;

        if (self.selection) {
          self.selection = self.selection.win = self.selection.dom = self.selection.dom.doc = null;
        }

        self.destroyed = 1;
      },

      /**
       * Uploads all data uri/blob uri images in the editor contents to server.
       *
       * @method uploadImages
       * @param {function} callback Optional callback with images and status for each image.
       * @return {tinymce.util.Promise} Promise instance.
       */
      uploadImages: function (callback) {
        return this.editorUpload.uploadImages(callback);
      },

      // Internal functions

      _scanForImages: function () {
        return this.editorUpload.scanForImages();
      }
    };

    extend(Editor.prototype, EditorObservable);

    return Editor;
  }
);

/**
 * I18n.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * I18n class that handles translation of TinyMCE UI.
 * Uses po style with csharp style parameters.
 *
 * @class tinymce.util.I18n
 */
define(
  'tinymce.core.util.I18n',
  [
    "tinymce.core.util.Tools"
  ],
  function (Tools) {
    "use strict";

    var data = {}, code = "en";

    return {
      /**
       * Sets the current language code.
       *
       * @method setCode
       * @param {String} newCode Current language code.
       */
      setCode: function (newCode) {
        if (newCode) {
          code = newCode;
          this.rtl = this.data[newCode] ? this.data[newCode]._dir === 'rtl' : false;
        }
      },

      /**
       * Returns the current language code.
       *
       * @method getCode
       * @return {String} Current language code.
       */
      getCode: function () {
        return code;
      },

      /**
       * Property gets set to true if a RTL language pack was loaded.
       *
       * @property rtl
       * @type Boolean
       */
      rtl: false,

      /**
       * Adds translations for a specific language code.
       *
       * @method add
       * @param {String} code Language code like sv_SE.
       * @param {Array} items Name/value array with English en_US to sv_SE.
       */
      add: function (code, items) {
        var langData = data[code];

        if (!langData) {
          data[code] = langData = {};
        }

        for (var name in items) {
          langData[name] = items[name];
        }

        this.setCode(code);
      },

      /**
       * Translates the specified text.
       *
       * It has a few formats:
       * I18n.translate("Text");
       * I18n.translate(["Text {0}/{1}", 0, 1]);
       * I18n.translate({raw: "Raw string"});
       *
       * @method translate
       * @param {String/Object/Array} text Text to translate.
       * @return {String} String that got translated.
       */
      translate: function (text) {
        var langData = data[code] || {};

        /**
         * number - string
         * null, undefined and empty string - empty string
         * array - comma-delimited string
         * object - in [object Object]
         * function - in [object Function]
         *
         * @param obj
         * @returns {string}
         */
        function toString(obj) {
          if (Tools.is(obj, 'function')) {
            return Object.prototype.toString.call(obj);
          }
          return !isEmpty(obj) ? '' + obj : '';
        }

        function isEmpty(text) {
          return text === '' || text === null || Tools.is(text, 'undefined');
        }

        function getLangData(text) {
          // make sure we work on a string and return a string
          text = toString(text);
          return Tools.hasOwn(langData, text) ? toString(langData[text]) : text;
        }


        if (isEmpty(text)) {
          return '';
        }

        if (Tools.is(text, 'object') && Tools.hasOwn(text, 'raw')) {
          return toString(text.raw);
        }

        if (Tools.is(text, 'array')) {
          var values = text.slice(1);
          text = getLangData(text[0]).replace(/\{([0-9]+)\}/g, function ($1, $2) {
            return Tools.hasOwn(values, $2) ? toString(values[$2]) : $1;
          });
        }

        return getLangData(text).replace(/{context:\w+}$/, '');
      },

      data: data
    };
  }
);
/**
 * FocusManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reseBTQ3IA gh&,HM * Ŗ7G'j߃a#l
P
DMBD@6uO  D$ tklP  1Zd 3B)JP 4p-*R& ApfE NQAt r	̳M@ =Cѓ>:!Cf#
$
Q%t,&} @!cD@;X80AI`v"@!!0BFJ9  }%'6X)0/@MH#4 -ȑ"YX&ps$0* 	4q 2SaXC chh20%R@N	L1M \
F
@b `CxRSfP(5)R!# S  bb 1b'AĴbPDv-"D( `g' s"  CE2TD FYWEƋ ('[UJ"7!
 p#	(!X 2E
	`@  RH]STf`T	paN q} 68 % .5BKL]XXlK8NRxؑD "Ɗ Hf(	!D  Q	٬rH   0cP2   .B  NR %G@THDBMqaL.C|:h>@  1Ť!B G!H@̀XpuM m&(@v*@^0PF "" \bHS13	A 42 $ Hq.L  ;8@p`
)d@PA   ((Yrtk ( <9 (!  ~	e()(!1:	Ae)0b Ʊ0T(4A)6@x*P8Z@(B DB1" 9diDG	@A,b` MR
XB&	j %(!D*L$lc  Ɍ
' a sFN0
"FEH&0$¦Dx¢#'L&Ē84 A!Rߏ  @IQ ""$=( "9yhAFBZ#@J.d0"J jJ À H`2 ԒA(fN@ Ȱ@ Tq8Ba}!JeN Q b*aR\adQIKl>R	Sl B!UDp HH ʨĳ'D()C Dqp *eh!m Ei؍$, p&	TXD0%C= @p%zHCx5G	\:fADfBF%@@B%/
(dK Xap" $q, 	(  @pI[4B2قGE2@`GBՠdIB Aep+
ɗ24	  @H@t@D )IP0U $" )!)` !
<# 0UDFI0	@ $  @	 HNJ6
 H5  PO}j#dHf$+$@$A5$-J	!"(Q1
 P(Hb) %)?h)CT@%TQEǩD	y JUI&<H4BB#`R  G3KH-`  4z`O+0K0RI!&	tQju `  dD(z}RXJv| b*T
QHb6b@  ?0D䈐Vb)W @b *V0	 -HP$q[#@2&݈y (!&  U',
j!5" 2a&ABGMB#J"f1
2!` )I	 	 !6hR-=Цȡ҂)%H[@ Ц"NF PMTR(C)wJ  (BJ Dz4
`Q, AgR 	 kX!jp!i6XHƈC( Tbd"x01-tH! Cï0U.B!2:) 
NіX<(  (9@# *.0@,Bkn@Jpр&89CB	h ê 1GlԳRv SPƠT'`b
Hұ+bm /Hp0Ӵ@2FC  h PS4<tT	`䍾J# 2a)`
TM0L( ( vA
BhL!# BE@ 0DBdHfs#G 
CDB1P䌩 eH! #`I$rx +!2RQuE!T * | ad3hGG5c	s"@0)Lg	1
#ttDc,e2 $	T!Sh"
G #f7Av! #T`P=la\C#$'$pVB !$$G			<dJh-#U 	% W&e'1 +AEBC n $WeMD(2@*,K8ZQ%v	T@PڛdNP\WP*852R*l@($h 3@J01x(pj pȜDBt+8D(A+ ^RMJAEQPP$`. 3ր$f*@DXdE
Y5FJ 	&BF@y	zH  6I(@h	8VPB#< E'J (il	.0X)Ct8a0)4LBPCx	e5JAH8ˀQA@" !PB (cA`qEeI1PYTb0 PM hYP&$!M URZ"22`($D ZIDTX6K H`  zh؋ K~ Cg$h(Px0A!&	PF$P(`1rCa	HPG`PQBlTaeS{`@
E DH, A,H!&3FFȀ Xb
bK`   mQ$$-ׄ2@WZ0%c0!bEI  AHDR PBb(Ţڙ
ࠀ(D$
IOe|$=r`	,
Pp!P$~Xp&"(PBh -A4/M6Ѐ  I AT' "8E@W@ htPm* 0%`aө@ĥ utFTB$!~BM1
$K%"$j睚xAU&O Pa;>x; ΐCLz, fIX%%	"NMIUY5B  `TXHKDNe 2T8EDZPPD lr) @E!cI̥0`AܲDA$'iYQ8#D	  PR 4ccD^
XK0dy4ЍN@Z 0h-@QrP       editor.on('nodechange mouseup keyup', function (e) {
                var node = getActiveElement();

                // Only act on manual nodechanges
                if (e.type == 'nodechange' && e.selectionChange) {
                  return;
                }

                // IE 11 reports active element as iframe not body of iframe
                if (node && node.id == editor.id + '_ifr') {
                  node = editor.getBody();
                }

                if (editor.dom.isChildOf(node, editor.getBody())) {
                  editor.lastRng = editor.selection.getRng();
                }
              });
            }

            // Handles the issue with WebKit not retaining selection within inline document
            // If the user releases the mouse out side the body since a mouse up event wont occur on the body
            if (Env.webkit && !selectionChangeHandler) {
              selectionChangeHandler = function () {
                var activeEditor = editorManager.activeEditor;

                if (activeEditor && activeEditor.selection) {
                  var rng = activeEditor.selection.getRng();

                  // Store when it's non collapsed
                  if (rng && !rng.collapsed) {
                    editor.lastRng = rng;
                  }
                }
              };

              DOM.bind(document, 'selectionchange', selectionChangeHandler);
            }
          }
        });

        editor.on('setcontent', function () {
          editor.lastRng = null;
        });

        // Remove last selection bookmark on mousedown see #6305
        editor.on('mousedown', function () {
          editor.selection.lastFocusBookmark = null;
        });

        editor.on('focusin', function () {
          var focusedEditor = editorManager.focusedEditor, lastRng;

          if (editor.selection.lastFocusBookmark) {
            lastRng = bookmarkToRng(editor, editor.selection.lastFocusBookmark);
            editor.selection.lastFocusBookmark = null;
            editor.selection.setRng(lastRng);
          }

          if (focusedEditor != editor) {
            if (focusedEditor) {
              focusedEditor.fire('blur', { focusedEditor: editor });
            }

            editorManager.setActive(editor);
            editorManager.focusedEditor = editor;
            editor.fire('focus', { blurredEditor: focusedEditor });
            editor.focus(true);
          }

          editor.lastRng = null;
        });

        editor.on('focusout', function () {
          Delay.setEditorTimeout(editor, function () {
            var focusedEditor = editorManager.focusedEditor;

            // Still the same editor the blur was outside any editor UI
            if (!isUIElement(editor, getActiveElement()) && focusedEditor == editor) {
              editor.fire('blur', { focusedEditor: null });
              editorManager.focusedEditor = null;

              // Make sure selection is valid could be invalid if the editor is blured and removed before the timeout occurs
              if (editor.selection) {
                editor.selection.lastFocusBookmark = null;
              }
            }
          });
        });

        // Check if focus is moved to an element outside the active editor by checking if the target node
        // isn't within the body of the activeEditor nor a UI element such as a dialog child control
        if (!documentFocusInHandler) {
          documentFocusInHandler = function (e) {
            var activeEditor = editorManager.activeEditor, target;

            target = e.target;

            if (activeEditor && target.ownerDocument === document) {
              // Check to make sure we have a valid selection don't update the bookmark if it's
              // a focusin to the body of the editor see #7025
              if (activeEditor.selection && target !== activeEditor.getBody() && isElementOursideInlineEditor(editor, target)) {
                activeEditor.selection.lastFocusBookmark = createBookmark(activeEditor.dom, activeEditor.lastRng);
              }

              // Fire a blur event if the element isn't a UI element
              if (target !== document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {
                activeEditor.fire('blur', { focusedEditor: null });
                editorManager.focusedEditor = null;
              }
            }
          };

          DOM.bind(document, 'focusin', documentFocusInHandler);
        }

        // Handle edge case when user starts the selection inside the editor and releases
        // the mouse outside the editor producing a new selection. This weird workaround is needed since
        // Gecko doesn't have the "selectionchange" event we need to do this. Fixes: #6843
        if (editor.inline && !documentMouseUpHandler) {
          documentMouseUpHandler = function (e) {
            var activeEditor = editorManager.activeEditor, dom = activeEditor.dom;

            if (activeEditor.inline && dom && !dom.isChildOf(e.target, activeEditor.getBody())) {
              var rng = activeEditor.selection.getRng();

              if (!rng.collapsed) {
                activeEditor.lastRng = rng;
              }
            }
          };

          DOM.bind(document, 'mouseup', documentMouseUpHandler);
        }
      }

      function unregisterDocumentEvents(e) {
        if (editorManager.focusedEditor == e.editor) {
          editorManager.focusedEditor = null;
        }

        if (!editorManager.activeEditor) {
          DOM.unbind(document, 'selectionchange', selectionChangeHandler);
          DOM.unbind(document, 'focusin', documentFocusInHandler);
          DOM.unbind(document, 'mouseup', documentMouseUpHandler);
          selectionChangeHandler = documentFocusInHandler = documentMouseUpHandler = null;
        }
      }

      editorManager.on('AddEditor', registerEvents);
      editorManager.on('RemoveEditor', unregisterDocumentEvents);
    }

    /**
     * Returns true if the specified element is part of the UI for example an button or text input.
     *
     * @method isEditorUIElement
     * @param  {Element} elm Element to check if it's part of the UI or not.
     * @return {Boolean} True/false state if the element is part of the UI or not.
     */
    FocusManager.isEditorUIElement = function (elm) {
      // Needs to be converted to string since svg can have focus: #6776
      return elm.className.toString().indexOf('mce-') !== -1;
    };

    FocusManager._isUIElement = isUIElement;

    return FocusManager;
  }
);

/**
 * LegacyInput.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Converts legacy input to modern HTML.
 *
 * @class tinymce.LegacyInput
 * @private
 */
define(
  'tinymce.core.LegacyInput',
  [
    "tinymce.core.util.Tools"
  ],
  function (Tools) {
    var each = Tools.each, explode = Tools.explode;

    var register = function (EditorManager) {
      EditorManager.on('AddEditor', function (e) {
        var editor = e.editor;

        editor.on('preInit', function () {
          var filters, fontSizes, dom, settings = editor.settings;

          function replaceWithSpan(node, styles) {
            each(styles, function (value, name) {
              if (value) {
                dom.setStyle(node, name, value);
              }
            });

            dom.rename(node, 'span');
          }

          function convert(e) {
            dom = editor.dom;

            if (settings.convert_fonts_to_spans) {
              each(dom.select('font,u,strike', e.node), function (node) {
                filters[node.nodeName.toLowerCase()](dom, node);
              });
            }
          }

          if (settings.inline_styles) {
            fontSizes = explode(settings.font_size_legacy_values);

            filters = {
              font: function (dom, node) {
                replaceWithSpan(node, {
                  backgroundColor: node.style.backgroundColor,
                  color: node.color,
                  fontFamily: node.face,
                  fontSize: fontSizes[parseInt(node.size, 10) - 1]
                });
              },

              u: function (dom, node) {
                // HTML5 allows U element
                if (editor.settings.schema === "html4") {
                  replaceWithSpan(node, {
                    textDecoration: 'underline'
                  });
                }
              },

              strike: function (dom, node) {
                replaceWithSpan(node, {
                  textDecoration: 'line-through'
                });
              }
            };

            editor.on('PreProcess SetContent', convert);
          }
        });
      });
    };

    return {
      register: register
    };
  }
);
/**
 * EditorManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class used as a factory for manager for tinymce.Editor instances.
 *
 * @example
 * tinymce.EditorManager.init({});
 *
 * @class tinymce.EditorManager
 * @mixes tinymce.util.Observable
 * @static
 */
define(
  'tinymce.core.EditorManager',
  [
    'tinymce.core.AddOnManager',
    'tinymce.core.dom.DomQuery',
    'tinymce.core.dom.DOMUtils',
    'tinymce.core.Editor',
    'tinymce.core.Env',
    'tinymce.core.ErrorReporter',
    'tinymce.core.FocusManager',
    'tinymce.core.LegacyInput',
    'tinymce.core.util.I18n',
    'tinymce.core.util.Observable',
    'tinymce.core.util.Promise',
    'tinymce.core.util.Tools',
    'tinymce.core.util.URI'
  ],
  function (AddOnManager, DomQuery, DOMUtils, Editor, Env, ErrorReporter, FocusManager, LegacyInput, I18n, Observable, Promise, Tools, URI) {
    var DOM = DOMUtils.DOM;
    var explode = Tools.explode, each = Tools.each, extend = Tools.extend;
    var instanceCounter = 0, beforeUnloadDelegate, EditorManager, boundGlobalEvents = false;

    function globalEventDelegate(e) {
      each(EditorManager.editors, function (editor) {
        if (e.type === 'scroll') {
          editor.fire('ScrollWindow', e);
        } else {
          editor.fire('ResizeWindow', e);
        }
      });
    }

    function toggleGlobalEvents(editors, state) {
      if (state !== boundGlobalEvents) {
        if (state) {
          DomQuery(window).on('resize scroll', globalEventDelegate);
        } else {
          DomQuery(window).off('resize scroll', globalEventDelegate);
        }

        boundGlobalEvents = state;
      }
    }

    function removeEditorFromList(editor) {
      var editors = EditorManager.editors, removedFromList;

      delete editors[editor.id];

      for (var i = 0; i < editors.length; i++) {
        if (editors[i] == editor) {
          editors.splice(i, 1);
          removedFromList = true;
          break;
        }
      }

      // Select another editor since the active one was removed
      if (EditorManager.activeEditor == editor) {
        EditorManager.activeEditor = editors[0];
      }

      // Clear focusedEditor if necessary, so that we don't try to blur the destroyed editor
      if (EditorManager.focusedEditor == editor) {
        EditorManager.focusedEditor = null;
      }

      return removedFromList;
    }

    function purgeDestroyedEditor(editor) {
      // User has manually destroyed the editor lets clean up the mess
      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {
        removeEditorFromList(editor);
        editor.unbindAllNativeEvents();
        editor.destroy(true);
        editor.removed = true;
        editor = null;
      }

      return editor;
    }

    EditorManager = {
      /**
       * Dom query instance.
       *
       * @property $
       * @type tinymce.dom.DomQuery
       */
      $: DomQuery,

      /**
       * Major version of TinyMCE build.
       *
       * @property majorVersion
       * @type String
       */
      majorVersion: '4',

      /**
       * Minor version of TinyMCE build.
       *
       * @property minorVersion
       * @type String
       */
      minorVersion: '6.4',

      /**
       * Release date of TinyMCE build.
       *
       * @property releaseDate
       * @type String
       */
      releaseDate: '2017-06-13',

      /**
       * Collection of editor instances.
       *
       * @property editors
       * @type Object
       * @example
       * for (edId in tinymce.editors)
       *     tinymce.editors[edId].save();
       */
      editors: [],

      /**
       * Collection of language pack data.
       *
       * @property i18n
       * @type Object
       */
      i18n: I18n,

      /**
       * Currently active editor instance.
       *
       * @property activeEditor
       * @type tinymce.Editor
       * @example
       * tinyMCE.activeEditor.selection.getContent();
       * tinymce.EditorManager.activeEditor.selection.getContent();
       */
      activeEditor: null,

      setup: function () {
        var self = this, baseURL, documentBaseURL, suffix = "", preInit, src;

        // Get base URL for the current document
        documentBaseURL = URI.getDocumentBaseUrl(document.location);

        // Check if the URL is a document based format like: http://site/dir/file and file:///
        // leave other formats like applewebdata://... intact
        if (/^[^:]+:\/\/\/?[^\/]+\//.test(documentBaseURL)) {
          documentBaseURL = documentBaseURL.replace(/[\?#].*$/, '').replace(/[\/\\][^\/]+$/, '');

          if (!/[\/\\]$/.test(documentBaseURL)) {
            documentBaseURL += '/';
          }
        }

        // If tinymce is defined and has a base use that or use the old tinyMCEPreInit
        preInit = window.tinymce || window.tinyMCEPreInit;
        if (preInit) {
          baseURL = preInit.base || preInit.baseURL;
          suffix = preInit.suffix;
        } else {
          // Get base where the tinymce script is located
          var scripts = document.getElementsByTagName('script');
          for (var i = 0; i < scripts.length; i++) {
            src = scripts[i].src;

            // Script types supported:
            // tinymce.js tinymce.min.js tinymce.dev.js
            // tinymce.jquery.js tinymce.jquery.min.js tinymce.jquery.dev.js
            // tinymce.full.js tinymce.full.min.js tinymce.full.dev.js
            var srcScript = src.substring(src.lastIndexOf('/'));
            if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(src)) {
              if (srcScript.indexOf('.min') != -1) {
                suffix = '.min';
              }

              baseURL = src.substring(0, src.lastIndexOf('/'));
              break;
            }
          }

          // We didn't find any baseURL by looking at the script elements
          // Try to use the document.currentScript as a fallback
          if (!baseURL && document.currentScript) {
            src = document.currentScript.src;

            if (src.indexOf('.min') != -1) {
              suffix = '.min';
            }

            baseURL = src.substring(0, src.lastIndexOf('/'));
          }
        }

        /**
         * Base URL where the root directory if TinyMCE is located.
         *
         * @property baseURL
         * @type String
         */
        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);

        /**
         * Document base URL where the current document is located.
         *
         * @property documentBaseURL
         * @type String
         */
        self.documentBaseURL = documentBaseURL;

        /**
         * Absolute baseURI for the installation path of TinyMCE.
         *
         * @property baseURI
         * @type tinymce.util.URI
         */
        self.baseURI = new URI(self.baseURL);

        /**
         * Current suffix to add to each plugin/theme that gets loaded for example ".min".
         *
         * @property suffix
         * @type String
         */
        self.suffix = suffix;

        self.focusManager = new FocusManager(self);
      },

      /**
       * Overrides the default settings for editor instances.
       *
       * @method overrideDefaults
       * @param {Object} defaultSettings Defaults settings object.
       */
      overrideDefaults: function (defaultSettings) {
        var baseUrl, suffix;

        baseUrl = defaultSettings.base_url;
        if (baseUrl) {
          this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\/+$/, ''));
          this.baseURI = new URI(this.baseURL);
        }

        suffix = defaultSettings.suffix;
        if (defaultSettings.suffix) {
          this.suffix = suffix;
        }

        this.defaultSettings = defaultSettings;

        var pluginBaseUrls = defaultSettings.plugin_base_urls;
        for (var name in pluginBaseUrls) {
          AddOnManager.PluginManager.urls[name] = pluginBaseUrls[name];
        }
      },

      /**
       * Initializes a set of editors. This method will create editors based on various settings.
       *
       * @method init
       * @param {Object} settings Settings object to be passed to each editor instance.
       * @return {tinymce.util.Promise} Promise that gets resolved with an array of editors when all editor instances are initialized.
       * @example
       * // Initializes a editor using the longer method
       * tinymce.EditorManager.init({
       *    some_settings : 'some value'
       * });
       *
       * // Initializes a editor instance using the shorter version and with a promise
       * tinymce.init({
       *    some_settings : 'some value'
       * }).then(function(editors) {
       *    ...
       * });
       */
      init: function (settings) {
        var self = this, result, invalidInlineTargets;

        invalidInlineTargets = Tools.makeMap(
          'area base basefont br col frame hr img input isindex link meta param embed source wbr track ' +
          'colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu',
          ' '
        );

        function isInvalidInlineTarget(settings, elm) {
          return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;
        }

        function createId(elm) {
          var id = elm.id;

          // Use element id, or unique name or generate a unique id
          if (!id) {
            id = elm.name;

            if (id && !DOM.get(id)) {
              id = elm.name;
            } else {
              // Generate unique name
              id = DOM.uniqueId();
            }

            elm.setAttribute('id', id);
          }

          return id;
        }

        function execCallback(name) {
          var callback = settings[name];

          if (!callback) {
            return;
          }

          return callback.apply(self, Array.prototype.slice.call(arguments, 2));
        }

        function hasClass(elm, className) {
          return className.constructor === RegExp ? className.test(elm.className) : DOM.hasClass(elm, className);
        }

        function findTargets(settings) {
          var l, targets = [];

          if (Env.ie && Env.ie < 11) {
            ErrorReporter.initError(
              'TinyMCE does not support the browser you are using. For a list of supported' +
              ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/'
            );
            return [];
          }

          if (settings.types) {
            each(settings.types, function (type) {
              targets = targets.concat(DOM.select(type.selector));
            });

            return targets;
          } else if (settings.selector) {
            return DOM.select(settings.selector);
          } else if (settings.target) {
            return [settings.target];
          }

          // Fallback to old setting
          switch (settings.mode) {
            case "exact":
              l = settings.elements || '';

              if (l.length > 0) {
                each(explode(l), function (id) {
                  var elm;

                  if ((elm = DOM.get(id))) {
                    targets.push(elm);
                  } else {
                    each(document.forms, function  (  
 
P3H!3@h,ZT@x  > jƅؐ U8D'Ap  	B0*A0$G
LB %DB cU!TXQPi$pXLЀ@JV@bB 5w8@&"PWTBق$(P
0 !nXVP B"2 @% f,BWIh@`P"ں0HSsd#0D"PBE
b#`@/ur'Aݭ, =LU pdaDPnBQqV"Tl"ME sCMC%CM	 
Xc"B
K,$B)`$"0"&RpPNPC"  PPdd$*0(@h"r
Hpxx+ "R5V	@'L
`(`[*$BP`B aH "
 a &IT^NuBzg	6LFh+l CP	p&G{ " "1@Q`3HIiW* O 2 @G P0-++[	 ub-@#(/R P#$&H`ecVbS @(,! @+P !B J#@ E$:Єb* 2Q
De"(V  _q( ;Afe	0B@$8"*!(*4DChحi@\b"Mr5V;GB h:` *t8*B!"B  3 D6A!DGg@Y^!T0$ F1`OA" 0"0B$Zm (:H fؒy&rM2bIƄ1Ne PQ'1܈ 
Ģ C P9 b*zH`%< X4AH鰬 2@"IB, C*@.pD:	@0FC@@0C I1ȋA%@  ! )i  R$Z ̔vB M11PWX<tAHZCi7B';  JCgHEs"\BȏVg!_`z 02P-ҡ  p 0mc	`A pNd=*Qs OQjaBR90hW$ (R*.A0H%1L'>TLxURF+! '8(jgG]SDUP q@s@9RLYJ1QK	j2Ā& H	$13- ! I!	 @Zp4:p 4Bnd X`5!$&
 2HBN 6!z46)	h0(8d`0I!&+jn*:rKT"?I(RCL@ZANm	2`Be #E!.haG(HyҥhZ
  p"`U Z@5jho	q̃	Ō*A	( @1Rb LNyb@PL098I)6FT OpF]4 %࠼@`X	4,B䤀 DRF.LA2ᣁ
`A>4#aHi`tz"D4,
hTHA	BhH@	G19:KQ00")!G \+BE
q	6b'b;!Ne6BQ'![Z
2(<0C
a`(Ji DH98, $ɸ@& p%@R[?A&A

$ M<)(60P+pRFA i!C% %4BI?D,F
"#]z t 
kH
920"D	e t@| I?p@{PH|h @H @ dN,  e0@rTE`=#I ZBbRDRCiᯝ(&Q!=aCG4 'DTfag ;&Pj )B hbN>)T!: Ĭ ؟6`,vUR BB
tTE`Q,Bć!hHx&!Z^ 8%]hÃ0B:V-dw H /MP	8L4  ^Lev `$KIU$Y$ B@B\21H(pO8!;VLSPH!  A64/X8$.AJ 2 XG5hC d E#,0m\' Ih LHBÏ\(k|@!H@GୂhQV 
KsPTyA8 0X`b
/2ic$BD
QjBCJZ@r25'B( bt$h<kNF֡L)% @pj Pd
6@h@
@$xC	0
	+^D7%d   x$
H2b@ Y.@qT Hp@	Ș:0P."	
*`>!$
") !BR Q6+1Tv0t 2 0I1Da鐄2	Tde4D$@BXA(!&ɖ	-J`5%Co DBq5/"PC$1  +   @&0)#WT <	Z" 1C;& bR'MH$]bsc=*@P4  %=@<DNPH Y
C*`	=%b $Àq V`YGQ-@0:
*0%HQCf` C 0!B lS>A.*8aЄlP!MPsN&K za $`@ h0"Ho!B1
.,GRR$ ĥh>"	QM$@BQH& <4Ј(@#j"*aQ @Bt@ :	rBNd#D!3(ʡi$Prq؀%# p BDd >4A$	& s*eLSD[p 
B(A"9PȆ"]A$JH )DBmix`@#$H(!B4$ A808
+" @1PTҐ`H v.bL>a; -&^  *J
ĽLttۚ:T   R(@!(4DDu* DE0&}KJB H!	P[

aPFE WwRUPTTBqh+E	D D`Bh O 09PM8&LJ3!ibtr1$8 t"wJٴ^܈B@EFLY0HK }ȍ>"" 
@$ HJ؛
0 -@XJ* D
A-J E!&@  \H8(G`	F  1:!TB D)h2Po;"R%Ap  
)&b* #m` aC!CbV0x db d焱!G CE"s:P
04ROHȢS$fPt4,e,! @method add
       * @param {tinymce.Editor} editor Editor instance to add to the collection.
       * @return {tinymce.Editor} The same instance that got passed in.
       */
      add: function (editor) {
        var self = this, editors = self.editors;

        // Add named and index editor instance
        editors[editor.id] = editor;
        editors.push(editor);

        toggleGlobalEvents(editors, true);

        // Doesn't call setActive method since we don't want
        // to fire a bunch of activate/deactivate calls while initializing
        self.activeEditor = editor;

        self.fire('AddEditor', { editor: editor });

        if (!beforeUnloadDelegate) {
          beforeUnloadDelegate = function () {
            self.fire('BeforeUnload');
          };

          DOM.bind(window, 'beforeunload', beforeUnloadDelegate);
        }

        return editor;
      },

      /**
       * Creates an editor instance and adds it to the EditorManager collection.
       *
       * @method createEditor
       * @param {String} id Instance id to use for editor.
       * @param {Object} settings Editor instance settings.
       * @return {tinymce.Editor} Editor instance that got created.
       */
      createEditor: function (id, settings) {
        return this.add(new Editor(id, settings, this));
      },

      /**
       * Removes a editor or editors form page.
       *
       * @example
       * // Remove all editors bound to divs
       * tinymce.remove('div');
       *
       * // Remove all editors bound to textareas
       * tinymce.remove('textarea');
       *
       * // Remove all editors
       * tinymce.remove();
       *
       * // Remove specific instance by id
       * tinymce.remove('#id');
       *
       * @method remove
       * @param {tinymce.Editor/String/Object} [selector] CSS selector or editor instance to remove.
       * @return {tinymce.Editor} The editor that got passed in will be return if it was found otherwise null.
       */
      remove: function (selector) {
        var self = this, i, editors = self.editors, editor;

        // Remove all editors
        if (!selector) {
          for (i = editors.length - 1; i >= 0; i--) {
            self.remove(editors[i]);
          }

          return;
        }

        // Remove editors by selector
        if (typeof selector == "string") {
          selector = selector.selector || selector;

          each(DOM.select(selector), function (elm) {
            editor = editors[elm.id];

            if (editor) {
              self.remove(editor);
            }
          });

          return;
        }

        // Remove specific editor
        editor = selector;

        // Not in the collection
        if (!editors[editor.id]) {
          return null;
        }

        if (removeEditorFromList(editor)) {
          self.fire('RemoveEditor', { editor: editor });
        }

        if (!editors.length) {
          DOM.unbind(window, 'beforeunload', beforeUnloadDelegate);
        }

        editor.remove();

        toggleGlobalEvents(editors, editors.length > 0);

        return editor;
      },

      /**
       * Executes a specific command on the currently active editor.
       *
       * @method execCommand
       * @param {String} cmd Command to perform for example Bold.
       * @param {Boolean} ui Optional boolean state if a UI should be presented for the command or not.
       * @param {String} value Optional value parameter like for example an URL to a link.
       * @return {Boolean} true/false if the command was executed or not.
       */
      execCommand: function (cmd, ui, value) {
        var self = this, editor = self.get(value);

        // Manager commands
        switch (cmd) {
          case "mceAddEditor":
            if (!self.get(value)) {
              new Editor(value, self.settings, self).render();
            }

            return true;

          case "mceRemoveEditor":
            if (editor) {
              editor.remove();
            }

            return true;

          case 'mceToggleEditor':
            if (!editor) {
              self.execCommand('mceAddEditor', 0, value);
              return true;
            }

            if (editor.isHidden()) {
              editor.show();
            } else {
              editor.hide();
            }

            return true;
        }

        // Run command on active editor
        if (self.activeEditor) {
          return self.activeEditor.execCommand(cmd, ui, value);
        }

        return false;
      },

      /**
       * Calls the save method on all editor instances in the collection. This can be useful when a form is to be submitted.
       *
       * @method triggerSave
       * @example
       * // Saves all contents
       * tinyMCE.triggerSave();
       */
      triggerSave: function () {
        each(this.editors, function (editor) {
          editor.save();
        });
      },

      /**
       * Adds a language pack, this gets called by the loaded language files like en.js.
       *
       * @method addI18n
       * @param {String} code Optional language code.
       * @param {Object} items Name/value object with translations.
       */
      addI18n: function (code, items) {
        I18n.add(code, items);
      },

      /**
       * Translates the specified string using the language pack items.
       *
       * @method translate
       * @param {String/Array/Object} text String to translate
       * @return {String} Translated string.
       */
      translate: function (text) {
        return I18n.translate(text);
      },

      /**
       * Sets the active editor instance and fires the deactivate/activate events.
       *
       * @method setActive
       * @param {tinymce.Editor} editor Editor instance to set as the active instance.
       */
      setActive: function (editor) {
        var activeEditor = this.activeEditor;

        if (this.activeEditor != editor) {
          if (activeEditor) {
            activeEditor.fire('deactivate', { relatedTarget: editor });
          }

          editor.fire('activate', { relatedTarget: activeEditor });
        }

        this.activeEditor = editor;
      }
    };

    extend(EditorManager, Observable);

    EditorManager.setup();
    LegacyInput.register(EditorManager);

    return EditorManager;
  }
);

/**
 * XHR.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class enables you to send XMLHTTPRequests cross browser.
 * @class tinymce.util.XHR
 * @mixes tinymce.util.Observable
 * @static
 * @example
 * // Sends a low level Ajax request
 * tinymce.util.XHR.send({
 *    url: 'someurl',
 *    success: function(text) {
 *       console.debug(text);
 *    }
 * });
 *
 * // Add custom header to XHR request
 * tinymce.util.XHR.on('beforeSend', function(e) {
 *     e.xhr.setRequestHeader('X-Requested-With', 'Something');
 * });
 */
define(
  'tinymce.core.util.XHR',
  [
    "tinymce.core.util.Observable",
    "tinymce.core.util.Tools"
  ],
  function (Observable, Tools) {
    var XHR = {
      /**
       * Sends a XMLHTTPRequest.
       * Consult the Wiki for details on what settings this method takes.
       *
       * @method send
       * @param {Object} settings Object will target URL, callbacks and other info needed to make the request.
       */
      send: function (settings) {
        var xhr, count = 0;

        function ready() {
          if (!settings.async || xhr.readyState == 4 || count++ > 10000) {
            if (settings.success && count < 10000 && xhr.status == 200) {
              settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);
            } else if (settings.error) {
              settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);
            }

            xhr = null;
          } else {
            setTimeout(ready, 10);
          }
        }

        // Default settings
        settings.scope = settings.scope || this;
        settings.success_scope = settings.success_scope || settings.scope;
        settings.error_scope = settings.error_scope || settings.scope;
        settings.async = settings.async === false ? false : true;
        settings.data = settings.data || '';

        XHR.fire('beforeInitialize', { settings: settings });

        xhr = new XMLHttpRequest();

        if (xhr) {
          if (xhr.overrideMimeType) {
            xhr.overrideMimeType(settings.content_type);
          }

          xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);

          if (settings.crossDomain) {
            xhr.withCredentials = true;
          }

          if (settings.content_type) {
            xhr.setRequestHeader('Content-Type', settings.content_type);
          }

          if (settings.requestheaders) {
            Tools.each(settings.requestheaders, function (header) {
              xhr.setRequestHeader(header.key, header.value);
            });
          }

          xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');

          xhr = XHR.fire('beforeSend', { xhr: xhr, settings: settings }).xhr;
          xhr.send(settings.data);

          // Syncronous request
          if (!settings.async) {
            return ready();
          }

          // Wait for response, onReadyStateChange can not be used since it leaks memory in IE
          setTimeout(ready, 10);
        }
      }
    };

    Tools.extend(XHR, Observable);

    return XHR;
  }
);

/**
 * JSON.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * JSON parser and serializer class.
 *
 * @class tinymce.util.JSON
 * @static
 * @example
 * // JSON parse a string into an object
 * var obj = tinymce.util.JSON.parse(somestring);
 *
 * // JSON serialize a object into an string
 * var str = tinymce.util.JSON.serialize(obj);
 */
define(
  'tinymce.core.util.JSON',
  [
  ],
  function () {
    function serialize(o, quote) {
      var i, v, t, name;

      quote = quote || '"';

      if (o === null) {
        return 'null';
      }

      t = typeof o;

      if (t == 'string') {
        v = '\bb\tt\nn\ff\rr\""\'\'\\\\';

        /*eslint no-control-regex:0 */
        return quote + o.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g, function (a, b) {
          // Make sure single quotes never get encoded inside double quotes for JSON compatibility
          if (quote === '"' && a === "'") {
            return a;
          }

          i = v.indexOf(b);

          if (i + 1) {
            return '\\' + v.charAt(i + 1);
          }

          a = b.charCodeAt().toString(16);

          return '\\u' + '0000'.substring(a.length) + a;
        }) + quote;
      }

      if (t == 'object') {
        if (o.hasOwnProperty && Object.prototype.toString.call(o) === '[object Array]') {
          for (i = 0, v = '['; i < o.length; i++) {
            v += (i > 0 ? ',' : '') + serialize(o[i], quote);
          }

          return v + ']';
        }

        v = '{';

        for (name in o) {
          if (o.hasOwnProperty(name)) {
            v += typeof o[name] != 'function' ? (v.length > 1 ? ',' + quote : quote) + name +
              quote + ':' + serialize(o[name], quote) : '';
          }
        }

        return v + '}';
      }

      return '' + o;
    }

    return {
      /**
       * Serializes the specified object as a JSON string.
       *
       * @method serialize
       * @param {Object} obj Object to serialize as a JSON string.
       * @param {String} quote Optional quote string defaults to ".
       * @return {string} JSON string serialized from input.
       */
      serialize: serialize,

      /**
       * Unserializes/parses the specified JSON string into a object.
       *
       * @method parse
       * @param {string} s JSON String to parse into a JavaScript object.
       * @return {Object} Object from input JSON string or undefined if it failed.
       */
      parse: function (text) {
        try {
          // Trick uglify JS
          return window[String.fromCharCode(101) + 'val']('(' + text + ')');
        } catch (ex) {
          // Ignore
        }
      }

      /**#@-*/
    };
  }
);

/**
 * JSONRequest.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class enables you to use JSON-RPC to call backend methods.
 *
 * @class tinymce.util.JSONRequest
 * @example
 * var json = new tinymce.util.JSONRequest({
 *     url: 'somebackend.php'
 * });
 *
 * // Send RPC call 1
 * json.send({
 *     method: 'someMethod1',
 *     params: ['a', 'b'],
 *     success: function(result) {
 *         console.dir(result);
 *     }
 * });
 *
 * // Send RPC call 2
 * json.send({
 *     method: 'someMethod2',
 *     params: ['a', 'b'],
 *     success: function(result) {
 *         console.dir(result);
 *     }
 * });
 */
define(
  'tinymce.core.util.JSONRequest',
  [
    "tinymce.core.util.JSON",
    "tinymce.core.util.XHR",
    "tinymce.core.util.Tools"
  ],
  function (JSON, XHR, Tools) {
    var extend = Tools.extend;

    function JSONRequest(settings) {
      this.settings = extend({}, settings);
      this.count = 0;
    }

    /**
     * Simple helper function to send a JSON-RPC request without the need to initialize an object.
     * Consult the Wiki API documentation for more details on what you can pass to this function.
     *
     * @method sendRPC
     * @static
     * @param {Object} o Call object where there are three field id, method and params this object should also contain callbacks etc.
     */
    JSONRequest.sendRPC = function (o) {
      return new JSONRequest().send(o);
    };

    JSONRequest.prototype = {
      /**
       * Sends a JSON-RPC call. Consult the Wiki API documentation for more details on what you can pass to this function.
       *
       * @method send
       * @param {Object} args Call object where there are three field id, method and params this object should also contain callbacks etc.
       */
      send: function (args) {
        var ecb = args.error, scb = args.success;

        args = extend(this.settings, args);

        args.success = function (c, x) {
          c = JSON.parse(c);

          if (typeof c == 'undefined') {
            c = {
              error: 'JSON Parse error.'
            };
          }

          if (c.error) {
            ecb.call(args.error_scope || args.scope, c.error, x);
          } else {
            scb.call(args.success_scope || args.scope, c.result);
          }
        };

        args.error = function (ty, x) {
          if (ecb) {
            ecb.call(args.error_scope || args.scope, ty, x);
          }
        };

        args.data = JSON.serialize({
          id: args.id || 'c' + (this.count++),
          method: args.method,
          params: args.params
        });

        // JSON content type for Ruby on rails. Bug: #1883287
        args.content_type = 'application/json';

        XHR.send(args);
      }
    };

    return JSONRequest;
  }
);
/**
 * JSONP.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

define(
  'tinymce.core.util.JSONP',
  [
    "tinymce.core.dom.DOMUtils"
  ],
  function (DOMUtils) {
    return {
      callbacks: {},
      count: 0,

      send: function (settings) {
        var self = this, dom = DOMUtils.DOM, count = settings.count !== undefined ? settings.count : self.count;
        var id = 'tinymce_jsonp_' + count;

        self.callbacks[count] = function (json) {
          dom.remove(id);
          delete self.callbacks[count];

          settings.callback(json);
        };

        dom.add(dom.doc.body, 'script', {
          id: id,
          src: settings.url,
          type: 'text/javascript'
        });

        self.count++;
      }
    };
  }
);
/**
 * LocalStorage.js
 *
 * Released under LGPL License.
 * Co~y?>ڪ}c߿,?ͬȋnwg~m4#y\Sfqswf3L={ovnW<o}0pq"(1:[  )0  z$(`	b
afO'@[ҡB $ נ	 eHP `U0J  hh2FUJFJ,D ɈH40DTpB!4`	!dplQ@K@(px= !-lPpA! (a `!րX`N0FD#L0IDgN*r6^G!b Q0!,B
4  >D te6s#w-j_)7[ɂnvv~ݝ|7joJp_ڹ?tJiiJ8ޟ=	7ϸbM{WPX>$cD6@ h O*B 	 T9 " r  DxES 7"T08@5s=F
YV6H  #0xϯ_ĩCZҽqn|W_˾mrvǽW|?D:?;g~}ccؿH?7?>z}mMocWR&qO>/wFGy2%gK|rG-%]:\??_4~q1_gE^s=m:U`iڹ0 $`	(@DfHLB
5\ @
i  ) dD8b c+78ED= &	RB¢DB >! A5B U   aTC8DC^߻-}w)̝O6cT㿷{{;dםr.;Nx_o=tI.wUݾ8W	,!_YR @ " W+<hDj a3gi@+Ck	+
H J1!PLJ$8B0Nb(<,Be` lh 0x$D  !b HQQaB(h 0
$ PBYM! @Q;*LQtI 	(+ !L
i z@	P5  !!Q  $_+fao[Z~=ʗ}>ƅʹF<W}?^~n/MWki=YOo;,#׿WVAG۽?uV;1 E]a@c( `@hx  5@(@a00@r@Yq*%B JlDH 'CA! QuT iMdI)8R H¤"  S0BGB r 	#$@P`*=ҧ]Uߩ`|/߻?֪ޯ~}}m~}ޮio;ޟ̛]K+/>^߮Z;+Ѱ7Wٮ1ww}9X5[SќǯJ&ջTj_+#ΜܷC_^m/S6/sMEkuNٺ)w\ع|w㳞~ts>_=;`nkϺ^}4x8", [DR +
 h "Yt" z.M	  '1E E`H2TAEv1`&@$m ;u~ޚtMvmcg|	i6RO}||3D=
H_-vQa~}ow_V$,߇秎(k*:@0!!"s(p
^	`挜 & 4#B Xl@DG("  0 B 2
8QADAd@D X# C@$@ X':
(b2+ 2I$6%"C0C%F1PP§ABF `!, @0 (aB(8XB`j:$G"4 c
1)&5-8D( @I%xs.۱^[ҢbpUas_6j^]mNI-鐏)q7=})^;+wn{}k|?{}{'?s{ޫ]4($ G)P!țv@   !%[  D)R$!PHEb
pq&Y$ "@a $@q@Q@'@0QCs}g4o0ޝkZ'w~<5z^XoCY+[f}/pz3Sʾ=ǵݯ}Im=_s{_ծAzfBk|+SB/gແg^`!9ɗ~s9+{IƝWo7{s;=k}:gI]$ @H0FT̢@8B BXq.d@b Uy +")n  "B;T  ɡ   4F,@H@" XGygG\z3qk/\wfSl?~W+^)}_|vVU7e2mn_Sikt_%{yӔ$ߜG7OvѴq:Q@ 2Q2Р"	$aaq؃*@A&6Q
  ZXY, ,D%N&LdX
@!0Jq!`` _,@J (@
"v	N `Дr	
VH P!BjA`@D0؟`Tس
J@8d\ 4l̌DFB@0&%@%J,J	طOrgs3`<K><:2?X׾_[n/=.71'_],}_W_zy헭{fL}T C|T+LJ I $QP4X@H[zP%q)  F
d+4  aJ؃z%1@ YwMa]fnoV=}r*}-/>?״o/zkͫ-ij貪aCוvvo۪_0o_>z~jS:}~~ߞ|:~wW<O&Wu&ok_Z%~Vuw?1p`7wz x/Axu	`̒k
  <O`D   HHH;Q7  BRy @4 <A@AHp(@' EMADtHull if it wasn't found.
       *
       * @method getItem
       * @param {String} key Key of item to retrieve.
       * @return {String} Value of the specified item or null if it wasn't found.
       */
      getItem: function (key) {
        return key in items ? items[key] : null;
      },

      /**
       * Sets the value of the specified item by it's key.
       *
       * @method setItem
       * @param {String} key Key of the item to set.
       * @param {String} value Value of the item to set.
       */
      setItem: function (key, value) {
        items[key] = "" + value;
        save();
      },

      /**
       * Removes the specified item by key.
       *
       * @method removeItem
       * @param {String} key Key of item to remove.
       */
      removeItem: function (key) {
        delete items[key];
        save();
      },

      /**
       * Removes all items.
       *
       * @method clear
       */
      clear: function () {
        items = {};
        save();
      }
    };

    load();

    return LocalStorage;
  }
);

/**
 * Compat.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * TinyMCE core class.
 *
 * @static
 * @class tinymce
 * @borrow-members tinymce.EditorManager
 * @borrow-members tinymce.util.Tools
 */
define(
  'tinymce.core.api.Compat',
  [
    "tinymce.core.dom.DOMUtils",
    "tinymce.core.dom.EventUtils",
    "tinymce.core.dom.ScriptLoader",
    "tinymce.core.AddOnManager",
    "tinymce.core.util.Tools",
    "tinymce.core.Env"
  ],
  function (DOMUtils, EventUtils, ScriptLoader, AddOnManager, Tools, Env) {
    var register = function (tinymce) {
      /**
       * @property {tinymce.dom.DOMUtils} DOM Global DOM instance.
       * @property {tinymce.dom.ScriptLoader} ScriptLoader Global ScriptLoader instance.
       * @property {tinymce.AddOnManager} PluginManager Global PluginManager instance.
       * @property {tinymce.AddOnManager} ThemeManager Global ThemeManager instance.
       */
      tinymce.DOM = DOMUtils.DOM;
      tinymce.ScriptLoader = ScriptLoader.ScriptLoader;
      tinymce.PluginManager = AddOnManager.PluginManager;
      tinymce.ThemeManager = AddOnManager.ThemeManager;

      tinymce.dom = tinymce.dom || {};
      tinymce.dom.Event = EventUtils.Event;

      Tools.each(
        'trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix'.split(' '),
        function (key) {
          tinymce[key] = Tools[key];
        }
      );

      Tools.each('isOpera isWebKit isIE isGecko isMac'.split(' '), function (name) {
        tinymce[name] = Env[name.substr(2).toLowerCase()];
      });
    };

    return {
      register: register
    };
  }
);

// Describe the different namespaces

/**
 * Root level namespace this contains classes directly related to the TinyMCE editor.
 *
 * @namespace tinymce
 */

/**
 * Contains classes for handling the browsers DOM.
 *
 * @namespace tinymce.dom
 */

/**
 * Contains html parser and serializer logic.
 *
 * @namespace tinymce.html
 */

/**
 * Contains the different UI types such as buttons, listboxes etc.
 *
 * @namespace tinymce.ui
 */

/**
 * Contains various utility classes such as json parser, cookies etc.
 *
 * @namespace tinymce.util
 */

/**
 * Contains modules to handle data binding.
 *
 * @namespace tinymce.data
 */

/**
 * Color.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class lets you parse/serialize colors and convert rgb/hsb.
 *
 * @class tinymce.util.Color
 * @example
 * var white = new tinymce.util.Color({r: 255, g: 255, b: 255});
 * var red = new tinymce.util.Color('#FF0000');
 *
 * console.log(white.toHex(), red.toHsv());
 */
define(
  'tinymce.core.util.Color',
  [
  ],
  function () {
    var min = Math.min, max = Math.max, round = Math.round;

    /**
     * Constructs a new color instance.
     *
     * @constructor
     * @method Color
     * @param {String} value Optional initial value to parse.
     */
    function Color(value) {
      var self = this, r = 0, g = 0, b = 0;

      function rgb2hsv(r, g, b) {
        var h, s, v, d, minRGB, maxRGB;

        h = 0;
        s = 0;
        v = 0;
        r = r / 255;
        g = g / 255;
        b = b / 255;

        minRGB = min(r, min(g, b));
        maxRGB = max(r, max(g, b));

        if (minRGB == maxRGB) {
          v = minRGB;

          return {
            h: 0,
            s: 0,
            v: v * 100
          };
        }

        /*eslint no-nested-ternary:0 */
        d = (r == minRGB) ? g - b : ((b == minRGB) ? r - g : b - r);
        h = (r == minRGB) ? 3 : ((b == minRGB) ? 1 : 5);
        h = 60 * (h - d / (maxRGB - minRGB));
        s = (maxRGB - minRGB) / maxRGB;
        v = maxRGB;

        return {
          h: round(h),
          s: round(s * 100),
          v: round(v * 100)
        };
      }

      function hsvToRgb(hue, saturation, brightness) {
        var side, chroma, x, match;

        hue = (parseInt(hue, 10) || 0) % 360;
        saturation = parseInt(saturation, 10) / 100;
        brightness = parseInt(brightness, 10) / 100;
        saturation = max(0, min(saturation, 1));
        brightness = max(0, min(brightness, 1));

        if (saturation === 0) {
          r = g = b = round(255 * brightness);
          return;
        }

        side = hue / 60;
        chroma = brightness * saturation;
        x = chroma * (1 - Math.abs(side % 2 - 1));
        match = brightness - chroma;

        switch (Math.floor(side)) {
          case 0:
            r = chroma;
            g = x;
            b = 0;
            break;

          case 1:
            r = x;
            g = chroma;
            b = 0;
            break;

          case 2:
            r = 0;
            g = chroma;
            b = x;
            break;

          case 3:
            r = 0;
            g = x;
            b = chroma;
            break;

          case 4:
            r = x;
            g = 0;
            b = chroma;
            break;

          case 5:
            r = chroma;
            g = 0;
            b = x;
            break;

          default:
            r = g = b = 0;
        }

        r = round(255 * (r + match));
        g = round(255 * (g + match));
        b = round(255 * (b + match));
      }

      /**
       * Returns the hex string of the current color. For example: #ff00ff
       *
       * @method toHex
       * @return {String} Hex string of current color.
       */
      function toHex() {
        function hex(val) {
          val = parseInt(val, 10).toString(16);

          return val.length > 1 ? val : '0' + val;
        }

        return '#' + hex(r) + hex(g) + hex(b);
      }

      /**
       * Returns the r, g, b values of the color. Each channel has a range from 0-255.
       *
       * @method toRgb
       * @return {Object} Object with r, g, b fields.
       */
      function toRgb() {
        return {
          r: r,
          g: g,
          b: b
        };
      }

      /**
       * Returns the h, s, v values of the color. Ranges: h=0-360, s=0-100, v=0-100.
       *
       * @method toHsv
       * @return {Object} Object with h, s, v fields.
       */
      function toHsv() {
        return rgb2hsv(r, g, b);
      }

      /**
       * Parses the specified value and populates the color instance.
       *
       * Supported format examples:
       *  * rbg(255,0,0)
       *  * #ff0000
       *  * #fff
       *  * {r: 255, g: 0, b: 0}
       *  * {h: 360, s: 100, v: 100}
       *
       * @method parse
       * @param {Object/String} value Color value to parse.
       * @return {tinymce.util.Color} Current color instance.
       */
      function parse(value) {
        var matches;

        if (typeof value == 'object') {
          if ("r" in value) {
            r = value.r;
            g = value.g;
            b = value.b;
          } else if ("v" in value) {
            hsvToRgb(value.h, value.s, value.v);
          }
        } else {
          if ((matches = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(value))) {
            r = parseInt(matches[1], 10);
            g = parseInt(matches[2], 10);
            b = parseInt(matches[3], 10);
          } else if ((matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value))) {
            r = parseInt(matches[1], 16);
            g = parseInt(matches[2], 16);
            b = parseInt(matches[3], 16);
          } else if ((matches = /#([0-F])([0-F])([0-F])/gi.exec(value))) {
            r = parseInt(matches[1] + matches[1], 16);
            g = parseInt(matches[2] + matches[2], 16);
            b = parseInt(matches[3] + matches[3], 16);
          }
        }

        r = r < 0 ? 0 : (r > 255 ? 255 : r);
        g = g < 0 ? 0 : (g > 255 ? 255 : g);
        b = b < 0 ? 0 : (b > 255 ? 255 : b);

        return self;
      }

      if (value) {
        parse(value);
      }

      self.toRgb = toRgb;
      self.toHsv = toHsv;
      self.toHex = toHex;
      self.parse = parse;
    }

    return Color;
  }
);

/**
 * Layout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Base layout manager class.
 *
 * @class tinymce.ui.Layout
 */
define(
  'tinymce.core.ui.Layout',
  [
    "tinymce.core.util.Class",
    "tinymce.core.util.Tools"
  ],
  function (Class, Tools) {
    "use strict";

    return Class.extend({
      Defaults: {
        firstControlClass: 'first',
        lastControlClass: 'last'
      },

      /**
       * Constructs a layout instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       */
      init: function (settings) {
        this.settings = Tools.extend({}, this.Defaults, settings);
      },

      /**
       * This method gets invoked before the layout renders the controls.
       *
       * @method preRender
       * @param {tinymce.ui.Container} container Container instance to preRender.
       */
      preRender: function (container) {
        container.bodyClasses.add(this.settings.containerClass);
      },

      /**
       * Applies layout classes to the container.
       *
       * @private
       */
      applyClasses: function (items) {
        var self = this, settings = self.settings, firstClass, lastClass, firstItem, lastItem;

        firstClass = settings.firstControlClass;
        lastClass = settings.lastControlClass;

        items.each(function (item) {
          item.classes.remove(firstClass).remove(lastClass).add(settings.controlClass);

          if (item.visible()) {
            if (!firstItem) {
              firstItem = item;
            }

            lastItem = item;
          }
        });

        if (firstItem) {
          firstItem.classes.add(firstClass);
        }

        if (lastItem) {
          lastItem.classes.add(lastClass);
        }
      },

      /**
       * Renders the specified container and any layout specific HTML.
       *
       * @method renderHtml
       * @param {tinymce.ui.Container} container Container to render HTML for.
       */
      renderHtml: function (container) {
        var self = this, html = '';

        self.applyClasses(container.items());

        container.items().each(function (item) {
          html += item.renderHtml();
        });

        return html;
      },

      /**
       * Recalculates the positions of the controls in the specified container.
       *
       * @method recalc
       * @param {tinymce.ui.Container} container Container instance to recalc.
       */
      recalc: function () {
      },

      /**
       * This method gets invoked after the layout renders the controls.
       *
       * @method postRender
       * @param {tinymce.ui.Container} container Container instance to postRender.
       */
      postRender: function () {
      },

      isNative: function () {
 k7>k);OSߝmo^'7w[n Cuh	=_o^<=ZV7>|ߎv_^?xvy{ߗڳ}/:Ru7f(Onkg~}gvvto/_g5=m/ͽEGb7g^oo?+%.jpYya{Nx_/wzȟ~=zuÏIz1⟽[U߅{-|JEs~x{{6_q_q ҏs/l(l͋̾{)w2Zy-|__n~sw?~z.o{ɻqsx_?6oqM;hVo䞿WUsǷenѣ).֧Hg/6#o76E'ڷ&֧Woߍ#MÄgng~W~bIeڦHza-V^lom^K?yov#g6g)zןZ?%JQA"y־߼;B?}|?,(y|^eۓsY_{}WRU;}rWٻ{~\s?rW'gҾO#.m?)籸w_߁(\x'nd>7Hd>όmoʝʖ:>=4~_WN}vhv0&盼ӛwWKQc_gY7OnTwEס[[_m޿ z|czY^R.wߛ^w[_;v[kۍƿ75	H{qNwz)9=o{ﯻ%r_/nOP}s?^r>S*?2G
qvFr_x3=_/:]&4j>@ӟon~'}ܻxW}*u]+e?yn_u-NץKVGhXH_Yg^yv^xyvoᾦ*wgOKFo͗&*.;x]M_7өs]W(W	!hۍѕ&_6wq^wa;ia_}ww7_u^(_emU|]YEk7MYNz;޶w<K}ާWq$Cw2=>}7qX[_ܙUw_FVyh5~W3{g=m7uw5?d.K׆?NGnOC?m޾>F[^?wq||˪6:F[}v
.}EϺzjڝ^*68ͧ|Gwxz޲~/E4{woKYv=_cj_ʹwhm/gmϽk~}/^3nܖ5[εv>~F{UhZ7\fmw~K[N+kkJwg;;YR7{yoNiٟϵU`Ş!w]1زjHvxw'ҩ=ԯq5ӺwlFǩol]L˶<z[3~խE}Gk۞/>	K>vMwiwWN'Tcg^ۻ5KN^g9otӹ-g}oև?^Y"!j?gw+i'946zlMEoYOw:?ߵ/{OGֶ.k`LA_6dGn_wtyG_Mg'ϣxk/}Rυ=Ҟ`b'롻ޙrE*Omv<4{;]{bK={4Cj̭\{sI|_snpO|SE3|js]?m_?u"n?:פw'TϙW#c{Kv(~w蟻ٚY/.+Krko/eVk-YΫ*_3Y_KiB=+P׆𧹳d*{mǿ<+|n%Yo^ӷWן/7?Sߵ~~%oW[sF~x<_8~>;zhg|go@.ߟk#;>z춵gջn>;c?;ٻ_{}o8wK0w
{^IKKÿ|+uu9]/֕(ۣ{{?~_<U{(~_OUo*x}eooG+-G˵q9l o~two'?TBk6s8ˮǇ=Uwy73L_2~q>ꤾ/zFŗ^UG
urWlg-VM{l裹K>oݥ7 \}8}lo}=wtOskE3bvWmÕk~g_VgΝ{n?*>G~\7n({cVg n\z{TCI2N7jo}owkL/u*?M_q~Mٙw2]ѳy{_7;y>M{ޙ㗻nz[_+Qٻ:ov?uÞxsR~_ҿOwNx{~9o/e-9)owלor}N;{n۟CJog)Ϊ.5skZ6{n^zwgM4[lG_}b?{v|Fŷ`Rqy{Nܯ%m'iţ)mw{?xZfHbϮ~{4߰zg#ߙOm=;^_<Kߞi^߿7;E\/̿,;}gKnx<{ܾM?
i~癩Fn_y!ϛc}6s}kƼ=?w[-ێ_s)SmhY荋|{=)Ϣm&,~,N*sa6x>vû/̯Zwf~z*.cQ36/NR&螹C6Zn,;Pk.]_?.~}T=/ߞԶ={cۡ=_mN9ij՛zout engine.
       *
       * @method repaint
       */
      repaint: function () {
        var btnElm = this.getEl().firstChild,
          btnStyle;

        if (btnElm) {
          btnStyle = btnElm.style;
          btnStyle.width = btnStyle.height = "100%";
        }

        this._super();
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this, id = self._id, prefix = self.classPrefix;
        var icon = self.state.get('icon'), image, text = self.state.get('text'), textHtml = '';

        image = self.settings.image;
        if (image) {
          icon = 'none';

          // Support for [high dpi, low dpi] image sources
          if (typeof image != "string") {
            image = window.getSelection ? image[0] : image[1];
          }

          image = ' style="background-image: url(\'' + image + '\')"';
        } else {
          image = '';
        }

        if (text) {
          self.classes.add('btn-has-text');
          textHtml = '<span class="' + prefix + 'txt">' + self.encode(text) + '</span>';
        }

        icon = icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';

        return (
          '<div id="' + id + '" class="' + self.classes + '" tabindex="-1">' +
          '<button role="presentation" type="button" tabindex="-1">' +
          (icon ? '<i class="' + icon + '"' + image + '></i>' : '') +
          textHtml +
          '</button>' +
          '</div>'
        );
      },

      bindStates: function () {
        var self = this, $ = self.$, textCls = self.classPrefix + 'txt';

        function setButtonText(text) {
          var $span = $('span.' + textCls, self.getEl());

          if (text) {
            if (!$span[0]) {
              $('button:first', self.getEl()).append('<span class="' + textCls + '"></span>');
              $span = $('span.' + textCls, self.getEl());
            }

            $span.html(self.encode(text));
          } else {
            $span.remove();
          }

          self.classes.toggle('btn-has-text', !!text);
        }

        self.state.on('change:text', function (e) {
          setButtonText(e.value);
        });

        self.state.on('change:icon', function (e) {
          var icon = e.value, prefix = self.classPrefix;

          self.settings.icon = icon;
          icon = icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';

          var btnElm = self.getEl().firstChild, iconElm = btnElm.getElementsByTagName('i')[0];

          if (icon) {
            if (!iconElm || iconElm != btnElm.firstChild) {
              iconElm = document.createElement('i');
              btnElm.insertBefore(iconElm, btnElm.firstChild);
            }

            iconElm.className = icon;
          } else if (iconElm) {
            btnElm.removeChild(iconElm);
          }

          setButtonText(self.state.get('text'));
        });

        return self._super();
      }
    });
  }
);

/**
 * ButtonGroup.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This control enables you to put multiple buttons into a group. This is
 * useful when you want to combine similar toolbar buttons into a group.
 *
 * @example
 * // Create and render a buttongroup with two buttons to the body element
 * tinymce.ui.Factory.create({
 *     type: 'buttongroup',
 *     items: [
 *         {text: 'Button A'},
 *         {text: 'Button B'}
 *     ]
 * }).renderTo(document.body);
 *
 * @-x-less ButtonGroup.less
 * @class tinymce.ui.ButtonGroup
 * @extends tinymce.ui.Container
 */
define(
  'tinymce.core.ui.ButtonGroup',
  [
    "tinymce.core.ui.Container"
  ],
  function (Container) {
    "use strict";

    return Container.extend({
      Defaults: {
        defaultType: 'button',
        role: 'group'
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this, layout = self._layout;

        self.classes.add('btn-group');
        self.preRender();
        layout.preRender(self);

        return (
          '<div id="' + self._id + '" class="' + self.classes + '">' +
          '<div id="' + self._id + '-body">' +
          (self.settings.html || '') + layout.renderHtml(self) +
          '</div>' +
          '</div>'
        );
      }
    });
  }
);
/**
 * Checkbox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This control creates a custom checkbox.
 *
 * @example
 * // Create and render a checkbox to the body element
 * tinymce.ui.Factory.create({
 *     type: 'checkbox',
 *     checked: true,
 *     text: 'My checkbox'
 * }).renderTo(document.body);
 *
 * @-x-less Checkbox.less
 * @class tinymce.ui.Checkbox
 * @extends tinymce.ui.Widget
 */
define(
  'tinymce.core.ui.Checkbox',
  [
    "tinymce.core.ui.Widget"
  ],
  function (Widget) {
    "use strict";

    return Widget.extend({
      Defaults: {
        classes: "checkbox",
        role: "checkbox",
        checked: false
      },

      /**
       * Constructs a new Checkbox instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       * @setting {Boolean} checked True if the checkbox should be checked by default.
       */
      init: function (settings) {
        var self = this;

        self._super(settings);

        self.on('click mousedown', function (e) {
          e.preventDefault();
        });

        self.on('click', function (e) {
          e.preventDefault();

          if (!self.disabled()) {
            self.checked(!self.checked());
          }
        });

        self.checked(self.settings.checked);
      },

      /**
       * Getter/setter function for the checked state.
       *
       * @method checked
       * @param {Boolean} [state] State to be set.
       * @return {Boolean|tinymce.ui.Checkbox} True/false or checkbox if it's a set operation.
       */
      checked: function (state) {
        if (!arguments.length) {
          return this.state.get('checked');
        }

        this.state.set('checked', state);

        return this;
      },

      /**
       * Getter/setter function for the value state.
       *
       * @method value
       * @param {Boolean} [state] State to be set.
       * @return {Boolean|tinymce.ui.Checkbox} True/false or checkbox if it's a set operation.
       */
      value: function (state) {
        if (!arguments.length) {
          return this.checked();
        }

        return this.checked(state);
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this, id = self._id, prefix = self.classPrefix;

        return (
          '<div id="' + id + '" class="' + self.classes + '" unselectable="on" aria-labelledby="' + id + '-al" tabindex="-1">' +
          '<i class="' + prefix + 'ico ' + prefix + 'i-checkbox"></i>' +
          '<span id="' + id + '-al" class="' + prefix + 'label">' + self.encode(self.state.get('text')) + '</span>' +
          '</div>'
        );
      },

      bindStates: function () {
        var self = this;

        function checked(state) {
          self.classes.toggle("checked", state);
          self.aria('checked', state);
        }

        self.state.on('change:text', function (e) {
          self.getEl('al').firstChild.data = self.translate(e.value);
        });

        self.state.on('change:checked change:value', function (e) {
          self.fire('change');
          checked(e.value);
        });

        self.state.on('change:icon', function (e) {
          var icon = e.value, prefix = self.classPrefix;

          if (typeof icon == 'undefined') {
            return self.settings.icon;
          }

          self.settings.icon = icon;
          icon = icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';

          var btnElm = self.getEl().firstChild, iconElm = btnElm.getElementsByTagName('i')[0];

          if (icon) {
            if (!iconElm || iconElm != btnElm.firstChild) {
              iconElm = document.createElement('i');
              btnElm.insertBefore(iconElm, btnElm.firstChild);
            }

            iconElm.className = icon;
          } else if (iconElm) {
            btnElm.removeChild(iconElm);
          }
        });

        if (self.state.get('checked')) {
          checked(true);
        }

        return self._super();
      }
    });
  }
);
/**
 * ComboBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class creates a combobox control. Select box that you select a value from or
 * type a value into.
 *
 * @-x-less ComboBox.less
 * @class tinymce.ui.ComboBox
 * @extends tinymce.ui.Widget
 */
define(
  'tinymce.core.ui.ComboBox',
  [
    "tinymce.core.ui.Widget",
    "tinymce.core.ui.Factory",
    "tinymce.core.ui.DomUtils",
    "tinymce.core.dom.DomQuery",
    "tinymce.core.util.VK",
    "tinymce.core.util.Tools"
  ],
  function (Widget, Factory, DomUtils, $, VK, Tools) {
    "use strict";

    return Widget.extend({
      /**
       * Constructs a new control instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       * @setting {String} placeholder Placeholder text to display.
       */
      init: function (settings) {
        var self = this;

        self._super(settings);
        settings = self.settings;

        self.classes.add('combobox');
        self.subinput = true;
        self.ariaTarget = 'inp'; // TODO: Figure out a better way

        settings.menu = settings.menu || settings.values;

        if (settings.menu) {
          settings.icon = 'caret';
        }

        self.on('click', function (e) {
          var elm = e.target, root = self.getEl();

          if (!$.contains(root, elm) && elm != root) {
            return;
          }

          while (elm && elm != root) {
            if (elm.id && elm.id.indexOf('-open') != -1) {
              self.fire('action');

              if (settings.menu) {
                self.showMenu();

                if (e.aria) {
                  self.menu.items()[0].focus();
                }
              }
            }

            elm = elm.parentNode;
          }
        });

        // TODO: Rework this
        self.on('keydown', function (e) {
          var rootControl;

          if (e.keyCode == 13 && e.target.nodeName === 'INPUT') {
            e.preventDefault();

            // Find root control that we can do toJSON on
            self.parents().reverse().each(function (ctrl) {
              if (ctrl.toJSON) {
                rootControl = ctrl;
                return false;
              }
            });

            // Fire event on current text box with the serialized data of the whole form
            self.fire('submit', { data: rootControl.toJSON() });
          }
        });

        self.on('keyup', function (e) {
          if (e.target.nodeName == "INPUT") {
            var oldValue = self.state.get('value');
            var newValue = e.target.value;

            if (newValue !== oldValue) {
              self.state.set('value', newValue);
              self.fire('autocomplete', e);
            }
          }
        });

        self.on('mouseover', function (e) {
          var tooltip = self.tooltip().moveTo(-0xFFFF);

          if (self.statusLevel() && e.target.className.indexOf(self.classPrefix + 'status') !== -1) {
            var statusMessage = self.statusMessage() || 'Ok';
            var rel = tooltip.text(statusMessage).show().testMoveRel(e.target, ['bc-tc', 'bc-tl', 'bc-tr']);

            tooltip.classes.toggle('tooltip-n', rel == 'bc-tc');
            tooltip.classes.toggle('tooltip-nw', rel == 'bc-tl');
            tooltip.classes.toggle('tooltip-ne', rel == 'bc-tr');

            tooltip.moveRel(e.target, rel);
          }
        });
      },

      statusLevel: function (value) {
        if (arguments.length > 0) {
          this.state.set('statusLevel', value);
        }

        return this.state.get('statusLevel');
      },

      statusMessage: function (value) {
        if (arguments.length > 0) {
          this.state.set('statusMessage', value);
        }

        return this.state.get('statusMessage');
      },

      showMenu: function () {
        var self = this, settings = self.settings, menu;

        if (!self.menu) {
          menu = settings.menu || [];

          // Is menu array then auto constuct menu control
          if (menu.length) {
            menu = {
              type: 'menu',
              items: menu
            };
          } else {
            menu.type = menu.type || 'menu';
          }

          self.menu = Factory.create(menu).parent(self).renderTo(self.getContainerElm());
          self.fire('createmenu');
          self.menu.reflow();
          self.menu.on('cancel', function (e) {
            if (e.control === self.menu) {
              self.focus();
            }
          });

          self.menu.on('show hide', function (e) {
            e.control.items().each(function (ctrl) {
              ctrl.active(ctrl.value() == self.value());
            });
          }).fire('show');

          self.menu.on('select', function (e) {
            self.value(e.control.value());
          });

          self.on('focusin', function (e) {
            if (e.target.tagName.toUpperCase() == 'INPUT') {
              self.menu.hide();
            }
          });

          self.aria('expanded', true);
        }

        self.menu.show();
        self.menu.layoutRect({ w: self.layoutRect().w });
        self.menu.moveRel(self.getEl(), self.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);
      },

      /**
       * Focuses the input area of the control.
       *
       * @method focus
       */
      focus: function () {
        this.getEl('inp').focus();
      },

      /**
       * Repaints the control after a layout operation.
       *
       * @method repaint
       */
      repaint: function () {
        var self = this, elm = self.getEl(), openElm = self.getEl('open'), rect = self.layoutRect();
        var width, lineHeight, innerPadding = 0, inputElm = elm.firstChild;

        if (self.statusLevel() && self.statusLevel() !== 'none') {
          innerPadding = (
            parseInt(DomUtils.getRuntimeStyle(inputElm, 'padding-right'), 10) -
            parseInt(DomUtils.getRuntimeStyle(inputElm, 'padding-left'), 10)
          );
        }

        if (openElm) {
          width = rect.w - DomUtils.getSize(openElm).width - 10;
        } else {
          width = rect.w - 10;
        }

        // Detect old IE 7+8 add lineHeight to align caret vertically in the middle
        var doc = document;
        if (doc.all && (!doc.documentMode || doc.documentMode <= 8)) {
          lineHeight = (self.layoutRect().h - 2) + 'px';
        }

        $(inputElm).css({
          width: width - innerPadding,
          lineHeight: lineHeight
        });

        self._super();

        return self;
      },

      /**
       * Post render method. Called after the control has been rendered to the target.
       *
       * @method postRender
       * @return {tinymce.ui.ComboBox} Current combobox instance.
       */
      postRender: function () {
        var self = this;

        $(this.getEl('inp')).on('change', function (e) {
          self.state.set('value', e.target.value);
          self.fire('change', e);
        });

        return self._super();
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the connged_event_data:  b7^. \^. Y}3 [0x5934bde22063][1][0] 	isLinkDown:  W=  V7p 
cz0 V0y  a `u	1  Z6  V7  W	
\ W\1,
\ W(p
\/W(p
\q*p
\`(p
\q
\5]+pW(p
\ W(pW(p S      j*jj⫪{jj⪪{ꮡ몪麪寧*ꪪ+j.jj⫪{jꨪꮪj⪪kꨪꮡ麪  4^' timeI 83<3 [0x5934bde20bcceb53][1][0] 	rssi: -40dbm, snr: 0db, nf: -84dbm, cca: 27%
     4^  app] 3 [0x5934bde20bccbdc3]0] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_event_data:  4^± Y^. 3 [0x5934bde20bccbdc3][1][0] 	isLinkDown: FALSE
    4^ı -85dI ~3 [0x5934bbccbdc3][1][rssi: -40dbm, snr: 0db, nf: bm, cca:  4^5  app] ʩU3 [0x5934bde20bcceb53][1][0] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_event_data:
     4^7 Y^. VU3 [0x5934bde20bcceb53][1][0] 	isLinkDown: FALSE
    : -85dI |U3 [0x5934bbcceb53][1][rssi: -40dbm, snr: 0db, nf: bm, cca:  5^$  app] f3 [0x5934bde209480b53][1][1] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_eveata:   5^$ Y^. f3 [0x5934bde209480b53][1][1] 	isLinkDown: FALSE
  W     !$ -85dI Af3 [0x5934b9480b53][1][1] 	rssi: -37dbm, snr: 0db, nf: bm, cca:  "5^5  app]  3 [0x5934bde20bcceb53][1][0] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_eveata:  #5^5 Z^. + 3 [0x5934bde20b53][1][0] 	isLinkDown: FALSE
    $5 -85dI 5 3 [0x5934bbcceb53][1][rssi: -37dbm, snr: 0db, nf: bm, cca:
     %5^T  app] =3 [0x5934bde20bccbdc3]0] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_eveata:  &5^T Z^. N3 [0x5934bde20bccbdc3][1][0] 	isLinkDown: FALSE
    '5^T -85dI V3 [0x5934bbccbdc3]rssi: -37dbm, snr: 0db, nf: bm, cca:  (5^k  app] EK3 [0x5934bde20bcceb53][1][0] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_eveata:
     )5^k Z^. K3 [0x5934bde20b53][1][0] 	isLinkDown: FALSE
    *-85dI 7K3 [0x5934bde20bcceb53][1][rssi: -37dbm, snr: 0db, nf: bm, cca:  +5^n  app] "v3 [0x5934bde20bcceb53][1][0] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  ,5^n Z^. 53 [0x5934bde20b53][1][0] 	isLinkDown: FALSE
  W     -5^n -85dI 3 [0x5934bbcceb53][1][0] 	rssi: -37dbm, snr: 0db, nf: bm, cca: 27%  .5^  app] |43 [0x5934bde20bccbdc3]0] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_eveata:  /5^ Z^. 43 [0x5934bde20bccbdc3][1][0] 	isLinkDown: FALSE
    0 -85dI 43 [0x5934bbccbdc3]rssi: -37dbm, snr: 0db, nf: bm, cca:
     15^'  app] t3 [0x5934bde209480b53][1][1] getLINK_CHANGED_EVENT_DATA(): apple80211_link_changed_eveata:  25^' Z^. O3 [0x5934bde209480b53][1][1] 	isLinkDown: FALSE
    35^' -85dI 3 [0x5934b9480b53][1][rssi: -37dbm, snr: 0db, nf: bm, cca:  45^f<  app] 
'3 [0x5934bde20bccbdc3]0] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_eveata:
     55^Z^. $'3 [0x5934bde20bccbdc3][1][0] 	isLinkDown: FALSE
    6k< -85dI ɺ'3 [0x5934bbccbdc3]rssi: -37dbm, snr: 0db, nf: -86dbm, cca: 26%  76^`  app] 3-3 [0x5934bde20bccbdc3]0] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_eveata:  86^` Z^. 3-3 [0x5934bde20bccbdc3][1][0] 	isLinkDown: FALSE
  W     9` -86dI 3-3 [0x5934bde20bccbdc3]0] 	rssi: -37dbm, snr: 0db, nf: -87dbm, cca: 26%  :6^v  app] +-3 [0x5934bde20bcceb53][1][0] getLINK_CHANGED_EVENT_DATA():le80211_link_changed_eveata:  ;6^v Z^. -3 [0x5934bde20b53][1][0] 	isLinkDown: FALSE
    <v -87dI Lĉ-3 [0x5934bbcceb53][1][rssi: -37dbm, snr: 0db, nf: -87dbm, cca: 26%
     =6^  app] }μ33 [0x5934bde20  
6	b 	b7  Pbq  W	r bW0 7	ap0 
V  	 W\ W(pW(p
\ W(pW(p
\q+p
\ W(pW(p
\qi(p
\ W(pW    S      *zj+Q"|-$ ?$C@+Bե 0@D
Y`aDs4@ V`"ݒ 1.Xb
4]rPAA32ZGomd#MRǛ(>g 57RE"L(lH X 	#  d8)vHH`,@P0A
0B!tLB,ODC-! GYi F6
as8U (p@Q%!*A'XP
]D !
`n*I8X$ A $x<pA,DT%E53h`(H!ŭ,+:DH$q<DXQP*QnlPIe@U$Ha`ZG!	(Z gG8F)jHT\I(cLL`DJ`J@G8*FNL.Vd|A+9F<gKAO@ rDJ00*G`HX@l @T64L y@	B$!s&I r(@LFH.r(
@  $DhpL!s3Kr 2.JrH0/pu!2F [h_a$Eqq}T rPDDCV`U380$x|1p)"fP@I1pB+ Fy`Ѐ`()p$EppB9)BX@aЄ$_ű/#qK5TBbә,Q|CWбr+%\i&TY(cb d
DAGDHFfR+Q`0 Ii"@ @ZHa!1Qh 	˔ Tx4q@!"4 9 I0 N=P  B(^2&)0(h.#iQP4!h &X@HP
(#U!FWP@Hw!b"o(0Qd(VE VmAЙ9>A@4N> Z '2D`@C<'Hc@`i:/FAqYE` (	*JH $9hk,K,RH4I_ CZH PRTc@RqA(A3K13"0ǎ0@1nQj0H,X!Z9I+" 
@ʐ1	(Ԝ T, $HX PYL	@b`T!HQ%Q)E,C
,b& 
 i 3L  0?<* )$@2XUp5PSWŪ@Q 
ȇB$0!
(
`PE	VX21B&EF$Q6cH(
1HbHjɔZ-e@(	  d0`Җ@ǁ4d;@<' IЊj (HyP
n 2J @%=C QL0.mh
 ;U@r#$H*x<lDJ`5F  4X%	ҠnPƀD'%H&;	&J		] $RJ-	'"H&X@BHEI傔@BR CW	 MxTCۈpp -@Kr4*"YR
ȏM 
l  Cp
L +T#%1@(z! ` *C F
yaP h6	*IF$aqB@ TB$(Ph  Q !8AfY\t"DFADsA0S1R']X܇R 
<*4(!,(:9Zd PT#R@Rdw``6(!!P@ ▩6jԙYC0=B'+@R@Ta#T Pb  7 S$j*Y-qy4gL!ɂSP#<lj3 G%(#04?"X`-rkhăjh$	P0 C0xM"h.   @E&!0 !b] p%.
@Vx(hD$,4!
EX4PAƊ$D8KJ&Ά  Q@25T+&~D8ws8 ̂Ӄ		R h@1!XB" .Br@*G(7`<Xb-BBx؂F@d4Idw@D  $ oAc	P!-D #3"zJ@s !0QD0
H(  pc|PB< )4`BqT@b @J2PdU	PRY0)p5@r. d8D0 0FҚp! "@VQ,` L( T!X PRH- l.BDDp|BH'L61DtD B-BZ8@)1 B5eN	A#@% AA@A	@@y
ޢZV
@(NV,L 	B
P0<b`Lh1vqޒq!B.uTU1 tD@",8(N ɣ D} c[4	EyQ)%n3װ RKȁ{ jR`D	dp`':D,xe"$:o
@BEA	)0v@ lTŔj $@#9L	0bG d!lT!lQ &b# A%Ҩ.
C) CƆp!X[
#1h 
r@-z؄1AT	xD:A	*  b
@W7.ȭk!Y7">?b/C
ԃP $*@v4+@P@D	ȁ .!Oט\``	2! Q
CBee@( b0QQ#(p YCESqa K= &Hc0	B ?b!A1Vgh j@  0A" |4!`CA	 q$rt4*c'mAQk _EF U@=X}nnPq"0&h" R0: . S5% t@D	@18 fcǁB9@$7\P4pG DrR pT%A)h0Q	
ĴHY
҈B0.i!tf`5 Iі
@5è``@0j$pV A`4[mJQch4( F  )-0daJ12z "(  dJ(8A1!c8H AzUD"ȒL$DӀС5Ej@7 vT%f:dNSj,T`3@tCHeBI.	 RJMૃ&#VG%G DBNv	H ^ZEJ
x E"`.,e8f@ 6<2TjylU2R\  C=|`PESAS 1cDhL,6I٨ 	0'@@Tx@YN;>I	Ah13EI@p8P@JinBFj7zUB@"C ѦJ2(@e.core.ui.Button",
    "tinymce.core.ui.FloatPanel"
  ],
  function (Button, FloatPanel) {
    "use strict";

    return Button.extend({
      /**
       * Shows the panel for the button.
       *
       * @method showPanel
       */
      showPanel: function () {
        var self = this, settings = self.settings;

        self.active(true);

        if (!self.panel) {
          var panelSettings = settings.panel;

          // Wrap panel in grid layout if type if specified
          // This makes it possible to add forms or other containers directly in the panel option
          if (panelSettings.type) {
            panelSettings = {
              layout: 'grid',
              items: panelSettings
            };
          }

          panelSettings.role = panelSettings.role || 'dialog';
          panelSettings.popover = true;
          panelSettings.autohide = true;
          panelSettings.ariaRoot = true;

          self.panel = new FloatPanel(panelSettings).on('hide', function () {
            self.active(false);
          }).on('cancel', function (e) {
            e.stopPropagation();
            self.focus();
            self.hidePanel();
          }).parent(self).renderTo(self.getContainerElm());

          self.panel.fire('show');
          self.panel.reflow();
        } else {
          self.panel.show();
        }

        var rel = self.panel.testMoveRel(self.getEl(), settings.popoverAlign || (self.isRtl() ? ['bc-tc', 'bc-tl', 'bc-tr'] : ['bc-tc', 'bc-tr', 'bc-tl']));

        self.panel.classes.toggle('start', rel === 'bc-tl');
        self.panel.classes.toggle('end', rel === 'bc-tr');

        self.panel.moveRel(self.getEl(), rel);
      },

      /**
       * Hides the panel for the button.
       *
       * @method hidePanel
       */
      hidePanel: function () {
        var self = this;

        if (self.panel) {
          self.panel.hide();
        }
      },

      /**
       * Called after the control has been rendered.
       *
       * @method postRender
       */
      postRender: function () {
        var self = this;

        self.aria('haspopup', true);

        self.on('click', function (e) {
          if (e.control === self) {
            if (self.panel && self.panel.visible()) {
              self.hidePanel();
            } else {
              self.showPanel();
              self.panel.focus(!!e.aria);
            }
          }
        });

        return self._super();
      },

      remove: function () {
        if (this.panel) {
          this.panel.remove();
          this.panel = null;
        }

        return this._super();
      }
    });
  }
);
/**
 * ColorButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class creates a color button control. This is a split button in which the main
 * button has a visual representation of the currently selected color. When clicked
 * the caret button displays a color picker, allowing the user to select a new color.
 *
 * @-x-less ColorButton.less
 * @class tinymce.ui.ColorButton
 * @extends tinymce.ui.PanelButton
 */
define(
  'tinymce.core.ui.ColorButton',
  [
    "tinymce.core.ui.PanelButton",
    "tinymce.core.dom.DOMUtils"
  ],
  function (PanelButton, DomUtils) {
    "use strict";

    var DOM = DomUtils.DOM;

    return PanelButton.extend({
      /**
       * Constructs a new ColorButton instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       */
      init: function (settings) {
        this._super(settings);
        this.classes.add('colorbutton');
      },

      /**
       * Getter/setter for the current color.
       *
       * @method color
       * @param {String} [color] Color to set.
       * @return {String|tinymce.ui.ColorButton} Current color or current instance.
       */
      color: function (color) {
        if (color) {
          this._color = color;
          this.getEl('preview').style.backgroundColor = color;
          return this;
        }

        return this._color;
      },

      /**
       * Resets the current color.
       *
       * @method resetColor
       * @return {tinymce.ui.ColorButton} Current instance.
       */
      resetColor: function () {
        this._color = null;
        this.getEl('preview').style.backgroundColor = null;
        return this;
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this, id = self._id, prefix = self.classPrefix, text = self.state.get('text');
        var icon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';
        var image = self.settings.image ? ' style="background-image: url(\'' + self.settings.image + '\')"' : '',
          textHtml = '';

        if (text) {
          self.classes.add('btn-has-text');
          textHtml = '<span class="' + prefix + 'txt">' + self.encode(text) + '</span>';
        }

        return (
          '<div id="' + id + '" class="' + self.classes + '" role="button" tabindex="-1" aria-haspopup="true">' +
          '<button role="presentation" hidefocus="1" type="button" tabindex="-1">' +
          (icon ? '<i class="' + icon + '"' + image + '></i>' : '') +
          '<span id="' + id + '-preview" class="' + prefix + 'preview"></span>' +
          textHtml +
          '</button>' +
          '<button type="button" class="' + prefix + 'open" hidefocus="1" tabindex="-1">' +
          ' <i class="' + prefix + 'caret"></i>' +
          '</button>' +
          '</div>'
        );
      },

      /**
       * Called after the control has been rendered.
       *
       * @method postRender
       */
      postRender: function () {
        var self = this, onClickHandler = self.settings.onclick;

        self.on('click', function (e) {
          if (e.aria && e.aria.key == 'down') {
            return;
          }

          if (e.control == self && !DOM.getParent(e.target, '.' + self.classPrefix + 'open')) {
            e.stopImmediatePropagation();
            onClickHandler.call(self, e);
          }
        });

        delete self.settings.onclick;

        return self._super();
      }
    });
  }
);

/**
 * ColorPicker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Color picker widget lets you select colors.
 *
 * @-x-less ColorPicker.less
 * @class tinymce.ui.ColorPicker
 * @extends tinymce.ui.Widget
 */
define(
  'tinymce.core.ui.ColorPicker',
  [
    "tinymce.core.ui.Widget",
    "tinymce.core.ui.DragHelper",
    "tinymce.core.ui.DomUtils",
    "tinymce.core.util.Color"
  ],
  function (Widget, DragHelper, DomUtils, Color) {
    "use strict";

    return Widget.extend({
      Defaults: {
        classes: "widget colorpicker"
      },

      /**
       * Constructs a new colorpicker instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       * @setting {String} color Initial color value.
       */
      init: function (settings) {
        this._super(settings);
      },

      postRender: function () {
        var self = this, color = self.color(), hsv, hueRootElm, huePointElm, svRootElm, svPointElm;

        hueRootElm = self.getEl('h');
        huePointElm = self.getEl('hp');
        svRootElm = self.getEl('sv');
        svPointElm = self.getEl('svp');

        function getPos(elm, event) {
          var pos = DomUtils.getPos(elm), x, y;

          x = event.pageX - pos.x;
          y = event.pageY - pos.y;

          x = Math.max(0, Math.min(x / elm.clientWidth, 1));
          y = Math.max(0, Math.min(y / elm.clientHeight, 1));

          return {
            x: x,
            y: y
          };
        }

        function updateColor(hsv, hueUpdate) {
          vuik_R8XM39O?|jQE^_$ݿz>S{㷻WGg-8e=}LMCmcw]pUz='덓.DGRI=o}zݓ7{}翷ݯ߬>{rW秷{[~~u5}._/Y]3_;}ZknߛK٭qi1cKc?c??[~?{Y^o~muw[a{__WOjw5Ч^]=Fu}{Oߠ|r}cׄ+KC~Qw!;pwT6Ww[w}}N<=kt`sZ67XZ_gQ=#tUv$3~/}{~]٤.|~L_.kf.[=qk?law?l7wC=}{wzZhǧ{>e~8tR=?z+=Ϯx~}z}5}3{o`/oOvg-wξϽ0W7}Xۨ7ݷu﷼;/=ͪug__W퍆-ߟ׿kr"n<~<o\m{tEY~w;c]fY<>*\yd~*TU<bQ֯
?pL
^_zߗm7g_,یmntZ޻Wzv[?ߋ/qmݝ^?}rLro?O?3u{6`Vukש+|w9v4~߱w\@ú)npD;`R~h	jb|X\}\~_÷ʞTx?<	M˿n+_*kuH
۷ӭS_{/H+w=gJ:}}.xsm~>wK8'V^6路s?w37/~#WF}[u6Uq[1s퐻5-Vws#o-g71ץaՂ.;wMy+?nbZ`z_?˧x7G^1]?7z&0+sw3t{݋`qM/7c~ךWڿh5O7{Lxx?]7n}oyΏ[o64un;rG緩k>>FmտyFtoM2to{yl״~Mx'g%hCV7ڍq8{9Ǧ4WstcwW?D{'V폣%7?-wiiCV!noYУ}p3gUzi:uwV/?Pa*T`{Ik6h:v6N[uw>~w=뒭
7۟eci_wWʯߚ>f?o{/&^}ŏoݔ~sɾ?+/߫[Yz>~Cw<]-~HwQ۶NQ߯{b7+D]O3nN{]~!xR_8P0htgs:s+=WNfWu;Vnk}g~s{۝Ow{\]^Oq<M{}?o}ڞ?-~8lnj~m:Oi{1՛RgsL뒾WZ߻z?󿞵}:}e6絠vv>];.ֿَwlo{M)e6d{9˜Jl}\wG]o)x#Nn9m}گo{eiwfwwk|9[/?m=6Og)~%g<ЂvE.b?-̤j]"tP
BƝgVG]#_A֎?UW2O'5:3֊&9}u{S?;틤~s|/ܟ~keg~4ppsr?']ﳞt[p_e_ڧ?uŔӏdǅ)uW{mo)i}}i8[]-dﳼߝП7tܛw=>߷K}}}؅ihOwz?*w2.4..󎅿56bB%v캟ۼ=o$7v/WUGMܗI{2nccno~:kH]3{f{c?'u}]_~qq?l}6._oMCvnFOZV5yu=rw^qc?ufϛ
RNr/nzWv=Ը:wu<ꓯ4O<1ͩo9K3|Oo~j߳5ïO|O\3sz|߾?vOsFZo}>ycc˻zAw^ff57Zq~~y۞#};~_zO/~BY¶WZ^{%ss:GT;|gog/MZ[MU}{]uV=&{uz{Mm7K};w;m~uo<mo<]{ϸ>trb캺Ͻ__3~`{}!9s7Mާύ;-=oMog~wwu'֧._0SϯO=}+):zC}?~J'GO{jk߻PG~BhSylofOwV55-qpD}[_cmdv{X"	?gr__[^bni7zm=(7-U_m+xuݙ>ڔns3[}V=1g]AF?Kuv~n_OVWTw}GRlo?}u?޿֯ނ_p{^6j||;sc82z<*>=˟7l\,sUGn3a&{=9ns}cense.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Creates a new path control.
 *
 * @-x-less Path.less
 * @class tinymce.ui.Path
 * @extends tinymce.ui.Widget
 */
define(
  'tinymce.core.ui.Path',
  [
    "tinymce.core.ui.Widget"
  ],
  function (Widget) {
    "use strict";

    return Widget.extend({
      /**
       * Constructs a instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       * @setting {String} delimiter Delimiter to display between row in path.
       */
      init: function (settings) {
        var self = this;

        if (!settings.delimiter) {
          settings.delimiter = '\u00BB';
        }

        self._super(settings);
        self.classes.add('path');
        self.canFocus = true;

        self.on('click', function (e) {
          var index, target = e.target;

          if ((index = target.getAttribute('data-index'))) {
            self.fire('select', { value: self.row()[index], index: index });
          }
        });

        self.row(self.settings.row);
      },

      /**
       * Focuses the current control.
       *
       * @method focus
       * @return {tinymce.ui.Control} Current control instance.
       */
      focus: function () {
        var self = this;

        self.getEl().firstChild.focus();

        return self;
      },

      /**
       * Sets/gets the data to be used for the path.
       *
       * @method row
       * @param {Array} row Array with row name is rendered to path.
       */
      row: function (row) {
        if (!arguments.length) {
          return this.state.get('row');
        }

        this.state.set('row', row);

        return this;
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this;

        return (
          '<div id="' + self._id + '" class="' + self.classes + '">' +
          self._getDataPathHtml(self.state.get('row')) +
          '</div>'
        );
      },

      bindStates: function () {
        var self = this;

        self.state.on('change:row', function (e) {
          self.innerHtml(self._getDataPathHtml(e.value));
        });

        return self._super();
      },

      _getDataPathHtml: function (data) {
        var self = this, parts = data || [], i, l, html = '', prefix = self.classPrefix;

        for (i = 0, l = parts.length; i < l; i++) {
          html += (
            (i > 0 ? '<div class="' + prefix + 'divider" aria-hidden="true"> ' + self.settings.delimiter + ' </div>' : '') +
            '<div role="button" class="' + prefix + 'path-item' + (i == l - 1 ? ' ' + prefix + 'last' : '') + '" data-index="' +
            i + '" tabindex="-1" id="' + self._id + '-' + i + '" aria-level="' + (i + 1) + '">' + parts[i].name + '</div>'
          );
        }

        if (!html) {
          html = '<div class="' + prefix + 'path-item">\u00a0</div>';
        }

        return html;
      }
    });
  }
);

/**
 * ElementPath.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This control creates an path for the current selections parent elements in TinyMCE.
 *
 * @class tinymce.ui.ElementPath
 * @extends tinymce.ui.Path
 */
define(
  'tinymce.core.ui.ElementPath',
  [
    "tinymce.core.ui.Path"
  ],
  function (Path) {
    return Path.extend({
      /**
       * Post render method. Called after the control has been rendered to the target.
       *
       * @method postRender
       * @return {tinymce.ui.ElementPath} Current combobox instance.
       */
      postRender: function () {
        var self = this, editor = self.settings.editor;

        function isHidden(elm) {
          if (elm.nodeType === mY.t7E#q.U :ܴB8@BvH&@-1}b\'1"{!CZ\QQ-tZX <@5@U	R#)J vd|DbX-!1 ^B 	M(0\	mN+)|O`LC	`P@  8$@H CK,8'j12 "
aH L  6(NA5,"b @4@h6āi
hIP>	x!0+Ijf!QG ) $ԄF-@t@(2P 
P X %!()! 
2Z(5RN  $tY. ,eYZD)`dmdԑbvP+ @۞"H´PՁb,޽	 %"v>`A|p DN@@sٔB%#VLQ
KT ",DX% r#B$@
G @쎂tLQXQ@Qq@2)A 0` 0P D0Tƕ!H&QJ $1QC f	`EA)ǉ0@@4.03TtA 9(8 L *)8	11hMJ705,``0J1OR~@&&:
>R1,4Ȝ'?Ǡ*w%M<4
w$a-Dh?ï0#Ű0$mNpݔ } XL:N9`T#hh8B Չ YFUH셹
Fp99  0D@X`^A @ p Cr@!DP$0@B`s$P@@!,RYa$ 4S(!X)	Y*!8FSq,Í,0 MZJ 1BU&!.\93b		7  q@ |BpT	D0@* 	-6@%أ)@ 
, _1cQсJ	  .b"AUCh($xl	B T!*tpB*XL0Xpn4QfP	; pԱ  H 
	 D G(8j Ch: b )^AEAD)\h؁BHR!3@ 9vQH<YB$FRօ B*KN
%faf`G*0Ov䦡_gzl(@`lw&Ȳ@D@SRf bpǐ(H4¡lrABN$ VoARPd	 A$ vEJ"eqQ!@C  8  ib % J| "tY315`Q,f B   
D0alKIM H!F 9MNYx*Q <QV$^@+RVJ"aDOep([ N.qdT+ |C'S'" Po b#Fǌ |It"
GX"WpGBqvDϙ#؆U&thń,<!c PjT< bE~a Obk$7_@!X&O$`D)#@\*p$ Qᐄg [AIeK4 0]"(C`" 7 h0@-Z $  @ .B@@BLS+  ēQH  DAТCP@ RJ(% `D$ֹ^B"^ʄG1y6Cma %I32b&ZX`)"  =cRA!0"$!PUZAHa @p"0%b!D9ƞJbEC
`RF&< A&p#B*Ѐ10 7-Ԁ	͠!`1M2$$	 	!o F$IJ'@2Z@+GDT:Isձ
0ıF 1" H0b  n	1'FYF`$9ēHDF eYE, 1 uPZH!6h  &@)0 YEh* 0
0#($9IcGP{AE1
BA25@h"d-Gl
S40ّ0*D$ိvh!q"> E
M%!<RD@IP "x
҆P10 N@$)R@ ^= D 	8	+  AA*a\TDdb(&H` .B (@ppȐB^aB U,`T	&@ D$N
@Q.GHChFg$,4KP`8
@&2#Z JkGnB
nz: I0"08:\`ѾW9݋LaETPㅰU`0ޭJ(-NFPH+"+\3":ZDg DF$. 'PT}`.݄:[FML)hP'6Z5lQFbIeEC`,E R@Q$A	 dRm[9xH`L
p!d(̘%" !o3Cd Hk aEڒadS
B3(A&!(&'$) Jlbʢ
H08$c6"Jq`|iK!D$ hqMJoJ D(ZxLS(~b	B	SFΌ#W0oVe@t ~xC FDA"+dX&*pJJi$ axJ,P t
 FJx@ `iaȤ jАHI0%hE!}.$" B
*ð)8,) FH r@ ##B	K18pF$(9AX!"	C 8ȇ3((٭"@L 8
#2 dD
.4 g,4Qv@``  @z ,5M"IS ((Ak)0^$
2!1=_8/\6dEce{"\aۅEB@_Fē4	" :jRB& dr:" $aA#E:%@ F`%$[Pt bA.`e0	 Mh  3!)R *P đ0Q 1R$H
X  @Nta !& @%tPTX.&ThڌRXLNSWq@iE	\c(- {. 2	;J$ dbd&  R,RN,: MRl *c  	xtDPа1<eA18MF@X\" gs:@ kKXf2'OfIx !&5y HlTrx$hwU`vqbf5	r2ͭiHD&͠elaƊRJ>D3  K*#p55
0&.FC$H)xrOpb0WP- 0!4&ĀA2/8"Nj|	%  ^"h) (
E&v] 2 gets invoked before the control is rendered.
       *
       * @method preRender
       */
      preRender: function () {
        var self = this, items = self.items();

        if (!self.settings.formItemDefaults) {
          self.settings.formItemDefaults = {
            layout: 'flex',
            autoResize: "overflow",
            defaults: { flex: 1 }
          };
        }

        // Wrap any labeled items in FormItems
        items.each(function (ctrl) {
          var formItem, label = ctrl.settings.label;

          if (label) {
            formItem = new FormItem(Tools.extend({
              items: {
                type: 'label',
                id: ctrl._id + '-l',
                text: label,
                flex: 0,
                forId: ctrl._id,
                disabled: ctrl.disabled()
              }
            }, self.settings.formItemDefaults));

            formItem.type = 'formitem';
            ctrl.aria('labelledby', ctrl._id + '-l');

            if (typeof ctrl.settings.flex == "undefined") {
              ctrl.settings.flex = 1;
            }

            self.replace(ctrl, formItem);
            formItem.add(ctrl);
          }
        });
      },

      /**
       * Fires a submit event with the serialized form.
       *
       * @method submit
       * @return {Object} Event arguments object.
       */
      submit: function () {
        return this.fire('submit', { data: this.toJSON() });
      },

      /**
       * Post render method. Called after the control has been rendered to the target.
       *
       * @method postRender
       * @return {tinymce.ui.ComboBox} Current combobox instance.
       */
      postRender: function () {
        var self = this;

        self._super();
        self.fromJSON(self.settings.data);
      },

      bindStates: function () {
        var self = this;

        self._super();

        function recalcLabels() {
          var maxLabelWidth = 0, labels = [], i, labelGap, items;

          if (self.settings.labelGapCalc === false) {
            return;
          }

          if (self.settings.labelGapCalc == "children") {
            items = self.find('formitem');
          } else {
            items = self.items();
          }

          items.filter('formitem').each(function (item) {
            var labelCtrl = item.items()[0], labelWidth = labelCtrl.getEl().clientWidth;

            maxLabelWidth = labelWidth > maxLabelWidth ? labelWidth : maxLabelWidth;
            labels.push(labelCtrl);
          });

          labelGap = self.settings.labelGap || 0;

          i = labels.length;
          while (i--) {
            labels[i].settings.minWidth = maxLabelWidth + labelGap;
          }
        }

        self.on('show', recalcLabels);
        recalcLabels();
      }
    });
  }
);
/**
 * FieldSet.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class creates fieldset containers.
 *
 * @-x-less FieldSet.less
 * @class tinymce.ui.FieldSet
 * @extends tinymce.ui.Form
 */
define(
  'tinymce.core.ui.FieldSet',
  [
    "tinymce.core.ui.Form"
  ],
  function (Form) {
    "use strict";

    return Form.extend({
      Defaults: {
        containerCls: 'fieldset',
        layout: 'flex',
        direction: 'column',
        align: 'stretch',
        flex: 1,
        padding: "25 15 5 15",
        labelGap: 30,
        spacing: 10,
        border: 1
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this, layout = self._layout, prefix = self.classPrefix;

        self.preRender();
        layout.preRender(self);

        return (
          '<fieldset id="' + self._id + '" class="' + self.classes + '" hidefocus="1" tabindex="-1">' +
          (self.settings.title ? ('<legend id="' + self._id + '-title" class="' + prefix + 'fieldset-title">' +
            self.settings.title + '</legend>') : '') +
          '<div id="' + self._id + '-body" class="' + self.bodyClasses + '">' +
          (self.settings.html || '') + layout.renderHtml(self) +
          '</div>' +
          '</fieldset>'
        );
      }
    });
  }
);
/**
 * LinkTargets.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This module is enables you to get anything that you can link to in a element.
 *
 * @private
 * @class tinymce.content.LinkTargets
 */
define(
  'tinymce.core.content.LinkTargets',
  [
    'tinymce.core.dom.DOMUtils',
    'tinymce.core.dom.NodeType',
    'tinymce.core.util.Arr',
    'tinymce.core.util.Fun',
    'tinymce.core.util.Tools',
    'tinymce.core.util.Uuid'
  ],
  function (DOMUtils, NodeType, Arr, Fun, Tools, Uuid) {
    var trim = Tools.trim;

    var create = function (type, title, url, level, attach) {
      return {
        type: type,
        title: title,
        url: url,
        level: level,
        attach: attach
      };
    };

    var isChildOfContentEditableTrue = function (node) {
      while ((node = node.parentNode)) {
        var value = node.contentEditable;
        if (value && value !== 'inherit') {
          return NodeType.isContentEditableTrue(node);
        }
      }

      return false;
    };

    var select = function (selector, root) {
      return DOMUtils.DOM.select(selector, root);
    };

    var getElementText = function (elm) {
      return elm.innerText || elm.textContent;
    };

    var getOrGenerateId = function (elm) {
      return elm.id ? elm.id : Uuid.uuid('h');
    };

    var isAnchor = function (elm) {
      return elm && elm.nodeName === 'A' && (elm.id || elm.name);
    };

    var isValidAnchor = function (elm) {
      return isAnchor(elm) && isEditable(elm);
    };

    var isHeader = function (elm) {
      return elm && /^(H[1-6])$/.test(elm.nodeName);
    };

    var isEditable = function (elm) {
      return isChildOfContentEditableTrue(elm) && !NodeType.isContentEditableFalse(elm);
    };

    var isValidHeader = function (elm) {
      return isHeader(elm) && isEditable(elm);
    };

    var getLevel = function (elm) {
      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;
    };

    var headerTarget = function (elm) {
      var headerId = getOrGenerateId(elm);

      var attach = function () {
        elm.id = headerId;
      };

      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);
    };

    var anchorTarget = function (elm) {
      var anchorId = elm.id || elm.name;
      var anchorText = getElementText(elm);

      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, Fun.noop);
    };

    var getHeaderTargets = function (elms) {
      return Arr.map(Arr.filter(elms, isValidHeader), headerTarget);
    };

    var getAnchorTargets = function (elms) {
      return Arr.map(Arr.filter(elms, isValidAnchor), anchorTarget);
    };

    var getTargetElements = function (elm) {
      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);
      return elms;
    };

    var hasTitle = function (target) {
      return trim(target.title).length > 0;
    };

    var find = function (elm) {
      var elms = getTargetElements(elm);
      return Arr.filter(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);
    };

    return {
      find: find
    };
  }
);

/**
 * FilePicker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class creates a file picker control.
 *
 * @class tinymce.ui.FilePicker
 * @extends tinymce.ui.ComboBox
 */
define(
  'tinymce.core.ui.FilePicker',
  [
    'global!window',
    'tinymce.core.content.LinkTargets',
    'tinymce.core.EditorManager',
    'tinymce.core.ui.ComboBox',
    'tinymce.core.util.Arr',
    'tinymce.core.util.Fun',
    'tinymce.core.util.Tools'
  ],
  function (window, LinkTargets, EditorManager, ComboBox, Arr, Fun, Tools) {
    "use strict";

    var getActiveEditor = function () {
      return window.tinymce ? window.tinymce.activeEditor : EditorManager.activeEditor;
    };

    var history = {};
    var HISTORY_LENGTH = 5;

    var toMenuItem = function (target) {
      return {
        title: target.title,
        value: {
          title: { raw: target.title },
          url: target.url,
          attach: target.attach
        }
      };
    };

    var toMenuItems = function (targets) {
      return Tools.map(targets, toMenuItem);
    };

    var staticMenuItem = function (title, url) {
      return {
        title: title,
        value: {
          title: title,
          url: url,
          attach: Fun.noop
        }
      };
    };

    var isUniqueUrl = function (url, targets) {
      var foundTarget = Arr.find(targets, function (target) {
        return target.url === url;
      });

      return !foundTarget;
    };

    var getSetting = function (editorSettings, name, defaultValue) {
      var value = name in editorSettings ? editorSettings[name] : defaultValue;
      return value === false ? null : value;
    };

    var createMenuItems = function (term, targets, fileType, editorSettings) {
      var separator = { title: '-' };

      var fromHistoryMenuItems = function (history) {
        var uniqueHistory = Arr.filter(history[fileType], function (url) {
          return isUniqueUrl(url, targets);
        });

        return Tools.map(uniqueHistory, function (url) {
          return {
            title: url,
            value: {
              title: url,
              url: url,
              attach: Fun.noop
            }
          };
        });
      };

      var fromMenuItems = function (type) {
        var filteredTargets = Arr.filter(targets, function (target) {
          return target.type == type;
        });

        return toMenuItems(filteredTargets);
      };

      var anchorMenuItems = function () {
        var anchorMenuItems = fromMenuItems('anchor');
        var topAnchor = getSetting(editorSettings, 'anchor_top', '#top');
        var bottomAchor = getSetting(editorSettings, 'anchor_bottom', '#bottom');

        if (topAnchor !== null) {
          anchorMenuItems.unshift(staticMenuItem('<top>', topAnchor));
        }

        if (bottomAchor !== null) {
          anchorMenuItems.push(staticMenuItem('<bottom>', bottomAchor));
        }

        return anchorMenuItems;
      };

      var join = function (items) {
        return Arr.reduce(items, function (a, b) {
          var bothEmpty = a.length === 0 || b.length === 0;
          return bothEmpty ? a.concat(b) : a.concat(separator, b);
        }, []);
      };

      if (editorSettings.typeahead_urls === false) {
        return [];
      }

      return fileType === 'file' ? join([
        filterByQuery(term, fromHistoryMenuItems(history)),
        filterByQuery(term, fromMenuItems('header')),
        filterByQuery(term, anchorMenuItems())
      ]) : filterByQuery(term, fromHistoryMenuItems(history));
    };

    var addToHistory = function (url, fileType) {
      var items = history[fileType];

      if (!/^https?/.test(url)) {
        return;
      }

      if (items) {
        if (Arr.indexOf(items, url) === -1) {
          history[fileType] = items.slice(0, HISTORY_LENGTH).concat(url);
        }
      } else {
        history[fileType] = [url];
      }
    };

    var filterByQuery = function (term, menuItems) {
      var lowerCaseTerm = term.toLowerCase();
      var result = Tools.grep(menuItems, function (item) {
        return item.title.toLowerCase().indexOf(lowerCaseTerm) !== -1;
      });

      return result.length === 1 && result[0].title === term ? [] : result;
    };

    var getTitle = function (linkDetails) {
      var title = linkDetails.title;
      return title.raw ? title.raw : title;
    };

    var setupAutoCompleteHandler = function (ctrl, editorSettings, bodyElm, fileTyؗ+v_ZW7쵼/Ϸ߯׿k4W?UƗO~~#rN<9շ}o߯bx"޽[$)1!eAbZVdhZ!ƪtNl
*\gA2O	 	d&@ !.!+VQHyB$aT@5" 68-AJDP*Qi	ǪZ%4QWr L5  3V A DR}0AO(D! 	ȁ,NHmS$S8' Ī*	14$! rEd` U ڂ(Y!N 4 (KCd H Mq@ CtGd"_Əp_k_Z?o#WoY{ﵪ{ɪ%쿖O]^o⶛ov_p=Os?{U~~Vu{w~Ϲ0PTΐ3q:O``¶bQ7fB*D +l" 0B$Є%b
 )&0; @!b)uR8v}>][|߽۫O
wUy&nYￇ~M寵cYc+/W~{ՒmzOzٶݷwy}:^>u*k,|g罳>'z~rT=r_~_$cn[?w vu@5`F
9@KB(TAC@,`w `bKD1G(Lrఅ S s$0YS k T qBebBB` cT*+		Z Q*#szͿ1W}ٝ{~m}._wnrw34[/xuk>ynM.>v|_?s*Z\YX7Zs_v}5	gH;`#1 He 9	004Q'&( jm$,X7ShT`9٢p9 "`5ySg, g@
)ER   @@!9Pi 	F  '0l4"a$nC
	È!M:[YG +!

'&pI(0hut0"
pC	ĦT-	V_#,xeϑ{?wýv9N'9VGm2;{Y3MMGظSWy~?Kv'Y=koy;nP2ҒȂMMBhY&9 TȠLp 9{x`$DBH0(SE $a 5G)U( C6`  &C20 4L8:k;^7o;uݓ,ol_.7eߜr3$_yۿgi/]{w4{oUݮR{zDuR}^|:!Ym;^wů{bo~fnާK%9ouڳ/]_ٱ/1gϹ<gcwŏAfΘ$j!XT&b"iYR$a"eGF	 3P&>G)!ueCJ61G `-F+c  QCPۄ:~bV"qZGaL8f #~ѩ?-e^m^2ޯ߿~ލCxVs˼/_}|UGn[=uuC>$C
J2p@"즇%F6q$p2Gƨ`p,K	`"!x|)S&C(U @"Ln + b7A!bUHL/0;HqI: )iS0#, X H, Q!Z @ $J`Ia, UL+f.e",x6X!v.D@ )plIpd )$Y\'<g\^#6>{d~y~:>?T;/g:ݝo>>wV9%}aw{/^NKw$y%cAC-fQ/ (Q@# h! UCP
\N96(
 )04 S@6D%2v'F+$uA%dqE
BSZgwNQQ9Q6fh꿻|溜>o'#FV#߈8n~ן\'7x>AMu{~~wO/zM*_|{6W&oa{ͫ{)g[ߩ{;n_wF_:~=[Ug4}7_\4?+}  d  :& HQD7,&n I
 2J	t:DH	cdd @x0  $AP  ĀGD 谼04*d6@H's,9
s9Z_^f'۶k?yj[}nV5`χݟnv~:k߃z8%BI_WmjސC(MtF(P(&  8.A@@
 y\0F$fXA "5bI(b&8%,! Dh @J@,"	V.@ РHȢP4Q`9"(A|,DI
mR
D, dSTX*2@1
h[E	V3,!q8;*3Lp 0 B 0b	@.`QXA>6kGoswc^ްo{{^uouG{>ni]qx7/,e}2O:hQp϶ @b8F(
  XkE (ĀLE<o>&0H]!5 Fe!ĐJ @tz "  dq	Vaq  Qtbo{T.w3޻~Kk<o_Ǯwjۛ־Y5cgvӔkyrq??<{T__߲ֿ=yoۋoK7Gxw;^zaޙo߯}~^{ϬZy}:~Wkϭh>l﫿ߘzI >aAm  $#b`,D (pȀ H PPȜAB3gADP4| RJd`F<+Ă$i  t(HB AAD!A)dE4ȥXxP(s || fileBrowserCallbackTypes[fileType])) {
              actionCallback = function () {
                fileBrowserCallback(
                  self.getEl('inp').id,
                  self.value(),
                  fileType,
                  window
                );
              };
            }
          }
        }

        if (actionCallback) {
          settings.icon = 'browse';
          settings.onaction = actionCallback;
        }

        self._super(settings);

        setupAutoCompleteHandler(self, editorSettings, editor.getBody(), fileType);
        setupLinkValidatorHandler(self, editorSettings, fileType);
      }
    });
  }
);
/**
 * FitLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This layout manager will resize the control to be the size of it's parent container.
 * In other words width: 100% and height: 100%.
 *
 * @-x-less FitLayout.less
 * @class tinymce.ui.FitLayout
 * @extends tinymce.ui.AbsoluteLayout
 */
define(
  'tinymce.core.ui.FitLayout',
  [
    "tinymce.core.ui.AbsoluteLayout"
  ],
  function (AbsoluteLayout) {
    "use strict";

    return AbsoluteLayout.extend({
      /**
       * Recalculates the positions of the controls in the specified container.
       *
       * @method recalc
       * @param {tinymce.ui.Container} container Container instance to recalc.
       */
      recalc: function (container) {
        var contLayoutRect = container.layoutRect(), paddingBox = container.paddingBox;

        container.items().filter(':visible').each(function (ctrl) {
          ctrl.layoutRect({
            x: paddingBox.left,
            y: paddingBox.top,
            w: contLayoutRect.innerW - paddingBox.right - paddingBox.left,
            h: contLayoutRect.innerH - paddingBox.top - paddingBox.bottom
          });

          if (ctrl.recalc) {
            ctrl.recalc();
          }
        });
      }
    });
  }
);
/**
 * FlexLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This layout manager works similar to the CSS flex box.
 *
 * @setting {String} direction row|row-reverse|column|column-reverse
 * @setting {Number} flex A positive-number to flex by.
 * @setting {String} align start|end|center|stretch
 * @setting {String} pack start|end|justify
 *
 * @class tinymce.ui.FlexLayout
 * @extends tinymce.ui.AbsoluteLayout
 */
define(
  'tinymce.core.ui.FlexLayout',
  [
    "tinymce.core.ui.AbsoluteLayout"
  ],
  function (AbsoluteLayout) {
    "use strict";

    return AbsoluteLayout.extend({
      /**
       * Recalculates the positions of the controls in the specified container.
       *
       * @method recalc
       * @param {tinymce.ui.Container} container Container instance to recalc.
       */
      recalc: function (container) {
        // A ton of variables, needs to be in the same scope for performance
        var i, l, items, contLayoutRect, contPaddingBox, contSettings, align, pack, spacing, totalFlex, availableSpace, direction;
        var ctrl, ctrlLayoutRect, ctrlSettings, flex, maxSizeItems = [], size, maxSize, ratio, rect, pos, maxAlignEndPos;
        var sizeName, minSizeName, posName, maxSizeName, beforeName, innerSizeName, deltaSizeName, contentSizeName;
        var alignAxisName, alignInnerSizeName, alignSizeName, alignMinSizeName, alignBeforeName, alignAfterName;
        var alignDeltaSizeName, alignContentSizeName;
        var max = Math.max, min = Math.min;

        // Get container items, properties and settings
        items = container.items().filter(':visible');
        contLayoutRect = container.layoutRect();
        contPaddingBox = container.paddingBox;
        contSettings = container.settings;
        direction = container.isRtl() ? (contSettings.direction || 'row-reversed') : contSettings.direction;
        align = contSettings.align;
        pack = container.isRtl() ? (contSettings.pack || 'end') : contSettings.pack;
        spacing = contSettings.spacing || 0;

        if (direction == "row-reversed" || direction == "column-reverse") {
          items = items.set(items.toArray().reverse());
          direction = direction.split('-')[0];
        }

        // Setup axis variable name for row/column direction since the calculations is the same
        if (direction == "column") {
          posName = "y";
          sizeName = "h";
          minSizeName = "minH";
          maxSizeName = "maxH";
          innerSizeName = "innerH";
          beforeName = 'top';
          deltaSizeName = "deltaH";
          contentSizeName = "contentH";

          alignBeforeName = "left";
          alignSizeName = "w";
          alignAxisName = "x";
          alignInnerSizeName = "innerW";
          alignMinSizeName = "minW";
          alignAfterName = "right";
          alignDeltaSizeName = "deltaW";
          alignContentSizeName = "contentW";
        } else {
          posName = "x";
          sizeName = "w";
          minSizeName = "minW";
          maxSizeName = "maxW";
          innerSizeName = "innerW";
          beforeName = 'left';
          deltaSizeName = "deltaW";
          contentSizeName = "contentW";

          alignBeforeName = "top";
          alignSizeName = "h";
          alignAxisName = "y";
          alignInnerSizeName = "innerH";
          alignMinSizeName = "minH";
          alignAfterName = "bottom";
          alignDeltaSizeName = "deltaH";
          alignContentSizeName = "contentH";
        }

        // Figure out total flex, availableSpace and collect any max size elements
        availableSpace = contLayoutRect[innerSizeName] - contPaddingBox[beforeName] - contPaddingBox[beforeName];
        maxAlignEndPos = totalFlex = 0;
        for (i = 0, l = items.length; i < l; i++) {
          ctrl = items[i];
          ctrlLayoutRect = ctrl.layoutRect();
          ctrlSettings = ctrl.settings;
          flex = ctrlSettings.flex;
          availableSpace -= (i < l - 1 ? spacing : 0);

          if (flex > 0) {
            totalFlex += flex;

            // Flexed item has a max size then we need to check if we will hit that size
            if (ctrlLayoutRect[maxSizeName]) {
              maxSizeItems.push(ctrl);
            }

            ctrlLayoutRect.flex = flex;
          }

          availableSpace -= ctrlLayoutRect[minSizeName];

          // Calculate the align end position to be used to check for overflow/underflow
          size = contPaddingBox[alignBeforeName] + ctrlLayoutRect[alignMinSizeName] + contPaddingBox[alignAfterName];
          if (size > maxAlignEndPos) {
            maxAlignEndPos = size;
          }
        }

        // Calculate minW/minH
        rect = {};
        if (availableSpace < 0) {
          rect[minSizeName] = contLayoutRect[minSizeName] - availableSpace + contLayoutRect[deltaSizeName];
        } else {
          rect[minSizeName] = contLayoutRect[innerSizeName] - availableSpace + contLayoutRect[deltaSizeName];
        }

        rect[alignMinSizeName] = maxAlignEndPos + contLayoutRect[alignDeltaSizeName];

        rect[contentSizeName] = contLayoutRect[innerSizeName] - availableSpace;
        rect[alignContentSizeName] = maxAlignEndPos;
        rect.minW = min(rect.minW, contLayoutRect.maxW);
        rect.minH = min(rect.minH, contLayoutRect.maxH);
        rect.minW = max(rect.minW, contLayoutRect.startMinWidth);
        rect.minH = max(rect.minH, contLayoutRect.startMinHeight);

        // Resize container container if minSize was changed
        if (contLayoutRect.autoResize && (rect.minW != contLayoutRect.minW || rect.minH != contLayoutRect.minH)) {
          rect.w = rect.minW;
          rect.h = rect.minH;

          container.layoutRect(rect);
          this.recalc(container);

          // Forced recalc for example if items are hidden/shown
          if (container._lastRect === null) {
            var parentCtrl = container.parent();
            if (parentCtrl) {
              parentCtrl._lastRect = null;
              parentCtrl.recalc();
            }
          }

          return;
        }

        // Handle max size elements, check if they will become to wide with current options
        ratio = availableSpace / totalFlex;
        for (i = 0, l = maxSizeItems.length; i < l; i++) {
          ctrl = maxSizeItems[i];
          ctrlLayoutRect = ctrl.layoutRect();
          maxSize = ctrlLayoutRect[maxSizeName];
          size = ctrlLayoutRect[minSizeName] + ctrlLayoutRect.flex * ratio;

          if (size > maxSize) {
            availableSpace -= (ctrlLayoutRect[maxSizeName] - ctrlLayoutRect[minSizeName]);
            totalFlex -= ctrlLayoutRect.flex;
            ctrlLayoutRect.flex = 0;
            ctrlLayoutRect.maxFlexSize = maxSize;
          } else {
            ctrlLayoutRect.maxFlexSize = 0;
          }
        }

        // Setup new ratio, target layout rect, start position
        ratio = availableSpace / totalFlex;
        pos = contPaddingBox[beforeName];
        rect = {};

        // Handle pack setting moves the start position to end, center
        if (totalFlex === 0) {
          if (pack == "end") {
            pos = availableSpace + contPaddingBox[beforeName];
          } else if (pack == "center") {
            pos = Math.round(
              (contLayoutRect[innerSizeName] / 2) - ((contLayoutRect[innerSizeName] - availableSpace) / 2)
            ) + contPaddingBox[beforeName];

            if (pos < 0) {
              pos = contPaddingBox[beforeName];
            }
          } else if (pack == "justify") {
            pos = contPaddingBox[beforeName];
            spacing = Math.floor(availableSpace / (items.length - 1));
          }
        }

        // Default aligning (start) the other ones needs to be calculated while doing the layout
        rect[alignAxisName] = contPaddingBox[alignBeforeName];

        // Start laying out controls
        for (i = 0, l = items.length; i < l; i++) {
          ctrl = items[i];
          ctrlLayoutRect = ctrl.layoutRect();
          size = ctrlLayoutRect.maxFlexSize || ctrlLayoutRect[minSizeName];

          // Align the control on the other axis
          if (align === "center") {
            rect[alignAxisName] = Math.round((contLayoutRect[alignInnerSizeName] / 2) - (ctrlLayoutRect[alignSizeName] / 2));
          } else if (align === "stretch") {
            rect[alignSizeName] = max(
              ctrlLayoutRect[alignMinSizeName] || 0,
              contLayoutRect[alignInnerSizeName] - contPaddingBox[alignBeforeName] - contPaddingBox[alignAfterName]
            );
            rect[alignAxisName] = contPaddingBox[alignBeforeName];
          } else if (align === "end") {
            rect[alignAxisName] = contLayoutRect[alignInnerSizeName] - ctrlLayoutRect[alignSizeName] - contPaddingBox.top;
          }

          // Calculate new size based on flex
          if (ctrlLayoutRect.flex > 0) {
            size += ctrlLayoutRect.flex * ratio;
          }

          rect[sizeName] = size;
          rect[posName] = pos;
          ctrl.layoutRect(rect);

          // Recalculate containers
          if (ctrl.recalc) {
            ctrl.recalc();
          }

          // Move x/y position
          pos += size + spacing;
        }
      }
    });
  }
);
/**
 * FlowLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This layout manager will place the controls by using the browsers native layout.
 *
 * @-x-less FlowLayout.less
 * @class tinymce.ui.FlowLayout
 * @extends tinymce.ui.Layout
 */
define(
  'tinymce.core.ui.FlowLayout',
  [
    "tinymce.core.ui.Layout"
  ],
  function (Layout) {
    return Layout.extend({
      Defaults: {
        containerClass: 'flow-layout',
        controlClass: 'flow-layout-item',
        endClass: 'break'
      },

      /**
       * Recalculates the positions of the controls in the specified container.
       *
       * @method recalc
       * @param {tinymce.ui.Container} contLF1t* -PP	P7`3f.SpBPQzfL(NnW7
HI i`I @PpQ 6f RCeG@dh!0D
fm+P
t	;6b@a RhN H" `E&p!ĀKC	 b&JEHE[!`]@PfA cAP|O@x cP@@ &$TlX!TP[V7$`PCG:EH@F B2  QV p$QI/&DI$Xc B
 b&T@"bJ$B		H(&P  %lXB @4
PAP7X͇],P*	Td0 ¡Y̐r
#	]*%F x! DP
T%HD`BA j  %Q@@(-8evH0M 	$̘F

m E D4Nu 0PY@8 E0 |@   &Q Y@0EMc.ppA*`  (`"GPNEaQDP
+^Np@0I@
!CütTD0PwPN&}*MTVƐ@aoM(ױ@$[^H3Ǔ D+b '	V ).ԒR2|Ĝ6ZeIb
b^apI+@+* 1W0PB,Chih$)WH`h%&1\	`hD	!3R Dx jF@B2V89D,  qBB\&S  
$`L@!HX H`" !Jy zK"88r B  
G!KI&AHPrLAH(0u"ϏfbL@" GPp8FPj4 
@R&k@B  QdXAA#(`BPt.ƃQ"sQ,Z!F$`  N@Df8N*%$ TE -X<@R\W@K1,Dt쀐"I4	  R8)@US PLh  ́8@GD`MIH P)@a	DJ  ӰLY  @	IbUEI@Èp4L0EH!CPA`1Kp, " $@ D,K~" g@@ 5E	
1PX$p5O$R!	 E0nHC"eH	8`@<1?}yIi'K^(Zxa aXAkV=p[q&!24,Pp J%  g,4#-\H CbLhHpA,JB2X $ B(B6 UDL `D	8@&  a%@ 
@hp .V@

M. % 'd0!&\"%$, P H*S` :+#$Qx6)AI`\0f{%!"$R-=ĸC$h0?ALA  XK*EIWi"F>DP"A	i 	B8R5@/	fE8. 
X8nm b C a^C20ÀC1ZXAxA)a EC1wXB BI؎ljX - 
j
0 XPujHy"5!Z/6( iS\i(Ы  ! @ 0+pHdF,dG)	``@JA1T$
Vp` !bMf@2!a`hqŀ*`Z{J(!\0@*0 BB%dDc
J"$3$2,2F mܐXdhR@(B+RP  	3<0HP~@XT1K, +pPXjFpLDU@ *T M0H@g &#F`;Q8ft P r#"aiBj"t8#.`d@d0P f!& H)C	@Ȁט e\R 2Bf ( a"`	00hdܸ& }a[jPC	T,`cO2ܑ
`D! 2$`  a`tLE
XIxAз
T-m D^dOFzyA\ץa a2ӐI$Ma# $Hh F@A1ʦ3#,&0E P%څ C(bE\0 `@!	@$CuX biB@,9HHHhBhY6GA%R"#aH	#kb܄XH~ F|֔",[Az H b %6A(N= A͙ҔM1L54 X a%.0A$2 6@ `7R@0RH=0	#@4>p J  "(} LkxTB&D8
&tRi%@jW2S cA؟@06M9
j 3($`@@$e+  B)B(4! "]@T6˦&URydp 42		@@RD! r`@100D)@ D X%tdE	  B
A@ 
@Yvl&06#_K*>bC"Nр=0 E0WavD[5(iT	Ia{ HG0hxOep$p9-;1RX-P"O@WrM (H`҈!MB ̓	r]$0!([BLd"!Rc B `xdƈCF Uq$D  byRT0!&%h 	!&9'ACd(elh(@Bh/ S4r$A CA $]D`N(mL͉J@56M!a$P	M${$PJ"  L7RY`X0T"AB@UBFA b iX,6
 - 2F@@BR@PS<0-0H@* pTA2Afih 
#`G
ؚ]4I$IA$M1P$@薘1D`(C(2` F$b1h  `$"@ Y~&DLDS	naUE.+% 	@D 
@ HPkJ(!؊t 9%0$
p!(-PN<4a|`G @"Y `N BfHa 7Έ>+ `ۂ1zorvkV"D3J@`@֐B)G8%HqұaB  60u@#C'E`5)H/U6! V@H=\I@18$#*@U@؁B0@cXz<_lк	UFHp"p+m 	A<وj@ֈn!`0+@*T 4ň 
F	A
@ZEM 6@ԀprG(T)@i@@(!b ⹮A!+DLG(M&C4A$+2I1P~@) 	(*`L  ! %"$QB( AS ;1(JfbLYf&K  79G& !R) 5 @*ݰpKhAm`0J?/Ɛd*ĴҠMʚ)` |
i :ėY@@%S Qj?%TUE@pҁsjL)z5`jD$p]}qSJRAAFH I2 vCá= IP1u*(ZBiAu)B8@i\Hh$   A&	h*bH%H	`* X  @<-<

0 # 18 cڐ-

B[`	40YD T*U*1IU43
'NF@l82-(48Ppʮ,]0J!L  %H  TȉcPԲ!=´Jbkbv j*<sp0pO=LйQ%  FHh	  R5 a 
 
!@X
  
EЫ("1S.FLh  D
(  0g&7r$8S"( GRBRj:2;Y(   LCD*HBA 9d`R,()ApBFpu: I IDyD@! eXDd0ԂI4A[tE$	 @	pC8)f@8ADń
EvA*D (&AN!r,8p``̄DO ! M$>P  ;`qA ď@#P"E` @d  Ps J[  p[$Q ) Vw 9@t,$` x
r&(1X 5Q"Pb #( IRXD  ,aԆ1@	) D6h[$UHq '6@BNʙᦐyx]X6$tƢ{8yfo(Ddi`ݰILVR" dҢ݁ڟHDTҳT2	B bRA$LFa@h+5!`Ɖb]KLe@%H!B,.q$e !d Q6B2A! BFQ>p:,0Q@P1`pQՀb'a@C+&Cp 7p%BFI0I $Dg"	0 }l@PW&B0ڂd%x @d!,xF1J
$&̄;a[0	|Q1=$0`0ލ.A8I8bKB`4O@0@ކXF9]Rq -8D Hd$9L"0!	@ @4AxB  ,q8@8a܋ @*1"hdȢY3D,Y"$H!K,.nThK
V "ԩ	h	@<@2@0A 50R	!LP#EP W(G2@3V	 ItJa <	$" 'X @$bisHM!< A1A
+a$
Rb  (<0A%$Ĝh`+Q b)rBrF	{"'% 
yBIr(1  AJFR27=i#
vؙi	07'P@XH 5 E	b +@8Q H$e*k D RP 8RDj##	$#D 	@!9# PZ.qFl&`J" 0	@d4Buߎ1(%DS^Agxи#"|Za	\;&@ǀPT*Jl&UeEWx  	R$
1Q@nbdZ$5@ğ3 E C
$ 8)FL0N`" cbmD, `	;4ܤ " r97RMŨTAS2  CQEPh0H-(d(ڎL"@ $$C!`Bh!` BY,`08XϬH# EiV [!b0]Ay3
p* V*8 PC9*h1R5v-$D <4  'v6#  "OY\07
Pu;C2s&Q,7 s"Xi+Tx,@ po@vV^SABEĚ#rdAaBْ1x
aE` $D#a# 0 $ H-@(, (  ʡBH"A@!TQBDID Q{%XE{x#Q# P !'FXH`#0@AqA ):0@	H*HA&V4NYR'($8R\!EV10@XX R hpхHM`"@f""dANMb-glJ[0 A85 6b5.t, h#W"t (0 zgA(`9@DT@20H^U~ N$T^<	 3 b9NJ%F ld1g % `AP"͂ "pd0haQ D ʘ#ɢ\PJ N]Z",#)U  V 
G
	B1   '"0FpVa4hX 6
@ uISYafp7TgK4Tc=Hk	I,5 r<h,I6rK&Fii/Z(EP Fu8v 'S[X <0H1lH4iGSA&HA5@z   	A(B a7f6EJ0hB$V%4@Bbk`% 4*[`2M` Gc."JP"(X$ 1j%LC2*X"$P2

A"pd P@R-A f4:Q`1D
 JHdnA 5	 J@	_A t	D  H!  
8
  @DHv(^g,(iR7ʁ0"Nh@wKB'dFa3Tp7P
NtA H(bCr4ljD@ 
`AF@  B\	JD#Hi @X@" R&Bd @$P 5vJ(.  $CN)a	]BH4D@RAT RaO `B@0@CEP0:ʀBjH2`$%d:d#!R`!.DR1	pPPP-EAc!@ ^ *eD J I p ,x(,	*+a{"lWBp9Aq2NE0тjF0	4W  & !w#0K @
J C&"i&OuZ0RC	&(ŀBm @d"$E\@Wo%  *,90   @	$ S b 5{wH%ZJz tT4L$c5Lc H#¶ "Ge8F qb 8(0X% @DcX((h=0 @2
jp NQtB*TBc/@b$ XEOdɲJ h@((ؠ `h+D(DI цR  L,
( D  
L\e =]D\@`, c,	1&RAXab v4H*_Q(ډWA#C
@ tF (\@".)P8hf@ሏP <L 1%
**FIFk;ъh$X! R.8X2A  +$HE÷&H@' & R,rPG\Q1C"T leP  rXGFY@fZ9A3QEҸ
JP  $4B"v!&P "YX'5"#=+*J0L0@E%t S I{1X?k(Aȉ"@AhUpdi)e08X0QA@OP@_}XcTIZ"N -aFbh=Qe rbʈ֠6E`+jIsPHmD#	'dY#"ap<Jta4EF=Q-eU4$MȂ Kx@DpHI,EB!ݐ Ip@ Eb`hS0-mHJi,  0%	 $  ȁ  [[A.;0
q p )X`vL 0 Bd, lY(DB` @DF"CF@ht41H BXcEhTP0X!)	$Y"'.E!FP.xzR R).@ ""5)AR*.	 1T@P`(FV HH"ZX²>5ˌOS~M1
4,ET $THȴ((@H2 R1DR   :P)Z NHI%H'!< e`$@̗(`	Յ аq1(AB" dCAZ(@Je8w\J q@` R (`4[T
" "l* 7*Ab  B0Mb- "WY@@ @% BV (TPlH KjP	# 3ҷYPbP3 rAӾC@0P1 @AdV*0]%j^ 
X]g@s0D, A	cYAi&E[!IĈPF	D} A(0!@L#	Qbzb D(!	p(3+Y8 l-i@$l9Rr0`
7J萢B44AbWb-70U BW"`SD120@nxE(!d!Ds"!@hB`{e|@EqJQoj<,($@8NE)Y> T [D U	G.  %@2YdPH1`%\ޯ0l)ґ :ĖJ'1rDA  d{#)"^[Km P{N<Pm@t'8B\l9B 0@_I"xĔOP T  x  ,  p I	ȈD%Ԃ(P.@   Ah"a :Q ,oT `&Bp	s XB  XBfAg#"? 4%%@!pr!
rL!D
% TJ&d&Uo^$@@t)I,%`
(0y$$ mtL,PTb`  4ѭ0ČDYJ( t*0u kH4H
C K8dD@:PA=iȆ M&\!$H@PAY
GCKY`qNXY`P<  @g) #"AaX	@ $rD`@-G @G
.*FxA"P`0   PLCxD  SBH(JrJ(`$  6	# ƷRa;ɥD4@WlƦ@8DΑXhGFG7DX
S@."AXL`@1"<&  @Q""JbPbTDk$a 
	[4 !%!]Pb$#H: V 4h)$HV+ԴhJ,I'@6)(*H ecA0\a $D9["؈@9A$W`	<KNL+v?VO(4`g[٠+)筨QF4,؅2
AD T  B\HXME<N":CV2S0e.,*CW$	0b)"	GV *״@: 	I4,a {A "B(HXJ,(@F@*aHhѰ1^u?YR0Dp$)3`NP &D3F	2JKA Q #1/C@ @iLd`#敌K8A Y8x\@d@ @̅	 9e  	QP@$ {R	x `	`̃20Hl
 |
	FSa 2'[* a
TGaJ#8 :PJ[AC@D	12a ـ@Fk" ))9DYPq@HQdqQa0oQ   	8ca	r2SDe@E Ì
b* ZK-1"ter @Lӄ[
`2   DVBAp(tI^<B@! `iܔUl!  @  (`OJEP.)@3H#@ ABDp  \A
: "(s  
!h: 1` B!`J"0,M Xh?D"P5E2  @ 
 L@}2	F$BV8`KC(`V#` \5N܅x*T+8Q`!PJ5hTo`M; 5$AL0$+\ @-@9%4 Eu-!LJ"a( p?   XH" D  a*U@@ )%a(
M4$``A%41A+Bt$A"!-1H\ERFhdy8d$yPx
@PXjB2	'㢤D  	%/dX(4-P%4#%aeRG@!5hffHw #)$\V2a
, 0gP2"($"DȘ&"T`9I) 7  )8 QPRpA9MDA&ӅYBR- S:HG\h$4A$9(Y:U Pd$DtQ	l%q.) HQA!-)S  9xPWp D5"c!BC#E Cp(w"b@ FXA3 lRԁRyđ-;v,(|Fxje̫HVtӃ9\*^mYtqǙ0~WG)ϑWHm8ZNޖ:gl~JMQ_3,nXLwOd˵	x%<oU%A4
!'ƥ565@YJߚK˩{ݝP?b%XQ>_gy~A 3(_T+ON4G)PnxeMAC0՜*]#}!LxԄI
P̐uTｬ01-s Q0M,X7xfRDԇj8{>m&
z)uDpʽOw}͊H*TeXjHH1ԋ  E3Vŭm=owa\)MQq!x#y*#C`q_6r*RAwdDV*bך@B> 5a5Z)U2GIoHV/ȂYd(*we$ȩoRU&ϻYETcsu٫}@fx-P~Ȓ>AuxjQ׽\
`=d2*NFpbĴ7MiYuV&~P?pY)ܪXAPz	j JĶfOe2=_B̺ﲌ\".M:o7LTF`4vc^yb  Sb)3%N`~:O{
M@PPC,|	:[dM<Ebu'TʂV|BS1P<&gb:|Hs.>X3Ɯ @x'a\fbףyb=Re8@O"OK_ p06\XKHr PjsE}gLǫۚv:~)ua*_̍hjiiY]Oa"Xg|af}$mck|XM\Φ$K^3f=O!nۥ+
9 S9v.q^sV{2$qa\ʹKVyk#?fr 5xF`'/xs+L9ޅ[_`wǯsHf"lu^zX^3VTVn4RR#|΄0Yb4&F
n|襦,6g\಴B;ơJbs&)_V
MD0R/	Bu	WqIY:3ZOwN$6ti߮=UL.5969DRs1639W8?g;JZeAOΖҬ(ܺwrӶCH脟C(X*o?PQ504"PGح=#3"FO0zWfէgqt#qJ8{T(H[-1[B)ԤKeK dDlrIg]NUVJV ZTjadeISACΣqb)8_&;d>2xvh[#ܤnț)Rڹד\**@VO>GAJSk	)
_t8a;[EM
@gSmGK^#ʀ~K XH%<+IJ<=@5׳' It@7o
]\<lLHG D?>ᘻ6Twt=2dTPoJ7heF	%y;x:'3t@Wl,޲CiGX*YdV Xk7YƨZ.j`&lΡx4"
Z#^Y[|y^G5Q\aHԱYMS1;) Ϧh8HX\XLi)Oum⹁k@HVT|rJN2ьQYW=0By`.t\chQLG";ұY_x*hBT7owJ^AmݟBOO\må+agdV@[i+P\r~-pt<|"UNPg!bjRFljfrp7p5w%"·|/nhݷ+kV|2 LL=N͚khIތOvLZ!ZٷR԰ @v[+OZ+0 @(EB27N4(A
h,  ŇB/΂n
Iln;	Y!qa٭^IŇ3BrF 3D9MO-ѱxoYS ztG35]oQʟjt9;ɦ/1W9IFK=	}JC5čWGCh4xVoX
ss	>7[bϑDuPf洊0G:Q}5,sJ/p+?vv92n*&*/g}~'*Ġ-j2Ty;R)^X;6/]4OF}TUE	=P佳eBqKTj?miX-t%3XBc%LSܩpIҪ@8LO0w҈+vV-jN
PnDh _"Qte^Yл$RB`!x\	z9C7LVY=pnEFLU\.GɽmWeҒA)8(hnNסnkTu|Ŝ[{]y<HVC:nJ0@QTaQu]_%}dlHl&b?v:t
YE}m}Qa8K)ryg#zdSWH<ʕ83z8NT393kֶ/mANCowH'>4t65Bx!
AEv@t^;{I:=p,rҝOTR2*ve	܅2$dZD;7m2q~]|^g#qGmg+7cP 6q1xyo=S=KQ^s7&#ҧ%wBwp>9瘚Tr+xmsERnlFx$㉏0:2X<_~@,`]νFss~6/b5	F!sWw ΃i?
n
Og@)''iӱU8wG#]3>ZQ0q.Yk9>[GdQX`>,Dpg0qd>`;$u TV,3NK.i{۔͇&Ģr%_[	si5B	c`wk=:svW<8p^?flx{,4<cU*B^n^8zI3!D<}"h;
92zXE!GgZoC[bgÕڸ+u=类KYf(VVO"LkPR+cl*ۖPz0j}z(Cg``Y[o\m$_0鍚0m@X!O|DµF.wܨW^lKIȻJUojsE}T'/=;>z"ޣ!.#,tfN">=31!KXtg(i#V'E.;m4NUXxu:Gb*Mhw=u[~%-80q5,.^y@gZEx;1&1Ți[%7Ug3w2A&;-+ 4ljn`'1"G?	MKv\)wv3mefvcl.&㟽eRK<I>#|W 7]2DmsԑLbՏ~e2GOOF'vgnG{{QaAZM#uYv*4||1e
6!w6"/;D {P^xIeѳ)JӤ:{9AVF=-1}#gd#:eo< FNf,gM_l[}
d>L\>o
24F-!/Txsu$vOՏ6iF) 7͆l6C`}YXqz
̴%[%@zYˋ/PzXfѓфRħR6C=f6tʋU@vR3hM=t9LM!b8@er.M
OP6ixZ(?Y!_(hդ ·N3`('r
;AE"6Eqٌ^Jf
C'F ų_I*VyK_Y}u#xI,ƾ[Z}r!'C>*h1=}Sy䈮Z}AZ\U{qe@"b\K9 cn[dM?sm^j6x4`ВU  S8V빠m0j'koLīԦR}k8yN^MB|}4cf	wժz^a/?S{Ԉr6nݩ=Oz<@NkCc++@1 v[(LLevG7ȉ
˯[ A9rZ?=QMԫG}%٣ub'~yG|FdV>QVM F12~I2򧚋7B۶M^TO<lnbO{;tVO3:bh9By>- ;Er7<G4&cr\ze7w",en+#]3<+w.~oLhQ3&z==,߿vhNWT1FKpUiQ>cѯJb-O
7y>|Bz6ˢ}\YEckt3PmVm>wx/1Pѳ"=`#١B7uJO2vIVVY^ZsVx|PZ~bpD0SwƬD!9,Yh-$K?B  c_TEb_]8=#-V%JGX|^q] )@D-$c!*XɡioNl4҇)y}_pp=!߃K_FYS<:ܾڮɆbT
rѾ#TE۴}56STBuѵz{[xA54ZjUڰFwo0NF"Uyv ʈ./A
B]UQ2fh^Y߱ĕ5hVyS>MD	f`sSVaq{tL5d؆a/`$Mz3V6jNd/-ǚ{dK)3lך܇Vw޺;)0Y7bihޑE#_Cx3hhs&,ǌ44#jS>tw|+%ŗMI+⑤/QrԢ8СE Q-I+7f+HX $o?.:7*#jE^Dtds:E0$He9f
//hp	+"+;\ra!ÍiT2-KPv!q(q,sd;^ N](f^F%-/禍폽ІZJ4/][k5YS\,!SgԇI_-艴6@yOG&ºz&!
rO"=F~|hM	wwuB"vQۣ;?!uj$˄Msk^}*}5aBC
Lmqhq!<wNHwFr5\ty_Tgkw!aɶt*;6kVbtoWN2&/:Aޡ'<u&NN>Yr=QN1CGB߁f^IENp]{B .3+7;7xvKsJ`0/ncDY>U&XCiK{"^`?,/ӻhG
WOaW7J;R&V6\>+m̖z"fj},w7=\Ni5JkGɵ)P8p4d\W.I*Ecw~9kvB'2Z̢ڽ([΂|vr AQ4Qſ鏏dayAwKp#%]ei	Xuv&Xi/hQ2SOоս'`ļT8#*W@o`BT)Ѽvz\:Ԃb1s	>R64T=e1Ch +4*@DӕHMcHh}^BD~̅yٶrBq#̈y׀&(%kh5/Z%u*"͸t)Tǵr8&W&){oPX1u3k^6~UzA[:TզżuЌV[-9"mPȪ)V49r6i__P)uٶ4ݧ%L-;8h ':݊8|c4tBh?>)wlRӅ\`9Kp%-\yȐ!g..ؚ8<= fё-m#E.O{ؽ_pIϦʾi/%N0cоjE ?Px@mF )ؒL P~kNG:J-8y4Z*贯@pK4V`Zl@(oL<ʆc
Fn+B͔G6Ǯ2>O~#o`FBLt9؆bIX&޻VX8p>*W]jiS7Y%$G쵫%Gm23d URfSL+0B/od3iHd:@xbsls%덬z Y،/D6/"naw6GYH++X>w~I(`ٵQch_*th6?4'@UE6#`hEТsrq;X:{Ba$o4I>WA5Qǐ[>fB PM']l۬wQb3^=-FAz[B(72<M^7a,j]F=6kt8KHyo>vc>&#R:~[}{oK-9D}%G mntHIyT	+{Jq&9eҕ%νC#7<RIkd邾OF1CJJ%[`1 
zy*B;+OSXid~@R3%׶u5In} ]U0SjSb=^Ih_wZVgK	3<TS6^[Y<HI5hx-bU7=U`y"K1>:c׶Wzx$(@IW폀gcks = createFormats(editor.settings.block_formats ||
          'Paragraph=p;' +
          'Heading 1=h1;' +
          'Heading 2=h2;' +
          'Heading 3=h3;' +
          'Heading 4=h4;' +
          'Heading 5=h5;' +
          'Heading 6=h6;' +
          'Preformatted=pre'
        );

        each(blocks, function (block) {
          items.push({
            text: block[0],
            value: block[1],
            textStyle: function () {
              return editor.formatter.getCssText(block[1]);
            }
          });
        });

        return {
          type: 'listbox',
          text: blocks[0][0],
          values: items,
          fixedWidth: true,
          onselect: toggleFormat,
          onPostRender: createListBoxChangeHandler(items)
        };
      });

      editor.addButton('fontselect', function () {
        var defaultFontsFormats =
          'Andale Mono=andale mono,monospace;' +
          'Arial=arial,helvetica,sans-serif;' +
          'Arial Black=arial black,sans-serif;' +
          'Book Antiqua=book antiqua,palatino,serif;' +
          'Comic Sans MS=comic sans ms,sans-serif;' +
          'Courier New=courier new,courier,monospace;' +
          'Georgia=georgia,palatino,serif;' +
          'Helvetica=helvetica,arial,sans-serif;' +
          'Impact=impact,sans-serif;' +
          'Symbol=symbol;' +
          'Tahoma=tahoma,arial,helvetica,sans-serif;' +
          'Terminal=terminal,monaco,monospace;' +
          'Times New Roman=times new roman,times,serif;' +
          'Trebuchet MS=trebuchet ms,geneva,sans-serif;' +
          'Verdana=verdana,geneva,sans-serif;' +
          'Webdings=webdings;' +
          'Wingdings=wingdings,zapf dingbats';

        var items = [], fonts = createFormats(editor.settings.font_formats || defaultFontsFormats);

        each(fonts, function (font) {
          items.push({
            text: { raw: font[0] },
            value: font[1],
            textStyle: font[1].indexOf('dings') == -1 ? 'font-family:' + font[1] : ''
          });
        });

        return {
          type: 'listbox',
          text: 'Font Family',
          tooltip: 'Font Family',
          values: items,
          fixedWidth: true,
          onPostRender: createFontNameListBoxChangeHandler(items),
          onselect: function (e) {
            if (e.control.settings.value) {
              editor.execCommand('FontName', false, e.control.settings.value);
            }
          }
        };
      });

      editor.addButton('fontsizeselect', function () {
        var items = [], defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';
        var fontsizeFormats = editor.settings.fontsize_formats || defaultFontsizeFormats;

        each(fontsizeFormats.split(' '), function (item) {
          var text = item, value = item;
          // Allow text=value font sizes.
          var values = item.split('=');
          if (values.length > 1) {
            text = values[0];
            value = values[1];
          }
          items.push({ text: text, value: value });
        });

        return {
          type: 'listbox',
          text: 'Font Sizes',
          tooltip: 'Font Sizes',
          values: items,
          fixedWidth: true,
          onPostRender: createFontSizeListBoxChangeHandler(items),
          onclick: function (e) {
            if (e.control.settings.value) {
              editor.execCommand('FontSize', false, e.control.settings.value);
            }
          }
        };
      });

      editor.addMenuItem('formats', {
        text: 'Formats',
        menu: formatMenu
      });
    }

    return {};
  }
);

/**
 * GridLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This layout manager places controls in a grid.
 *
 * @setting {Number} spacing Spacing between controls.
 * @setting {Number} spacingH Horizontal spacing between controls.
 * @setting {Number} spacingV Vertical spacing between controls.
 * @setting {Number} columns Number of columns to use.
 * @setting {String/Array} alignH start|end|center|stretch or array of values for each column.
 * @setting {String/Array} alignV start|end|center|stretch or array of values for each column.
 * @setting {String} pack start|end
 *
 * @class tinymce.ui.GridLayout
 * @extends tinymce.ui.AbsoluteLayout
 */
define(
  'tinymce.core.ui.GridLayout',
  [
    "tinymce.core.ui.AbsoluteLayout"
  ],
  function (AbsoluteLayout) {
    "use strict";

    return AbsoluteLayout.extend({
      /**
       * Recalculates the positions of the controls in the specified container.
       *
       * @method recalc
       * @param {tinymce.ui.Container} container Container instance to recalc.
       */
      recalc: function (container) {
        var settings, rows, cols, items, contLayoutRect, width, height, rect,
          ctrlLayoutRect, ctrl, x, y, posX, posY, ctrlSettings, contPaddingBox, align, spacingH, spacingV, alignH, alignV, maxX, maxY,
          colWidths = [], rowHeights = [], ctrlMinWidth, ctrlMinHeight, availableWidth, availableHeight, reverseRows, idx;

        // Get layout settings
        settings = container.settings;
        items = container.items().filter(':visible');
        contLayoutRect = container.layoutRect();
        cols = settings.columns || Math.ceil(Math.sqrt(items.length));
        rows = Math.ceil(items.length / cols);
        spacingH = settings.spacingH || settings.spacing || 0;
        spacingV = settings.spacingV || settings.spacing || 0;
        alignH = settings.alignH || settings.align;
        alignV = settings.alignV || settings.align;
        contPaddingBox = container.paddingBox;
        reverseRows = 'reverseRows' in settings ? settings.reverseRows : container.isRtl();

        if (alignH && typeof alignH == "string") {
          alignH = [alignH];
        }

        if (alignV && typeof alignV == "string") {
          alignV = [alignV];
        }

        // Zero padd columnWidths
        for (x = 0; x < cols; x++) {
          colWidths.push(0);
        }

        // Zero padd rowHeights
        for (y = 0; y < rows; y++) {
          rowHeights.push(0);
        }

        // Calculate columnWidths and rowHeights
        for (y = 0; y < rows; y++) {
          for (x = 0; x < cols; x++) {
            ctrl = items[y * cols + x];

            // Out of bounds
            if (!ctrl) {
              break;
            }

            ctrlLayoutRect = ctrl.layoutRect();
            ctrlMinWidth = ctrlLayoutRect.minW;
            ctrlMinHeight = ctrlLayoutRect.minH;

            colWidths[x] = ctrlMinWidth > colWidths[x] ? ctrlMinWidth : colWidths[x];
            rowHeights[y] = ctrlMinHeight > rowHeights[y] ? ctrlMinHeight : rowHeights[y];
          }
        }

        // Calculate maxX
        availableWidth = contLayoutRect.innerW - contPaddingBox.left - contPaddingBox.right;
        for (maxX = 0, x = 0; x < cols; x++) {
          maxX += colWidths[x] + (x > 0 ? spacingH : 0);
          availableWidth -= (x > 0 ? spacingH : 0) + colWidths[x];
        }

        // Calculate maxY
        availableHeight = contLayoutRect.innerH - contPaddingBox.top - contPaddingBox.bottom;
        for (maxY = 0, y = 0; y < rows; y++) {
          maxY += rowHeights[y] + (y > 0 ? spacingV : 0);
          availableHeight -= (y > 0 ? spacingV : 0) + rowHeights[y];
        }

        maxX += contPaddingBox.left + contPaddingBox.right;
        maxY += contPaddingBox.top + contPaddingBox.bottom;

        // Calculate minW/minH
        rect = {};
        rect.minW = maxX + (contLayoutRect.w - contLayoutRect.innerW);
        rect.minH = maxY + (contLayoutRect.h - contLayoutRect.innerH);

        rect.contentW = rect.minW - contLayoutRect.deltaW;
        rect.contentH = rect.minH - contLayoutRect.deltaH;
        rect.minW = Math.min(rect.minW, contLayoutRect.maxW);
        rect.minH = Math.min(rect.minH, contLayoutRect.maxH);
        rect.minW = Math.max(rect.minW, contLayoutRect.startMinWidth);
        rect.minH = Math.max(rect.minH, contLayoutRect.startMinHeight);

        // ResIjL@ #m $ Xh@q^C&" CTfP
DFHq H5ت6F#P:Rdf@P ADh&	 0<)P  4GC~Z@/GWn\o_ܧORغ!Kn~[?cmﺮ{ivys<}װHE{Oo^ty#s_?>\k.ow{ͽڳoϝ|etķHn^{0Wۺ_aܹ2l}{~?}?]_a)5KY3G?WY/J
 iAS@ (BI#  ʑ,Wd!U@	d
	 ah !X LC! .	`,00!L3րۉ]](I@ A%28Z!d@Hhf_ߎk}<}?tg]>Ok|w~k|}}Io]1ws'j}y>>5?=vnGGS_K7Ͽ~:m|O	gqi|VAg@r Zd!$Д!F"@a$ w	 Z3
Mz"NP2
0BA I&$! j:`c\ (`VK$0C0&r67*  8TM0VdERDT$s "PC 441] ZD0 U,  B42FMA,b, 
A) X`(ΰPIQX;3v̹-͇uW4&s}44V|^%O}}l[9_էNB~uw{'Fӷ/>sr\_~v>?ҫk&NOr5mv~[lANMI T9R  Q& A# 0p#!20LMALQ NJ@`0P ЉԘ40R AR"&1pH
eHxB`
Fۀ(li 0+"-K_kݸn.^?]96{?74ÿW.g_{=_;p3wfckn޻5K|kۻ{MS?ox{vy_>^/~_O0Ss(OwnV{me?OԽq.gOW+=/l5[mtE^ǋi=?_omKvm(FѡpLf rR@`   $4P""$
(  S!hҒ(	( )Fv7Vb 0DhBe \$sw?1W7ܺf_kΣ{r"o~Fgkc>w^SvF_m>~>r[~}xWky}gr՝TYo.m?	\G @")@ p#2: !%Qd[$ (
 @Dx6H8!ÄH$	|0>ƥD#qA0 0 X( * rE԰ (Ph`&J( i( ! A3  3 Axh Ͳ  Bld@h,(^!q1D!8#%F< *@ J@NP'dĒZ!q<L'wtx7-|͵l?{vv~f`7y<i{oϳhkMg\ӑfkN~`{[D:M3cZ%o|i0 AwA@Cp (XD bTzi\h0ISrŀ>`<)2a0D,HB"Qee$AC`(Xb*bZۡ(q84RPH*cqY/&r|UO_>?\o+q}F|1Uf~Y^CǷO`
y}	7
{G۷~/׾g7|.w5}fh=tolpv=OΘ_pgZWt=u͵}{G~]-o4ʛ T` F QdIAAhS8&	@ P *$AUP@I  3  h
Bbv9 ZN0@*@1dB OX1?E/ $AUmsanZU95f\//^g=:>߻souCZT$wƷwwIsySJ߱73YmC("$ (2@	8L$RA@`A  <A0%F@o@*Z h1 E@29 "`#/T?`2J E -%B  !VT&1"D&xR8Q"&Ǡ`b  <'z*}'Dd0X$0	X<VUA"p,뜀Ҁ., Atǔoٴċ;{m?3IaVw{sr]ޱsyUzou|e=:vݟ;JsMW BYBF¢KF 	 KeGHA)@Cb(+ pHc #D0	&P,@` ɀ2d)Դ# ,U۶bĿyttw{fQүѽug+
77MmvW?|rg^.YKչu鷹ϾW^2Wu9nmߗ_Ͽϵ^V?'se_6:{=Cg	.N @a& HEH`KE)0%/&D& A° !
LFC) 
v ,bȪ
ADbz  `CEsjU/딱ku՞{߾m)E~g5n2µ}fi/:b;駷:{/~o]yߟsT<umF |(C KN2Ї!B Uy0 	!Rٱ$#  u 'RM dA	Z$ !QEĘ	  PXmj8]`640.
Av0h!R	I%" hOR$[lAL (ADK!p`E40- Ec D$$l@m( Z gUA 2`HpD  e	s((>4ze+_z޵~&pro6-xmzw?p\==[vN'߻gHsOe\)ܞ?+/pTHRR"lN"ΤSɈvc B 5H @Eyz . (8`1 ` P D1	1B3QBE %9U:B  @ M07Q(0B*T{[x_b$=}~1=s3o]߿}m/?97*u=-t^WSU`s=܋7ߝ\Z=Er0oFz_ys_Os+T~g^y#w=}]/eno_o6;'(O߿ؿo|W{n	@8%ߠl"UD@ !EQ	'+$	RR  d	+(5w!4(KBU-2
ʈ0(H,LrhQɨz J@وD24 aZl@01 HL$bDA6r'?k1{9/w[߿u]qio߾_jnv_znzϋW  &wį[=f}nqOӕqAPLg !!Q *L/0` ,p IP@*xKfD	( du˰4Fb%SB JyR
$5 C0J@ gn )Ҙ F5n4Q* %	ȦP ) &TR)oL$RfV D@Ѓ G w}&k  s8qVB %0j0!1hz_z.o[?{^JK\o_3>C~8o;rsy{?vu|?l?_GWPBz$@GS"ab33.xg43- Q%3h@X!$AMCB"@=k"bH  aX1 @rL 
UbR"Ghq,/rmݝ֯gYo	Ϙx&xZn}wgOJ?l?=ʽ޷rSOgok~wͭϖ:eݲ\ME7foZ}s{zwُȷ=(]Π̿gmp*soj}_wj/}o:뺿?k~nSVgURe%gG(4ѷP++9_R`d)(m
'@$,p @&Kg	$>PKQfI]*!!BU"Av x3#$}}tUm_{=muo~Ws 2[~_us$տf5?|[)ҴtٟC`%~??O=V0f4@"TTkpAHG͗ 8DFkPjXeR$J,fjS/#+LQF.q	(|*IpzH񐐍O-
 !Dfj, )BD91 wv@H%Q*"*LIeC ń:*Љ&u`R4:NLA0b4ցO2ip;B6qS|O}3o5rݍytMlbi[ʺ7njo=7"^	Fǡ"	 I,8'`a	i0&M "cB#`D#fT"$!%	2K!`"'(0v)}Y5P%lߗ6;';}\qgsӘzy<uO٫"]yoowcu`m%yϲ4l\_'8'e}Z?)GnTUe\Y_}I[gR7~^<9f}/6zX=f~?w#yk)z}'P44kB `Lb;@E ,KbCJvejxc0`ij@'P֮sf@yHDq0 HEW2_se^Vo?ojĻrcqz[ߵhٺlָ޷n+ns{_}OW=e4H-p@B"S<  I RY!#9Xs%.LƈY;Kz`"B4E^9L$\6 !eF9Z*И|B$XZJ Q M.б5nQ#RED2&3=<d@@
8 I"|P ӤBeȅc	&It-@W%t
NY $<,w ⅰ)-cQPS0?]wx\nW=koy߶'x۽Z>TǽwwNw;~Ï/r6yxzڳ??}ħ/=N@Id*x1	*E
@/d@BӀȁp"2ʬ"28@3$&Ѐ	c UQRDB= ,$hUPA+HF)%FYD8@@Tl WemWZtnfծM}lϛ_ۮ*z?ɾVy^_}Nǿڞ|zgnwC,ykgu7ǽS_ju^=|/|9>ma79>{7*MR﨑eFm|8۟#D{%6I tGk?#8&A"
Cd
LNC*  10ZpNdLs :b4 D|v!&.ǰ)PUhH>Є@/6sG|>9Q4b/#ݣk~8>	3wl?qݲzˎ߷k[߾_.F@ɀwAA(/AD$ %B,=ZaD pBh$(0,T !	a19 ` Xa "YvGd'[}D8@U2u ZA"XGe(!)C!C ũJH۩+*" e r ESE AL#;@0257Q6>S"" %'DYu޾o57oߢ7_-G}5ݫ+]_?/}wc]xy}#O}^^y{]״{Kfi}~* Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class creates a label element. A label is a simple text control
 * that can be bound to other controls.
 *
 * @-x-less Label.less
 * @class tinymce.ui.Label
 * @extends tinymce.ui.Widget
 */
define(
  'tinymce.core.ui.Label',
  [
    "tinymce.core.ui.Widget",
    "tinymce.core.ui.DomUtils"
  ],
  function (Widget, DomUtils) {
    "use strict";

    return Widget.extend({
      /**
       * Constructs a instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       * @setting {Boolean} multiline Multiline label.
       */
      init: function (settings) {
        var self = this;

        self._super(settings);
        self.classes.add('widget').add('label');
        self.canFocus = false;

        if (settings.multiline) {
          self.classes.add('autoscroll');
        }

        if (settings.strong) {
          self.classes.add('strong');
        }
      },

      /**
       * Initializes the current controls layout rect.
       * This will be executed by the layout managers to determine the
       * default minWidth/minHeight etc.
       *
       * @method initLayoutRect
       * @return {Object} Layout rect instance.
       */
      initLayoutRect: function () {
        var self = this, layoutRect = self._super();

        if (self.settings.multiline) {
          var size = DomUtils.getSize(self.getEl());

          // Check if the text fits within maxW if not then try word wrapping it
          if (size.width > layoutRect.maxW) {
            layoutRect.minW = layoutRect.maxW;
            self.classes.add('multiline');
          }

          self.getEl().style.width = layoutRect.minW + 'px';
          layoutRect.startMinH = layoutRect.h = layoutRect.minH = Math.min(layoutRect.maxH, DomUtils.getSize(self.getEl()).height);
        }

        return layoutRect;
      },

      /**
       * Repaints the control after a layout operation.
       *
       * @method repaint
       */
      repaint: function () {
        var self = this;

        if (!self.settings.multiline) {
          self.getEl().style.lineHeight = self.layoutRect().h + 'px';
        }

        return self._super();
      },

      severity: function (level) {
        this.classes.remove('error');
        this.classes.remove('warning');
        this.classes.remove('success');
        this.classes.add(level);
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this, targetCtrl, forName, forId = self.settings.forId;
        var text = self.settings.html ? self.settings.html : self.encode(self.state.get('text'));

        if (!forId && (forName = self.settings.forName)) {
          targetCtrl = self.getRoot().find('#' + forName)[0];

          if (targetCtrl) {
            forId = targetCtrl._id;
          }
        }

        if (forId) {
          return (
            '<label id="' + self._id + '" class="' + self.classes + '"' + (forId ? ' for="' + forId + '"' : '') + '>' +
            text +
            '</label>'
          );
        }

        return (
          '<span id="' + self._id + '" class="' + self.classes + '">' +
          text +
          '</span>'
        );
      },

      bindStates: function () {
        var self = this;

        self.state.on('change:text', function (e) {
          self.innerHtml(self.encode(e.value));

          if (self.state.get('rendered')) {
            self.updateLayoutRect();
          }
        });

        return self._super();
      }
    });
  }
);

/**
 * Toolbar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Creates a new toolbar.
 *
 * @class tinymce.ui.Toolbar
 * @extends tinymce.ui.Container
 */
define(
  'tinymce.core.ui.Toolbar',
  [
    "tinymce.core.ui.Container"
  ],
  function (Container) {
    "use strict";

    return Container.extend({
      Defaults: {
        role: 'toolbar',
        layout: 'flow'
      },

      /**
       * Constructs a instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       */
      init: function (settings) {
        var self = this;

        self._super(settings);
        self.classes.add('toolbar');
      },

      /**
       * Called after the control has been rendered.
       *
       * @method postRender
       */
      postRender: function () {
        var self = this;

        self.items().each(function (ctrl) {
          ctrl.classes.add('toolbar-item');
        });

        return self._super();
      }
    });
  }
);
/**
 * MenuBar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Creates a new menubar.
 *
 * @-x-less MenuBar.less
 * @class tinymce.ui.MenuBar
 * @extends tinymce.ui.Container
 */
define(
  'tinymce.core.ui.MenuBar',
  [
    "tinymce.core.ui.Toolbar"
  ],
  function (Toolbar) {
    "use strict";

    return Toolbar.extend({
      Defaults: {
        role: 'menubar',
        containerCls: 'menubar',
        ariaRoot: true,
        defaults: {
          type: 'menubutton'
        }
      }
    });
  }
);
/**
 * MenuButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Creates a new menu button.
 *
 * @-x-less MenuButton.less
 * @class tinymce.ui.MenuButton
 * @extends tinymce.ui.Button
 */
define(
  'tinymce.core.ui.MenuButton',
  [
    "tinymce.core.ui.Button",
    "tinymce.core.ui.Factory",
    "tinymce.core.ui.MenuBar"
  ],
  function (Button, Factory, MenuBar) {
    "use strict";

    // TODO: Maybe add as some global function
    function isChildOf(node, parent) {
      while (node) {
        if (parent === node) {
          return true;
        }

        node = node.parentNode;
      }

      return false;
    }

    var MenuButton = Button.extend({
      /**
       * Constructs a instance with the specified settings.
       *
       * @constructor
       * @param {Object} settings Name/value object with settings.
       */
      init: function (settings) {
        var self = this;

        self._renderOpen = true;

        self._super(settings);
        settings = self.settings;

        self.classes.add('menubtn');

        if (settings.fixedWidth) {
          self.classes.add('fixed-width');
        }

        self.aria('haspopup', true);

        self.state.set('menu', settings.menu || self.render());
      },

      /**
       * Shows the menu for the button.
       *
       * @method showMenu
       */
      showMenu: function (toggle) {
        var self = this, menu;

        if (self.menu && self.menu.visible() && toggle !== false) {
          return self.hideMenu();
        }

        if (!self.menu) {
          menu = self.state.get('menu') || [];

          // Is menu array then auto constuct menu control
          if (menu.length) {
            menu = {
              type: 'menu',
              items: menu
            };
          } else {
            menu.type = menu.type || 'menu';
          }

          if (!menu.renderTo) {
            self.menu = Factory.create(menu).parent(self).renderTo();
          } else {
            self.menu = menu.parent(self).show().renderTo();
          }

          self.fire('createmenu');
          self.menu.reflow();
          self.menu.on('cancel', function (e) {
            if (e.control.parent() === self.menu) {
              e.stopPropagation();
              self.focus();
              self.hideMenu();
            }
          });

          // Move focus to button when a menu item is selected/clicked
          self.menu.on('select', func&GlpHGah SrxMv c Ht9T#`% @#4`4 !]@;C3		 ' AWԍpD&8r;,zq&9w(@Y^I0
)*@m	.F6	$2@4a@ b%Qք^r^`&)J%  +0L1P8Đ@ M5ARؤ D Аw(A3"hUșt E@BBC$ $hM%l	ԓ|0H#pPB6IA sd@H+F TRP2!Z9 ,(7 r˚TA$EB EGuB%u	4Èm'h <%DbHh@V(yCpޟ5P BDEࠀh(k@XdqNċ!0@CEA@d P8B:Q@RXPF D@T"^  a Ab!`Ag1$HJtl]"0I IH:"h
KPD5BVҕJ8 hA1v! DQ@M` p!xB
-A qkF`X<I%xCTZ]!Dy`R Mon@A
S Ps0@V p_E%KZ@ 2
Y faJ. M09IAA 8 c`!"Vq"u@h C^Cm52pa"hD!	&>cA8EWm @2RM#@Ah"Т*$$T	L[VG$LB `5*u,*(&Fda	 lB!D@(	 R\HHT @GP	!"ca!@@`FaOE43%d$lAG(JP	:1($GPYdh+?tA pa0]0''$A /9r_K"gІB"b2҃%G`XX_9%:4IJ`d dB M0TSm(q "EOB! Epz
$p`" KB KZl`i((@ lA`pG`Đ&#K"if((B5Ƞ >H)p  C@,D# 0zǑ  DQ$0Iđ	Z!P@"y#*E!{  %H @t   Ej LWS	 g$& %j$&F,P@C儔  ( F !sUn@Q (@F P	+&x#j@2@@ D@:5 "0a"	H2$!NjO(hD=#t ))BgD$@PA,$B0H@ D!H qa-&4
!% d*1T2^ . 9"(gt f] A c
8 @D(9B$ D!	":tP `91xreaVs竼@ϠjNѢq^  L )8	aD15 @h Ďl H#y2R!pBA(	5CdaA
Pc, 9FJ$x2@<,	$K铍gQ *B$*BHM_ ̋]Á h "2&Lw [F:eL  jpĥW50 T0VB P F<<T	df$HB ˘  4D^	1>$XImT I̇h0]5!3 H@d
3	`MAPpP!d 4А1`ޣ00`98	!`1(@:TJ4eoC@5Nr)UB$A 8/@Zj"(8$
C3 I	 8 1DP " 	Z)Z(   I dd8`.Ю@x{I`A(X ,4]E0 !eB2FbPt!(9dc  J D`EA1 EHAJ1 pY	Pa  #p@@@B`	d!Ф@B$VL@7`!q/H!`$v$@J'v ǂQH %"*c@B2T, 4sA RD8 	  	NKy E5M@_јȒ"!&L 0a)9j !QI%$CxBI*Y1 H *43HH@w
	@4R:$( <@d=T9? A Ac@	F$Hr4 0 bPHH! mʌDV2 h&#$CcbN2AF$cH0Fo:`eb-(=)P^R jAL¨D @BHCHJCp"ELaYx! 	Cu[(BB.6"$Ԡ'] iaANMsJ| 
FQeY
"a  0e.Z"@B8nM-A(T0z@DN-rjP	7r
*@b2B1`5=Q$, aB]DD ӔD Pr#-yJx 
L-. ZXJ6BD( BS|L @@)D$s Ĵ1QuCΘ R\ (6 B"T
d92.ČHr&CUG09IƊ8 "Hc  `"P/I2!ӷ2H	H0 Z
Q!8\
bC0aP AH `(#BDd%!H!1G1N x ,K)=CP2( \4 h" aH@L N$( N@0 B IF# L GPg$Od:B
ԅ:Un ♀HF%
"(RJJLC0F9u]d3-a)6AԱDzc'P!0'-@,& \X`I Hf;ńR!r) ? $å@3fx&zD0@FB @	J>x,8FL@.  Q) 6j
 Ɂ=pCB (Hc2(
` @%/bࠚ)/l%O$0+H )' ْ 0D!D9B!QG"L ^,lQ!X!	"F$eE:Jx"+_ЊՕ!noG!`=Xa`
WhGR0Ha jA6P BFX4!VX"x@SB  6%<g0'EUa	T``"#\BFEX$  $X   !d+B) A8ئ4RT&3=HE@}" ή }MPDR`*~J"&, 0 NtCl|EU%6: v b@` -ـ. (ɠ5&+ K8'uY!"l 8AAW (@d@M "4EЀdd9ɨOH	%`4Oﺏw֗K3G~?vyߓklq=r[]~6jE{YG{7?{WSHޭ^?3gbFnߪn/;/ߟsw?nۖqq'3m/.ݽjz뗤;yGg׿RHw>Z<?^[
n||kD߾]ۘϏ׏/ѷokG/lÿ0~s?"{7~~O߿w:&}o;Ժw7ru0K?ۯۇz柊f\I^jO֧^w7Gv.||Y|7<3oGu??}7ig{GcGOo乿'-e=SN_bdϫ~9??ﻻ^m:;e{߷v{?gHu$y?,s);%{yw?EWk޻n=>kөYy}򪏚s}pu]QwFٝvrx0knEu{s7QQQ)3d?;Wk֤^@/~Qo^&Fњ?YbׯСk@狳-٫ߍE^ϗ'vv[ش/q}#s6赿#q;Tu6}yg{۩שLz||>v-5T[~#=lO}^oв??EƟZ1{eNw߳>NYYO_vK2o߳;׺-/]?״3~Ϛ:ߺ#rްw?=w?rngԶ&pqutg^_ro|]o6ugڗ75\qtc<??l'Gv]n(Jc+ͷgSr?\<އv>z>:L7rz[Zd%~}yW66/۷^v:}nJosWGۺvͽ_񮚛wbs6oݬMپ?N+ﯴ[/2m?ϿN
*on翝bpW϶ڎn;ut[ugsZd<qG{yz9/Yru^EguJo?WWw7{[a^g^cgNLw;u?W,8_>y-Eך@@-<u>wf=6qZJ}ߠs;mo/6~~k\nK7Ю^ܳpo{)ٍ?\Τo^o1zqi{&,%چ'9۩Vu/x \m?fm-l}czc#er/ՉN^.PPUoo+u&Gw濻g۞#WRٮ%WJ~Y+_m>ǓەoܒvJ>on]>K=_L٥Fk{_؟Nۿ=QOϾ{[{vۜR޽;|y_vov_U4'}fLo}~z={^bV~
O^~OKsX>ULU9_~-^eqvlƨvo(;562ss]AǷϷv1}_R'AOsWk.Y(\oz`~x9_/"Yqsywm_t+}'elߥjU{c?Ow1wɹn?s}m^Ͻ~efZnoOf{^]g.ǹg/ҵWy=;r_mwv{-j[yL_R.m|G!1s5|Yn6R\ۼRI]_"O'(ھ0q7[<pCG?}̆\l1}]*_]^:ۯOB//oo[/}?g^?unߎώuy^O~3~y޽߽_HM7u|M⦪ޭe?_}gXgdz^}k%~ww^_^tkWTl';-ɟZnܵ^>o~m̿B+ǿe^ӱTN={Gl.ge~wNs}^o_wm5x|fguxq5ֵ~_G۸urOYj[/2uǆ;{_-|ipS'3y/RU_z_?.n)XkpǝۥT>n~_UO;WKϯkyq}m[_;h'7ޗO7w{}>\^|nX^3t&noڒs師Y~G/ݴumW1~ҸTpmJsӤ}I'-{6>ﰫnש}ϻOM{z~^>~O'&;1_ӿrq6;^/7Nlws{WkyWfKwv_֞Wu1kgs}q,}~[:zgxjiZ܏6~nء9eKk9}=+gw?UWofB7/߮;\{׹:Fty+Jriuĸ-]ս?}oտ~}wM7'mnj+5,2FjgBK-s_X2O_nES#s?GvwOgz6LGo%_K:sXJ}8~vn4,׿6dߟ#	[|ЏuT̏|;{=Q( ]([Oδ'[{i-fGjpŻygUGWds 仺ٛ{5?{u 7>V"9(F(ȴ~ޮ#nvwnkU3Nn?<[匚o~u&Mvmx_Nݑ6?G6u+bh._z|ndY3̕8:Lsl<t4go7]޽Iz7zoW{m-ϼ߻ZOٯ){tﶿZY}~wrO'_7o');
              }
            });

            menu.submenu = true;
          } else {
            menu.show();
          }

          menu._parentMenu = parent;

          menu.classes.add('menu-sub');

          var rel = menu.testMoveRel(
            self.getEl(),
            self.isRtl() ? ['tl-tr', 'bl-br', 'tr-tl', 'br-bl'] : ['tr-tl', 'br-bl', 'tl-tr', 'bl-br']
          );

          menu.moveRel(self.getEl(), rel);
          menu.rel = rel;

          rel = 'menu-sub-' + rel;
          menu.classes.remove(menu._lastRel).add(rel);
          menu._lastRel = rel;

          self.classes.add('selected');
          self.aria('expanded', true);
        }
      },

      /**
       * Hides the menu for the menu item.
       *
       * @method hideMenu
       */
      hideMenu: function () {
        var self = this;

        if (self.menu) {
          self.menu.items().each(function (item) {
            if (item.hideMenu) {
              item.hideMenu();
            }
          });

          self.menu.hide();
          self.aria('expanded', false);
        }

        return self;
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this, id = self._id, settings = self.settings, prefix = self.classPrefix, text = self.state.get('text');
        var icon = self.settings.icon, image = '', shortcut = settings.shortcut;
        var url = self.encode(settings.url), iconHtml = '';

        // Converts shortcut format to Mac/PC variants
        function convertShortcut(shortcut) {
          var i, value, replace = {};

          if (Env.mac) {
            replace = {
              alt: '&#x2325;',
              ctrl: '&#x2318;',
              shift: '&#x21E7;',
              meta: '&#x2318;'
            };
          } else {
            replace = {
              meta: 'Ctrl'
            };
          }

          shortcut = shortcut.split('+');

          for (i = 0; i < shortcut.length; i++) {
            value = replace[shortcut[i].toLowerCase()];

            if (value) {
              shortcut[i] = value;
            }
          }

          return shortcut.join('+');
        }

        function escapeRegExp(str) {
          return str.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
        }

        function markMatches(text) {
          var match = settings.match || '';

          return match ? text.replace(new RegExp(escapeRegExp(match), 'gi'), function (match) {
            return '!mce~match[' + match + ']mce~match!';
          }) : text;
        }

        function boldMatches(text) {
          return text.
            replace(new RegExp(escapeRegExp('!mce~match['), 'g'), '<b>').
            replace(new RegExp(escapeRegExp(']mce~match!'), 'g'), '</b>');
        }

        if (icon) {
          self.parent().classes.add('menu-has-icons');
        }

        if (settings.image) {
          image = ' style="background-image: url(\'' + settings.image + '\')"';
        }

        if (shortcut) {
          shortcut = convertShortcut(shortcut);
        }

        icon = prefix + 'ico ' + prefix + 'i-' + (self.settings.icon || 'none');
        iconHtml = (text !== '-' ? '<i class="' + icon + '"' + image + '></i>\u00a0' : '');

        text = boldMatches(self.encode(markMatches(text)));
        url = boldMatches(self.encode(markMatches(url)));

        return (
          '<div id="' + id + '" class="' + self.classes + '" tabindex="-1">' +
          iconHtml +
          (text !== '-' ? '<span id="' + id + '-text" class="' + prefix + 'text">' + text + '</span>' : '') +
          (shortcut ? '<div id="' + id + '-shortcut" class="' + prefix + 'menu-shortcut">' + shortcut + '</div>' : '') +
          (settings.menu ? '<div class="' + prefix + 'caret"></div>' : '') +
          (url ? '<div class="' + prefix + 'menu-item-link">' + url + '</div>' : '') +
          '</div>'
        );
      },

      /**
       * Gets invoked after the control has been rendered.
       *
       * @method postRender
       */
      postRender: function () {
        var self = this, settings = self.settings;

        var textStyle = settings.textStyle;
        if (typeof textStyle == "function") {
          textStyle = textStyle.call(this);
        }

        if (textStyle) {
          var textElm = self.getEl('text');
          if (textElm) {
            textElm.setAttribute('style', textStyle);
          }
        }

        self.on('mouseenter click', function (e) {
          if (e.control === self) {
            if (!settings.menu && e.type === 'click') {
              self.fire('select');

              // Edge will crash if you stress it see #2660
              Delay.requestAnimationFrame(function () {
                self.parent().hideAll();
              });
            } else {
              self.showMenu();

              if (e.aria) {
                self.menu.focus(true);
              }
            }
          }
        });

        self._super();

        return self;
      },

      hover: function () {
        var self = this;

        self.parent().items().each(function (ctrl) {
          ctrl.classes.remove('selected');
        });

        self.classes.toggle('selected', true);

        return self;
      },

      active: function (state) {
        if (typeof state != "undefined") {
          this.aria('checked', state);
        }

        return this._super(state);
      },

      /**
       * Removes the control and it's menus.
       *
       * @method remove
       */
      remove: function () {
        this._super();

        if (this.menu) {
          this.menu.remove();
        }
      }
    });
  }
);

/**
 * Throbber.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This class enables you to display a Throbber for any element.
 *
 * @-x-less Throbber.less
 * @class tinymce.ui.Throbber
 */
define(
  'tinymce.core.ui.Throbber',
  [
    "tinymce.core.dom.DomQuery",
    "tinymce.core.ui.Control",
    "tinymce.core.util.Delay"
  ],
  function ($, Control, Delay) {
    "use strict";

    /**
     * Constructs a new throbber.
     *
     * @constructor
     * @param {Element} elm DOM Html element to display throbber in.
     * @param {Boolean} inline Optional true/false state if the throbber should be appended to end of element for infinite scroll.
     */
    return function (elm, inline) {
      var self = this, state, classPrefix = Control.classPrefix, timer;

      /**
       * Shows the throbber.
       *
       * @method show
       * @param {Number} [time] Time to wait before showing.
       * @param {function} [callback] Optional callback to execute when the throbber is shown.
       * @return {tinymce.ui.Throbber} Current throbber instance.
       */
      self.show = function (time, callback) {
        function render() {
          if (state) {
            $(elm).append(
              '<div class="' + classPrefix + 'throbber' + (inline ? ' ' + classPrefix + 'throbber-inline' : '') + '"></div>'
            );

            if (callback) {
              callback();
            }
          }
        }

        self.hide();

        state = true;

        if (time) {
          timer = Delay.setTimeout(render, time);
        } else {
          render();
        }

        return self;
      };

      /**
       * Hides the throbber.
       *
       * @method hide
       * @return {tinymce.ui.Throbber} Current throbber instance.
       */
      self.hide = function () {
        var child = elm.lastChild;

        Delay.clearTimeout(timer);

        if (child && child.className.indexOf('throbber') != -1) {
          child.parentNode.removeChild(child);
        }

        state = false;

        return self;
      };
    };
  }
);

/**
 * Menu.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contribu>g'y7GnնooF_{ي<kI^X2D߿{/tX[_="no3>}Wb_nM߰L链:sm濏S,wLǯ_X&{3׽|}cWN>?￻ަK?g=|Wx>mǗJ&37gRɼ+A?Ow+{үտ_~?{۾+ߜ[so.Ϭ~M=v_nO^{zǓ-涧p^Sj{7XOo+#<-F\c%k{g4Çi[<S:~|O'i}TUL9J?/wUi?ϸsYuFe{so[|veo_t=tݗy5eyqQ}iY{4?sKLoڿ]_.[vqvZݰ퐴Rܹ/93G{	zݶ,z-:紳1~ސ/ؼ9XuE%}uG8DZkҝu:G8]^yo7u?[#oׇszz/=ko{Wѭö׾>һ*l]ߴ[m_;+-~x;7_78m_U<3kw}o~/ߗ_eOW/{s5|>Z}.||mͻuwfџݭ{z^; /w/>~F/;gd=]!I;=>㴟`gűocŠv=kպ1J26[dzYtd6)eJ_n__Ong|0Ƶss[ZW?}y7W]9k[[n;Gww}[1l}r'b
oT^{gs֮o޻onzo[~iX/ye/+ɻ=h~w[}˾;3QZɵIίI흽+l~,/|z6O_"ӺW~]73~X_+̹řs+Oאg{|њƇeeWڞcQ=_?[5ߣrW{Y[{kSn2_^o|M|z|>u/O˵oǯk;zo7;5m޻χ=mӻ_^3e*4YkC#}a^b}ێ?^ƿ?[{~zCVc>=	?:ޫxūLmޣoOk=s[ V|v}{vY?ci<_}lWRAq=WWO%H5:C>9]djoE7?w}c#~k~yGjMKΖ?owksNwo([l<w>\G/=u؟F{q?`o/y+jGk;{]o`M['^\Sm]._ʚ'>?m;fм}_c^yu8To۴=sRfo}uU+_<
htz}8Mokg]x'o\6y8\݊nuijΔyI?t?Ιv۟oda~o{ґݱc3ϻwݱ5_w}'|׾{mgo6ݧ_xV=<	h=o_n߼Z޽yc;+{~0%o׮̿xk=>Gc㉶U#нx>𾻗2_yM7G_=%Ԟ?چe}kl|䔶Ko^+1,y.]<n${uZ_j^~}gݶ{BV՟?|Mw;^t?gWn.eVoW^u1~N[䬪J=kJtlkb'#z3?zHG7Ó~kvm4Xkg.~BS}'Gs6vۏ.sN|ٷu՘+4ݻ{#/LUm}9D..߯(eSM7_3$p3JsGoϸzy:O9Ϯ]kU}g<ZT?VO?sO;6OKG5gwd&N'l2~[ﳻQZ<߯ϻ{}?wuWw_O8-}zԷ\^!s8GwB5NoˬVţpeeƼytɋ?v
ٖ8~DٛXDh7't{[.wmF=gvܷ~3&_]>W1Owvg?*k޽3[yl[^$eXǭ['ݾ>_o7~oS|Z4ͧsWr6v_~?e|}~CKtAٷ;qcի5WԼ=M^KS;u|Oo}ίw}(>[Y΋N[O_ϟW~{Wf}7j*w9{j.{toc[^߀]]ч7ccoӳ]rƺ}߃z߆{&~znҘ~~6ο毿kp{opZ:ouP߷]B|'X_Jܻ3w˝cu_F'fUKKۜ9&?nįiw&_gvc߹&;y_ŷK7/u5[n͌}g)^{`;.fw;>?[Zڷޗ䣽,|lt2KbtrZ/(p>^}kObYבx?&*mteB?NP̾9'%wg+_:<u|ՓڟOvϧ{o_[k}NsoRvN__{ܿ;~{[UO۟_;7_|{/y?~}Pǽ-]oswĂf8 5tШ?"^ b0D$2 S b1wbQBs>@!<"(-&,@*\ypC  pZ/DTyaPxzAb@N D*$NR!"@j@NHCTQAD1dB
ִ `PDئ; 	&B$ <_Q\* crいq%@8`{ޯYuB}W>߶~xSmW{캽:xԵ5^{\H}7{=~ޒ&GGzQc" D@@	UA "dJ鴀x (AxQB'K%6 8%!>(td" 1L$+IjE!,$'	BT@v,B^E#@Z<OWsqo?1^50yy]{g=jozy{^N@q_=t~_nmys򰿏ݑS获cyݵY̓?<w?F/*z~?J{yg.|YgdkһSquOk3~~wِXM	J40b*Uಓɤ 沫T@r(85
M JCtU},T(6H &df0rM$8`qov(x j B	: 8,DPv_tg8:=[r4Z2=~x[_+OZt_{O=vK[xgRec~vH%$TTAFxBja` Eh'Ax`=ZZ?(Bd$=P[@h +4$(,C &,S2h#""B8 QEf ;?;i p& !p `M*#JQN1IXI9
 %+D"<X66%dB
 @FEН	k@aA{BP!A-E7Ha}ѫw\fu/PGJ~i)fV_Ջ*!/-?K?o]߾oh{JIzEߋ>~_H0$p̑ rECP36fj@z _IxJ0`h/elP@P`ĀC 4U``r$GJ!3h"R|Z{d'ʒ^[<	wwvxO߃o|컍	O_NǏ[,->}wy6]s~}>}'ZozWݩuv~7߻s_[h/gj{osn}˻lˍowOw=k/b֧!kUg]?.\1ba,hh$脋
D[`;(:<C
	P  ($)õ;
pLn g"Dc $ {(@ƶUEr* KPRRD$j_#˪@o77_m]?iWkgfG_edCzuwgsݳuϺ>nclmJy=eK?osdt{}) A`Dumd6@GLdJ@פe$_<\r;!؞0  P $m& `(Hʀ]R@'*G ؘTnZhMb'YBXJC T&Ab515O  #j jKQ[  9l	5HDDH(bC!hYo)HUL`@
	&  j=/׾'[+{?zT3*X=kj8mC'oi޶[ni&~rwmotޯ
&%C>`}N,N	Av@aMa"5%kφ F%F	 \\U<(*-UU|"P#d#@oMB	b @#Ir*
m}]_?~?XyQf?3-~yXp?{V_ymykoe?yZ:~Mw\߯W©ܞ_sCFkogg{~}gBuKtm-tϲW]R]!پ_]/F$q@)14Ih3 x? O<X3@&Q*PBP=2N(!!30Ԋ "o$T6P J4Hq!71 "FD&qꉀ
%~ྒྷ)~y.4fC;B_Q4}gKT{zך#o#.ߥ\ݼ|Yհx]S۩j}O_gf}S.:@Bb/ZQBxmq`et6E6
 !1Z780/Qep4\ XYC@!R	.Z+aPL1	6Ђhj*#P*QN"XSV@$VH`j .  33B2 ZlS0@X^FPKfP @B bF xe]V@ 0 {4jJ $@GOyB7oۿߺ:}\ݫ~._ҡio{}z]yp\\(z^?|7{-W65zn_	65'
FUa,I2"0Q$s@ h.H3(Dn A,:L4R`w<@WQ{a4
Q 'p
@$L@͐ҽ@f.QT|~>߯wk/k>um~?(=[N~{{_͒ǿLKݫw'#ĸ]mWzy:~^9uN;>;twF[ߒ_[kx;{\]_k3//cT9S_{Oڻer޾?^4/2ruylo7"gB;,|B0; ` <<  s	R:@ V9Bd]"@bBU,L0D$b"P)c &/ÜC@	B%8K3(V A,@55d P ("V :Q0IOfwA*]BD IͅJ  .Đ/0fĪ@		 	0PL JDd  "$j@`2줁IJ@zpr5(D(_"bDR 	
YE	Ee ;jŐaZ+ &g)#AC&4Pw0M!hu$H	$! pcHDu,2˂Ѐ	k"g h5%9 W:6 B'M
P5U@H̲LD9B5!eaAzp`8Eb6
ATJ(|'M q8&
.$
ܡH:2Tpޓ ت(0B N $g
( Xr)<
\ DNeVi)؀oeL s#"J!'pAdT"5wa J%JCJ '0RJ!"#A.I	! cBR<II\,0 _6q%@" JIC  KY= QEEX (*%*Z`@5DDd	N YhF1& 0`E$`.!ʂP w;#h
T$R hm,	 I G I@!P#Xz; 0bHB@ pM0XLF4!LTH0CeFW!"$+hi@,a]#
M(s=ҢY&C/s"p(,%$ ,8@K0@n@e !p\r"Җ  ΀(p,:-*#,B' M+Av ``B%.#+$Q.#i]l2JN@Y 8@WfOEY*A^[13p)yS41| PH֡`T+ @P&"iR$u  
@#M *H "2
vFT nG4\E(YPK4N@K< e 20@X(PD^  $b@<F"@r zt9P1#t\&0STCa f  "ZCiD \ĤEQ %KJH
G, |1-ȠXhv H=X*Ha2R(EUt#1
1H*`q0&2C``-R`J"  BW	P@.s,0 #S,1
i`,#d@` N5"EkNEF4p*7FFP⛡+p #AAP1ό1"@Xps "Ja C80P$TBjX`0?A"HXjA@Î] 	"h3@дJ ׀(!82L Ԑ  ac(b@Cva@ C"92а'&.<t 7f7!kKA8d+"Q3[@pO2&Y@2k83pXT^|B[MF	xp( #!k %
6J(xg BP!`@O
a[j	@JM* qYA0@8Hb6PB	SP$J'Ēnz
(`PR 9 NBQ;0[HpA(EYPp@Up6$B$B!#; LnbNu0xn|2h4B/4aH";l^stFE
{h j("L.z*	 Ғhd!t2n$`0ĈpW2R" I\HB$_& B@J!J0deΦITb 
`gƀX!p2%P30	TQNnu͔  H !Zzq"] ]8O,(  @"b DdI[2|BE$P@ ]͈ + ޡ@&RIXQ$3
@XS8vNN)DMJ@`IB@Ab˂,> $W jR-Ʊ|YBB(60G6x
+OO
 "ov31q	  &b{ X  *b1 r'TG";>5ȀbU! g$#dZ(rIhJXU`D
P5!	"H@  , N@4TWQ4^Cs5Ơ# *ځ@< 	"4D!e <+D X*ڢ J 긪 C

bAй4BɐF  ^pJk @4Ib zj@-@3^oZH` 
:*Q__0d-`7: !@'J@2vekbS`DCV#,*7+G(0R,iNסRZA$yPBhH㌲A0J MRÆ	 Z+
@RB'sM *@AM19 	@ XHP*.HD0E,Vo J2S @b1A՜ K  Rg"E	! 	E6 `	
D#Rb h8- Q0 A2#fJa<ZSѢ8`PB(ԙ b"QqUBAq31`8 1jѺ H8Q $Fp` ZM Ld$RGEO\A 	 @A BRˠ0'bf=^$BIӰVXD*
ik(
!2gPDh$L1 @	^
T  @E@&.iTG0ɁL @B@p=Π,A# j! ă8- pЈPJHİ@OM.Dȑ#N(+A
-b  
50ԁpvm*p	H% |@ |2E5%2@P!QqQ9Bb 5\
nIQG0R9Y2yᄲ  DCq$)oa#	@C:$rAQeEѫ*2SG*`NeH(9p "E `
&*@-*dBx udZ%HA	"6Ta	,Oj4xv `$  ! "!": IdK a!ch?@H"g\[ Ba"uʐp"L%<dD 5U F<$ |:A'Fx 	6G)$0TAC"'D^bZ=XB
#DAC L5SD @@ÍL@WX\2-!"p$)lʟU( 
R
2D$-MV!	)It #q K1AK 8$bt$F-bg"Mb9KPaIh@R P$ P bDXШDJEK`)"xJB
 M3DhG[HH| @\  NI?iaQ%0!   eчTR$P@va"ӘX$hTq@D"(5(+jP!iH"(!,D`,H% #@7FA\;DT0Q6ԞvD1bEKH frAS[` @FaS
D Ç-@@
%\ p,z ؤ%4S 
5dX:%)|HW^1Z!Y0&$Tr` <"aٵZ 0!/2L(E/),35T XDh$Үլ߽xʝ/lc~9?Yyg|u}߻߻Q$W߻Nt׻~_{%v0׿ǟߏ~Rbi[~컼߾={[v;fi=o]g{w>'ח=~J544}ۣx8{wG.joι;j3uz`q,eDM E!a:BG0 `P0$ <0CP/sBAB2J P!"Y!ZT *ChSeb=L A+'0WcU/Пwy{v;|/y]/Wz_6ܞ[;jo/̻y4t+B~?\y潻e|/;}{ N$B"IGqxB$ Ѥ3A?XbAP|>΄ `A
qW,dĦ}NB^:C|=wF 9'N0
^2gi%"P"ʝ0HAĠ8lQs:+Yk dJJOF$RX G* "&M #(Ƶ8 A9"	 1B/&(rDfZD0GCW$&h@2's}?z}aV9\_@&u_t[XϹkF7醌ݝqw?ra|Ѡ#Z)}Sx NxbU%ke8$CAuPBPBACq ǆ @DI]@GV B BMa1"EhCxT6<Y_}^'ﵙiYן}d^Wo[9oO}}}oXǮ^W#`e3ރٿG>ꧭwyZ|{?ֶ˿y|'޽_|;iYt/ߛy]oVr.ο_M~}Ouǟm+#"R|)
0Ԅ;!B*Cjs#GW@n%TAPUT3N	fGh hC@ 8>FbdL'jXN/#T &
íXFOWk?_vwnr{ex}o~1I_(b,-m렻u~bw~A_yp}k*%w(Z@
8@b iT0<N̤VB0:ٗ3A: 1@ʤc  l0@D
sٵ-!@ "BvEUdhv\b*!pbЖ"8AL<L0B b tOj  Uy)"C0 
py\ yĐ8R4SX`=4"(bA=[] 9!Q@(@PQ$a2VDg q0  }Wqݏizㇷ{߯f?__n+oS=yUw7}G/w=zնzM~~뷙E.CHp$I]1":  |MQa٥L/A	& F,9 
TUP4!oD6W%f,CS3Wb㇇̈iCf+dLm X9ΙfzSk_;^w.ҽTe5ٷ!^W^=?ϞՎ_jwy?ZiLqӟ3JN=v|;^u~o:p~_}}2t+h{{\Q?|uyu/p}?;>},Gcxۏ].+Kny8L"_*C GfEQ@KRf	G4xq!!	0@@@*$M!QVlX@ 6IRj!7GPac<	@"~~{_=_v{zi/?ߟ|N߿<Vwxo{~vln~3}u#-ڲ$o	+D4H\AAS$&^P+b@0u&G~Ԃ\)@$
=W˼DEde"$YxGE@hq19	;CI)0@- xP3EIUKdj_BaM/@( "< ,,h\.3p[	 ( @@E"LKI
K`& !.m VZ \((r*Q3BF3Z
3h?/@S@#& p܈Wu]-x_dY7n3ݪ~խ_sWaйv[zSw\=ˮwgU~CoI|Woުk.2  b  yXBT2H<e=J£m ,Zy{T r-GC҂ L%d*tصRDيB*Sڕ$6	!b*ܡ +1	(C(^nߎ|_|m{̯o~Clnw[=f}k矮fq|Zw_:~vO;g_mW;4/l{[˟ێ/t?cv4֞n9g_gǴ{7δ݄ww~M/q`:w;}?yw3pe| J!GQ-
GC- IP#׋?X;Hq:C KkcB'B 8Mڊ$lfT# R
ۚO+`FaAFD] N@	Hoן_'3oϼzu}}hC<{ו2_3o[=;GJ݋wчlۀ~k#_&?{T"[1XRNVjQ
 : k L pVC4F@AVN#s@O+D6E:}A6	BՙCq:2!0(
V?GHf!VPH>͂b}A!:y	zQu2EeEu' K@
1@8RPaP1RhM@ `8 8Yɐ1x4SKk͛8Ҝ{6o޽{[?=3t޲gQSO֫sMT|ֿs~xwisQ>䜨B*UggAgzL;p-~zojWOe_zw%p7u9qg)Im빙R~m l&{O/S^̼ts5S%}<'vu>6^y%˩/үnlO>>W깞rӿ_&K_?o38Wm{?9S;߿n:ޖֿ{i>ZC>߫wh?|6봆o=?t=sI<N[ݽg̷^{_ٻ(nRӴv{zߣ#ggچ/~u{KxY˶^K~zrs⠿cYWw1{6GkvuvݭmZm_G~>_O?g]U~lG}yJǓ%ټ۴~tjo|!o[z'뫓u}߿TW?{Tx[Ϛ~~O/[F>4Y_~3oҭWQ4kUݹ/kui@<'9xɈKמuOp/}ןMK-3y[w=ls9;?pl%gU['6O_MW_<c;:{8̛gj.ݥ~[s27e?:|߰1>?Ggo+}ϽL_~U尿V.<?[Vr?u?}zrRm|66cl'rv5>:NSWoip:4^3;Vvu9/'_mYm?gլ{nKW7oOxo,d-wŹk޽qmXw\{uizH?׶ON~w?7~lvݿo}z?sjoSmMx\~8ק]<_^=sTqڻu_uo~~]︽m-y{ۻuJ,7oo;^^i9u{ϴ׉wo_/{Ď[b_￟>?ғ_2Q_mT|,DGY>w<pw;Zzќj-[/o/;MۏKwxm}KﶳoݟOﾝwk{_O@5K==}iϹu^o?;>&?;ߵۥuy>)lo돇FQ.to)oSorkgz+ͱ][uGF~ǝ\gٻײ/oޛ?s7G>E;z=9~wBOk9x[)|+_ݬ-yo|[?SPLSs,k?&OI;ߍ>}繿eg1O=o~?3>eqs>βujy_nǊJ']ڳL+KMu;yWew_\Mz;n}?ߒju!ݾku^>'Y}7a+{ron>uн_w̪q;{-ܕ%Y;i.v~^I.G>K==v"yg}}_~'7}}ue,Zثs-owy?۾Os:רs~|lm=nx7lo弭W]f͗_oqӴm}܏vs9?޼<Ogr3z_޶t'~u\?.F܃zOUo}^UVw~OrU{Es7w_fWֿlRXG\	N~ƛxuoSv5;ZN}sG7U8|[|l]d}$*c}+}=_{.i?Ӽ]>/n4fߘ&dxYLc^Vy]uNd^}^ß]?r~ʨz[YާrKw.܅+?][:fyn/$=;j,B}^+e7~~'=a\_5,?|E??;?k?{ߣyO]n^W{vywy7ݻ/zD7yv鷊ql7;W"+=l,_˜<,w~]?o&jg~ߥ[w{ZWʷ,W+[^>k:~wGl)̷h9?.M>㔫oU~W3*wƳ;U~}|t~IzS'F;Uxw˭SU[Gg'j˿sx6M٣.oﺖ˻޲ۯ<~gWwV۴}>vg{I᷽;ٹu>ӽel+{=~g,soT{nK寎?߳/zj{{_w$;m7}#nwL%7}+<ko_旻]v!6[i5^ooOW6#ϩ}um/w/]阷*?߰ڔzέsWuOV#ۄ畓^?w~ףUڟ3'֣~ug+{m0_}3gv8Խg_xFn]ؗg]TѾS[ևOXo~ݕݻ|GknAۖmusgOfzlH۟}ӿћbuV?Z~ǝ['Z}z9?M=o釋|}ݘӑOۿ:3F?뭘QuS}GuߵݦFw/;xt>AϻlQgV3 w~s^S^v\7Kө}vgy8ox{-Nsa7Q-]S|ok?NW.4~s1;yǲ~ޟVt?Ysf|ֿOQw7fеhmn_,ɷAGb 8"MA $ 	HP8,Gf	H 0MTBYLS1I X$   k)%f'B$:TP7$ 	+$A$>$ $ iJB"S0If	)+&(!sI$F@3.&S(, y.T"J$Pe
ld I210oH9M%P   F2 :u|{TQCFVK߇W_[;箱gnfme\/%޿n}w:W>˝]'#/_&ο fCI$(FC`:{  42x * P@A2^l.,T',Da:*`0SRpX% 5p 
UBlG䟣	/ ?%b@{$ƻ}sڼΧ]w>7{\^Wݕod沿<ip^zgﺐ߹XA7oivx{Ϸ/?;Szy韙sS?W뗬כ?է>onߗk_߲Mz;o{m{9ڞ#gEߗUZ"?_rv{s#-ЀR E!"%'1@a q
r 9@BQ	-	x  1fTlr]h@ V1J#BdHA b"8A8_+~ڏ'{yޓgէk>~T[{kOm?F~i}yr?w_v}O]sW?tn)(I4A!'QI` 	u:&fDaᩂ!%Bh!EO!NKyaPJ(E@ 8]@ @=0E@yCAPJ40DAtP6@5 PN0/B1B@)DNAL1  !
 TPPX<Oj
M+PF B@! $%g)q<JP	"^`A@#LR8*q-~}}o]_[V+U4͟q_ww>ǳ۾O߷Ǯ߭{S)׾W{߽?ۛ~Nz9ALRY$$!o"!	XOl  Dee2@ %$O (I @0rC p5I(	y "d h`u/ڿ]wW^uǲ1Νc{>|OSYN5_-Dtq29y[E/~{I]Fo;x̷fϸoͿn,L<u߽߳k?sN+w[ޜ=n=};~?w<՛Wr___;1  7K R@ (   ڄP  IB	 @q*F$(E,!A.@!x@҃`6 ^Y1aRP0{1  CC`n+frSӿVxfl_2r!ս3M\nu}4^փo_]LO[vkg]k/kz^R{^M=}~u`,
B.(FXE
)A&G!PJD)+w4"* \p@%(z  'A	A`QkBGI HHInq0DJHfh$(
 # 8!i E  !cq0/0 Pq^Jy8yIrBh@@BUE 	M	D & 0M	
 	bM +Cd`Q@խ ˯^.li%,T͚F淟\]us#GuwA}9>S[qIy{|V{}{YWC D@@JIjN 1!l2QY6ҷ
@Q; Q @Z# @@  gCE-PC!   	40!X$aP!YD!H	L4"@	5`gSk-7?eQW+c;^8Ϯeۧ_w[gz7ο_lo7
u=z;u׌kK?mo9=~%5\W]oKgU6J_~op~XRLcwU}5a]()@ALqQ2JLjRd#C& B#	#!`8-" f2`V%H7"C̍2U!SPVSC4,v& AMQ) a^ҦMD֯'o_4j{Z^ߺ\45VZ{t_)5.~'kfͮf]~~bԝ?}?|}rwW/H4 - 1 !,  @a;D%Q
D @aH&,R %4lBABh x@|FxPU0FAFBkfA 0W@K DHAF1@ T@\(@%&A##]ZX#	X@Q`<ԫ@ N 8 F)s "	u°M&`@^#FA A"B%VFs`D=(QڂU0oعfbK{_o0~=uwNNwGn}?uw^]7u۳>_֮_oT蚓ßm̼=~G;g_}] 0PUP8	8]51 1("	@dPBX FQ,hJ̊|  èI A 
BV'l0#)6EбIa(@ 
j
'zPy8fn{N}'W2{ޟ+=j?}g߶gYޡ>?og_Yc5@K+V/N_*v.9~[_Z52˝~7ώkz{yϿ׭7?}= EMڄ2A1 }D 1)&fq ` ,@$+S$5 P*#@#p B s B &pLN1-D
B
H!d (node.nodeName == 'BUTTON' && node.className.indexOf('open') == -1)) {
                e.stopImmediatePropagation();

                if (onClickHandler) {
                  onClickHandler.call(this, e);
                }

                return;
              }

              node = node.parentNode;
            }
          }
        });

        delete self.settings.onclick;

        return self._super();
      }
    });
  }
);
/**
 * StackLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * This layout uses the browsers layout when the items are blocks.
 *
 * @-x-less StackLayout.less
 * @class tinymce.ui.StackLayout
 * @extends tinymce.ui.FlowLayout
 */
define(
  'tinymce.core.ui.StackLayout',
  [
    "tinymce.core.ui.FlowLayout"
  ],
  function (FlowLayout) {
    "use strict";

    return FlowLayout.extend({
      Defaults: {
        containerClass: 'stack-layout',
        controlClass: 'stack-layout-item',
        endClass: 'break'
      },

      isNative: function () {
        return true;
      }
    });
  }
);
/**
 * TabPanel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/**
 * Creates a tab panel control.
 *
 * @-x-less TabPanel.less
 * @class tinymce.ui.TabPanel
 * @extends tinymce.ui.Panel
 *
 * @setting {Number} activeTab Active tab index.
 */
define(
  'tinymce.core.ui.TabPanel',
  [
    "tinymce.core.ui.Panel",
    "tinymce.core.dom.DomQuery",
    "tinymce.core.ui.DomUtils"
  ],
  function (Panel, $, DomUtils) {
    "use strict";

    return Panel.extend({
      Defaults: {
        layout: 'absolute',
        defaults: {
          type: 'panel'
        }
      },

      /**
       * Activates the specified tab by index.
       *
       * @method activateTab
       * @param {Number} idx Index of the tab to activate.
       */
      activateTab: function (idx) {
        var activeTabElm;

        if (this.activeTabId) {
          activeTabElm = this.getEl(this.activeTabId);
          $(activeTabElm).removeClass(this.classPrefix + 'active');
          activeTabElm.setAttribute('aria-selected', "false");
        }

        this.activeTabId = 't' + idx;

        activeTabElm = this.getEl('t' + idx);
        activeTabElm.setAttribute('aria-selected', "true");
        $(activeTabElm).addClass(this.classPrefix + 'active');

        this.items()[idx].show().fire('showtab');
        this.reflow();

        this.items().each(function (item, i) {
          if (idx != i) {
            item.hide();
          }
        });
      },

      /**
       * Renders the control as a HTML string.
       *
       * @method renderHtml
       * @return {String} HTML representing the control.
       */
      renderHtml: function () {
        var self = this, layout = self._layout, tabsHtml = '', prefix = self.classPrefix;

        self.preRender();
        layout.preRender(self);

        self.items().each(function (ctrl, i) {
          var id = self._id + '-t' + i;

          ctrl.aria('role', 'tabpanel');
          ctrl.aria('labelledby', id);

          tabsHtml += (
            '<div id="' + id + '" class="' + prefix + 'tab" ' +
            'unselectable="on" role="tab" aria-controls="' + ctrl._id + '" aria-selected="false" tabIndex="-1">' +
            self.encode(ctrl.settings.title) +
            '</div>'
          );
        });

        return (
          '<div id="' + self._id + '" class="' + self.classes + '" hidefocus="1" tabindex="-1">' +
          '<div id="' + self._id + '-head" class="' + prefix + 'tabs" role="tablist">' +
          tabsHtml +
          '</div>' +
          '<div id="' + self._id + '-body" class="' + self.bodyClasses + '">' +
          layout.renderHtml(self) +
          '</div>' +
          '</div>'
        );
      },

      /**
       * Called after the control has been rendered.
     !6 H  ]> P$`$8 A&$ A 7  6> `
 r1> p{   u]>    0&0z6 w@ @&:4 P&  w@ pPI6 'S  6 'S 0`:> @ P ``:> <4  Q  96 <4  Q96 0  Q<4 86 㸨&$  	    0 m~  @]> =4  F @΁  /w@ А/  / />4 X&$ @0> Ծ p{0$8  ꍢ      &$ `$8 p `  ޾N뾞;뾾p


:ꮞ:::~:C>㌎莎nn>>N???@ @ 88  8`8 .2@8?> 8 888	(ȃ
,B[; 2@8 ><G <C88  <"9`( , 2@8>@=8` B$`8 ,  4`8:>  P S?      󙿳ww{w3333:>3s;?;?ww33{?;www/?w;?{;?www7;7?7;???sw;?w33;?7wwww;?;?wwww;?;?ww7  4 y0< $8 ` D   $8 &$   8I  66 6  6 @m ||SC|SC @`$8 Pm 7 f9 7pB Й7 ྨ&$  `  %8  vi      $8 pܢ   pw@ #4 @{6  J P : 5`$8`: 5P: 5 5 $4 `}PI6 Te&$@$4 p} } m$]>  |A&$$4 |A&$$4  |A&$ %4 @o9    0u3 @u3 #  ]> $8 ļ%8 0v&$%4  `&$ &4     {6   \6 w@%#N  0Z@]>7 {6 :  W `]> P   #%8 p 0P6C<C< @>`$8'4  $8'4 	`$8 (4 :w@ ` K   ]> `' x&$ x 0lPI6(4 x G> 0> p9 `9 5`$8 C&$  pC  0"]> @/ D P w@ pBA `$8  Ϩ&$ @]> 0 `~ w pg   ]> g g P: `$8 ,4 c  w@ p `$8  Ë&$ Ë Ë pËGE= p%`$8  7   nw@ 07 0Ղ&$  Ղ-4 Ղ Ղ  \6 h`E P]>@0P>H 9,$8PH 9, `  `  ]>.4  o0w@ p pUܨ&$ 0 b4 )`$8 b4&$ N 4N.9㜞 	.			ΞN<nfcfnniff`6nfnnif bnfninif 88 8@m 8
*0B 4B 89@9`ÃF;88	&B *? 0 6, 88 88  	&
*8 2 8` 8<:` 8888B88  	, 468:8   S-      333?{??ww?73330ws33w{333333?7wwwwww;?;7wwww;?	7ww{www33wwww;?#3;733s{w 4  B 0`$8`4 7 sPI6 s ": Y PD  ]> OҀ96 1$ `
" o&$ o @ b Ч   0r
>4 @(`$8 P( `(  T}&$     	  ]> 0_" @_" GG&$ 4 ` P 6  `4 PI j!  ]> y  w@4  @]> j 6 4     ]>@4 @n, Q&$ 0 p  $8 Q н P M P M&$  jz iz ;   $84 } 69   .6 4 69   .6@4 Ψ&$   { { { p{ 4  F  5  w@ `{6@\ p ` P N 7 `A`$8 N&$ P]> @$8 M   P$8  {&$ e e pxw@ [ [ [ 	z   02&$  2 2  2 cP6@>  -   $8 zL96 0P6
A %{6&D %@4PpOXC %{64 8Пw@4  p   @0 w@ p%& p7  ,6a]N ]>:; $84  vr   \6 UA y0>4 `]p->,OA 
І]> Ђ$>    еE /`$8,E,E /`@ / & Уƨ&$ ` p %00D P'`$8 {R&$ {R NHNNLONNCNNNINNZ>f'K懽nۼvg.hUy?o/x5|>|.k;o3L7[dqMn}Www.|n}+J$,Ep 2@. ` I <  (LrAF@6$P4B@Q < C HATLA L	'QaVzDD cj 12Ș!Ѷ`X)#2n<=ĉP1:8B6`& eF@#;
F,Rɔ#Eh dC  820* F4
CC+A"1ep $$Q-
3No䠯znw}9pmK38Oyw'cz;G[)ŧ/}WOWA?]ĹsokgqO$p;G*8 8TIz" F%@+ Q@%Q @R`KAA(#P	F1 T (+pPJX@^	 LB\ @ӈ$66 $c 2gi֫s~Ϻ՗uף&,Y2Qw[|f}\oTswK*,W%ϫV,sߜƻF}kpz2M??ozζ4W{ib=2㛿;{\}3g>Y]Ozb/ju_y͙nKFOl|K+mwxtoU\7ΟhsR@Ax	`q 3GAH UF0L3HiA0S`
j[ͤ<`|Rsu @T)FH!D|6HD$  _Գw{~9s׽f+87ga|.}9]=y}<t7˧eY}]Oxw_=sL$#EiEHP$VHIPґȄd 
lY $$Xi $' XICII   8@L 5)c d%%@@ hDQ  $0 RE$ 	JBD"	 $Hb`HE (P`+` E5A5,"C
B8( 2#-#@@HU* @d0iݘD #[v{;?.ߛogWDvz7-0M2-*ߠXɷݗX]Vww6v_K˕wnҹg:ݗVg>ur0GH p@  ̀ f2%iCP )
FD   3p` M" @8"`2iH X I$ajhPLD$u`40bj}{ٯHK?5[?m{;=y]\~w_w?/GR;Mv/߳]cO^KI᪘dݻY}#şr~%K77M~Eozֻn6WmkߥRM?^-@{/sïir[Nc.Go]㿝_{OuwuyY1<"HpL ,$#HPd( "JdCN`( N6c yh! X3Aji<8@S,$EU$
p# AB
  RAЄ0=}n׫5ʇR?K,}:z[6xvyw}y[bjNϬRYTntf_}_^͏]^' k@a # !ؔq@! 
J +dԨCA UD-B&@(T  A1 TF ObNF 2GBPP  JH('P)b>8}d[ @@ 	URF*fMH `n$	$p%,&Cnh`@D d
jҽ,ZD "!	c?AtO|uǇG/>tgtwswO+~xn>}wVw{}gs.fQ{-E/m^}pgs~W[UGoW̞r	0	otIxXIDPHӇ\a؁,KBC(l"p:P$ $	(@(GE D*avAI< JU8	`,ym>]_y\j]~g<:ǟU>\Wm+ɜqA'g_NooOf}:t:MmJϯͦݓ>7~+Moy]/~mVNN>u3Oˤ?l6v"?wO	_Uv\?]e{Imo_^ɋzǲ}?o  p%䈀J7ۈđE0M$JԀXPa, @X4D9TD@	XHg b( 7֑F"6`DL24hhG$& @&\#'0$~Pf^WGײ/aS<_0w'_}3uٿ3fr+ӝ?0ݜSn=6osy}|5;ݠǿ_zt" 0 *BCCDUH`-P $mh
B'	Q"Q	 ]	C 	$š@C(1@(P( &b2`HH!
1ŜQC(!	T!$ %`- ` ExLVFH$	Bh @b
D UB8$B `z 	p !VR,1t#HCQaqDS?gU++{oԽ}en	\)C[6v}ͱ	5.JKĲ<C?Z~V)Iu7[y*Wh/Sm}q] 0(ETc0J ` LAL*QcTͥ580   <
2p@D`@`H\,8'#c8bY)JdǄsH&,LR (rZ~}Y\K{#s?Gqn/߻G#Vΰ9ao՟g;w߭~olsӘr۝rv=w]l^W}r#=?olGf]|߆[/OO}_pO=ǆ-I;O[.1Jۅ_#?|gOW7gm]   aRB@B$0
x`1H<
	 )a 2	$. 2 T0Qjjd
*  F@aBfXP4JCI2@>CUR (83JO
'D`!|@D' j T0
P>AY0{e&  EDCH'C 	SA @4:R0 &QmFB$$ A_kgonоywKm1?޶^Ňe~[;gn˯ͿK=Tz]Fk|=3+ط൧:9(yCZ[Woݎ7վoNk{՝UKwGML~_<7甎~yBm-}+~O0srt7fh8~{ܲ?cW-]^d
Ā2QL (AP!P0 P`!'r!r4<`.GXd
De
D>4O`-P0!ČF0   a Ȁ00D+{U'q?ݧA#8Ƨ_n[`fwUmU|+Ճd1qX/{Czw:vEc}ԝ[W)]R" px% 2`@B`

hv$j ,(0+2D$@@H< *!E2 ܈4p  !ud!bMbD#AT0CH UKf ƠPD0 Ƹ  І$%"F!3JA8RS@ -rE$p-uYd 0e@c@2U
a@ a
F]0

䝀IBY`&"*@h T0?nWQkݟI=H¨WYYW}D{iq5͓-<c)kj`ޮ9ȯW4qc.ggGg`U Nx G4!
Ս2PbGA09j":8.A2pB0ndJ.Ȫo0H LA\!	F  ج"(,  (U-@&H?"x뾻7x.zvwo3/Ӻ^}ro=[|g[6:Y}z]Y攋gV$~
y_r߯}J$es)c˚w}pxOw7՘yq5Wow>%cOWv?O9]e;{d ٦o;ˠT{,{bbJ(uE gY%# ȴB@"(p(T ?9rm]Z	P0 f!@ @8簠"$ A bI۬=v7-qkurFW~ɟf}.}vv}c?w[mޯ:wr۟se%zۛ-G?zVw/ ДaD \B@CRZk 
< F @ ,A  `vɖ	A) ZNRn1W !Cpk"!e2)Y@um)Lp 0`LPTC@D@xU, !L$
񂒔
IL+U+hp4Ah) V2!% !C`5bt  _+`GBgA "D6QTUY5U?uywK>7/mh3[>/
6zQk_Z_uYV}ߟ^6-r=ӻ쎯 	շ5]OZaV
&yG JB	RA([HPC (B-"  %'p6cx	#`XJ   H _pЁ"*p(  &	
@T."0rKI"f^&F{ujnu2zeKߎIWeS߻_'Ӓóɓ6T>js4[}^DϝzC,7ݬgv_|ŶEccFL=z3n|c	pzοzWkTןwn`զ4Gy=O'x>uMC~??iYEYDn#ذ&i@v \	T k XK	1D9 I/&(vA@R A11$t(˄ `rD@IPFl#(@H(ӡ!	!0XwgQ)ޯE[uF}?wssxʯUz?,Sú^]'(h,W{gGSWCqgÏ<2 *,HÂ!M -
Cd	2?1@d  +8  &0҅-I4G$@}Np H@A( P Vb $B`z1Nz%(! PHȂ
`"t0eZҐEG"p@$YX Xfm SaGkf!B
0:"	|t'X + (cDYhI߹ۯjfgm+7Gikts_}99OY*ϿS{de&$Kݬ??gymoؽ3ݩ{W$ !tD  bBRu "ņC@DLb@	jdJ$! I,O00b LV()!XDP `'hFDS QV   (B D`[Rko>%5;hǲaߢ_v\O%G7ut'O$ر[}7n7Gt~.=ݶnkvIW?l~Mυ
z?tMok|^ֿ_]J$jߑ={Gn^ԏ^|*|3mj%7E)Q% B@D  @, #UdI	` @G"@<JQ
<@:$d	(S)" :Lv &D$ 8 (!~h J
m~R躻Ϳ6{էd;4jmIi[GQt?ޡWg_].E:ߟr#SWO7gc9QWv{>_B0L"Ebh !J(/0H(  #@(t  [@EtÈĩhE1Xpb *eDxL X(z4
SrZI	BL5R
g)"	EE4.8DHf  0  "J&au >tH@B   (B@"LI#$d+Dx@A*Cp TA 2u"A@, A]}O6^Vj/w3_~OEGG/}v.__}`l΋!ӛ>Fp?w|y_|}~ߍOu~}gW6<s?oW5{vpkw[z{MZ׵.#Z?wgskΗ?~֯%{?{?mI+`g	dr@	68C5DPP6d-$MDbхf1q0́hu;#HU@DH{wPW% A@WfCJK%Al ]#D3(<tA66 Y@
$gDg2R"!00HE@!"(HBlkxCjG`%q" !0]FwNjF:Ѕ* yt|Rņ~{L8v~ѶjOwM&ߚ/ko̩x{%\ܿ*JSaܵT#u_>/|혾:u_w_e.AM"RF"4XO Djd &vFo	,  @	 @ hP!8X ^F   AHeD"܀|gR b<]WG)CHT@bi.Q^ߛmﾽ=7j~r]~4~n{wYvk[.]_y{^}_1w\>|8򟹞ew什z8|}_k*?>^}{U/w-d^=߁o?+W{}|/ܞ|7\	$.khA 8s:k1RRd&27KR#02@+<6\׎ YGGdPAg@mB(  1 *)A
U1W@	@QJ|l!}p=e7|Hd1k{{7ÿ3_?N߷m=|??Tݼ}ewwOk߭PLm Q$
"AH'4b$I-) D>_Ͳv
(20E#΀i(bРpTd+
S:$pdF q@Fxҁd*	 ,oh	*I 0HSes&n4Ja5S@)bu@	90q@nHPElԲL)s`E *T
3A偾}w׿'\wYW}\y'zw<.n{	_<o^6;w~tW/w-^|e>+tJ	" 8 ZaӁt\	;}%~
H
b`yl*HPjDaEI;<5)	zFK>? `ڹ]φV~/oz~xlOd\߷MG뭟+Gۯ?w};]Sۺs|/+r/I~|OZ*o;m}s7^VO/T߿sE/w߿5o߶{_uknWVY+2fCŎbN'%X0+ !&W &c a+RA@y"UTCEdp=$%J@_*!c1 S$&da3УI$6LjB@W>#(`n
[׽47w<_wgߎZʿn&?
Yhw|~ߧmWl|mg^t²޽0~wom/y.wSqbB&X$dSq  7) 
](0 78`AT2!@J 1P'ep.{BDtPATC+ēY5*dHE3>B%DL	1PHB WGl`:a
TqH$ɷ
W J\0@A%pGbѸ  rN!+ly"m]tJHX_kNˆ<nNTOnSկ7n7w&S;ߦ77;~mwκ-~xvә[}w˽PDK
>uZx*1_`6^ Ja .4w	@yf'H׻9ЀHDA$В	m8:)Ve@ &z@%lY4SDD "oTMϐ?Ox6ZyzkZ-ϸ^?ۣcuߜZi}{wO	|_|{UrNy;~Lν??֡*"wf簟Smf=gײ(ww}|?6TwԾ~/+Njv}|?8J$:ŒJ/'Jes`aU`AN%49c3M"xP3"",B7N609JUf4@KcH1@hvB
Ҍ;~'Ui˻ne-}-Zwgϫ&7ޝG~muٯM>%]iG gb 7S8FPHpĈG@ehzIc@=lن<#n:_
cJA@fQz&I׀v,a< bm`&L VQ/4R^Ǌp;_LAUU@FRaeT&4/BB !9AC
pL1HT!6,8 D$D݈(Hq[
,Y@@LGTZA;}vsz濽o<u;wSjQ_k?kk?ϕݾZZuܚǵ?6Sߐoߞlz]uO	tINR9TZ*b)\AcY( CcFBr
0gCQ104BB-R61La&:DQP C$lEH3	r@$1B$4r9Q 	P X̘aYRɨ0 !|<T?ww{5e]擏_cΊV=췿{?sݽGۛԷT1_X܆վMm-|_׾o=<ׯl?ߞ/Oܯw'~o݃߹Qv3ǆc/stw]۽}n~s{!von*bk^kU6 B$cGa@t,HxH $ŉKV=Rk!<<FK4iIGaP~F7[Lp ~O
`vPB\J"4POf"&0GnC/[~\mp}g?>WD~3l4uֽ􏒿;̵1mߏ_;nkȇmn_wTf ,KW",7
9&0(D0PPF"$<R#D/ A"zA`4SP Q@t2 2 j# ᜆ 05|!D 	DrA$[D{0E((E  
XCh %R @Bn( 9$"CP-"&-բu ;U2B7@ F0[##0,uU
8 D !N !s];óqEOy6]ev6sW[~|.{S.G|&v<1p+S-_r=7ۯx^x~7>ܙa	|ԀVRI%Z eW+	0(PZma#.	0P%2JAݚL `9;"@@aF|4A @ i 	`!  %@sI~?\4{[5󯾿k?;-=R{gyt{e8n_ۧ؎Om|yu~,دje>VפWםɏHzqeyޥkx;WݵkԹw_[0Q;˿gsR.)v s!&KЂ`(J\P+hhHf,(>fG@/Ich J
 Y%"% }0$Q) L@K !ɖ)T P`Lj8XM3ﬖ9{䇼]ot/W4Croo{sתm6rj~m~nw$}gǸwu)F. d@.!h+,	N[ HZ  BD1CFH0"'* H<d`V)	 AGD Μ5?@ x% !@@XM@`:3) 	8ch~ !	a+0 90BPv(Vp	0Gp"XPa`A2/j, E	aP @ hgQ@ 0F0H%gF+iw@` ``!j<hS5C?OC{fmY~k{Cä!?,S0f}74G/o7_:d}>] "@6+P0 2I	bPz 2
14 8kQw} ,JB"B j)b
+rEQ!F4c6 A@c$LC"
,fw,m}}O?Ǻ7^?'uoŖ׺n^:W<}/]V}m~ֽөn뻶oO>|wY<o_tjg{qow=gm?矗O~mZnn3/_^7b/ף=w9?m]|i3z?K;ǼW^Wi+nzWW?Aۿ]wmYg9*P @dXe* P)e0D@F"f!Wd@R@8KQ P(,a\801ThPtRØJġ 1@AI)tJKlćugjNwc%-&~~fwHN]<{wk"fw+l~&v}?E{6q-vW?i//T B,T H q 0H @ XE" #2b Ab0aX2y4Da~^@fVCUU'	.6-Yz)8P/I H$U"!  Db  5w#  J2DEP=b,$ TA5!`DY\ TX(2l.AiL)B!H^0 ` p_oݾY~f'hH)T{͝t_5`堭pΝ̊N}E	6W|vvkU~X]N~g-\boq5 )3 D +R~hbB$ vv#p peL1@L T2:B f`&$ (5e 1&P fLJw?/{=Z{mZO<,<W]>_}[<]/=7c+ξ_{ooOl;}=ŷshikS\2:qYnۗ_g؟x2M{]zUמW9|N;榽{	읹?w%kovK/\c~HSʣ@V0 1	 P`: 6"$ g0/ 
d$@40ʀL(e 	:Ά ,a!G @tQ;!pxjj*:Ow/n?u׳{..
ޏqt_w6uG[S|m~osϻzv_ۇ91n{]wy}.Π_Y!<Ce V!BS  LψBAL+`=4r` @T!2N1n
CC6H	L@DC1!Hfpt b0"n8]y`΁;@	 ƢC0,`
O,C"aedURB GY*@)@4 T Z2@3(% `t<=B"=C&!0*&t\̶oNO{%oӵ>s_oYݿ}u__:|?3͞ˍ?şw|>Y3ml9(E`
3qQ"ja 856.%I4D*	dA jCp.Av%
YHQBE$) 6Z0)!cB@)$!H b!xI?۴0]7ߺ>>뮒bi[?پLӓקzM"xKOK]}io;}?ڝ<w=fRߏ8<}y&NoV"?I9R_x5_Z~$GUۿ?7Ⱥ{No7Pm:{waL>wq @@	H1#A( شhidaF \$$<@adq> h`Qau @G!D M&Hi|@A!	LDD	)XH?ٻ<~7Z]+筟O~jgrYߺ+7?OWlK[Zev?&vs}]N;}pvP87nr@'%